/*! For license information please see 11-cc7a39c4b31e5d839a93.js.LICENSE.txt */
(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[11],{"+3Gp":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i("MNsG"),o=i("Yr1X");const r=n.f?1.5:1.35;class s{constructor(e){this._bareFontInfoBrand=void 0,this.zoomLevel=e.zoomLevel,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i,n){const o=e.get(40),r=e.get(44),a=e.get(43),l=e.get(42),c=e.get(57),h=e.get(54);return s._create(o,r,a,l,c,h,t,i,n)}static _create(e,t,i,n,a,l,c,h,d){0===a?a=r*i:a<8&&(a*=i),(a=Math.round(a))<8&&(a=8);const u=1+(d?0:.1*o.a.getZoomLevel());return new s({zoomLevel:c,pixelRatio:h,fontFamily:e,fontWeight:t,fontSize:i*=u,fontFeatureSettings:n,lineHeight:a*=u,letterSpacing:l})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}class a extends s{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}},"+7oY":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"g",(function(){return a})),i.d(t,"b",(function(){return l})),i.d(t,"f",(function(){return c})),i.d(t,"d",(function(){return h})),i.d(t,"c",(function(){return d})),i.d(t,"e",(function(){return u}));var n=i("ic2d"),o=i("Cg/j"),r=i("CRAX");const s=Object(o.c)("configurationService");function a(e,t){const i=Object.create(null);for(let n in e)l(i,n,e[n],t);return i}function l(e,t,i,n){const o=t.split("."),r=o.pop();let s=e;for(let l=0;l<o.length;l++){let e=o[l],i=s[e];switch(typeof i){case"undefined":i=s[e]=Object.create(null);break;case"object":break;default:return void n(`Ignoring ${t} as ${o.slice(0,l+1).join(".")} is ${JSON.stringify(i)}`)}s=i}if("object"==typeof s&&null!==s)try{s[r]=i}catch(a){n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(s)}`)}else n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(s)}`)}function c(e,t){!function e(t,i){const n=i.shift();if(0===i.length)return void delete t[n];if(-1!==Object.keys(t).indexOf(n)){const o=t[n];"object"!=typeof o||Array.isArray(o)||(e(o,i),0===Object.keys(o).length&&delete t[n])}}(e,t.split("."))}function h(e,t,i){const n=function(e,t){let i=e;for(const n of t){if("object"!=typeof i||null===i)return;i=i[n]}return i}(e,t.split("."));return void 0===n?i:n}function d(){const e=n.a.as(r.a.Configuration).getConfigurationProperties();return Object.keys(e)}function u(){const e=Object.create(null),t=n.a.as(r.a.Configuration).getConfigurationProperties();for(let i in t){l(e,i,t[i].default,e=>console.error("Conflict in default settings: "+e))}return e}},"+CuN":function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ndeclare namespace Reflect {\r\n    /**\r\n     * Calls the function with the specified object as the this value\r\n     * and the elements of specified array as the arguments.\r\n     * @param target The function to call.\r\n     * @param thisArgument The object to be used as the this object.\r\n     * @param argumentsList An array of argument values to be passed to the function.\r\n     */\r\n    function apply(target: Function, thisArgument: any, argumentsList: ArrayLike<any>): any;\r\n\r\n    /**\r\n     * Constructs the target with the elements of specified array as the arguments\r\n     * and the specified constructor as the `new.target` value.\r\n     * @param target The constructor to invoke.\r\n     * @param argumentsList An array of argument values to be passed to the constructor.\r\n     * @param newTarget The constructor to be used as the `new.target` object.\r\n     */\r\n    function construct(target: Function, argumentsList: ArrayLike<any>, newTarget?: Function): any;\r\n\r\n    /**\r\n     * Adds a property to an object, or modifies attributes of an existing property.\r\n     * @param target Object on which to add or modify the property. This can be a native JavaScript object\r\n     *        (that is, a user-defined object or a built in object) or a DOM object.\r\n     * @param propertyKey The property name.\r\n     * @param attributes Descriptor for the property. It can be for a data property or an accessor property.\r\n     */\r\n    function defineProperty(target: object, propertyKey: PropertyKey, attributes: PropertyDescriptor): boolean;\r\n\r\n    /**\r\n     * Removes a property from an object, equivalent to `delete target[propertyKey]`,\r\n     * except it won\'t throw if `target[propertyKey]` is non-configurable.\r\n     * @param target Object from which to remove the own property.\r\n     * @param propertyKey The property name.\r\n     */\r\n    function deleteProperty(target: object, propertyKey: PropertyKey): boolean;\r\n\r\n    /**\r\n     * Gets the property of target, equivalent to `target[propertyKey]` when `receiver === target`.\r\n     * @param target Object that contains the property on itself or in its prototype chain.\r\n     * @param propertyKey The property name.\r\n     * @param receiver The reference to use as the `this` value in the getter function,\r\n     *        if `target[propertyKey]` is an accessor property.\r\n     */\r\n    function get(target: object, propertyKey: PropertyKey, receiver?: any): any;\r\n\r\n    /**\r\n     * Gets the own property descriptor of the specified object.\r\n     * An own property descriptor is one that is defined directly on the object and is not inherited from the object\'s prototype.\r\n     * @param target Object that contains the property.\r\n     * @param propertyKey The property name.\r\n     */\r\n    function getOwnPropertyDescriptor(target: object, propertyKey: PropertyKey): PropertyDescriptor | undefined;\r\n\r\n    /**\r\n     * Returns the prototype of an object.\r\n     * @param target The object that references the prototype.\r\n     */\r\n    function getPrototypeOf(target: object): object | null;\r\n\r\n    /**\r\n     * Equivalent to `propertyKey in target`.\r\n     * @param target Object that contains the property on itself or in its prototype chain.\r\n     * @param propertyKey Name of the property.\r\n     */\r\n    function has(target: object, propertyKey: PropertyKey): boolean;\r\n\r\n    /**\r\n     * Returns a value that indicates whether new properties can be added to an object.\r\n     * @param target Object to test.\r\n     */\r\n    function isExtensible(target: object): boolean;\r\n\r\n    /**\r\n     * Returns the string and symbol keys of the own properties of an object. The own properties of an object\r\n     * are those that are defined directly on that object, and are not inherited from the object\'s prototype.\r\n     * @param target Object that contains the own properties.\r\n     */\r\n    function ownKeys(target: object): (string | symbol)[];\r\n\r\n    /**\r\n     * Prevents the addition of new properties to an object.\r\n     * @param target Object to make non-extensible.\r\n     * @return Whether the object has been made non-extensible.\r\n     */\r\n    function preventExtensions(target: object): boolean;\r\n\r\n    /**\r\n     * Sets the property of target, equivalent to `target[propertyKey] = value` when `receiver === target`.\r\n     * @param target Object that contains the property on itself or in its prototype chain.\r\n     * @param propertyKey Name of the property.\r\n     * @param receiver The reference to use as the `this` value in the setter function,\r\n     *        if `target[propertyKey]` is an accessor property.\r\n     */\r\n    function set(target: object, propertyKey: PropertyKey, value: any, receiver?: any): boolean;\r\n\r\n    /**\r\n     * Sets the prototype of a specified object o to object proto or null.\r\n     * @param target The object to change its prototype.\r\n     * @param proto The value of the new prototype or null.\r\n     * @return Whether setting the prototype was successful.\r\n     */\r\n    function setPrototypeOf(target: object, proto: object | null): boolean;\r\n}\r\n'},"+Fos":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("Ll0s"),o=i("cGHE"),r=i("aokT"),s=i("N0LK"),a=i("cIqD");class l{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class c{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-s.M(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new o.a(i,e.getLineMaxColumn(i))}return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const n=e.getLineMinColumn(t.lineNumber),r=e.getLineContent(t.lineNumber),s=a.a.atomicPosition(r,t.column-1,i,0);if(-1!==s&&s+1>=n)return new o.a(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,i){const n=e.stickyTabStops?c.leftPositionAtomicSoftTabs(t,i,e.tabSize):c.leftPosition(t,i);return new l(n.lineNumber,n.column,0)}static moveLeft(e,t,i,n,o){let r,s;if(i.hasSelection()&&!n)r=i.selection.startLineNumber,s=i.selection.startColumn;else{const n=i.position.delta(void 0,-(o-1)),a=t.normalizePosition(c.clipPositionColumn(n,t),0),l=c.left(e,t,a);r=l.lineNumber,s=l.column}return i.move(n,r,s,0)}static clipPositionColumn(e,t){return new o.a(e.lineNumber,c.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i+=s.L(e.getLineContent(t),i-1):t<e.getLineCount()&&(t+=1,i=e.getLineMinColumn(t)),new o.a(t,i)}static rightPositionAtomicSoftTabs(e,t,i,n,r){if(i<e.getLineIndentColumn(t)){const r=e.getLineContent(t),s=a.a.atomicPosition(r,i-1,n,1);if(-1!==s)return new o.a(t,s+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const n=e.stickyTabStops?c.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):c.rightPosition(t,i.lineNumber,i.column);return new l(n.lineNumber,n.column,0)}static moveRight(e,t,i,n,o){let r,s;if(i.hasSelection()&&!n)r=i.selection.endLineNumber,s=i.selection.endColumn;else{const n=i.position.delta(void 0,o-1),a=t.normalizePosition(c.clipPositionColumn(n,t),1),l=c.right(e,t,a);r=l.lineNumber,s=l.column}return i.move(n,r,s,0)}static down(e,t,i,o,r,s,a){const c=n.a.visibleColumnFromColumn(t.getLineContent(i),o,e.tabSize)+r,h=t.getLineCount(),d=i===h&&o===t.getLineMaxColumn(i);return(i+=s)>h?(i=h,o=a?t.getLineMaxColumn(i):Math.min(t.getLineMaxColumn(i),o)):o=n.a.columnFromVisibleColumn2(e,t,i,c),r=d?0:c-n.a.visibleColumnFromColumn(t.getLineContent(i),o,e.tabSize),new l(i,o,r)}static moveDown(e,t,i,n,o){let r,s;i.hasSelection()&&!n?(r=i.selection.endLineNumber,s=i.selection.endColumn):(r=i.position.lineNumber,s=i.position.column);let a=c.down(e,t,r,s,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,i){let s=i.selection,a=c.down(e,t,s.selectionStartLineNumber,s.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),l=c.down(e,t,s.positionLineNumber,s.positionColumn,i.leftoverVisibleColumns,1,!1);return new n.f(new r.a(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new o.a(l.lineNumber,l.column),l.leftoverVisibleColumns)}static up(e,t,i,o,r,s,a){const c=n.a.visibleColumnFromColumn(t.getLineContent(i),o,e.tabSize)+r,h=1===i&&1===o;return(i-=s)<1?(i=1,o=a?t.getLineMinColumn(i):Math.min(t.getLineMaxColumn(i),o)):o=n.a.columnFromVisibleColumn2(e,t,i,c),r=h?0:c-n.a.visibleColumnFromColumn(t.getLineContent(i),o,e.tabSize),new l(i,o,r)}static moveUp(e,t,i,n,o){let r,s;i.hasSelection()&&!n?(r=i.selection.startLineNumber,s=i.selection.startColumn):(r=i.position.lineNumber,s=i.position.column);let a=c.up(e,t,r,s,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,i){let s=i.selection,a=c.up(e,t,s.selectionStartLineNumber,s.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),l=c.up(e,t,s.positionLineNumber,s.positionColumn,i.leftoverVisibleColumns,1,!1);return new n.f(new r.a(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new o.a(l.lineNumber,l.column),l.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,i,n){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(n,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,n){const o=t.getLineCount();let r=i.position.lineNumber;for(;r<o&&this._isBlankLine(t,r);)r++;for(;r<o&&!this._isBlankLine(t,r);)r++;return i.move(n,r,t.getLineMinColumn(r),0)}static moveToBeginningOfLine(e,t,i,n){let o,r=i.position.lineNumber,s=t.getLineMinColumn(r),a=t.getLineFirstNonWhitespaceColumn(r)||s;return o=i.position.column===a?s:a,i.move(n,r,o,0)}static moveToEndOfLine(e,t,i,n,o){let r=i.position.lineNumber,s=t.getLineMaxColumn(r);return i.move(n,r,s,o?1073741824-s:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){let o=t.getLineCount(),r=t.getLineMaxColumn(o);return i.move(n,o,r,0)}}},"+KTK":function(e,t,i){"use strict";var n=i("1YUG"),o=i("nB0o"),r=(i("SmQN"),i("0Lb2"),i("F1Qx"),i("sswD")),s=i("3/fG"),a=i("wQH0"),l=i("gCVg"),c=i("/kV6"),h=i("T8No"),d=i("EJc0"),u=i("/cxE");class g{constructor(e="",t=!1){var i,n;if(this.value=e,"string"!=typeof this.value)throw Object(u.b)("value");"boolean"==typeof t?(this.isTrusted=t,this.supportThemeIcons=!1):(this.isTrusted=null!==(i=t.isTrusted)&&void 0!==i?i:void 0,this.supportThemeIcons=null!==(n=t.supportThemeIcons)&&void 0!==n&&n)}appendText(e,t=0){var i;return this.value+=(i=this.supportThemeIcons?Object(d.a)(e):e,i.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")).replace(/([ \t]+)/g,(e,t)=>"&nbsp;".repeat(t.length)).replace(/^>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}}function p(e){return function(e){if(e instanceof g)return!0;if(e&&"object"==typeof e)return!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons);return!1}(e)?!e.value:!Array.isArray(e)||e.every(p)}function m(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}var f=i("OBOq"),b=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},_=function(e,t){return function(i,n){t(i,n,e)}},v=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const C=new h.c("selectionAnchorSet",!1);let w=class e{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=C.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(t){return t.getContribution(e.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],i=this.editor.deltaDecorations(t,[{range:l.a.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new g).appendText(Object(s.a)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=i[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),Object(f.a)(Object(s.a)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(l.a.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};w.ID="editor.contrib.selectionAnchorController",w=b([_(1,h.b)],w);class y extends r.b{constructor(){super({id:"editor.action.setSelectionAnchor",label:Object(s.a)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2080),weight:100}})}run(e,t){return v(this,void 0,void 0,(function*(){w.get(t).setSelectionAnchor()}))}}class S extends r.b{constructor(){super({id:"editor.action.goToSelectionAnchor",label:Object(s.a)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:C})}run(e,t){return v(this,void 0,void 0,(function*(){w.get(t).goToSelectionAnchor()}))}}class L extends r.b{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:Object(s.a)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:C,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2089),weight:100}})}run(e,t){return v(this,void 0,void 0,(function*(){w.get(t).selectFromAnchorToCursor()}))}}class x extends r.b{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:Object(s.a)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:C,kbOpts:{kbExpr:a.a.editorTextFocus,primary:9,weight:100}})}run(e,t){return v(this,void 0,void 0,(function*(){w.get(t).cancelSelectionAnchor()}))}}Object(r.l)(w.ID,w),Object(r.j)(y),Object(r.j)(S),Object(r.j)(L),Object(r.j)(x);i("8ATB");var k=i("X+cX"),D=i("pmY6"),I=i("cGHE"),O=i("aokT"),N=i("M1Kb"),E=i("tX9W"),T=i("kYye"),M=i("MD5Z"),A=i("t9D7"),R=i("fjLI");const P=Object(M.wc)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},s.a("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class F extends r.b{constructor(){super({id:"editor.action.jumpToBracket",label:s.a("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:a.a.editorTextFocus,primary:3160,weight:100}})}run(e,t){let i=W.get(t);i&&i.jumpToBracket()}}class j extends r.b{constructor(){super({id:"editor.action.selectToBracket",label:s.a("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){const n=W.get(t);if(!n)return;let o=!0;i&&!1===i.selectBrackets&&(o=!1),n.selectToBracket(o)}}class B{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class W extends D.a{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new k.e(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(62),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(62)&&(this._matchBrackets=this._editor.getOption(62),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))}static get(e){return e.getContribution(W.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(t=>{const i=t.getStartPosition(),n=e.matchBracket(i);let o=null;if(n)n[0].containsPosition(i)?o=n[1].getStartPosition():n[1].containsPosition(i)&&(o=n[0].getStartPosition());else{const t=e.findEnclosingBrackets(i);if(t)o=t[0].getStartPosition();else{const t=e.findNextBracket(i);t&&t.range&&(o=t.range.getStartPosition())}}return o?new l.a(o.lineNumber,o.column,o.lineNumber,o.column):new l.a(i.lineNumber,i.column,i.lineNumber,i.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(n=>{const o=n.getStartPosition();let r=t.matchBracket(o);if(!r&&(r=t.findEnclosingBrackets(o),!r)){const e=t.findNextBracket(o);e&&e.range&&(r=t.matchBracket(e.range.getStartPosition()))}let s=null,a=null;if(r){r.sort(O.a.compareRangesUsingStarts);const[t,i]=r;s=e?t.getStartPosition():t.getEndPosition(),a=e?i.getEndPosition():i.getStartPosition()}s&&a&&i.push(new l.a(s.lineNumber,s.column,a.lineNumber,a.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(const i of this._lastBracketsData){let n=i.brackets;n&&(e[t++]={range:n[0],options:i.options},e[t++]={range:n[1],options:i.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),i=t.getVersionId();let n=[];this._lastVersionId===i&&(n=this._lastBracketsData);let o=[],r=0;for(let h=0,d=e.length;h<d;h++){let t=e[h];t.isEmpty()&&(o[r++]=t.getStartPosition())}o.length>1&&o.sort(I.a.compare);let s=[],a=0,l=0,c=n.length;for(let h=0,d=o.length;h<d;h++){let e=o[h];for(;l<c&&n[l].position.isBefore(e);)l++;if(l<c&&n[l].position.equals(e))s[a++]=n[l];else{let i=t.matchBracket(e),n=W._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;i||"always"!==this._matchBrackets||(i=t.findEnclosingBrackets(e,20),n=W._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),s[a++]=new B(e,i,n)}}this._lastBracketsData=s,this._lastVersionId=i}}W.ID="editor.contrib.bracketMatchingController",W._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=E.a.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Object(A.g)(P),position:N.d.Center}}),W._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=E.a.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),Object(r.l)(W.ID,W),Object(r.j)(j),Object(r.j)(F),Object(A.f)((e,t)=>{const i=e.getColor(T.c);i&&t.addRule(`.monaco-editor .bracket-match { background-color: ${i}; }`);const n=e.getColor(T.d);n&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)}),R.d.appendMenuItem(R.b.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:s.a({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class V{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,n=this._selection.startColumn,o=this._selection.endColumn;if((!this._isMovingLeft||1!==n)&&(this._isMovingLeft||o!==e.getLineMaxColumn(i)))if(this._isMovingLeft){const r=new O.a(i,n-1,i,n),s=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new O.a(i,o,i,o),s)}else{const r=new O.a(i,o,i,o+1),s=e.getValueInRange(r);t.addEditOperation(r,null),t.addEditOperation(new O.a(i,n,i,n),s)}}computeCursorState(e,t){return this._isMovingLeft?new l.a(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new l.a(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class H extends r.b{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;let i=[],n=t.getSelections();for(const o of n)i.push(new V(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}Object(r.j)(class extends H{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:s.a("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:a.a.writable})}}),Object(r.j)(class extends H{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:s.a("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:a.a.writable})}});var z=i("LCkn"),U=i("+Fos");class K extends r.b{constructor(){super({id:"editor.action.transposeLetters",label:s.a("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let i=t.getModel(),n=[],o=t.getSelections();for(let r of o){if(!r.isEmpty())continue;let e=r.startLineNumber,t=r.startColumn,o=i.getLineMaxColumn(e);if(1===e&&(1===t||2===t&&2===o))continue;let s=t===o?r.getPosition():U.a.rightPosition(i,r.getPosition().lineNumber,r.getPosition().column),a=U.a.leftPosition(i,s),l=U.a.leftPosition(i,a),c=i.getValueInRange(O.a.fromPositions(l,a)),h=i.getValueInRange(O.a.fromPositions(a,s)),d=O.a.fromPositions(l,s);n.push(new z.a(d,h+c))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}}Object(r.j)(K);var q=i("D3Dy"),$=i("MNsG"),G=i("5TxY"),Y=i("Vxe3"),Z=i("9XeP"),X=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Q=$.g||document.queryCommandSupported("cut"),J=$.g||document.queryCommandSupported("copy"),ee=void 0!==navigator.clipboard&&!q.g||document.queryCommandSupported("paste");function te(e){return e.register(),e}const ie=Q?te(new r.e({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:$.g?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:R.b.MenubarEditMenu,group:"2_ccp",title:s.a({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:R.b.EditorContext,group:"9_cutcopypaste",title:s.a("actions.clipboard.cutLabel","Cut"),when:a.a.writable,order:1},{menuId:R.b.CommandPalette,group:"",title:s.a("actions.clipboard.cutLabel","Cut"),order:1},{menuId:R.b.SimpleEditorContext,group:"9_cutcopypaste",title:s.a("actions.clipboard.cutLabel","Cut"),when:a.a.writable,order:1}]})):void 0,ne=J?te(new r.e({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:$.g?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:R.b.MenubarEditMenu,group:"2_ccp",title:s.a({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:R.b.EditorContext,group:"9_cutcopypaste",title:s.a("actions.clipboard.copyLabel","Copy"),order:2},{menuId:R.b.CommandPalette,group:"",title:s.a("actions.clipboard.copyLabel","Copy"),order:1},{menuId:R.b.SimpleEditorContext,group:"9_cutcopypaste",title:s.a("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;R.d.appendMenuItem(R.b.MenubarEditMenu,{submenu:R.b.MenubarCopy,title:{value:s.a("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),R.d.appendMenuItem(R.b.EditorContext,{submenu:R.b.EditorContextCopy,title:{value:s.a("copy as","Copy As"),original:"Copy As"},group:"9_cutcopypaste",order:3});const oe=ee?te(new r.e({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:$.g?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:R.b.MenubarEditMenu,group:"2_ccp",title:s.a({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:R.b.EditorContext,group:"9_cutcopypaste",title:s.a("actions.clipboard.pasteLabel","Paste"),when:a.a.writable,order:4},{menuId:R.b.CommandPalette,group:"",title:s.a("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:R.b.SimpleEditorContext,group:"9_cutcopypaste",title:s.a("actions.clipboard.pasteLabel","Paste"),when:a.a.writable,order:4}]})):void 0;class re extends r.b{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:s.a("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,weight:100}})}run(e,t){if(!t.hasModel())return;!t.getOption(30)&&t.getSelection().isEmpty()||(G.a.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),G.a.forceCopyWithSyntaxHighlighting=!1)}}function se(e,t){e&&(e.addImplementation(1e4,"code-editor",(e,i)=>{const n=e.get(Y.a).getFocusedCodeEditor();if(n&&n.hasTextFocus()){const e=n.getOption(30),i=n.getSelection();return i&&i.isEmpty()&&!e||document.execCommand(t),!0}return!1}),e.addImplementation(0,"generic-dom",(e,i)=>(document.execCommand(t),!0)))}se(ie,"cut"),se(ne,"copy"),oe&&(oe.addImplementation(1e4,"code-editor",(e,t)=>{const i=e.get(Y.a),n=e.get(Z.a),o=i.getFocusedCodeEditor();if(o&&o.hasTextFocus()){return!(!document.execCommand("paste")&&$.i)||(X(void 0,void 0,void 0,(function*(){const e=yield n.readText();if(""!==e){const t=G.b.INSTANCE.get(e);let i=!1,n=null,r=null;t&&(i=o.getOption(30)&&!!t.isFromEmptySelection,n=void 0!==t.multicursorText?t.multicursorText:null,r=t.mode),o.trigger("keyboard","paste",{text:e,pasteOnNewLine:i,multicursorText:n,mode:r})}})),!0)}return!1}),oe.addImplementation(0,"generic-dom",(e,t)=>(document.execCommand("paste"),!0))),J&&Object(r.j)(re);var ae=i("JQT/");class le{constructor(e){this.executor=e,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var ce=i("N0LK"),he=i("x/UI"),de=i("6OMU"),ue=i("bY76"),ge=i("vATl"),pe=i("twdY"),me=i("G2kB");class fe{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||e.value.startsWith(this.value+fe.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new fe(this.value+fe.sep+e)}}function be(e,t,i){return!!t.contains(e)&&(!i||!t.contains(i))}fe.sep=".",fe.None=new fe("@@none@@"),fe.Empty=new fe(""),fe.QuickFix=new fe("quickfix"),fe.Refactor=new fe("refactor"),fe.Source=new fe("source"),fe.SourceOrganizeImports=fe.Source.append("organizeImports"),fe.SourceFixAll=fe.Source.append("fixAll");class _e{constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}static fromUser(e,t){return e&&"object"==typeof e?new _e(_e.getKindFromUser(e,t.kind),_e.getApplyFromUser(e,t.apply),_e.getPreferredUser(e)):new _e(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"==typeof e.kind?new fe(e.kind):t}static getPreferredUser(e){return"boolean"==typeof e.preferred&&e.preferred}}var ve=i("tTk5"),Ce=i("nnTU"),we=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class ye{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return we(this,void 0,void 0,(function*(){if((null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)&&!this.action.edit){let t;try{t=yield this.provider.resolveCodeAction(this.action,e)}catch(i){Object(u.f)(i)}t&&(this.action.edit=t.edit)}return this}))}}class Se extends D.a{constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(Se.codeActionsComparator),this.validActions=this.allActions.filter(({action:e})=>!e.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:Object(de.n)(e.diagnostics)?Object(de.n)(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:Object(de.n)(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&fe.QuickFix.contains(new fe(e.kind))&&!!e.isPreferred)}}const Le={actions:[],documentation:void 0};function xe(e,t,i,n,o){var r;const s=i.filter||{},a={only:null===(r=s.include)||void 0===r?void 0:r.value,trigger:i.type},l=new ge.d(e,o),c=function(e,t){return pe.a.all(e).filter(e=>!e.providedCodeActionKinds||e.providedCodeActionKinds.some(e=>function(e,t){return!(e.include&&!e.include.intersects(t))&&((!e.excludes||!e.excludes.some(i=>be(t,i,e.include)))&&!(!e.includeSourceActions&&fe.Source.contains(t)))}(t,new fe(e))))}(e,s),h=new D.b,d=c.map(i=>we(this,void 0,void 0,(function*(){try{n.report(i);const o=yield i.provideCodeActions(e,t,a,l.token);if(o&&h.add(o),l.token.isCancellationRequested)return Le;const r=((null==o?void 0:o.actions)||[]).filter(e=>e&&function(e,t){const i=t.kind?new fe(t.kind):void 0;return!!(!e.include||i&&e.include.contains(i))&&(!(e.excludes&&i&&e.excludes.some(t=>be(i,t,e.include)))&&(!(!e.includeSourceActions&&i&&fe.Source.contains(i))&&!(e.onlyIncludePreferredActions&&!t.isPreferred)))}(s,e)),c=function(e,t,i){if(!e.documentation)return;const n=e.documentation.map(e=>({kind:new fe(e.kind),command:e.command}));if(i){let e;for(const t of n)t.kind.contains(i)&&(e?e.kind.contains(t.kind)&&(e=t):e=t);if(e)return null==e?void 0:e.command}for(const o of t)if(o.kind)for(const e of n)if(e.kind.contains(new fe(o.kind)))return e.command;return}(i,r,s.include);return{actions:r.map(e=>new ye(e,i)),documentation:c}}catch(o){if(Object(u.d)(o))throw o;return Object(u.f)(o),Le}}))),g=pe.a.onDidChange(()=>{const t=pe.a.all(e);Object(de.h)(t,c)||l.cancel()});return Promise.all(d).then(e=>{const t=Object(de.k)(e.map(e=>e.actions)),i=Object(de.e)(e.map(e=>e.documentation));return new Se(t,i,h)}).finally(()=>{g.dispose(),l.dispose()})}Ce.a.registerCommand("_executeCodeActionProvider",(function(e,t,i,n,o){return we(this,void 0,void 0,(function*(){if(!(t instanceof ue.a))throw Object(u.b)();const r=e.get(me.a).getModel(t);if(!r)throw Object(u.b)();const s=l.a.isISelection(i)?l.a.liftSelection(i):O.a.isIRange(i)?r.validateRange(i):void 0;if(!s)throw Object(u.b)();const a="string"==typeof n?new fe(n):void 0,c=yield xe(r,s,{type:1,filter:{includeSourceActions:!0,include:a}},ve.b.None,ae.a.None),h=[],d=Math.min(c.validActions.length,"number"==typeof o?o:0);for(let e=0;e<d;e++)h.push(c.validActions[e].resolve(ae.a.None));try{return yield Promise.all(h),c.validActions.map(e=>e.action)}finally{setTimeout(()=>c.dispose(),100)}}))}));i("synD");var ke=i("nEHx"),De=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ie=function(e,t){return function(i,n){t(i,n,e)}};let Oe=class e{constructor(t,i){this._messageWidget=new D.d,this._messageListeners=new D.b,this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(i),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(e.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let i;Object(f.a)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Ee(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new k.g(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(e=>{e.target.position&&(i?i.containsPosition(e.target.position)||this.closeMessage():i=new O.a(t.lineNumber-3,1,e.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Ee.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(s.a("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};Oe.ID="editor.contrib.messageController",Oe.MESSAGE_VISIBLE=new h.c("messageVisible",!1,s.a("messageVisible","Whether the editor is currently showing an inline message")),Oe=De([Ie(1,h.b)],Oe);const Ne=r.c.bindToContribution(Oe.get);Object(r.k)(new Ne({id:"leaveEditorMessage",precondition:Oe.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class Ee{constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const r=document.createElement("div");r.classList.add("message"),r.textContent=n,this._domNode.appendChild(r);const s=document.createElement("div");s.classList.add("anchor","below"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const i=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}Object(r.l)(Oe.ID,Oe),Object(A.f)((e,t)=>{const i=e.getColor(M.qb);if(i){let n=e.type===ke.a.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${n}px solid ${i}; }`)}const n=e.getColor(M.pb);n&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${n}; }`);const o=e.getColor(M.rb);o&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${o}; }`)});var Te=i("Cg/j"),Me=i("EffR"),Ae=i("8HAY"),Re=i("Uzvx"),Pe=i("bexQ"),Fe=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},je=function(e,t){return function(i,n){t(i,n,e)}},Be=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class We extends Ae.a{constructor(e,t){super(e.command?e.command.id:e.title,e.title.replace(/\r\n|\r|\n/g," "),void 0,!e.disabled,t),this.action=e}}let Ve=class extends D.a{constructor(e,t,i,n){super(),this._editor=e,this._delegate=t,this._contextMenuService=i,this._visible=!1,this._showingActions=this._register(new D.d),this._keybindingResolver=new He({getKeybindings:()=>n.getKeybindings()})}get isVisible(){return this._visible}show(e,t,i,n){return Be(this,void 0,void 0,(function*(){const o=n.includeDisabledActions?t.allActions:t.validActions;if(!o.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,Object(u.a)();this._visible=!0,this._showingActions.value=t;const r=this.getMenuActions(e,o,t.documentation),s=I.a.isIPosition(i)?this._toCoords(i):i||{x:0,y:0},a=this._keybindingResolver.getResolver(),l=this._editor.getOption(113);this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>s,getActions:()=>r,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:e=>e instanceof We?a(e.action):void 0})}))}getMenuActions(e,t,i){var n,o;const r=e=>new We(e.action,()=>this._delegate.onSelectCodeAction(e)),s=t.map(r),a=[...i],l=this._editor.getModel();if(l&&s.length)for(const c of pe.a.all(l))c._getAdditionalMenuItems&&a.push(...c._getAdditionalMenuItems({trigger:e.type,only:null===(o=null===(n=e.filter)||void 0===n?void 0:n.include)||void 0===o?void 0:o.value},t.map(e=>e.action)));return a.length&&s.push(new Ae.d,...a.map(e=>r(new ye({title:e.title,command:e},void 0)))),s}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=Object(Me.D)(this._editor.getDomNode());return{x:i.left+t.left,y:i.top+t.top+t.height}}};Ve=Fe([je(2,Re.a),je(3,Pe.a)],Ve);class He{constructor(e){this._keybindingProvider=e}getResolver(){const e=new le(()=>this._keybindingProvider.getKeybindings().filter(e=>He.codeActionCommands.indexOf(e.command)>=0).filter(e=>e.resolvedKeybinding).map(e=>{let t=e.commandArgs;return"editor.action.organizeImports"===e.command?t={kind:fe.SourceOrganizeImports.value}:"editor.action.fixAll"===e.command&&(t={kind:fe.SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},_e.fromUser(t,{kind:fe.None,apply:"never"}))}));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.getValue());return null==i?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new fe(e.kind);return t.filter(e=>e.kind.contains(i)).filter(t=>!t.preferred||e.isPreferred).reduceRight((e,t)=>e?e.kind.contains(t.kind)?t:e:t,void 0)}}He.codeActionCommands=["editor.action.refactor","editor.action.codeAction","editor.action.sourceAction","editor.action.organizeImports","editor.action.fixAll"];var ze,Ue=i("AKMP"),Ke=i("MI8n"),qe=(i("MNXI"),i("pg8w")),$e=i("Vhoy"),Ge=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ye=function(e,t){return function(i,n){t(i,n,e)}};!function(e){e.Hidden={type:0};e.Showing=class{constructor(e,t,i,n){this.actions=e,this.trigger=t,this.editorPosition=i,this.widgetPosition=n,this.type=1}}}(ze||(ze={}));let Ze=class e extends D.a{constructor(e,t,i,n){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=i,this._keybindingService=n,this._onClick=this._register(new Ke.b),this.onClick=this._onClick.event,this._state=ze.Hidden,this._domNode=document.createElement("div"),this._domNode.className=$e.b.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(e=>{const t=this._editor.getModel();(1!==this.state.type||!t||this.state.editorPosition.lineNumber>=t.getLineCount())&&this.hide()})),qe.b.ignoreTarget(this._domNode),this._register(Me.n(this._domNode,e=>{if(1!==this.state.type)return;this._editor.focus(),e.preventDefault();const{top:t,height:i}=Me.D(this._domNode),n=this._editor.getOption(57);let o=Math.floor(n/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(o+=n),this._onClick.fire({x:e.posx,y:t+i+o,actions:this.state.actions,trigger:this.state.trigger})})),this._register(Me.i(this._domNode,"mouseenter",e=>{if(1!=(1&e.buttons))return;this.hide();const t=new Ue.a;t.startMonitoring(e.target,e.buttons,Ue.b,()=>{},()=>{t.dispose()})})),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(55)&&!this._editor.getOption(55).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,i,n){if(t.validActions.length<=0)return this.hide();const o=this._editor.getOptions();if(!o.get(55).enabled)return this.hide();const r=this._editor.getModel();if(!r)return this.hide();const{lineNumber:s,column:a}=r.validatePosition(n),l=r.getOptions().tabSize,c=o.get(41),h=r.getLineContent(s),d=E.b.computeIndentLevel(h,l),u=e=>e>2&&this._editor.getTopForLineNumber(e)===this._editor.getTopForLineNumber(e-1);let g=s;if(!(c.spaceWidth*d>22))if(s>1&&!u(s-1))g-=1;else if(u(s+1)){if(a*c.spaceWidth<22)return this.hide()}else g+=1;this.state=new ze.Showing(t,i,n,{position:{lineNumber:g,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=ze.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...$e.b.lightBulb.classNamesArray),this._domNode.classList.add(...$e.b.lightbulbAutofix.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=s.a("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",e.getLabel()))}this._domNode.classList.remove(...$e.b.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...$e.b.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=e?s.a("quickFixWithKb","Show Fixes ({0})",e.getLabel()):s.a("quickFix","Show Fixes")}set title(e){this._domNode.title=e}};Ze._posPref=[0],Ze=Ge([Ye(3,Pe.a)],Ze),Object(A.f)((e,t)=>{var i;const n=null===(i=e.getColor(M.r))||void 0===i?void 0:i.transparent(.7),o=e.getColor(M.Q);o&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${$e.b.lightBulb.cssSelector} {\n\t\t\tcolor: ${o};\n\t\t\tbackground-color: ${n};\n\t\t}`);const r=e.getColor(M.P);r&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${$e.b.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${r};\n\t\t\tbackground-color: ${n};\n\t\t}`)});var Xe,Qe=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Je=function(e,t){return function(i,n){t(i,n,e)}},et=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},tt=function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,i):o?o.value=i:t.set(e,i),i},it=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};let nt=class extends D.a{constructor(e,t,i,n,o){super(),this._editor=e,this.delegate=n,this._activeCodeActions=this._register(new D.d),Xe.set(this,!1),this._codeActionWidget=new le(()=>this._register(o.createInstance(Ve,this._editor,{onSelectCodeAction:e=>et(this,void 0,void 0,(function*(){this.delegate.applyCodeAction(e,!0)}))}))),this._lightBulbWidget=new le(()=>{const e=this._register(o.createInstance(Ze,this._editor,t,i));return this._register(e.onClick(e=>this.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1}))),e})}dispose(){tt(this,Xe,!0,"f"),super.dispose()}update(e){var t,i,n;return et(this,void 0,void 0,(function*(){if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let o;try{o=yield e.actions}catch(r){return void Object(u.e)(r)}if(!it(this,Xe,"f"))if(this._lightBulbWidget.getValue().update(o,e.trigger,e.position),1===e.trigger.type){if(null===(i=e.trigger.filter)||void 0===i?void 0:i.include){const t=this.tryGetValidActionToApply(e.trigger,o);if(t){try{yield this.delegate.applyCodeAction(t,!1)}finally{o.dispose()}return}if(e.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,o);if(t&&t.action.disabled)return Oe.get(this._editor).showMessage(t.action.disabled,e.trigger.context.position),void o.dispose()}}const t=!!(null===(n=e.trigger.filter)||void 0===n?void 0:n.include);if(e.trigger.context&&(!o.allActions.length||!t&&!o.validActions.length))return Oe.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=o,void o.dispose();this._activeCodeActions.value=o,this._codeActionWidget.getValue().show(e.trigger,o,e.position,{includeDisabledActions:t})}else this._codeActionWidget.getValue().isVisible?o.dispose():this._activeCodeActions.value=o}))}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find(({action:e})=>e.disabled):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}showCodeActionList(e,t,i,n){return et(this,void 0,void 0,(function*(){this._codeActionWidget.getValue().show(e,t,i,n)}))}};Xe=new WeakMap,nt=Qe([Je(4,Te.a)],nt);var ot,rt=i("tADe"),st=i("sM1p"),at=i("XXUj"),lt=i("gslv"),ct=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},ht=function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,i):o?o.value=i:t.set(e,i),i};const dt=new h.c("supportedCodeAction","");class ut extends D.a{constructor(e,t,i,n=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new k.g),this._register(this._markerService.onMarkerChanged(e=>this._onMarkerChanges(e))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some(e=>Object(lt.f)(e,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const i of this._markerService.read({resource:t.uri})){const n=t.validateRange(i);if(O.a.intersectRanges(n,e))return O.a.lift(n)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&2===e.type){const{lineNumber:e,column:n}=i.getPosition(),o=t.getLineContent(e);if(0===o.length)return;if(1===n){if(/\s/.test(o[0]))return}else if(n===t.getLineMaxColumn(e)){if(/\s/.test(o[o.length-1]))return}else if(/\s/.test(o[n-2])&&/\s/.test(o[n-1]))return}return i}_createEventAndSignalChange(e,t){const i=this._editor.getModel();if(!t||!i)return void this._signalChange(void 0);const n=this._getRangeOfMarker(t),o=n?n.getStartPosition():t.getStartPosition(),r={trigger:e,selection:t,position:o};return this._signalChange(r),r}}var gt;!function(e){e.Empty={type:0};e.Triggered=class{constructor(e,t,i,n){this.trigger=e,this.rangeOrSelection=t,this.position=i,this._cancellablePromise=n,this.type=1,this.actions=n.catch(e=>{if(Object(u.d)(e))return pt;throw e})}cancel(){this._cancellablePromise.cancel()}}}(gt||(gt={}));const pt={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class mt extends D.a{constructor(e,t,i,n){super(),this._editor=e,this._markerService=t,this._progressService=n,this._codeActionOracle=this._register(new D.d),this._state=gt.Empty,this._onDidChangeState=this._register(new Ke.b),this.onDidChangeState=this._onDidChangeState.event,ot.set(this,!1),this._supportedCodeActions=dt.bindTo(i),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(pe.a.onDidChange(()=>this._update())),this._update()}dispose(){ct(this,ot,"f")||(ht(this,ot,!0,"f"),super.dispose(),this.setState(gt.Empty,!0))}_update(){if(ct(this,ot,"f"))return;this._codeActionOracle.value=void 0,this.setState(gt.Empty);const e=this._editor.getModel();if(e&&pe.a.has(e)&&!this._editor.getOption(79)){const t=[];for(const i of pe.a.all(e))Array.isArray(i.providedCodeActionKinds)&&t.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new ut(this._editor,this._markerService,t=>{var i;if(!t)return void this.setState(gt.Empty);const n=Object(k.h)(i=>xe(e,t.selection,t.trigger,ve.b.None,i));1===t.trigger.type&&(null===(i=this._progressService)||void 0===i||i.showWhile(n,250)),this.setState(new gt.Triggered(t.trigger,t.selection,t.position,n))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||ct(this,ot,"f")||this._onDidChangeState.fire(e))}}ot=new WeakMap;var ft=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},bt=function(e,t){return function(i,n){t(i,n,e)}},_t=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function vt(e){return h.a.regex(dt.keys()[0],new RegExp("(\\s|^)"+Object(ce.u)(e.value)+"\\b"))}const Ct={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:s.a("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:s.a("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[s.a("args.schema.apply.first","Always apply the first returned code action."),s.a("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),s.a("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:s.a("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let wt=class e extends D.a{constructor(e,t,i,n,o){super(),this._instantiationService=o,this._editor=e,this._model=this._register(new mt(this._editor,t,i,n)),this._register(this._model.onDidChangeState(e=>this.update(e))),this._ui=new le(()=>this._register(new nt(e,Lt.Id,Nt.Id,{applyCodeAction:(e,t)=>_t(this,void 0,void 0,(function*(){try{yield this._applyCodeAction(e)}finally{t&&this._trigger({type:2,filter:{}})}}))},this._instantiationService)))}static get(t){return t.getContribution(e.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,i){return this._ui.getValue().showCodeActionList(e,t,i,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,i){if(!this._editor.hasModel())return;Oe.get(this._editor).closeMessage();const n=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:i,context:{notAvailableMessage:e,position:n}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(yt,e,this._editor)}};function yt(e,t,i){return _t(this,void 0,void 0,(function*(){const n=e.get(he.a),o=e.get(Ce.b),r=e.get(at.a),a=e.get(st.a);if(r.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred}),yield t.resolve(ae.a.None),t.action.edit&&(yield n.apply(he.b.convert(t.action.edit),{editor:i,label:t.action.title})),t.action.command)try{yield o.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(l){const e=function(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}(l);a.error("string"==typeof e?e:s.a("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}))}function St(e,t,i,n){if(e.hasModel()){const o=wt.get(e);o&&o.manualTriggerAtCurrentPosition(t,i,n)}}wt.ID="editor.contrib.quickFixController",wt=ft([bt(1,rt.b),bt(2,h.b),bt(3,ve.a),bt(4,Te.a)],wt);class Lt extends r.b{constructor(){super({id:Lt.Id,label:s.a("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:h.a.and(a.a.writable,a.a.hasCodeActionsProvider),kbOpts:{kbExpr:a.a.editorTextFocus,primary:2132,weight:100}})}run(e,t){return St(t,s.a("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}Lt.Id="editor.action.quickFix";class xt extends r.c{constructor(){super({id:"editor.action.codeAction",precondition:h.a.and(a.a.writable,a.a.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Ct}]}})}runEditorCommand(e,t,i){const n=_e.fromUser(i,{kind:fe.Empty,apply:"ifSingle"});return St(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?s.a("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):s.a("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):n.preferred?s.a("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):s.a("editor.action.codeAction.noneMessage","No code actions available"),{include:n.kind,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}}class kt extends r.b{constructor(){super({id:"editor.action.refactor",label:s.a("refactor.label","Refactor..."),alias:"Refactor...",precondition:h.a.and(a.a.writable,a.a.hasCodeActionsProvider),kbOpts:{kbExpr:a.a.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:h.a.and(a.a.writable,vt(fe.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Ct}]}})}run(e,t,i){const n=_e.fromUser(i,{kind:fe.Refactor,apply:"never"});return St(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?s.a("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):s.a("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):n.preferred?s.a("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):s.a("editor.action.refactor.noneMessage","No refactorings available"),{include:fe.Refactor.contains(n.kind)?n.kind:fe.None,onlyIncludePreferredActions:n.preferred},n.apply)}}class Dt extends r.b{constructor(){super({id:"editor.action.sourceAction",label:s.a("source.label","Source Action..."),alias:"Source Action...",precondition:h.a.and(a.a.writable,a.a.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:h.a.and(a.a.writable,vt(fe.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Ct}]}})}run(e,t,i){const n=_e.fromUser(i,{kind:fe.Source,apply:"never"});return St(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?s.a("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):s.a("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):n.preferred?s.a("editor.action.source.noneMessage.preferred","No preferred source actions available"):s.a("editor.action.source.noneMessage","No source actions available"),{include:fe.Source.contains(n.kind)?n.kind:fe.None,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}}class It extends r.b{constructor(){super({id:"editor.action.organizeImports",label:s.a("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:h.a.and(a.a.writable,vt(fe.SourceOrganizeImports)),kbOpts:{kbExpr:a.a.editorTextFocus,primary:1581,weight:100}})}run(e,t){return St(t,s.a("editor.action.organize.noneMessage","No organize imports action available"),{include:fe.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}class Ot extends r.b{constructor(){super({id:"editor.action.fixAll",label:s.a("fixAll.label","Fix All"),alias:"Fix All",precondition:h.a.and(a.a.writable,vt(fe.SourceFixAll))})}run(e,t){return St(t,s.a("fixAll.noneMessage","No fix all action available"),{include:fe.SourceFixAll,includeSourceActions:!0},"ifSingle")}}class Nt extends r.b{constructor(){super({id:Nt.Id,label:s.a("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:h.a.and(a.a.writable,vt(fe.QuickFix)),kbOpts:{kbExpr:a.a.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return St(t,s.a("editor.action.autoFix.noneMessage","No auto fixes available"),{include:fe.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}Nt.Id="editor.action.autoFix",Object(r.l)(wt.ID,wt),Object(r.j)(Lt),Object(r.j)(kt),Object(r.j)(Dt),Object(r.j)(It),Object(r.j)(Nt),Object(r.j)(Ot),Object(r.k)(new xt);var Et=i("746U"),Tt=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Mt{constructor(){this.lenses=[],this._disposables=new D.b}dispose(){this._disposables.dispose()}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}function At(e,t){return Tt(this,void 0,void 0,(function*(){const i=pe.b.ordered(e),n=new Map,o=new Mt,r=i.map((i,r)=>Tt(this,void 0,void 0,(function*(){n.set(i,r);try{const n=yield Promise.resolve(i.provideCodeLenses(e,t));n&&o.add(n,i)}catch(s){Object(u.f)(s)}})));return yield Promise.all(r),o.lenses=o.lenses.sort((e,t)=>e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:n.get(e.provider)<n.get(t.provider)?-1:n.get(e.provider)>n.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0),o}))}Ce.a.registerCommand("_executeCodeLensProvider",(function(e,...t){let[i,n]=t;Object(Et.c)(ue.a.isUri(i)),Object(Et.c)("number"==typeof n||!n);const o=e.get(me.a).getModel(i);if(!o)throw Object(u.b)();const r=[],s=new D.b;return At(o,ae.a.None).then(e=>{s.add(e);let t=[];for(const i of e.lenses)null==n||Boolean(i.symbol.command)?r.push(i.symbol):n-- >0&&i.provider.resolveCodeLens&&t.push(Promise.resolve(i.provider.resolveCodeLens(o,i.symbol,ae.a.None)).then(e=>r.push(e||i.symbol)));return Promise.all(t)}).then(()=>r).finally(()=>{setTimeout(()=>s.dispose(),100)})}));i("RMfO");var Rt=i("fdyd");class Pt{constructor(e,t,i){this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}}class Ft{constructor(e,t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+Ft._idPool++,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration "+t}withCommands(e,t){this._commands.clear();let i=[],n=!1;for(let o=0;o<e.length;o++){const t=e[o];if(t&&(n=!0,t.command)){const n=Object(Rt.a)(t.command.title.trim());t.command.id?(i.push(Me.a("a",{id:String(o),title:t.command.tooltip},...n)),this._commands.set(String(o),t.command)):i.push(Me.a("span",{title:t.command.tooltip},...n)),o+1<e.length&&i.push(Me.a("span",void 0," | "))}}n?(Me.R(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):Me.R(this._domNode,Me.a("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}Ft._idPool=0;class jt{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])}}class Bt{constructor(e,t,i,n,o,r,s){let a;this._isDisposed=!1,this._editor=t,this._className=i,this._data=e,this._decorationIds=[];let l=[];this._data.forEach((e,t)=>{e.symbol.command&&l.push(e.symbol),n.addDecoration({range:e.symbol.range,options:E.a.EMPTY},e=>this._decorationIds[t]=e),a=a?O.a.plusRange(a,e.symbol.range):O.a.lift(e.symbol.range)}),this._viewZone=new Pt(a.startLineNumber-1,r,s),this._viewZoneId=o.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Ft(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),n=this._data[t].symbol;return!(!i||O.a.isEmpty(n.range)!==i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((e,i)=>{t.addDecoration({range:e.symbol.range,options:E.a.EMPTY},e=>this._decorationIds[i]=e)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:e}=this._data[t];e.command=i.command||e.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}Object(A.f)((e,t)=>{const i=e.getColor(T.e);i&&(t.addRule(`.monaco-editor .codelens-decoration { color: ${i}; }`),t.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${i}; }`));const n=e.getColor(M.q);n&&(t.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${n} !important; }`),t.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${n} !important; }`))});var Wt=i("9fML"),Vt=i("QDVR"),Ht=i("A+jI"),zt=i("C/vA"),Ut=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Kt=function(e,t){return function(i,n){t(i,n,e)}};const qt=Object(Te.c)("ICodeLensCache");class $t{constructor(e,t){this.lineCount=e,this.data=t}}let Gt=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Vt.a(20,.75);Object(k.m)(()=>e.remove("codelens/cache",1));const t="codelens/cache2",i=e.get(t,1,"{}");this._deserialize(i),Object(zt.a)(e.onWillSaveState)(i=>{i.reason===Ht.c.SHUTDOWN&&e.store(t,this._serialize(),1,1)})}put(e,t){const i=t.lenses.map(e=>{var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}}),n=new Mt;n.add({lenses:i,dispose:()=>{}},this._fakeProvider);const o=new $t(e.getLineCount(),n);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const n=new Set;for(const e of i.data.lenses)n.add(e.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...n.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const e in t){const i=t[e],n=[];for(const e of i.lines)n.push({range:new O.a(e,1,e,11)});const o=new Mt;o.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(e,new $t(i.lineCount,o))}}catch(t){}}};Gt=Ut([Kt(0,Ht.a)],Gt),Object(Wt.b)(qt,Gt);var Yt=i("7afs"),Zt=i("Zr1c"),Xt=i("al33"),Qt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Jt=function(e,t){return function(i,n){t(i,n,e)}},ei=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let ti=class{constructor(e,t,i,n){this._editor=e,this._commandService=t,this._notificationService=i,this._codeLensCache=n,this._disposables=new D.b,this._localToDispose=new D.b,this._lenses=[],this._getCodeLensModelDelays=new Xt.b(pe.b,250,2500),this._oldCodeLensModels=new D.b,this._resolveCodeLensesDelays=new Xt.b(pe.b,250,2500),this._resolveCodeLensesScheduler=new k.e(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(41)||e.hasChanged(14)||e.hasChanged(13))&&this._updateLensStyle(),e.hasChanged(12)&&this._onModelChange()})),this._disposables.add(pe.b.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+Object(Yt.b)(this._editor.getId()).toString(16),this._styleElement=Me.w(Me.O(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e,t=this._editor.getOption(14);return!t||t<5?(t=.9*this._editor.getOption(43)|0,e=this._editor.getOption(57)):e=t*Math.max(1.3,this._editor.getOption(57)/this._editor.getOption(43))|0,{codeLensHeight:e,fontSize:t}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(13),n=this._editor.getOption(41),o="--codelens-font-family"+this._styleClassName,r="--codelens-font-features"+this._styleClassName;let s=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(.5*t)}px; font-feature-settings: var(${r}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }\n\t\t`;i&&(s+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${o})}`),this._styleElement.textContent=s,this._editor.getContainerDomNode().style.setProperty(o,null!=i?i:"inherit"),this._editor.getContainerDomNode().style.setProperty(r,n.fontFeatureSettings),this._editor.changeViewZones(t=>{for(let i of this._lenses)i.updateHeight(e,t)})}_localDispose(){var e,t,i;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(i=this._currentCodeLensModel)||void 0===i||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e)return;if(!this._editor.getOption(12))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!pe.b.has(e))return void(t&&this._localToDispose.add(Object(k.i)(()=>{const i=this._codeLensCache.get(e);t===i&&(this._codeLensCache.delete(e),this._onModelChange())},3e4)));for(const n of pe.b.all(e))if("function"==typeof n.onDidChange){let e=n.onDidChange(()=>i.schedule());this._localToDispose.add(e)}const i=new k.e(()=>{var t;const n=Date.now();null===(t=this._getCodeLensModelPromise)||void 0===t||t.cancel(),this._getCodeLensModelPromise=Object(k.h)(t=>At(e,t)),this._getCodeLensModelPromise.then(t=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=t,this._codeLensCache.put(e,t);const o=this._getCodeLensModelDelays.update(e,Date.now()-n);i.delay=o,this._renderCodeLensSymbols(t),this._resolveCodeLensesInViewport()},u.e)},this._getCodeLensModelDelays.get(e));this._localToDispose.add(i),this._localToDispose.add(Object(D.i)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{let i=[],n=-1;this._lenses.forEach(e=>{e.isValid()&&n!==e.getLineNumber()?(e.update(t),n=e.getLineNumber()):i.push(e)});let o=new jt;i.forEach(e=>{e.dispose(o,t),this._lenses.splice(this._lenses.indexOf(e),1)}),o.commit(e)})}),i.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(e=>{e.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(Object(D.i)(()=>{if(this._editor.getModel()){const e=ge.c.capture(this._editor);this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{this._disposeAllLenses(e,t)})}),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(e=>{if(9!==e.target.type)return;let t=e.target.element;if("SPAN"===(null==t?void 0:t.tagName)&&(t=t.parentElement),"A"===(null==t?void 0:t.tagName))for(const i of this._lenses){let e=i.getCommand(t);if(e){this._commandService.executeCommand(e.id,...e.arguments||[]).catch(e=>this._notificationService.error(e));break}}})),i.schedule()}_disposeAllLenses(e,t){const i=new jt;for(const n of this._lenses)n.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t,i=this._editor.getModel().getLineCount(),n=[];for(let s of e.lenses){let e=s.symbol.range.startLineNumber;e<1||e>i||(t&&t[t.length-1].symbol.range.startLineNumber===e?t.push(s):(t=[s],n.push(t)))}const o=ge.c.capture(this._editor),r=this._getLayoutInfo();this._editor.changeDecorations(e=>{this._editor.changeViewZones(t=>{const i=new jt;let o=0,s=0;for(;s<n.length&&o<this._lenses.length;){let e=n[s][0].symbol.range.startLineNumber,a=this._lenses[o].getLineNumber();a<e?(this._lenses[o].dispose(i,t),this._lenses.splice(o,1)):a===e?(this._lenses[o].updateCodeLensSymbols(n[s],i),s++,o++):(this._lenses.splice(o,0,new Bt(n[s],this._editor,this._styleClassName,i,t,r.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),o++,s++)}for(;o<this._lenses.length;)this._lenses[o].dispose(i,t),this._lenses.splice(o,1);for(;s<n.length;)this._lenses.push(new Bt(n[s],this._editor,this._styleClassName,i,t,r.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),s++;i.commit(e)})}),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const i=[],n=[];if(this._lenses.forEach(e=>{const o=e.computeIfNecessary(t);o&&(i.push(o),n.push(e))}),0===i.length)return;const o=Date.now(),r=Object(k.h)(e=>{const o=i.map((i,o)=>{const r=new Array(i.length),s=i.map((i,n)=>i.symbol.command||"function"!=typeof i.provider.resolveCodeLens?(r[n]=i.symbol,Promise.resolve(void 0)):Promise.resolve(i.provider.resolveCodeLens(t,i.symbol,e)).then(e=>{r[n]=e},u.f));return Promise.all(s).then(()=>{e.isCancellationRequested||n[o].isDisposed()||n[o].updateCommands(r)})});return Promise.all(o)});this._resolveCodeLensesPromise=r,this._resolveCodeLensesPromise.then(()=>{const e=this._resolveCodeLensesDelays.update(t,Date.now()-o);this._resolveCodeLensesScheduler.delay=e,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},e=>{Object(u.e)(e),r===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getLenses(){return this._lenses}};ti.ID="css.editor.codeLens",ti=Qt([Jt(1,Ce.b),Jt(2,st.a),Jt(3,qt)],ti),Object(r.l)(ti.ID,ti),Object(r.j)(class extends r.b{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:a.a.hasCodeLensProvider,label:Object(s.a)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return ei(this,void 0,void 0,(function*(){if(!t.hasModel())return;const i=e.get(Zt.a),n=e.get(Ce.b),o=e.get(st.a),r=t.getSelection().positionLineNumber,s=t.getContribution(ti.ID),a=[];for(let e of s.getLenses())if(e.getLineNumber()===r)for(let t of e.getItems()){const{command:e}=t.symbol;e&&a.push({label:e.title,command:e})}if(0===a.length)return;const l=yield i.pick(a,{canPickMany:!1});if(l)try{yield n.executeCommand(l.command.id,...l.command.arguments||[])}catch(c){o.error(c)}}))}});var ii=i("zrhQ");function ni(e,t,i,n){return Promise.resolve(i.provideColorPresentations(e,t,n))}Ce.a.registerCommand("_executeDocumentColorProvider",(function(e,...t){const[i]=t;if(!(i instanceof ue.a))throw Object(u.b)();const n=e.get(me.a).getModel(i);if(!n)throw Object(u.b)();const o=[],r=pe.c.ordered(n).reverse().map(e=>Promise.resolve(e.provideDocumentColors(n,ae.a.None)).then(e=>{if(Array.isArray(e))for(let t of e)o.push({range:t.range,color:[t.color.red,t.color.green,t.color.blue,t.color.alpha]})}));return Promise.all(r).then(()=>o)})),Ce.a.registerCommand("_executeColorPresentationProvider",(function(e,...t){const[i,n]=t,{uri:o,range:r}=n;if(!(o instanceof ue.a&&Array.isArray(i)&&4===i.length&&O.a.isIRange(r)))throw Object(u.b)();const[s,a,l,c]=i,h=e.get(me.a).getModel(o);if(!h)throw Object(u.b)();const d={range:r,color:{red:s,green:a,blue:l,alpha:c}},g=[],p=pe.c.ordered(h).reverse().map(e=>Promise.resolve(e.provideColorPresentations(h,d,ae.a.None)).then(e=>{Array.isArray(e)&&g.push(...e)}));return Promise.all(p).then(()=>g)}));var oi=i("+7oY"),ri=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},si=function(e,t){return function(i,n){t(i,n,e)}};let ai=class e extends D.a{constructor(e,t,i){super(),this._editor=e,this._codeEditorService=t,this._configurationService=i,this._localToDispose=this._register(new D.b),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(pe.c.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{let e=this._isEnabled;this._isEnabled=this.isEnabled(),e!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageIdentifier(),i=this._configurationService.getValue(t.language);if(i&&"object"==typeof i){const e=i.colorDecorators;if(e&&void 0!==e.enable&&!e.enable)return e.enable}return this._editor.getOption(15)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const t=this._editor.getModel();t&&pe.c.has(t)&&(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new k.g,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},e.RECOMPUTE_TIME))})),this.beginCompute())}beginCompute(){this._computePromise=Object(k.h)(e=>{const t=this._editor.getModel();return t?function(e,t){const i=[],n=pe.c.ordered(e).reverse().map(n=>Promise.resolve(n.provideDocumentColors(e,t)).then(e=>{if(Array.isArray(e))for(let t of e)i.push({colorInfo:t,provider:n})}));return Promise.all(n).then(()=>i)}(t,e):Promise.resolve([])}),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},u.e)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(e=>({range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:E.a.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((t,i)=>this._colorDatas.set(t,e[i]))}updateColorDecorators(e){let t=[],i={};for(let n=0;n<e.length&&t.length<500;n++){const{red:o,green:r,blue:s,alpha:a}=e[n].colorInfo.color,l=new ii.c(Math.round(255*o),Math.round(255*r),Math.round(255*s),a);let c=Object(Yt.b)(`rgba(${l.r},${l.g},${l.b},${l.a})`).toString(16),h=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`,d="colorBox-"+c;this._decorationsTypes.has(d)||i[d]||this._codeEditorService.registerDecorationType("color-detector-color",d,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:h},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),i[d]=!0,t.push({range:{startLineNumber:e[n].colorInfo.range.startLineNumber,startColumn:e[n].colorInfo.range.startColumn,endLineNumber:e[n].colorInfo.range.endLineNumber,endColumn:e[n].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(d,!0)})}this._decorationsTypes.forEach(e=>{i[e]||this._codeEditorService.removeDecorationType(e)}),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,t)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach(e=>{this._codeEditorService.removeDecorationType(e)})}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(O.a.fromPositions(e,e)).filter(e=>this._colorDatas.has(e.id));return 0===i.length?null:this._colorDatas.get(i[0].id)}};ai.ID="editor.contrib.colorDetector",ai.RECOMPUTE_TIME=1e3,ai=ri([si(1,Y.a),si(2,oi.a)],ai),Object(r.l)(ai.ID,ai);var li=i("WBhO");class ci{constructor(e,t,i,n,o){this._computer=e,this._state=0,this._hoverTime=o,this._firstWaitScheduler=new k.e(()=>this._triggerAsyncComputation(),0),this._secondWaitScheduler=new k.e(()=>this._triggerSyncComputation(),0),this._loadingMessageScheduler=new k.e(()=>this._showLoadingMessage(),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=i,this._progressCallback=n}setHoverTime(e){this._hoverTime=e}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Object(k.h)(e=>this._computer.computeAsync(e)),this._asyncComputationPromise.then(e=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(e)},e=>this._onError(e))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(e){this._completeCallback(e)}_onError(e){this._errorCallback?this._errorCallback(e):Object(u.e)(e)}_onProgress(e){this._progressCallback(e)}start(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}var hi=i("G300"),di=(i("vAKA"),i("GJhM"));const ui=Me.a;class gi extends D.a{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new di.a(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class pi extends D.a{constructor(e,t,i){super(),this.actionContainer=Me.q(e,ui("div.action-container")),this.action=Me.q(this.actionContainer,ui("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),t.iconClass&&Me.q(this.action,ui("span.icon."+t.iconClass));Me.q(this.action,ui("span")).textContent=i?`${t.label} (${i})`:t.label,this._register(Me.i(this.actionContainer,Me.d.CLICK,e=>{e.stopPropagation(),e.preventDefault(),t.run(this.actionContainer)})),this.setEnabled(!0)}static render(e,t,i){return new pi(e,t,i)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var mi=i("79sc"),fi=i("W9cx"),bi=(i("/oaI"),i("tYmi")),_i=i("PTeM");function vi(e){if(!e)return;"string"==typeof e&&(e=ue.a.file(e));const t=Object(lt.b)(e)||(e.scheme===bi.c.file?e.fsPath:e.path);return $.j&&Object(_i.c)(t)?Ci(t):t}function Ci(e){return Object(_i.a)(e)?e.charAt(0).toUpperCase()+e.slice(1):e}i("e1ni");var wi=i("WqXY"),yi=i("qj0h"),Si=i("R3nR"),Li=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},xi=function(e,t){return function(i,n){t(i,n,e)}};let ki=class extends o.a{constructor(e,t,i,n,o,r,s,a,l,c){super(e,Object.assign(Object.assign({},i.getRawOptions()),{overflowWidgetsDomNode:i.getOverflowWidgetsDomNode()}),{},n,o,r,s,a,l,c),this._parentEditor=i,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(i.onDidChangeConfiguration(e=>this._onParentConfigurationChanged(e)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){yi.f(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};ki=Li([xi(3,Te.a),xi(4,Y.a),xi(5,Ce.b),xi(6,h.b),xi(7,A.b),xi(8,st.a),xi(9,Si.b)],ki);i("uWgD");var Di=i("cMOf"),Ii=i("nD70");const Oi=new ii.a(new ii.c(0,122,204)),Ni={showArrow:!0,showFrame:!0,className:"",frameColor:Oi,arrowColor:Oi,keepEditorSelection:!1};class Ei{constructor(e,t,i,n,o,r){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=r}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class Ti{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class Mi{constructor(e){this._editor=e,this._ruleName=Mi._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),Me.Q(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){Me.Q(this._ruleName),Me.v(".monaco-editor "+this._ruleName,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:O.a.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}Mi._IdGenerator=new Ii.a(".arrow-decoration-");i("r6Ki");var Ai=i("i04g"),Ri=i("7/Ik"),Pi=(i("QMLA"),i("uDWl"));class Fi extends Ae.b{constructor(e,t){super(),this._onDidChangeVisibility=new Ke.b,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Object(Me.q)(e,Object(Me.a)(".monaco-dropdown")),this._label=Object(Me.q)(this._element,Object(Me.a)(".dropdown-label"));let i=t.labelRenderer;i||(i=e=>(e.textContent=t.label||"",null));for(const o of[Me.d.CLICK,Me.d.MOUSE_DOWN,qe.a.Tap])this._register(Object(Me.i)(this.element,o,e=>Me.c.stop(e,!0)));for(const o of[Me.d.MOUSE_DOWN,qe.a.Tap])this._register(Object(Me.i)(this._label,o,e=>{e instanceof MouseEvent&&e.detail>1||(this.visible?this.hide():this.show())}));this._register(Object(Me.i)(this._label,Me.d.KEY_UP,e=>{const t=new Pi.a(e);(t.equals(3)||t.equals(10))&&(Me.c.stop(e,!0),this.visible?this.hide():this.show())}));const n=i(this._label);n&&this._register(n),this._register(qe.b.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class ji extends Fi{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class Bi extends Ri.b{constructor(e,t,i,n=Object.create(null)){super(null,e,n),this.actionItem=null,this._onDidChangeVisibility=this._register(new Ke.b),this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:e=>{this.element=Object(Me.q)(e,Object(Me.a)("a.action-label"));let t=[];return"string"==typeof this.options.classNames?t=this.options.classNames.split(/\s+/g).filter(e=>!!e):this.options.classNames&&(t=this.options.classNames),t.find(e=>"icon"===e)||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:t?this.menuActionsOrProvider:void 0,actionProvider:t?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new ji(e,i)),this._register(this.dropdownMenu.onDidChangeVisibility(e=>{var t;null===(t=this.element)||void 0===t||t.setAttribute("aria-expanded",""+e),this._onDidChangeVisibility.fire(e)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const e=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return e.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const i=!this.getAction().enabled;null===(e=this.actionItem)||void 0===e||e.classList.toggle("disabled",i),null===(t=this.element)||void 0===t||t.classList.toggle("disabled",i)}}var Wi=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Vi=function(e,t){return function(i,n){t(i,n,e)}},Hi=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function zi(e,t,i,n,o,r,s){const a=e.getActions(t);return function(e,t,i,n=(e=>"navigation"===e),o=Number.MAX_SAFE_INTEGER,r=(()=>!1),s=!1){let a,l;Array.isArray(t)?(a=t,l=t):(a=t.primary,l=t.secondary);const c=new Set;for(const[h,d]of e){let e;n(h)?(e=a,e.length>0&&s&&e.push(new Ae.d)):(e=l,e.length>0&&e.push(new Ae.d));for(let t of d){i&&(t=t instanceof R.c&&t.alt?t.alt:t);const n=e.push(t);t instanceof Ae.e&&c.add({group:h,action:t,index:n-1})}}for(const{group:h,action:d,index:u}of c){const e=n(h)?a:l,t=d.actions;(t.length<=1||e.length+t.length-2<=o)&&r(d,h,e.length)&&e.splice(u,1,...t)}if(a!==l&&a.length>o){const e=a.splice(o,a.length-o);l.unshift(...e,new Ae.d)}}(a,i,!1,"string"==typeof n?e=>e===n:n,o,r,s),function(e){const t=new D.b;for(const[,i]of e)for(const e of i)t.add(e);return t}(a)}let Ui=class extends Ri.a{constructor(e,t,i,n,o){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==t?void 0:t.draggable}),this._keybindingService=i,this._notificationService=n,this._contextKeyService=o,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new D.d),this._altKey=Me.e.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return Hi(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}))}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||($.j||$.d)&&this._altKey.keyStatus.shiftKey;const n=()=>{const e=t&&i;e!==this._wantsAltCommand&&(this._wantsAltCommand=e,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(e=>{i=e.altKey||($.j||$.d)&&e.shiftKey,n()})),this._register(Object(Me.i)(e,"mouseleave",e=>{t=!1,n()})),this._register(Object(Me.i)(e,"mouseenter",e=>{t=!0,n()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let n=t?Object(s.a)("titleAndKb","{0} ({1})",i,t):i;if(!this._wantsAltCommand&&this._menuItemAction.alt){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,t=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),i=t&&t.getLabel(),o=i?Object(s.a)("titleAndKb","{0} ({1})",e,i):e;n+=`\n[${Ai.b.modifierLabels[$.a].altKey}] ${o}`}this.label.title=n}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:i,label:n}=this;if(!i||!n)return;const o=this._commandAction.checked&&(null===(t=e.toggled)||void 0===t?void 0:t.icon)?e.toggled.icon:e.icon;if(o)if(A.d.isThemeIcon(o)){const e=A.d.asClassNameArray(o);n.classList.add(...e),this._itemClassDispose.value=Object(D.i)(()=>{n.classList.remove(...e)})}else o.light&&n.style.setProperty("--menu-entry-icon-light",Object(Me.s)(o.light)),o.dark&&n.style.setProperty("--menu-entry-icon-dark",Object(Me.s)(o.dark)),n.classList.add("icon"),this._itemClassDispose.value=Object(D.i)(()=>{n.classList.remove("icon"),n.style.removeProperty("--menu-entry-icon-light"),n.style.removeProperty("--menu-entry-icon-dark")})}};Ui=Wi([Vi(2,Pe.a),Vi(3,st.a),Vi(4,h.b)],Ui);let Ki=class extends Bi{constructor(e,t){super(e,{getActions:()=>e.actions},t,{menuAsChild:!0,classNames:A.d.isThemeIcon(e.item.icon)?A.d.asClassName(e.item.icon):void 0})}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");const{icon:t}=this._action.item;t&&!A.d.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",Object(Me.s)(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",Object(Me.s)(t.dark)))}}};Ki=Wi([Vi(1,Re.a)],Ki);let qi=class extends Ri.b{constructor(e,t,i,n,o,r,s){let a;super(null,e),this._keybindingService=t,this._notificationService=i,this._contextMenuService=n,this._menuService=o,this._instaService=r,this._storageService=s,this._container=null,this._storageKey=e.item.submenu._debugName+"_lastActionId";let l=s.get(this._storageKey,1);l&&(a=e.actions.find(e=>l===e.id)),a||(a=e.actions[0]),this._defaultAction=this._instaService.createInstance(Ui,a,void 0),this._dropdown=new Bi(e,e.actions,this._contextMenuService,{menuAsChild:!0,classNames:["codicon","codicon-chevron-down"]}),this._dropdown.actionRunner.onDidRun(e=>{e.action instanceof R.c&&this.update(e.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Ui,e,void 0),this._defaultAction.actionRunner=new class extends Ae.b{runAction(e,t){return Hi(this,void 0,void 0,(function*(){yield e.run(void 0)}))}},this._container&&this._defaultAction.render(Object(Me.P)(this._container,Object(Me.a)(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-primary");const t=Object(Me.a)(".action-container");this._defaultAction.render(Object(Me.q)(this._container,t)),this._register(Object(Me.i)(t,Me.d.KEY_DOWN,e=>{const t=new Pi.a(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())}));const i=Object(Me.a)(".dropdown-action-container");this._dropdown.render(Object(Me.q)(this._container,i)),this._register(Object(Me.i)(i,Me.d.KEY_DOWN,e=>{var t;const i=new Pi.a(e);i.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(t=this._defaultAction.element)||void 0===t||t.focus(),i.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function $i(e,t){if(t instanceof R.c)return e.createInstance(Ui,t,void 0);if(t instanceof R.e){const i=!t.actions.some(e=>e instanceof R.c&&e.item.icon&&!A.d.isThemeIcon(e.item.icon));return t.item.rememberDefaultAction&&i?e.createInstance(qi,t):e.createInstance(Ki,t)}}qi=Wi([Vi(1,Pe.a),Vi(2,st.a),Vi(3,Re.a),Vi(4,R.a),Vi(5,Te.a),Vi(6,Ht.a)],qi);var Gi=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Yi=function(e,t){return function(i,n){t(i,n,e)}};const Zi=Object(Te.c)("IPeekViewService");var Xi,Qi;Object(Wt.b)(Zi,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose());this._widgets.set(e,{widget:t,listener:t.onDidClose(()=>{const i=this._widgets.get(e);i&&i.widget===t&&(i.listener.dispose(),this._widgets.delete(e))})})}}),(Qi=Xi||(Xi={})).inPeekEditor=new h.c("inReferenceSearchEditor",!0,s.a("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),Qi.notInPeekEditor=Qi.inPeekEditor.toNegated();let Ji=class{constructor(e,t){e instanceof ki&&Xi.inPeekEditor.bindTo(t)}dispose(){}};Ji.ID="editor.contrib.referenceController",Ji=Gi([Yi(1,h.b)],Ji),Object(r.l)(Ji.ID,Ji);const en={headerBackgroundColor:ii.a.white,primaryHeadingColor:ii.a.fromHex("#333333"),secondaryHeadingColor:ii.a.fromHex("#6c6c6cb3")};let tn=class extends class{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new D.b,this.container=null,this._isShowing=!1,this.editor=e,this.options=yi.b(t),yi.f(this.options,Ni,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(e=>{const t=this._getWidth(e);this.domNode.style.width=t+"px",this.domNode.style.left=this._getLeft(e)+"px",this._onWidth(t)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new Mi(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=e+"px",this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=t+"px";const i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()}get position(){const[e]=this._positionMarkerId;if(!e)return;const t=this.editor.getModel();if(!t)return;const i=t.getDecorationRange(e);return i?i.getStartPosition():void 0}show(e,t){const i=O.a.isIRange(e)?O.a.lift(e):O.a.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:i,options:E.a.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(57),t=0;if(this.options.showArrow){t+=2*Math.round(e/3)}if(this.options.showFrame){t+=2*Math.round(e/9)}return t}_showImpl(e,t){const i=e.getStartPosition(),n=this.editor.getLayoutInfo(),o=this._getWidth(n);this.domNode.style.width=o+"px",this.domNode.style.left=this._getLeft(n)+"px";const r=document.createElement("div");r.style.overflow="hidden";const s=this.editor.getOption(57),a=Math.max(12,this.editor.getLayoutInfo().height/s*.8);t=Math.min(t,a);let l=0,c=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(s/3),this._arrow.height=l,this._arrow.show(i)),this.options.showFrame&&(c=Math.round(s/9)),this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new Ei(r,i.lineNumber,i.column,t,e=>this._onViewZoneTop(e),e=>this._onViewZoneHeight(e)),this._viewZone.id=e.addZone(this._viewZone),this._overlayWidget=new Ti("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const e=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=e+"px",this.container.style.borderBottomWidth=e+"px"}let h=t*s-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=h+"px",this.container.style.overflow="hidden"),this._doLayout(h,o),this.options.keepEditorSelection||this.editor.setSelection(e);const d=this.editor.getModel();if(d){const t=e.endLineNumber+1;t<=d.getLineCount()?this.revealLine(t,!1):this.revealLine(d.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new Di.b(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){let i=(t.currentY-e.startY)/this.editor.getOption(57),n=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+n;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new Ke.b,this.onDidClose=this._onDidClose.event,yi.f(this.options,en,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=Me.a(".head"),this._bodyElement=Me.a(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const i=Me.a(".peekview-title");Me.q(this._headElement,i),Me.o(i,"click",e=>this._onTitleClick(e)),this._fillTitleIcon(i),this._primaryHeading=Me.a("span.filename"),this._secondaryHeading=Me.a("span.dirname"),this._metaHeading=Me.a("span.meta"),Me.q(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);const n=Me.a(".peekview-actions");Me.q(this._headElement,n);const o=this._getActionBarOptions();this._actionbarWidget=new wi.a(n,o),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new Ae.a("peekview.close",s.a("label.close","Close"),$e.b.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:$i.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:Me.t(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,Me.W(this._metaHeading)):Me.K(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const i=Math.ceil(1.2*this.editor.getOption(57)),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=e+"px",this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=e+"px")}};tn=Gi([Yi(2,Te.a)],tn);const nn=Object(M.wc)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},s.a("peekViewTitleBackground","Background color of the peek view title area.")),on=Object(M.wc)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},s.a("peekViewTitleForeground","Color of the peek view title.")),rn=Object(M.wc)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},s.a("peekViewTitleInfoForeground","Color of the peek view title info.")),sn=Object(M.wc)("peekView.border",{dark:"#007acc",light:"#007acc",hc:M.h},s.a("peekViewBorder","Color of the peek view borders and arrow.")),an=Object(M.wc)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:ii.a.black},s.a("peekViewResultsBackground","Background color of the peek view result list.")),ln=Object(M.wc)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:ii.a.white},s.a("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),cn=Object(M.wc)("peekViewResult.fileForeground",{dark:ii.a.white,light:"#1E1E1E",hc:ii.a.white},s.a("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),hn=Object(M.wc)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},s.a("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),dn=Object(M.wc)("peekViewResult.selectionForeground",{dark:ii.a.white,light:"#6C6C6C",hc:ii.a.white},s.a("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),un=Object(M.wc)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:ii.a.black},s.a("peekViewEditorBackground","Background color of the peek view editor.")),gn=Object(M.wc)("peekViewEditorGutter.background",{dark:un,light:un,hc:un},s.a("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),pn=Object(M.wc)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},s.a("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),mn=Object(M.wc)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},s.a("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),fn=Object(M.wc)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:M.b},s.a("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var bn,_n=i("S3by");(bn||(bn={})).className=function(e){switch(e){case _n.a.Ignore:return"severity-ignore "+$e.b.info.classNames;case _n.a.Info:return $e.b.info.classNames;case _n.a.Warning:return $e.b.warning.classNames;case _n.a.Error:return $e.b.error.classNames;default:return""}},Object(A.f)((e,t)=>{const i=e.getColor(M.mc);if(i){const e=$e.b.error.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extensions-viewlet > .extensions ${e} {\n\t\t\t\tcolor: ${i};\n\t\t\t}\n\t\t`)}const n=e.getColor(M.oc);if(n){const e=$e.b.warning.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.extension-editor ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.preferences-editor ${e} {\n\t\t\t\tcolor: ${n};\n\t\t\t}\n\t\t`)}const o=e.getColor(M.nc);if(o){const e=$e.b.info.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extension-editor ${e} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`)}});var vn=i("R8sh"),Cn=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},wn=function(e,t){return function(i,n){t(i,n,e)}};class yn{constructor(e,t,i,n,o){this._openerService=n,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new D.b,this._editor=t;const r=document.createElement("div");r.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),r.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),r.appendChild(this._relatedBlock),this._disposables.add(Me.o(this._relatedBlock,"click",e=>{e.preventDefault();const t=this._relatedDiagnostics.get(e.target);t&&i(t)})),this._scrollable=new di.b(r,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(e=>{r.style.left=`-${e.scrollLeft}px`,r.style.top=`-${e.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){Object(D.f)(this._disposables)}update(e){const{source:t,message:i,relatedInformation:n,code:o}=e;let r=((null==t?void 0:t.length)||0)+"()".length;o&&(r+="string"==typeof o?o.length:o.value.length);const s=Object(ce.R)(i);this._lines=s.length,this._longestLineLength=0;for(const d of s)this._longestLineLength=Math.max(d.length+r,this._longestLineLength);Me.t(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let a=this._messageBlock;for(const d of s)a=document.createElement("div"),a.innerText=d,""===d&&(a.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(a);if(t||o){const e=document.createElement("span");if(e.classList.add("details"),a.appendChild(e),t){const i=document.createElement("span");i.innerText=t,i.classList.add("source"),e.appendChild(i)}if(o)if("string"==typeof o){const t=document.createElement("span");t.innerText=`(${o})`,t.classList.add("code"),e.appendChild(t)}else{this._codeLink=Me.a("a.code-link"),this._codeLink.setAttribute("href",""+o.target.toString()),this._codeLink.onclick=e=>{this._openerService.open(o.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()};Me.q(this._codeLink,Me.a("span")).innerText=o.value,e.appendChild(this._codeLink)}}if(Me.t(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Object(de.n)(n)){const e=this._relatedBlock.appendChild(document.createElement("div"));e.style.paddingTop=Math.floor(.66*this._editor.getOption(57))+"px",this._lines+=1;for(const t of n){let i=document.createElement("div"),n=document.createElement("a");n.classList.add("filename"),n.innerText=`${vi(t.resource)}(${t.startLineNumber}, ${t.startColumn}): `,n.title=this._labelService.getUriLabel(t.resource),this._relatedDiagnostics.set(n,t);let o=document.createElement("span");o.innerText=t.message,i.appendChild(n),i.appendChild(o),this._lines+=1,e.appendChild(i)}}const l=this._editor.getOption(41),c=Math.ceil(l.typicalFullwidthCharacterWidth*this._longestLineLength*.75),h=l.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:c,scrollHeight:h})}layout(e,t){this._scrollable.getDomNode().style.height=e+"px",this._scrollable.getDomNode().style.width=t+"px",this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case rt.c.Error:t=s.a("Error","Error");break;case rt.c.Warning:t=s.a("Warning","Warning");break;case rt.c.Info:t=s.a("Info","Info");break;case rt.c.Hint:t=s.a("Hint","Hint")}let i=s.a("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const n=this._editor.getModel();if(n&&e.startLineNumber<=n.getLineCount()&&e.startLineNumber>=1){i=`${n.getLineContent(e.startLineNumber)}, ${i}`}return i}}let Sn=class e extends tn{constructor(e,t,i,n,o,r,s){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0},o),this._themeService=t,this._openerService=i,this._menuService=n,this._contextKeyService=r,this._labelService=s,this._callOnDispose=new D.b,this._onDidSelectRelatedInformation=new Ke.b,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=rt.c.Warning,this._backgroundColor=ii.a.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(Nn);let t=Dn;this._severity===rt.c.Warning?t=In:this._severity===rt.c.Info&&(t=On);const i=e.getColor(t);this.style({arrowColor:i,frameColor:i,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:e.getColor(on),secondaryHeadingColor:e.getColor(rn)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(e=>this.editor.focus()));const i=[],n=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);zi(n,void 0,i),this._actionbarWidget.push(i,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(e){this._icon=Me.q(e,Me.a(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new yn(this._container,this.editor,e=>this._onDidSelectRelatedInformation.fire(e),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let n=O.a.lift(e);const o=this.editor.getPosition();let r=o&&n.containsPosition(o)?o:n.getStartPosition();super.show(r,this.computeRequiredHeight());const a=this.editor.getModel();if(a){const e=i>1?s.a("problems","{0} of {1} problems",t,i):s.a("change","{0} of {1} problem",t,i);this.setTitle(Object(lt.b)(a.uri),e)}this._icon.className="codicon "+bn.className(rt.c.toSeverity(this._severity)),this.editor.revealPositionNearTop(r,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=e+"px"}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Sn.TitleMenu=new R.b("gotoErrorTitleMenu"),Sn=Cn([wn(1,A.b),wn(2,fi.a),wn(3,R.a),wn(4,Te.a),wn(5,h.b),wn(6,vn.a)],Sn);let Ln=Object(M.hc)(M.u,M.t),xn=Object(M.hc)(M.X,M.W),kn=Object(M.hc)(M.M,M.L);const Dn=Object(M.wc)("editorMarkerNavigationError.background",{dark:Ln,light:Ln,hc:Ln},s.a("editorMarkerNavigationError","Editor marker navigation widget error color.")),In=Object(M.wc)("editorMarkerNavigationWarning.background",{dark:xn,light:xn,hc:xn},s.a("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),On=Object(M.wc)("editorMarkerNavigationInfo.background",{dark:kn,light:kn,hc:kn},s.a("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Nn=Object(M.wc)("editorMarkerNavigation.background",{dark:"#2D2D30",light:ii.a.white,hc:"#0C141F"},s.a("editorMarkerNavigationBackground","Editor marker navigation widget background."));Object(A.f)((e,t)=>{const i=e.getColor(M.Jc);i&&t.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${i}; }`);const n=e.getColor(M.Ic);n&&t.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${n}; }`)});var En=i("24hK"),Tn=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Mn=function(e,t){return function(i,n){t(i,n,e)}};class An{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let Rn=class e{constructor(t,i){this._markerService=i,this._onDidChange=new Ke.b,this.onDidChange=this._onDidChange.event,this._dispoables=new D.b,this._markers=[],this._nextIdx=-1,ue.a.isUri(t)?this._resourceFilter=e=>e.toString()===t.toString():t&&(this._resourceFilter=t);const n=()=>{this._markers=this._markerService.read({resource:ue.a.isUri(t)?t:void 0,severities:rt.c.Error|rt.c.Warning|rt.c.Info}),"function"==typeof t&&(this._markers=this._markers.filter(e=>this._resourceFilter(e.resource))),this._markers.sort(e._compareMarker)};n(),this._dispoables.add(i.onMarkerChanged(e=>{this._resourceFilter&&!e.some(e=>this._resourceFilter(e))||(n(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new An(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let n=!1,o=this._markers.findIndex(t=>t.resource.toString()===e.uri.toString());o<0&&(o=Object(de.d)(this._markers,{resource:e.uri},(e,t)=>Object(ce.f)(e.resource.toString(),t.resource.toString())),o<0&&(o=~o));for(let r=o;r<this._markers.length;r++){let i=O.a.lift(this._markers[r]);if(i.isEmpty()){const t=e.getWordAtPosition(i.getStartPosition());t&&(i=new O.a(i.startLineNumber,t.startColumn,i.startLineNumber,t.endColumn))}if(t&&(i.containsPosition(t)||t.isBeforeOrEqual(i.getStartPosition()))){this._nextIdx=r,n=!0;break}if(this._markers[r].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(0===this._markers.length)return!1;let n=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}find(e,t){let i=this._markers.findIndex(t=>t.resource.toString()===e.toString());if(!(i<0))for(;i<this._markers.length;i++)if(O.a.containsPosition(this._markers[i],t))return new An(this._markers[i],i+1,this._markers.length)}static _compareMarker(e,t){let i=Object(ce.f)(e.resource.toString(),t.resource.toString());return 0===i&&(i=rt.c.compare(e.severity,t.severity)),0===i&&(i=O.a.compareRangesUsingStarts(e,t)),i}};Rn=Tn([Mn(1,rt.b)],Rn);const Pn=Object(Te.c)("IMarkerNavigationService");let Fn=class{constructor(e){this._markerService=e,this._provider=new En.a}getMarkerList(e){for(let t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new Rn(e,this._markerService)}};Fn=Tn([Mn(0,rt.b)],Fn),Object(Wt.b)(Pn,Fn,!0);var jn=i("v1vZ"),Bn=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Wn=function(e,t){return function(i,n){t(i,n,e)}},Vn=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let Hn=class e{constructor(e,t,i,n,o){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=n,this._instantiationService=o,this._sessionDispoables=new D.b,this._editor=e,this._widgetVisible=qn.bindTo(this._contextKeyService)}static get(t){return t.getContribution(e.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Sn,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(e=>{var t,i,n;(null===(t=this._model)||void 0===t?void 0:t.selected)&&O.a.containsPosition(null===(i=this._model)||void 0===i?void 0:i.selected.marker,e.position)||null===(n=this._model)||void 0===n||n.resetIndex()})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const e=this._model.find(this._editor.getModel().uri,this._widget.position);e?this._widget.updateMarker(e.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:O.a.lift(e).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new I.a(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(t,i){return Vn(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const n=this._getOrCreateModel(i?void 0:this._editor.getModel().uri);if(n.move(t,this._editor.getModel(),this._editor.getPosition()),!n.selected)return;if(n.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const o=yield this._editorService.openCodeEditor({resource:n.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:n.selected.marker}},this._editor);o&&(e.get(o).close(),e.get(o).nagivate(t,i))}else this._widget.showAtMarker(n.selected.marker,n.selected.index,n.selected.total)}}))}};Hn.ID="editor.contrib.markerController",Hn=Bn([Wn(1,Pn),Wn(2,h.b),Wn(3,Y.a),Wn(4,Te.a)],Hn);class zn extends r.b{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}run(e,t){return Vn(this,void 0,void 0,(function*(){t.hasModel()&&Hn.get(t).nagivate(this._next,this._multiFile)}))}}class Un extends zn{constructor(){super(!0,!1,{id:Un.ID,label:Un.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:578,weight:100},menuOpts:{menuId:Sn.TitleMenu,title:Un.LABEL,icon:Object(jn.b)("marker-navigation-next",$e.b.chevronDown,s.a("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Un.ID="editor.action.marker.next",Un.LABEL=s.a("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Kn extends zn{constructor(){super(!1,!1,{id:Kn.ID,label:Kn.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:1602,weight:100},menuOpts:{menuId:Sn.TitleMenu,title:Un.LABEL,icon:Object(jn.b)("marker-navigation-previous",$e.b.chevronUp,s.a("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Kn.ID="editor.action.marker.prev",Kn.LABEL=s.a("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");Object(r.l)(Hn.ID,Hn),Object(r.j)(Un),Object(r.j)(Kn),Object(r.j)(class extends zn{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:s.a("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:66,weight:100},menuOpts:{menuId:R.b.MenubarGoMenu,title:s.a({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),Object(r.j)(class extends zn{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:s.a("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:1090,weight:100},menuOpts:{menuId:R.b.MenubarGoMenu,title:s.a({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const qn=new h.c("markersNavigationVisible",!1),$n=r.c.bindToContribution(Hn.get);Object(r.k)(new $n({id:"closeMarkersNavigation",precondition:qn,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:a.a.focus,primary:9,secondary:[1033]}}));var Gn=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Yn=function(e,t){return function(i,n){t(i,n,e)}};const Zn=Me.a;class Xn{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const Qn={type:1,filter:{include:fe.QuickFix}};let Jn=class{constructor(e,t,i,n){this._editor=e,this._hover=t,this._markerDecorationsService=i,this._openerService=n,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),r=[];for(const s of t){const t=s.range.startLineNumber===n?s.range.startColumn:1,a=s.range.endLineNumber===n?s.range.endColumn:o,l=this._markerDecorationsService.getMarker(i.uri,s);if(!l)continue;const c=new O.a(e.range.startLineNumber,t,e.range.startLineNumber,a);r.push(new Xn(this,c,l))}return r}renderHoverParts(e,t,i){if(!e.length)return D.a.None;const n=new D.b;e.forEach(e=>t.appendChild(this.renderMarkerHover(e,n)));const o=1===e.length?e[0]:e.sort((e,t)=>rt.c.compare(e.marker.severity,t.marker.severity))[0];return this.renderMarkerStatusbar(o,i,n),n}renderMarkerHover(e,t){const i=Zn("div.hover-row"),n=Me.q(i,Zn("div.marker.hover-contents")),{source:o,message:r,code:s,relatedInformation:a}=e.marker;this._editor.applyFontInfo(n);const l=Me.q(n,Zn("span"));if(l.style.whiteSpace="pre-wrap",l.innerText=r,o||s)if(s&&"string"!=typeof s){const e=Zn("span");if(o){Me.q(e,Zn("span")).innerText=o}const i=Me.q(e,Zn("a.code-link"));i.setAttribute("href",s.target.toString()),t.add(Me.i(i,"click",e=>{this._openerService.open(s.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}));Me.q(i,Zn("span")).innerText=s.value;const r=Me.q(n,e);r.style.opacity="0.6",r.style.paddingLeft="6px"}else{const e=Me.q(n,Zn("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=o&&s?`${o}(${s})`:o||`(${s})`}if(Object(de.n)(a))for(const{message:c,resource:h,startLineNumber:d,startColumn:g}of a){const e=Me.q(n,Zn("div"));e.style.marginTop="8px";const i=Me.q(e,Zn("a"));i.innerText=`${Object(lt.b)(h)}(${d}, ${g}): `,i.style.cursor="pointer",t.add(Me.i(i,"click",e=>{e.stopPropagation(),e.preventDefault(),this._openerService&&this._openerService.open(h,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:d,startColumn:g}}}).catch(u.e)}));const o=Me.q(e,Zn("span"));o.innerText=c,this._editor.applyFontInfo(o)}return i}renderMarkerStatusbar(e,t,i){if(e.marker.severity!==rt.c.Error&&e.marker.severity!==rt.c.Warning&&e.marker.severity!==rt.c.Info||t.addAction({label:s.a("view problem","View Problem"),commandId:Un.ID,run:()=>{this._hover.hide(),Hn.get(this._editor).showAtMarker(e.marker),this._editor.focus()}}),!this._editor.getOption(79)){const n=t.append(Zn("div"));this.recentMarkerCodeActionsInfo&&(rt.a.makeKey(this.recentMarkerCodeActionsInfo.marker)===rt.a.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(n.textContent=s.a("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?D.a.None:i.add(Object(k.i)(()=>n.textContent=s.a("checkingForQuickFixes","Checking for quick fixes..."),200));n.textContent||(n.textContent=String.fromCharCode(160));const r=this.getCodeActions(e.marker);i.add(Object(D.i)(()=>r.cancel())),r.then(r=>{if(o.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:r.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return r.dispose(),void(n.textContent=s.a("noQuickFixes","No quick fixes available"));n.style.display="none";let a=!1;i.add(Object(D.i)(()=>{a||r.dispose()})),t.addAction({label:s.a("quick fixes","Quick Fix..."),commandId:Lt.Id,run:e=>{a=!0;const t=wt.get(this._editor),i=Me.D(e);this._hover.hide(),t.showCodeActions(Qn,r,{x:i.left+6,y:i.top+i.height+6})}})})}}getCodeActions(e){return Object(k.h)(t=>xe(this._editor.getModel(),new O.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),Qn,ve.b.None,t))}};Jn=Gn([Yn(2,mi.a),Yn(3,fi.a)],Jn),Object(A.f)((e,t)=>{const i=e.getColor(M.Jc);i&&t.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${i}; }`);const n=e.getColor(M.Ic);n&&t.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)});var eo=i("Md8J"),to=i("Ssw4");let io;!function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,(function(e){return o(t[s][1][e]||e)}),c,c.exports,e,t,i,n)}return i[s].exports}for(var r=!1,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){var n=e("./toMap");t.exports={uris:n(["background","base","cite","href","longdesc","src","usemap"])}},{"./toMap":10}],2:[function(e,t,i){t.exports={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null}},{}],3:[function(e,t,i){var n=e("./toMap");t.exports={voids:n(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])}},{"./toMap":10}],4:[function(e,t,i){e("he");var n=e("assignment"),o=e("./parser"),r=e("./sanitizer"),s=e("./defaults");function a(e,t,i){var a=[],l=!0===i?t:n({},s,t),c=r(a,l);return o(e,c),a.join("")}a.defaults=s,t.exports=a,io=a},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(e,t,i){t.exports=function(e){return"string"==typeof e?e.toLowerCase():e}},{}],6:[function(e,t,i){t.exports=function e(t){for(var i,n,o=Array.prototype.slice.call(arguments,1);o.length;)for(n in i=o.shift())i.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(t[n])?t[n]=e(t[n],i[n]):t[n]=i[n]);return t}},{}],7:[function(e,t,i){var n=e("he"),o=e("./lowercase"),r=(e("./attributes"),e("./elements")),s=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,a=/^<\s*\/\s*([\w:-]+)[^>]*>/,l=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,c=/^</,h=/^<\s*\//;t.exports=function(e,t){for(var i,d=function(){var e=[];return e.lastItem=function(){return e[e.length-1]},e}(),u=e;e;)g();function g(){i=!0,function(){"\x3c!--"===e.substr(0,4)?(n=e.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(e.substring(4,n)),e=e.substring(n+3),i=!1):h.test(e)?p(a,f):c.test(e)&&p(s,m);var n;!function(){if(!i)return;var n,o=e.indexOf("<");o>=0?(n=e.substring(0,o),e=e.substring(o)):(n=e,e="");t.chars&&t.chars(n)}()}();var n=e===u;u=e,n&&(e="")}function p(t,n){var o=e.match(t);o&&(e=e.substring(o[0].length),o[0].replace(t,n),i=!1)}function m(e,i,s,a){var c={},h=o(i),u=r.voids[h]||!!a;s.replace(l,(function(e,t,i,o,r){c[t]=void 0===i&&void 0===o&&void 0===r?void 0:n.decode(i||o||r||"")})),u||d.push(h),t.start&&t.start(h,c,u)}function f(e,i){var n,r=0,s=o(i);if(s)for(r=d.length-1;r>=0&&d[r]!==s;r--);if(r>=0){for(n=d.length-1;n>=r;n--)t.end&&t.end(d[n]);d.length=r}}f()}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(e,t,i){var n=e("he"),o=e("./lowercase"),r=e("./attributes"),s=e("./elements");t.exports=function(e,t){var i,a=t||{};return d(),{start:function(e,t,s){var h=o(e);if(i.ignoring)return void c(h);if(-1===(a.allowedTags||[]).indexOf(h))return void c(h);if(a.filter&&!a.filter({tag:h,attrs:t}))return void c(h);l("<"),l(h),Object.keys(t).forEach((function(e){var i=t[e],s=(a.allowedClasses||{})[h]||[],c=(a.allowedAttributes||{})[h]||[];c=c.concat((a.allowedAttributes||{})["*"]||[]);var d=o(e);("class"===d&&-1===c.indexOf(d)?(i=i.split(" ").filter((function(e){return s&&-1!==s.indexOf(e)})).join(" ").trim()).length:-1!==c.indexOf(d)&&(!0!==r.uris[d]||function(e){var t=e[0];if("#"===t||"/"===t)return!0;var i=e.indexOf(":");if(-1===i)return!0;var n=e.indexOf("?");if(-1!==n&&i>n)return!0;var o=e.indexOf("#");if(-1!==o&&i>o)return!0;return a.allowedSchemes.some((function(t){return 0===e.indexOf(t+":")}))}(i)))&&(l(" "),l(e),"string"==typeof i&&(l('="'),l(n.encode(i)),l('"')))})),l(s?"/>":">")},end:function(e){var t=o(e);-1!==(a.allowedTags||[]).indexOf(t)&&!1===i.ignoring?(l("</"),l(t),l(">")):h(t)},chars:function(e){!1===i.ignoring&&l(a.transformText?a.transformText(e):e)}};function l(t){e.push(t)}function c(e){s.voids[e]||(!1===i.ignoring?i={ignoring:e,depth:1}:i.ignoring===e&&i.depth++)}function h(e){i.ignoring===e&&--i.depth<=0&&d()}function d(){i={ignoring:!1,depth:0}}}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(e,t,i){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},r=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,s=/[&<>"']/g;function a(e){return n[e]}function l(e){return o[e]}function c(e){return null==e?"":String(e).replace(s,a)}function h(e){return null==e?"":String(e).replace(r,l)}c.options=h.options={},t.exports={encode:c,escape:c,decode:h,unescape:h,version:"1.0.0-browser"}},{}],10:[function(e,t,i){function n(e,t){return e[t]=!0,e}t.exports=function(e){return e.reduce(n,{})}},{}]},{},[4]);var no,oo=io,ro=i("Q4rV"),so=i("XSiN"),ao=i("4y0V");const lo=null===(no=window.trustedTypes)||void 0===no?void 0:no.createPolicy("insane",{createHTML:(e,t)=>oo(e,t)});function co(e,t={},i={}){var n;const o=Object(eo.a)(t),r=function(t){let i;try{i=Object(ro.a)(decodeURIComponent(t))}catch(n){}return i?(i=Object(yi.a)(i,t=>e.uris&&e.uris[t]?ue.a.revive(e.uris[t]):void 0),encodeURIComponent(JSON.stringify(i))):t},s=function(t,i){const n=e.uris&&e.uris[t];if(!n)return t;let o=ue.a.revive(n);return ue.a.parse(t).toString()===o.toString()?t:i?bi.a.asBrowserUri(o).toString(!0):(o.query&&(o=o.with({query:r(o.query)})),o.toString())};let a;const l=new Promise(e=>a=e),c=new to.Renderer;if(c.image=(e,i,n)=>{let o=[],r=[];if(e){({href:e,dimensions:o}=function(e){const t=[],i=e.split("|").map(e=>e.trim());e=i[0];const n=i[1];if(n){const e=/height=(\d+)/.exec(n),i=/width=(\d+)/.exec(n),o=e?e[1]:"",r=i?i[1]:"",s=isFinite(parseInt(r)),a=isFinite(parseInt(o));s&&t.push(`width="${r}"`),a&&t.push(`height="${o}"`)}return{href:e,dimensions:t}}(e)),e=s(e,!0);try{const i=ue.a.parse(e);t.baseUrl&&i.scheme===bi.c.file&&(e=Object(lt.j)(t.baseUrl,e).toString())}catch(a){}r.push(`src="${e}"`)}return n&&r.push(`alt="${n}"`),i&&r.push(`title="${i}"`),o.length&&(r=r.concat(o)),"<img "+r.join(" ")+">"},c.link=(i,n,o)=>{if(i===o&&(o=m(o)),i=s(i,!1),t.baseUrl){/^\w[\w\d+.-]*:/.test(i)||(i=Object(lt.j)(t.baseUrl,i).toString())}return n=m(n),!(i=m(i))||i.match(/^data:|javascript:/i)||i.match(/^command:/i)&&!e.isTrusted||i.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?o:`<a href="#" data-href="${i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${n||i}">${o}</a>`},c.paragraph=t=>{if(e.supportThemeIcons){t=Object(Rt.a)(t).map(e=>"string"==typeof e?e:e.outerHTML).join("")}return`<p>${t}</p>`},t.codeBlockRenderer&&(c.code=(e,i)=>{const n=t.codeBlockRenderer(i,e),r=Ii.b.nextId(),s=Promise.all([n,l]).then(e=>{const t=o.querySelector(`div[data-code="${r}"]`);t&&Me.R(t,e[0])}).catch(e=>{});return t.asyncRenderCallback&&s.then(t.asyncRenderCallback),`<div class="code" data-code="${r}">${Object(ce.t)(e)}</div>`}),t.actionHandler){const e=t.actionHandler.disposeables.add(new ao.a(o,"click")),i=t.actionHandler.disposeables.add(new ao.a(o,"auxclick"));t.actionHandler.disposeables.add(Ke.c.any(e.event,i.event)(e=>{const i=new so.a(e);if(!i.leftButton&&!i.middleButton)return;let n=i.target;if("A"===n.tagName||(n=n.parentElement,n&&"A"===n.tagName))try{const e=n.dataset.href;e&&t.actionHandler.callback(e,i)}catch(o){Object(u.e)(o)}finally{i.preventDefault()}}))}i.sanitizer=t=>(e.isTrusted?t.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?t:"",i.sanitize=!0,i.silent=!0,i.renderer=c;let h=null!==(n=e.value)&&void 0!==n?n:"";h.length>1e5&&(h=h.substr(0,1e5)+"…"),e.supportThemeIcons&&(h=Object(d.b)(h));const g=to.parse(h,i);if(o.innerHTML=function(e,t){var i;const n=function(e){const t=[bi.c.http,bi.c.https,bi.c.mailto,bi.c.data,bi.c.file,bi.c.vscodeRemote,bi.c.vscodeRemoteResource];e.isTrusted&&t.push(bi.c.command);return{allowedSchemes:t,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter:t=>"span"!==t.tag||!e.isTrusted||(t.attrs.style&&1===Object.keys(t.attrs).length?!!t.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):!!t.attrs.class&&!!t.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/))}}(e);return null!==(i=null==lo?void 0:lo.createHTML(t,n))&&void 0!==i?i:oo(t,n)}(e,g),a(),t.asyncRenderCallback)for(const d of o.getElementsByTagName("img")){const e=Me.i(d,"load",()=>{e.dispose(),t.asyncRenderCallback()})}return o}var ho,uo=i("TQUy"),go=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},po=function(e,t){return function(i,n){t(i,n,e)}},mo=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let fo=class e{constructor(e,t,i){this._options=e,this._modeService=t,this._openerService=i,this._onDidRenderAsync=new Ke.b,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){const n=new D.b;let o;return o=e?co(e,Object.assign(Object.assign({},this._getRenderOptions(e,n)),t),i):document.createElement("span"),{element:o,dispose:()=>n.dispose()}}_getRenderOptions(t,i){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(t,i)=>mo(this,void 0,void 0,(function*(){var n,o,r,s;let a;t?a=this._modeService.getModeIdForLanguageName(t):this._options.editor&&(a=null===(n=this._options.editor.getModel())||void 0===n?void 0:n.getLanguageIdentifier().language),a||(a="plaintext"),this._modeService.triggerMode(a);const l=null!==(o=yield pe.F.getPromise(a))&&void 0!==o?o:void 0,c=document.createElement("span");c.innerHTML=null!==(s=null===(r=e._ttpTokenizer)||void 0===r?void 0:r.createHTML(i,l))&&void 0!==s?s:Object(uo.b)(i,l);let h=this._options.codeBlockFontFamily;return this._options.editor&&(h=this._options.editor.getOption(41).fontFamily),h&&(c.style.fontFamily=h),c})),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:e=>this._openerService.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:t.isTrusted}).catch(u.e),disposeables:i}}}};function bo(e,t,i){const n=pe.p.ordered(e).map(n=>Promise.resolve(n.provideHover(e,t,i)).then(e=>e&&function(e){const t=void 0!==e.range,i=void 0!==e.contents&&e.contents&&e.contents.length>0;return t&&i}(e)?e:void 0,e=>{Object(u.f)(e)}));return Promise.all(n).then(de.e)}fo._ttpTokenizer=null===(ho=window.trustedTypes)||void 0===ho?void 0:ho.createPolicy("tokenizeToString",{createHTML:(e,t)=>Object(uo.b)(e,t)}),fo=go([po(1,li.a),po(2,fi.a)],fo),Object(r.n)("_executeHoverProvider",(e,t)=>bo(e,t,ae.a.None));var _o=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},vo=function(e,t){return function(i,n){t(i,n,e)}},Co=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const wo=Me.a;class yo{constructor(e,t,i){this.owner=e,this.range=t,this.contents=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let So=class{constructor(e,t,i,n,o){this._editor=e,this._hover=t,this._modeService=i,this._openerService=n,this._configurationService=o}createLoadingMessage(e){return new yo(this,e.range,[(new g).appendText(s.a("modesContentHover.loading","Loading..."))])}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),r=[];for(const s of t){const t=s.range.startLineNumber===n?s.range.startColumn:1,i=s.range.endLineNumber===n?s.range.endColumn:o,a=s.options.hoverMessage;if(!a||p(a))continue;const l=new O.a(e.range.startLineNumber,t,e.range.startLineNumber,i);r.push(new yo(this,l,Object(de.c)(a)))}const a=this._editor.getModel().getLineLength(n),l=this._configurationService.getValue("editor.maxTokenizationLineLength");return"number"==typeof l&&a>=l&&r.push(new yo(this,new O.a(n,1,n,a+1),[{value:s.a("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}])),r}computeAsync(e,t,i){return Co(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||1!==e.type)return Promise.resolve([]);const t=this._editor.getModel();if(!pe.p.has(t))return Promise.resolve([]);const n=yield bo(t,new I.a(e.range.startLineNumber,e.range.startColumn),i),o=[];for(const i of n){if(p(i.contents))continue;const t=i.range?O.a.lift(i.range):e.range;o.push(new yo(this,t,i.contents))}return o}))}renderHoverParts(e,t,i){const n=new D.b;for(const o of e)for(const e of o.contents){if(p(e))continue;const i=wo("div.hover-row.markdown-hover"),o=Me.q(i,wo("div.hover-contents")),r=n.add(new fo({editor:this._editor},this._modeService,this._openerService));n.add(r.onDidRenderAsync(()=>{o.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const s=n.add(r.render(e));o.appendChild(s.element),t.appendChild(i)}return n}};So=_o([vo(2,li.a),vo(3,fi.a),vo(4,oi.a)],So);class Lo{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return 1===e.type&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}class xo{constructor(e,t,i){this.priority=e,this.owner=t,this.range=i,this.type=2}equals(e){return 2===e.type&&this.owner===e.owner}canAdoptVisibleHover(e,t){return 2===e.type&&this.owner===e.owner}}i("qoAC");var ko,Do=i("baJR"),Io=i("/UlZ"),Oo=i("erNZ"),No=i("HdwC"),Eo=i("4bUh"),To=i("Ll0s"),Mo=i("dBaI"),Ao=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ro=function(e,t){return function(i,n){t(i,n,e)}};const Po=null===(ko=window.trustedTypes)||void 0===ko?void 0:ko.createPolicy("editorGhostText",{createHTML:e=>e});let Fo=class extends D.a{constructor(e,t,i){super(),this.editor=e,this.model=t,this.instantiationService=i,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(jo,this.editor)),this.additionalLinesWidget=this._register(new Wo(this.editor)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(e=>{(e.hasChanged(27)||e.hasChanged(104)||e.hasChanged(87)||e.hasChanged(81)||e.hasChanged(42)||e.hasChanged(41)||e.hasChanged(57))&&this.update()})),this._register(Object(D.i)(()=>{var e;this.disposed=!0,this.update(),null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const i=new Array,n=new Array;function o(e,t){if(n.length>0){const i=n[n.length-1];t&&i.decorations.push(new Mo.a(i.content.length+1,i.content.length+1+e[0].length,t,0)),i.content+=e[0],e=e.slice(1)}for(const i of e)n.push({content:i,decorations:t?[new Mo.a(1,i.length+1,t,0)]:[]})}const r=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let s=void 0,a=0;for(const l of t.parts){let e=l.lines;void 0===s?(i.push({column:l.column,text:e[0]}),e=e.slice(1)):o([r.substring(a,l.column-1)],void 0),e.length>0&&(o(e,"ghost-text"),void 0===s&&l.column<=r.length&&(s=l.column)),a=l.column-1}void 0!==s&&o([r.substring(a)],void 0),this.partsWidget.setParts(t.lineNumber,i,void 0!==s?{column:s,length:r.length+1-s}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,n,t.additionalReservedLineCount),t.parts.some(e=>e.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new I.a(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,i){const n=this.editor.getOption(41),o=document.createElement("div");o.className="suggest-preview-additional-widget",No.a.applyFontInfoSlow(o,n);const r=document.createElement("span");r.className="content-spacer",r.append(t),o.append(r);const s=document.createElement("span");s.className="content-newline suggest-preview-text",s.append("⏎  "),o.append(s);const a=new D.b,l=document.createElement("div");return l.className="button suggest-preview-text",l.append(`+${i} lines…`),a.add(Me.o(l,"mousedown",e=>{var t;null===(t=this.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),this.editor.focus()})),o.append(l),new Ho(this.editor,e,o,a)}};Fo=Ao([Ro(2,Te.a)],Fo);let jo=class{constructor(e,t,i,n){this.editor=e,this.codeEditorService=t,this.themeService=i,this.contextKeyService=n,this.decorationIds=[],this.disposableStore=new D.b}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,i){this.disposableStore.clear();const n=this.themeService.getColorTheme(),o=n.getColor(T.r);let r=void 0,s=void 0;o&&(r=String(o.rgba.a),s=ii.a.Format.CSS.format(Bo(o)));const a=n.getColor(T.q);let l=void 0;a&&(l="2px dashed "+a);const c=this.editor.getModel();if(!c)return;const{tabSize:h}=c.getOptions(),d=c.getLineContent(e)||"";let u=0,g="";const p=new Array;i&&p.push({range:O.a.fromPositions(new I.a(e,i.column),new I.a(e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const m=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),f=void 0===m||!!m;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(t=>{g+=d.substring(u,t.column-1),u=t.column-1;const i=f?t.text:this.renderSingleLineText(t.text,g,h,!1),n=this.disposableStore.add(function(e,t,i,n){const o=i+Vo++;return e.registerDecorationType(t,o,n),{dispose(){e.removeDecorationType(o)},resolve:()=>e.resolveDecorationOptions(o,!0)}}(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:i,opacity:r,color:s,border:l}}));return{range:O.a.fromPositions(new I.a(e,t.column)),options:f?{description:"ghost-text",after:{content:i,inlineClassName:"ghost-text-decoration"}}:Object.assign({},n.resolve())}}).concat(p))}renderSingleLineText(e,t,i,n){const o=t+e,r=To.a.visibleColumnsByColumns(o,i);let s="",a=t.length+1;for(const l of e){if("\t"===l){const e=r[a+1]-r[a];if(n){s+="→";for(let t=1;t<e;t++)s+=" "}else for(let t=0;t<e;t++)s+=" "}else s+=" "===l?n?"·":" ":l;a+=1}return s}};function Bo(e){const{r:t,b:i,g:n}=e.rgba;return new ii.a(new ii.c(t,n,i,255))}jo=Ao([Ro(1,Y.a),Ro(2,A.b),Ro(3,h.b)],jo);class Wo{constructor(e){this.editor=e,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const n=this.editor.getModel();if(!n)return;const{tabSize:o}=n.getOptions();this.editor.changeViewZones(n=>{this._viewZoneId&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0);const r=Math.max(t.length,i);if(r>0){const i=document.createElement("div");!function(e,t,i,n){const o=n.get(27),r=n.get(104),s=n.get(81),a=n.get(42),l=n.get(41),c=n.get(57),h=Object(Oo.a)(1e4);h.appendASCIIString('<div class="suggest-preview-text">');for(let g=0,p=i.length;g<p;g++){const e=i[g],n=e.content;h.appendASCIIString('<div class="view-line'),h.appendASCIIString('" style="top:'),h.appendASCIIString(String(g*c)),h.appendASCIIString('px;width:1000000px;">');const d=ce.B(n),u=ce.m(n),p=Eo.a.createEmpty(n);Object(Do.d)(new Do.c(l.isMonospace&&!o,l.canUseHalfwidthRightwardsArrow,n,!1,d,u,0,p,e.decorations,t,0,l.spaceWidth,l.middotWidth,l.wsmiddotWidth,r,"none",s,a!==Io.e.OFF,null),h),h.appendASCIIString("</div>")}h.appendASCIIString("</div>"),No.a.applyFontInfoSlow(e,l);const d=h.build(),u=Po?Po.createHTML(d):d;e.innerHTML=u}(i,o,t,this.editor.getOptions()),this._viewZoneId=n.addZone({afterLineNumber:e,heightInLines:r,domNode:i})}})}}let Vo=0;class Ho extends D.a{constructor(e,t,i,n){super(),this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(n),this._register(Object(D.i)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}Object(A.f)((e,t)=>{const i=e.getColor(T.r);if(i){const e=String(i.rgba.a),n=ii.a.Format.CSS.format(Bo(i));t.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${e}; color: ${n}; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${e}; color: ${n}; }`)}const n=e.getColor(T.q);n&&t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 2px dashed ${n}; }`)});var zo=i("0/Sa"),Uo=i("Gw4z");class Ko{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}static equals(e,t){return e===t||!!e&&!!t&&e.equals(t)}equals(e){return this.lineNumber===e.lineNumber&&this.parts.length===e.parts.length&&this.parts.every((t,i)=>t.equals(e.parts[i]))}}class qo{constructor(e,t){this.column=e,this.lines=t}equals(e){return this.column===e.column&&this.lines.length===e.lines.length&&this.lines.every((t,i)=>t===e.lines[i])}}class $o extends D.a{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new Ke.b,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(105)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}get expanded(){return void 0===this._expanded||this._expanded}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var Go=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Yo=function(e,t){return function(i,n){t(i,n,e)}},Zo=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let Xo=class extends D.a{constructor(e,t){super(),this.editor=e,this.commandService=t,this.onDidChangeEmitter=new Ke.b,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new D.d),this.active=!1,this._register(t.onDidExecuteCommand(t=>{new Set([r.i.id,r.g.id,n.a.Tab.id,n.a.DeleteLeft.id,n.a.DeleteRight.id]).has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(e=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.session&&!this.session.isValid&&this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}get expanded(){return!!this.session&&this.session.expanded}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(53).enabled&&(this.session&&this.session.isValid||this.trigger())}trigger(){this.completionSession.value||(this.completionSession.value=new Qo(this.editor,this.editor.getPosition(),()=>this.active,this.commandService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Zo(this,void 0,void 0,(function*(){const t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};Xo=Go([Yo(1,Ce.b)],Xo);class Qo extends $o{constructor(e,t,i,n){super(e),this.triggerPosition=t,this.shouldUpdate=i,this.commandService=n,this.minReservedLineCount=0,this.updateOperation=this._register(new D.d),this.cache=this._register(new D.d),this.updateSoon=this._register(new k.e(()=>this.update(pe.s.Automatic),50)),this.textModel=this.editor.getModel(),this.currentlySelectedCompletionId=void 0;let o=void 0;this._register(this.onDidChange(()=>{const e=this.currentCompletion;if(e&&e.sourceInlineCompletion!==o){o=e.sourceInlineCompletion;const t=e.sourceProvider;t.handleItemDidShow&&t.handleItemDidShow(e.sourceInlineCompletions,o)}})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(e=>{if(this.cache.value){let e=!1;for(const t of this.cache.value.completions){const i=this.textModel.getDecorationRange(t.decorationId);i?t.synchronizedRange.equalsRange(i)||(e=!0,t.synchronizedRange=i):Object(u.e)(new Error("Decoration has no range"))}e&&this.onDidChangeEmitter.fire()}this.scheduleAutomaticUpdate()})),this._register(pe.t.onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;const e=this.cache.value.completions.findIndex(e=>e.semanticId===this.currentlySelectedCompletionId);return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return Zo(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){var e;return Zo(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var e;return Zo(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===pe.s.Explicit?yield this.updateOperation.value.promise:yield this.update(pe.s.Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==pe.s.Explicit&&(yield this.update(pe.s.Explicit))}))}hasMultipleInlineCompletions(){var e;return Zo(this,void 0,void 0,(function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1}))}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(53).mode;return e?ir(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return{text:e.inlineCompletion.text,range:e.synchronizedRange,command:e.inlineCompletion.command,sourceProvider:e.inlineCompletion.sourceProvider,sourceInlineCompletions:e.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:e.inlineCompletion.sourceInlineCompletion}}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return Zo(this,void 0,void 0,(function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),i=Object(k.h)(i=>Zo(this,void 0,void 0,(function*(){let n;try{n=yield function(e,t,i,n=ae.a.None){return Zo(this,void 0,void 0,(function*(){const o=function(e,t){const i=t.getWordAtPosition(e),n=t.getLineMaxColumn(e.lineNumber);return i?new O.a(e.lineNumber,i.startColumn,e.lineNumber,n):O.a.fromPositions(e,e.with(void 0,n))}(e,t),r=pe.t.all(t),s=yield Promise.all(r.map(o=>Zo(this,void 0,void 0,(function*(){const r=yield o.provideInlineCompletions(t,e,i,n);return{completions:r,provider:o,dispose:()=>{r&&o.freeInlineCompletions(r)}}})))),a=new Map;for(const e of s){const t=e.completions;if(t)for(const i of t.items.map(i=>({text:i.text,range:i.range?O.a.lift(i.range):o,command:i.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:i})))i.range.startLineNumber===i.range.endLineNumber&&a.set(JSON.stringify({text:i.text,range:i.range}),i)}return{items:[...a.values()],dispose:()=>{for(const e of s)e.dispose()}}}))}(t,this.editor.getModel(),{triggerKind:e},i)}catch(o){return void Object(u.e)(o)}i.isCancellationRequested||(this.cache.value=new er(this.editor,n,()=>this.onDidChangeEmitter.fire(),e),this.onDidChangeEmitter.fire())}))),n=new Jo(i,e);this.updateOperation.value=n,yield i,this.updateOperation.value===n&&this.updateOperation.clear()}))}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[zo.a.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{null==t||t.dispose()}).then(void 0,u.f):null==t||t.dispose(),this.onDidChangeEmitter.fire()}}class Jo{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class er extends D.a{constructor(e,t,i,n){super(),this.triggerKind=n;const o=e.deltaDecorations([],t.items.map(e=>({range:e.range,options:{description:"inline-completion-tracking-range"}})));this._register(Object(D.i)(()=>{e.deltaDecorations(o,[])})),this.completions=t.items.map((e,t)=>new tr(e,o[t])),this._register(e.onDidChangeModelContent(()=>{let t=!1;const n=e.getModel();for(const e of this.completions){const i=n.getDecorationRange(e.decorationId);i?e.synchronizedRange.equalsRange(i)||(t=!0,e.synchronizedRange=i):Object(u.e)(new Error("Decoration has no range"))}t&&i()})),this._register(t)}}class tr{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}}function ir(e,t,i,n){if(e.range.startLineNumber!==e.range.endLineNumber)return;const o=t.getValueInRange(e.range),r=function(e,t){if((null==nr?void 0:nr.originalValue)===e&&(null==nr?void 0:nr.newValue)===t)return null==nr?void 0:nr.changes;{const i=function(e,t){function i(e){let t=0;for(let i=0,n=e.length;i<n;i++){const n=e.charCodeAt(i);n>t&&(t=n)}return t}const n=Math.max(i(e),i(t));function o(e){if(e<0)throw new Error("unexpected");return n+e+1}function r(e){let t=0,i=0;const n=new Int32Array(e.length);for(let r=0,s=e.length;r<s;r++){const s=100*i+t;"("===e[r]?(n[r]=o(2*s),t++):")"===e[r]?(n[r]=o(2*s+1),1===t&&i++,t=Math.max(t-1,0)):n[r]=e.charCodeAt(r)}return n}const s=r(e),a=r(t);return new Uo.a({getElements:()=>s},{getElements:()=>a}).ComputeDiff(!1).changes}(e,t);return nr={originalValue:e,newValue:t,changes:i},i}}(o,e.text),s=e.range.startLineNumber,a=new Array;if("prefix"===i){const e=r.filter(e=>0===e.originalLength);if(e.length>1||1===e.length&&e[0].originalStart!==o.length)return}for(const l of r){const r=e.range.startColumn+l.originalStart+l.originalLength;if("subwordSmart"===i&&n&&n.lineNumber===e.range.startLineNumber&&r<n.column)return;if(l.originalLength>0){const e=o.substr(l.originalStart,l.originalLength),i=t.getLineFirstNonWhitespaceColumn(s);if(!/^(\t| )*$/.test(e)||!(0===i||r<=i))return}if(0===l.modifiedLength)continue;const c=e.text.substr(l.modifiedStart,l.modifiedLength),h=ce.R(c);a.push(new qo(r,h))}return new Ko(s,a,0)}let nr=void 0;class or{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e,t=this.pos,i=0,n=this.value.charCodeAt(t);if(e=or._table[n],"number"==typeof e)return this.pos+=1,{type:e,pos:t,len:1};if(or.isDigitCharacter(n)){e=8;do{i+=1,n=this.value.charCodeAt(t+i)}while(or.isDigitCharacter(n));return this.pos+=i,{type:e,pos:t,len:i}}if(or.isVariableCharacter(n)){e=9;do{n=this.value.charCodeAt(t+ ++i)}while(or.isVariableCharacter(n)||or.isDigitCharacter(n));return this.pos+=i,{type:e,pos:t,len:i}}e=10;do{i+=1,n=this.value.charCodeAt(t+i)}while(!isNaN(n)&&void 0===or._table[n]&&!or.isDigitCharacter(n)&&!or.isVariableCharacter(n));return this.pos+=i,{type:e,pos:t,len:i}}}or._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class rr{constructor(){this._children=[]}appendChild(e){return e instanceof sr&&this._children[this._children.length-1]instanceof sr?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,n=i.children.indexOf(e),o=i.children.slice(0);o.splice(n,1,...t),i._children=o,function e(t,i){for(const n of t)n.parent=i,e(n.children,n)}(t,i)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof pr)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class sr extends rr{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new sr(this.value)}}class ar extends rr{}class lr extends ar{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof cr?this._children[0]:void 0}clone(){let e=new lr(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(e=>e.clone()),e}}class cr extends rr{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof sr&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new cr;return this.options.forEach(e.appendChild,e),e}}class hr extends rr{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,n=e.replace(this.regexp,(function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!i&&this._children.some(e=>e instanceof dr&&Boolean(e.elseValue))&&(n=this._replace([])),n}_replace(e){let t="";for(const i of this._children)if(i instanceof dr){let n=e[i.index]||"";n=i.resolve(n),t+=n}else t+=i.toString();return t}toString(){return""}clone(){let e=new hr;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(e=>e.clone()),e}}class dr extends rr{constructor(e,t,i,n){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=n}resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((e,t)=>0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join(""):e}clone(){return new dr(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class ur extends ar{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new sr(t)],!0)}clone(){const e=new ur(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(e=>e.clone()),e}}function gr(e,t){const i=[...e];for(;i.length>0;){const e=i.shift();if(!t(e))break;i.unshift(...e.children)}}class pr extends rr{get placeholderInfo(){if(!this._placeholders){let e,t=[];this.walk((function(i){return i instanceof lr&&(t.push(i),e=!e||e.index<i.index?i:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(n=>n===e?(i=!0,!1):(t+=n.len(),!0)),i?t:-1}fullLen(e){let t=0;return gr([e],e=>(t+=e.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:i}=e;for(;i;)i instanceof lr&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof ur&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new pr;return this._children=this.children.map(e=>e.clone()),e}walk(e){gr(this.children,e)}}class mr{constructor(){this._scanner=new or,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){this._scanner.text(e),this._token=this._scanner.next();const n=new pr;for(;this._parse(n););const o=new Map,r=[];let s=0;n.walk(e=>(e instanceof lr&&(s+=1,e.isFinalTabstop?o.set(0,void 0):!o.has(e.index)&&e.children.length>0?o.set(e.index,e.children):r.push(e)),!0));for(const a of r){const e=o.get(a.index);if(e){const t=new lr(a.index);t.transform=a.transform;for(const i of e)t.appendChild(i.clone());n.replace(a,[t])}}return i||(i=s>0&&t),!o.has(0)&&i&&n.appendChild(new lr(0)),n}_accept(e,t){if(void 0===e||this._token.type===e){let e=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),e}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){const e=this._scanner.next();if(0!==e.type&&4!==e.type&&5!==e.type)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new sr(t)),!0)}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new lr(Number(t)):new ur(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const n=new lr(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new sr("${"+t+":")),n.children.forEach(e.appendChild,e),!0}else{if(!(n.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);{const t=new cr;for(;;){if(this._parseChoiceElement(t)){if(this._accept(2))continue;if(this._accept(7)&&(n.appendChild(t),this._accept(4)))return e.appendChild(n),!0}return this._backTo(i),!1}}}}_parseChoiceElement(e){const t=this._token,i=[];for(;2!==this._token.type&&7!==this._token.type;){let e;if(e=(e=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||e:this._accept(void 0,!0),!e)return this._backTo(t),!1;i.push(e)}return 0===i.length?(this._backTo(t),!1):(e.appendChild(new sr(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const n=new ur(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new sr("${"+t+":")),n.children.forEach(e.appendChild,e),!0}}_parseTransform(e){let t=new hr,i="",n="";for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(6,!0)||e,i+=e;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(5,!0)||this._accept(6,!0)||e,t.appendChild(new sr(e));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}try{t.regexp=new RegExp(i,n)}catch(o){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let n=this._accept(8,!0);if(!n)return this._backTo(t),!1;if(!i)return e.appendChild(new dr(Number(n))),!0;if(this._accept(4))return e.appendChild(new dr(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){let i=this._accept(9,!0);return i&&this._accept(4)?(e.appendChild(new dr(Number(n),i)),!0):(this._backTo(t),!1)}if(this._accept(11)){let t=this._until(4);if(t)return e.appendChild(new dr(Number(n),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return e.appendChild(new dr(Number(n),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let i=this._until(4);if(i)return e.appendChild(new dr(Number(n),void 0,t,i)),!0}}else{let t=this._until(4);if(t)return e.appendChild(new dr(Number(n),void 0,void 0,t)),!0}return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new sr(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}i("dFcq");var fr=i("EWX2"),br=i("MrjW"),_r=i("cMvZ");function vr(e){const t=e;return"string"==typeof(null==t?void 0:t.id)&&ue.a.isUri(t.uri)}const Cr=new Uint8Array(16),wr=[];for(let jb=0;jb<256;jb++)wr.push(jb.toString(16).padStart(2,"0"));let yr;yr="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e};class Sr{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){let i=t.resolve(e);if(void 0!==i)return i}}}class Lr{constructor(e,t,i,n){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=n}resolve(e){const{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let t=this._model.getValueInRange(this._selection)||void 0,i=this._selection.startLineNumber!==this._selection.endLineNumber;if(!t&&this._overtypingCapturer){const e=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);e&&(t=e.value,i=e.multiline)}if(t&&i&&e.snippet){const i=this._model.getLineContent(this._selection.startLineNumber),n=Object(ce.y)(i,0,this._selection.startColumn-1);let o=n;e.snippet.walk(t=>t!==e&&(t instanceof sr&&(o=Object(ce.y)(Object(ce.R)(t.value).pop())),!0));const r=Object(ce.d)(o,n);t=t.replace(/(\r\n|\r|\n)(.*)/g,(e,t,i)=>`${t}${o.substr(r)}${i}`)}return t}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){const e=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return e&&e.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0}}class xr{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return br.a(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){const e=br.a(this._model.uri.fsPath),t=e.lastIndexOf(".");return t<=0?e:e.slice(0,t)}return"TM_DIRECTORY"===t&&this._labelService?"."===br.b(this._model.uri.fsPath)?"":this._labelService.getUriLabel(Object(lt.d)(this._model.uri)):"TM_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class kr{constructor(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}resolve(e){if("CLIPBOARD"!==e.name)return;const t=this._readClipboardText();if(t){if(this._spread){const e=t.split(/\r\n|\n|\r/).filter(e=>!Object(ce.D)(e));if(e.length===this._selectionCount)return e[this._selectionIdx]}return t}}}class Dr{constructor(e,t){this._model=e,this._selection=t}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=_r.a.getComments(i);if(n)return"LINE_COMMENT"===t?n.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?n.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&n.blockCommentEndToken||void 0}}class Ir{constructor(){this._date=new Date}resolve(e){const{name:t}=e;return"CURRENT_YEAR"===t?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===t?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===t?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===t?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===t?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===t?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===t?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===t?Ir.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===t?Ir.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===t?Ir.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===t?Ir.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===t?String(Math.floor(this._date.getTime()/1e3)):void 0}}Ir.dayNames=[s.a("Sunday","Sunday"),s.a("Monday","Monday"),s.a("Tuesday","Tuesday"),s.a("Wednesday","Wednesday"),s.a("Thursday","Thursday"),s.a("Friday","Friday"),s.a("Saturday","Saturday")],Ir.dayNamesShort=[s.a("SundayShort","Sun"),s.a("MondayShort","Mon"),s.a("TuesdayShort","Tue"),s.a("WednesdayShort","Wed"),s.a("ThursdayShort","Thu"),s.a("FridayShort","Fri"),s.a("SaturdayShort","Sat")],Ir.monthNames=[s.a("January","January"),s.a("February","February"),s.a("March","March"),s.a("April","April"),s.a("May","May"),s.a("June","June"),s.a("July","July"),s.a("August","August"),s.a("September","September"),s.a("October","October"),s.a("November","November"),s.a("December","December")],Ir.monthNamesShort=[s.a("JanuaryShort","Jan"),s.a("FebruaryShort","Feb"),s.a("MarchShort","Mar"),s.a("AprilShort","Apr"),s.a("MayShort","May"),s.a("JuneShort","Jun"),s.a("JulyShort","Jul"),s.a("AugustShort","Aug"),s.a("SeptemberShort","Sep"),s.a("OctoberShort","Oct"),s.a("NovemberShort","Nov"),s.a("DecemberShort","Dec")];class Or{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=function(e){return e.configuration?{id:e.id,configPath:e.configuration}:1===e.folders.length?{id:e.id,uri:e.folders[0].uri}:void 0}(this._workspaceService.getWorkspace());return t?"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0:void 0}_resolveWorkspaceName(e){if(vr(e))return br.a(e.uri.path);let t=br.a(e.configPath.path);return t.endsWith("code-workspace")&&(t=t.substr(0,t.length-"code-workspace".length-1)),t}_resoveWorkspacePath(e){if(vr(e))return Ci(e.uri.fsPath);let t=br.a(e.configPath.path),i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?Ci(i):"/"}}class Nr{resolve(e){const{name:t}=e;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?function(){yr(Cr),Cr[6]=15&Cr[6]|64,Cr[8]=63&Cr[8]|128;let e=0,t="";return t+=wr[Cr[e++]],t+=wr[Cr[e++]],t+=wr[Cr[e++]],t+=wr[Cr[e++]],t+="-",t+=wr[Cr[e++]],t+=wr[Cr[e++]],t+="-",t+=wr[Cr[e++]],t+=wr[Cr[e++]],t+="-",t+=wr[Cr[e++]],t+=wr[Cr[e++]],t+="-",t+=wr[Cr[e++]],t+=wr[Cr[e++]],t+=wr[Cr[e++]],t+=wr[Cr[e++]],t+=wr[Cr[e++]],t+=wr[Cr[e++]],t}():void 0}}Object(A.f)((e,t)=>{function i(t){const i=e.getColor(t);return i?i.toString():"transparent"}t.addRule(`.monaco-editor .snippet-placeholder { background-color: ${i(M.Ec)}; outline-color: ${i(M.Fc)}; }`),t.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${i(M.Cc)}; outline-color: ${i(M.Dc)}; }`)});class Er{constructor(e,t,i,n){this._editor=e,this._snippet=t,this._offset=i,this._snippetLineLeadingWhitespace=n,this._nestingLevel=1,this._placeholderGroups=Object(de.l)(t.placeholders,lr.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const i of this._snippet.placeholders){const n=this._snippet.offset(i),o=this._snippet.fullLen(i),r=O.a.fromPositions(e.getPositionAt(this._offset+n),e.getPositionAt(this._offset+n+o)),s=i.isFinalTabstop?Er._decor.inactiveFinal:Er._decor.inactive,a=t.addDecoration(r,s);this._placeholderDecorations.set(i,a)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let e=[];for(const t of this._placeholderGroups[this._placeholderGroupsIdx])if(t.transform){const i=this._placeholderDecorations.get(t),n=this._editor.getModel().getDecorationRange(i),o=this._editor.getModel().getValueInRange(n),r=t.transform.resolve(o).split(/\r\n|\r|\n/);for(let e=1;e<r.length;e++)r[e]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+r[e]);e.push(zo.a.replace(n,r.join(this._editor.getModel().getEOL())))}e.length>0&&this._editor.executeEdits("snippet.placeholderTransform",e)}let t=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations(e=>{const i=new Set,n=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const r=this._placeholderDecorations.get(o),s=this._editor.getModel().getDecorationRange(r);n.push(new l.a(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(o),e.changeDecorationOptions(r,o.isFinalTabstop?Er._decor.activeFinal:Er._decor.active),i.add(o);for(const t of this._snippet.enclosingPlaceholders(o)){const n=this._placeholderDecorations.get(t);e.changeDecorationOptions(n,t.isFinalTabstop?Er._decor.activeFinal:Er._decor.active),i.add(t)}}for(const[t,o]of this._placeholderDecorations)i.has(t)||e.changeDecorationOptions(o,t.isFinalTabstop?Er._decor.inactiveFinal:Er._decor.inactive);return n});return t?this.move(e):null!=i?i:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof lr){const e=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(e).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const n of t){if(n.isFinalTabstop)break;i||(i=[],e.set(n.index,i));const t=this._placeholderDecorations.get(n),o=this._editor.getModel().getDecorationRange(t);if(!o){e.delete(n.index);break}i.push(o)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(const n of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(!o._placeholderDecorations);const r=o._snippet.placeholderInfo.last.index;for(const e of o._snippet.placeholderInfo.all)e.isFinalTabstop?e.index=n.index+(r+1)/this._nestingLevel:e.index=n.index+e.index/this._nestingLevel;this._snippet.replace(n,o._snippet.children);const s=this._placeholderDecorations.get(n);i.removeDecoration(s),this._placeholderDecorations.delete(n);for(const e of o._snippet.placeholders){const n=o._snippet.offset(e),r=o._snippet.fullLen(e),s=O.a.fromPositions(t.getPositionAt(o._offset+n),t.getPositionAt(o._offset+n+r)),a=i.addDecoration(s,Er._decor.inactive);this._placeholderDecorations.set(e,a)}}this._placeholderGroups=Object(de.l)(this._snippet.placeholders,lr.compareByIndex)})}}Er._decor={active:E.a.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:E.a.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:E.a.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:E.a.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const Tr={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class Mr{constructor(e,t,i=Tr){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=i}static adjustWhitespace(e,t,i,n,o){const r=e.getLineContent(t.lineNumber),s=Object(ce.y)(r,0,t.column-1);let a;return i.walk(t=>{if(!(t instanceof sr)||t.parent instanceof cr)return!0;const o=t.value.split(/\r\n|\r|\n/);if(n){const n=i.offset(t);if(0===n)o[0]=e.normalizeIndentation(o[0]);else{a=null!=a?a:i.toString();let t=a.charCodeAt(n-1);10!==t&&13!==t||(o[0]=e.normalizeIndentation(s+o[0]))}for(let t=1;t<o.length;t++)o[t]=e.normalizeIndentation(s+o[t])}const r=o.join(e.getEOL());return r!==t.value&&(t.parent.replace(t,[new sr(r)]),a=void 0),!0}),s}static adjustSelection(e,t,i,n){if(0!==i||0!==n){const{positionLineNumber:o,positionColumn:r}=t,s=r-i,a=r+n,c=e.validateRange({startLineNumber:o,startColumn:s,endLineNumber:o,endColumn:a});t=l.a.createWithDirection(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,i,n,o,r,s,a){const l=[],c=[];if(!e.hasModel())return{edits:l,snippets:c};const h=e.getModel(),d=e.invokeWithinContext(e=>e.get(fr.a,Te.d)),u=e.invokeWithinContext(e=>new xr(e.get(vn.a,Te.d),h)),g=()=>s;let p=0,m=h.getValueInRange(Mr.adjustSelection(h,e.getSelection(),i,0)),f=h.getValueInRange(Mr.adjustSelection(h,e.getSelection(),0,n)),b=h.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const _=e.getSelections().map((e,t)=>({selection:e,idx:t})).sort((e,t)=>O.a.compareRangesUsingStarts(e.selection,t.selection));for(const{selection:v,idx:C}of _){let s=Mr.adjustSelection(h,v,i,0),w=Mr.adjustSelection(h,v,0,n);m!==h.getValueInRange(s)&&(s=v),f!==h.getValueInRange(w)&&(w=v);const y=v.setStartPosition(s.startLineNumber,s.startColumn).setEndPosition(w.endLineNumber,w.endColumn),S=(new mr).parse(t,!0,o),L=y.getStartPosition(),x=Mr.adjustWhitespace(h,L,S,r||C>0&&b!==h.getLineFirstNonWhitespaceColumn(v.positionLineNumber),!0);S.resolveVariables(new Sr([u,new kr(g,C,_.length,"spread"===e.getOption(69)),new Lr(h,v,C,a),new Dr(h,v),new Ir,new Or(d),new Nr]));const k=h.getOffsetAt(L)+p;p+=S.toString().length-h.getValueLengthInRange(y),l[C]=zo.a.replace(y,S.toString()),l[C].identifier={major:C,minor:0},c[C]=new Er(e,S,k,x)}return{edits:l,snippets:c}}dispose(){Object(D.f)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=Mr.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,e=>this._snippets[0].hasPlaceholder?this._move(!0):e.filter(e=>!!e.identifier).map(e=>l.a.fromPositions(e.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=Tr){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:n}=Mr.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",i,e=>{for(const t of this._snippets)t.merge(n);return console.assert(0===n.length),this._snippets[0].hasPlaceholder?this._move(void 0):e.filter(e=>!!e.identifier).map(e=>l.a.fromPositions(e.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const n=i.move(e);t.push(...n)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const i of this._snippets){const n=i.computePossibleSelections();if(0===t.size)for(const[i,o]of n){o.sort(O.a.compareRangesUsingStarts);for(const n of e)if(o[0].containsRange(n)){t.set(i,[]);break}}if(0===t.size)return!1;t.forEach((e,t)=>{e.push(...n.get(t))})}e.sort(O.a.compareRangesUsingStarts);for(let[i,n]of t)if(n.length===e.length){n.sort(O.a.compareRangesUsingStarts);for(let o=0;o<n.length;o++)n[o].containsRange(e[o])||t.delete(i)}else t.delete(i);return t.size>0}}var Ar=i("fpMC"),Rr=i("5Y4S"),Pr=i("t49l"),Fr=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const jr={Visible:new h.c("suggestWidgetVisible",!1,Object(s.a)("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new h.c("suggestWidgetDetailsVisible",!1,Object(s.a)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new h.c("suggestWidgetMultipleSuggestions",!1,Object(s.a)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new h.c("suggestionMakesTextEdit",!0,Object(s.a)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new h.c("acceptSuggestionOnEnter",!0,Object(s.a)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new h.c("suggestionHasInsertAndReplaceRange",!1,Object(s.a)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new h.c("suggestionInsertMode",void 0,{type:"string",description:Object(s.a)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new h.c("suggestionCanResolve",!1,Object(s.a)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},Br=new R.b("suggestWidgetStatusBar");class Wr{constructor(e,t,i,n){this.position=e,this.completion=t,this.container=i,this.provider=n,this.isInvalid=!1,this.score=Ar.a.Default,this.distance=0,this.textLabel="string"==typeof t.label?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),O.a.isIRange(t.range)?(this.editStart=new I.a(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new I.a(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new I.a(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||O.a.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new I.a(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new I.a(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new I.a(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||O.a.spansMultipleLines(t.range.insert)||O.a.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),"function"!=typeof n.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return Fr(this,void 0,void 0,(function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(e=>{Object.assign(this.completion,e),this._isResolved=!0,t.dispose()},e=>{Object(u.d)(e)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache}))}}class Vr{constructor(e=2,t=new Set,i=new Set,n=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.showDeprecated=n}}Vr.default=new Vr;class Hr{constructor(e,t,i,n){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=n}}function zr(e,t,i=Vr.default,n={triggerKind:0},o=ae.a.None){return Fr(this,void 0,void 0,(function*(){const r=new Rr.a(!0);t=t.clone();const s=e.getWordAtPosition(t),a=s?new O.a(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):O.a.fromPositions(t),l={replace:a,insert:a.setEndPosition(t.lineNumber,t.column)},c=[],h=new D.b,d=[];let g=!1;const p=(e,n,o)=>{var r,s,a;if(n){for(let o of n.suggestions)if(!i.kindFilter.has(o.kind)){if(!i.showDeprecated&&(null===(r=null==o?void 0:o.tags)||void 0===r?void 0:r.includes(1)))continue;o.range||(o.range=l),o.sortText||(o.sortText="string"==typeof o.label?o.label:o.label.label),!g&&o.insertTextRules&&4&o.insertTextRules&&(g=mr.guessNeedsClipboard(o.insertText)),c.push(new Wr(t,o,n,e))}Object(D.g)(n)&&h.add(n),d.push({providerName:null!==(s=e._debugDisplayName)&&void 0!==s?s:"unkown_provider",elapsedProvider:null!==(a=n.duration)&&void 0!==a?a:-1,elapsedOverall:o.elapsed()})}},m=(()=>Fr(this,void 0,void 0,(function*(){})))();for(let f of pe.d.orderedGroups(e)){let r=c.length;if(yield Promise.all(f.map(r=>Fr(this,void 0,void 0,(function*(){if(!(i.providerFilter.size>0)||i.providerFilter.has(r))try{const i=new Rr.a(!0),s=yield r.provideCompletionItems(e,t,n,o);p(r,s,i)}catch(s){Object(u.f)(s)}})))),r!==c.length||o.isCancellationRequested)break}return yield m,o.isCancellationRequested?(h.dispose(),Promise.reject(Object(u.a)())):new Hr(c.sort(qr(i.snippetSortOrder)),g,{entries:d,elapsed:r.elapsed()},h)}))}function Ur(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}const Kr=new Map;function qr(e){return Kr.get(e)}Kr.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return Ur(e,t)})),Kr.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return Ur(e,t)})),Kr.set(1,Ur),Ce.a.registerCommand("_executeCompletionItemProvider",(e,...t)=>Fr(void 0,void 0,void 0,(function*(){const[i,n,o,r]=t;Object(Et.c)(ue.a.isUri(i)),Object(Et.c)(I.a.isIPosition(n)),Object(Et.c)("string"==typeof o||!o),Object(Et.c)("number"==typeof r||!r);const s=yield e.get(Pr.a).createModelReference(i);try{const e={incomplete:!1,suggestions:[]},t=[],i=yield zr(s.object.textEditorModel,I.a.lift(n),void 0,{triggerCharacter:o,triggerKind:o?1:0});for(const n of i.items)t.length<(null!=r?r:0)&&t.push(n.resolve(ae.a.None)),e.incomplete=e.incomplete||n.container.incomplete,e.suggestions.push(n.completion);try{return yield Promise.all(t),e}finally{setTimeout(()=>i.disposable.dispose(),100)}}finally{s.dispose()}})));const $r=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}};pe.d.register("*",$r);var Gr=i("09fa"),Yr=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Zr=function(e,t){return function(i,n){t(i,n,e)}};const Xr={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Qr=class e{constructor(t,i,n){this._editor=t,this._logService=i,this._snippetListener=new D.b,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(n),this._hasNextTabstop=e.HasNextTabstop.bindTo(n),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(n)}static get(t){return t.getContribution(e.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,void 0===t?Xr:Object.assign(Object.assign({},Xr),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new Mr(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(e=>e.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:e}=this._session;var t,i;if(e){if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(e=>l.a.fromPositions(e.getStartPosition())));const[n]=e.options;t=this._editor,i=e.options.map((e,t)=>({kind:13,label:e.value,insertText:e.value,sortText:"a".repeat(t+1),range:O.a.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))})),setTimeout(()=>{$r.onlyOnceSuggestions.push(...i),t.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add($r))},0)}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(t=this._session)||void 0===t||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};Qr.ID="snippetController2",Qr.InSnippetMode=new h.c("inSnippetMode",!1,Object(s.a)("inSnippetMode","Whether the editor in current in snippet mode")),Qr.HasNextTabstop=new h.c("hasNextTabstop",!1,Object(s.a)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),Qr.HasPrevTabstop=new h.c("hasPrevTabstop",!1,Object(s.a)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),Qr=Yr([Zr(1,Gr.b),Zr(2,h.b)],Qr),Object(r.l)(Qr.ID,Qr);const Jr=r.c.bindToContribution(Qr.get);Object(r.k)(new Jr({id:"jumpToNextSnippetPlaceholder",precondition:h.a.and(Qr.InSnippetMode,Qr.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:a.a.editorTextFocus,primary:2}})),Object(r.k)(new Jr({id:"jumpToPrevSnippetPlaceholder",precondition:h.a.and(Qr.InSnippetMode,Qr.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:a.a.editorTextFocus,primary:1026}})),Object(r.k)(new Jr({id:"leaveSnippet",precondition:Qr.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:a.a.editorTextFocus,primary:9,secondary:[1033]}})),Object(r.k)(new Jr({id:"acceptSnippet",precondition:Qr.InSnippetMode,handler:e=>e.finish()}));var es=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ts=function(e,t){return function(i,n){t(i,n,e)}};class is{constructor(e){this.name=e}select(e,t,i){if(0===i.length)return 0;let n=i[0].score[0];for(let o=0;o<i.length;o++){const{score:e,completion:t}=i[o];if(e[0]!==n)break;if(t.preselect)return o}return 0}}class ns extends is{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}let os=class e{constructor(e,t,i){this._storageService=e,this._modeService=t,this._configService=i,this._disposables=new D.b,this._persistSoon=new k.e(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(e=>{e.reason===Ht.c.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(t,i){var n,o;const r=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:null===(n=this._modeService.getLanguageIdentifier(t.getLanguageIdAtPosition(i.lineNumber,i.column)))||void 0===n?void 0:n.language,resource:t.uri});if((null===(o=this._strategy)||void 0===o?void 0:o.name)!==r){this._saveState();const t=e._strategyCtors.get(r)||ns;this._strategy=new t;try{const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=this._storageService.get(`${e._storagePrefix}/${r}`,t);i&&this._strategy.fromJSON(JSON.parse(i))}catch(s){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${e._storagePrefix}/${this._strategy.name}`,i,t,1)}}};os._strategyCtors=new Map([["recentlyUsedByPrefix",class extends is{constructor(){super("recentlyUsedByPrefix"),this._trie=Vt.c.forStrings(),this._seq=0}memorize(e,t,i){const{word:n}=e.getWordUntilPosition(t),o=`${e.getLanguageIdentifier().language}/${n}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){let{word:n}=e.getWordUntilPosition(t);if(!n)return super.select(e,t,i);let o=`${e.getLanguageIdentifier().language}/${n}`,r=this._trie.get(o);if(r||(r=this._trie.findSubstr(o)),r)for(let s=0;s<i.length;s++){let{kind:e,insertText:t}=i[s].completion;if(e===r.type&&t===r.insertText)return s}return super.select(e,t,i)}toJSON(){let e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((e,t)=>-(e[1].touch-t[1].touch)).forEach((e,t)=>e[1].touch=t),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type="number"==typeof i.type?i.type:Object(pe.H)(i.type),this._trie.set(t,i)}}}],["recentlyUsed",class extends is{constructor(){super("recentlyUsed"),this._cache=new Vt.a(300,.66),this._seq=0}memorize(e,t,i){const n=`${e.getLanguageIdentifier().language}/${i.textLabel}`;this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(0===i.length)return 0;const n=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(n))return super.select(e,t,i);let o=i[0].score[0],r=-1,s=-1,a=-1;for(let l=0;l<i.length&&i[l].score[0]===o;l++){const t=`${e.getLanguageIdentifier().language}/${i[l].textLabel}`,n=this._cache.peek(t);if(n&&n.touch>a&&n.type===i[l].completion.kind&&n.insertText===i[l].completion.insertText&&(a=n.touch,s=l),i[l].completion.preselect&&-1===r)return l}return-1!==s?s:-1!==r?r:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();for(const[t,i]of e)i.touch=0,i.type="number"==typeof i.type?i.type:Object(pe.H)(i.type),this._cache.set(t,i);this._seq=this._cache.size}}],["first",ns]]),os._storagePrefix="suggest/memories",os=es([ts(0,Ht.a),ts(1,li.a),ts(2,oi.a)],os);const rs=Object(Te.c)("ISuggestMemories");Object(Wt.b)(rs,os,!0);var ss=i("nrhi"),as=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ls=function(e,t){return function(i,n){t(i,n,e)}};let cs=class e{constructor(t,i){this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(i)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:i},n){if(0===t.items.length)return void this.reset();e._moveIndex(!0,t,i)!==i?(this._acceptNext=n,this._model=t,this._index=i,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,i){let n=i;for(;n=(n+t.items.length+(e?1:-1))%t.items.length,n!==i&&t.items[n].completion.additionalTextEdits;);return n}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};cs.OtherSuggestions=new h.c("hasOtherSuggestions",!1),cs=as([ls(1,h.b)],cs);class hs{constructor(e,t,i,n,o,r,s){this.clipboardText=s,this._snippetCompareFn=hs._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=o,this._refilterKind=1,this._lineContext=i,"top"===r?this._snippetCompareFn=hs._compareCompletionItemsSnippetsUp:"bottom"===r&&(this._snippetCompareFn=hs._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(let[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){let t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let n="",o="";const r=1===this._refilterKind?this._items:this._filteredItems,s=[],a=!this._options.filterGraceful||r.length>2e3?Ar.d:Ar.e;for(let l=0;l<r.length;l++){const c=r[l];if(c.isInvalid)continue;this._providerInfo.set(c.provider,Boolean(c.container.incomplete));const h=c.position.column-c.editStart.column,d=h+i-(c.position.column-this._column);if(n.length!==d&&(n=0===d?"":t.slice(-d),o=n.toLowerCase()),c.word=n,0===d)c.score=Ar.a.Default;else{let e=0;for(;e<h;){const t=n.charCodeAt(e);if(32!==t&&9!==t)break;e+=1}if(e>=d)c.score=Ar.a.Default;else if("string"==typeof c.completion.filterText){let t=a(n,o,e,c.completion.filterText,c.filterTextLow,0,!1);if(!t)continue;0===Object(ce.g)(c.completion.filterText,c.textLabel)?c.score=t:(c.score=Object(Ar.b)(n,o,e,c.textLabel,c.labelLow,0),c.score[0]=t[0])}else{let t=a(n,o,e,c.textLabel,c.labelLow,0,!1);if(!t)continue;c.score=t}}c.idx=l,c.distance=this._wordDistance.distance(c.position,c.completion),s.push(c),e.push(c.textLabel.length)}this._filteredItems=s.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?Object(de.q)(e.length-.85,e,(e,t)=>e-t):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return hs._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return hs._compareCompletionItems(e,t)}}var ds=i("pAvP"),us=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class gs{provideSelectionRanges(e,t){return us(this,void 0,void 0,(function*(){const i=[];for(const n of t){const t=[];i.push(t);const o=new Map;yield new Promise(t=>gs._bracketsRightYield(t,0,e,n,o)),yield new Promise(i=>gs._bracketsLeftYield(i,0,e,n,o,t))}return i}))}static _bracketsRightYield(e,t,i,n,o){const r=new Map,s=Date.now();for(;;){if(t>=gs._maxRounds){e();break}if(!n){e();break}let a=i.findNextBracket(n);if(!a){e();break}if(Date.now()-s>gs._maxDuration){setTimeout(()=>gs._bracketsRightYield(e,t+1,i,n,o));break}const l=a.close[0];if(a.isOpen){let e=r.has(l)?r.get(l):0;r.set(l,e+1)}else{let e=r.has(l)?r.get(l):0;if(e-=1,r.set(l,Math.max(0,e)),e<0){let e=o.get(l);e||(e=new En.a,o.set(l,e)),e.push(a.range)}}n=a.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,n,o,r){const s=new Map,a=Date.now();for(;;){if(t>=gs._maxRounds&&0===o.size){e();break}if(!n){e();break}let l=i.findPrevBracket(n);if(!l){e();break}if(Date.now()-a>gs._maxDuration){setTimeout(()=>gs._bracketsLeftYield(e,t+1,i,n,o,r));break}const c=l.close[0];if(l.isOpen){let e=s.has(c)?s.get(c):0;if(e-=1,s.set(c,Math.max(0,e)),e<0){let e=o.get(c);if(e){let t=e.shift();0===e.size&&o.delete(c);const n=O.a.fromPositions(l.range.getEndPosition(),t.getStartPosition()),s=O.a.fromPositions(l.range.getStartPosition(),t.getEndPosition());r.push({range:n}),r.push({range:s}),gs._addBracketLeading(i,s,r)}}}else{let e=s.has(c)?s.get(c):0;s.set(c,e+1)}n=l.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const n=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(n);0!==o&&o!==t.startColumn&&(i.push({range:O.a.fromPositions(new I.a(n,o),t.getEndPosition())}),i.push({range:O.a.fromPositions(new I.a(n,1),t.getEndPosition())}));const r=n-1;if(r>0){const n=e.getLineFirstNonWhitespaceColumn(r);n===t.startColumn&&n!==e.getLineLastNonWhitespaceColumn(r)&&(i.push({range:O.a.fromPositions(new I.a(r,n),t.getEndPosition())}),i.push({range:O.a.fromPositions(new I.a(r,1),t.getEndPosition())}))}}}gs._maxDuration=30,gs._maxRounds=2;var ps=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class ms{static create(e,t){return ps(this,void 0,void 0,(function*(){if(!t.getOption(105).localityBonus)return ms.None;if(!t.hasModel())return ms.None;const i=t.getModel(),n=t.getPosition();if(!e.canComputeWordRanges(i.uri))return ms.None;const[o]=yield(new gs).provideSelectionRanges(i,[n]);if(0===o.length)return ms.None;const r=yield e.computeWordRanges(i.uri,o[0].range);if(!r)return ms.None;const s=i.getWordUntilPosition(n);return delete r[s.word],new class extends ms{distance(e,i){if(!n.equals(t.getPosition()))return 0;if(17===i.kind)return 2<<20;let s="string"==typeof i.label?i.label:i.label.label,a=r[s];if(Object(de.m)(a))return 2<<20;let l=Object(de.d)(a,O.a.fromPositions(e),O.a.compareRangesUsingStarts),c=l>=0?a[l]:a[Math.max(0,~l-1)],h=o.length;for(const t of o){if(!O.a.containsRange(t.range,c))break;h-=1}return h}}}))}}ms.None=new class extends ms{distance(){return 0}};var fs=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},bs=function(e,t){return function(i,n){t(i,n,e)}},_s=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class vs{constructor(e,t,i,n){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=n}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenizeIfCheap(i.lineNumber);const n=t.getWordAtPosition(i);return!!n&&(n.endColumn===i.column&&!!isNaN(Number(n.word)))}}let Cs=class e{constructor(e,t,i,n,o,r,s){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=n,this._logService=o,this._contextKeyService=r,this._configurationService=s,this._toDispose=new D.b,this._quickSuggestDelay=10,this._triggerCharacterListener=new D.b,this._triggerQuickSuggest=new k.g,this._state=0,this._completionDisposables=new D.b,this._onDidCancel=new Ke.b,this._onDidTrigger=new Ke.b,this._onDidSuggest=new Ke.b,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new l.a(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(pe.d.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._onCursorChange(e)}));let a=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{a=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{a=!1,this._refilterCompletionItems()})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{a||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){Object(D.f)(this._triggerCharacterListener),Object(D.f)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(78),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(79)||!this._editor.hasModel()||!this._editor.getOption(108))return;const e=new Map;for(const i of pe.d.all(this._editor.getModel()))for(const t of i.triggerCharacters||[]){let n=e.get(t);n||(n=new Set,n.add(void 0),e.set(t,n)),n.add(i)}const t=t=>{if(i=this._contextKeyService,n=this._configurationService,Boolean(i.getContextKeyValue("inlineSuggestionVisible"))&&!Boolean(n.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters")))return;var i,n;if(vs.shouldAutoTrigger(this._editor))return;if(!t){const e=this._editor.getPosition();t=this._editor.getModel().getLineContent(e.lineNumber).substr(0,e.column-1)}let o="";Object(ce.G)(t.charCodeAt(t.length-1))?Object(ce.F)(t.charCodeAt(t.length-2))&&(o=t.substr(t.length-2)):o=t.charAt(t.length-1);const r=e.get(o);if(r){const e=this._completionModel?{items:this._completionModel.adopt(r),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:o},Boolean(this._completionModel),r,e)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(t))}get state(){return this._state}cancel(e=!1){var t;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(t=this._requestToken)||void 0===t||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&pe.d.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source)this.cancel();else if(pe.d.has(t))if(0===this._state&&0===e.reason){if(!1===this._editor.getOption(77))return;if(!i.containsRange(this._currentSelection)&&!i.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(105).snippetsPreventQuickSuggestions&&Qr.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state)return;if(!vs.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=this._editor.getOption(77);if(!1!==i){if(!0===i);else{e.tokenizeIfCheap(t.lineNumber);const n=e.getLineTokens(t.lineNumber),o=n.getStandardTokenType(n.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(!(i.other&&0===o||i.comments&&1===o||i.strings&&2===o))return}var n,o;if(n=this._contextKeyService,o=this._configurationService,!Boolean(n.getContextKeyValue("inlineSuggestionVisible"))||Boolean(o.getValue("editor.inlineSuggest.allowQuickSuggestions")))this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)}else 0!==this._state&&3===e.reason&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state)return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=new vs(e,t,2===this._state,!1);this._onNewContext(i)})}trigger(t,i=!1,n,o){var r;if(!this._editor.hasModel())return;const s=this._editor.getModel(),a=t.auto,l=new vs(s,this._editor.getPosition(),a,t.shy);this.cancel(i),this._state=a?2:1,this._onDidTrigger.fire({auto:a,shy:t.shy,position:this._editor.getPosition()}),this._context=l;let c={triggerKind:null!==(r=t.triggerKind)&&void 0!==r?r:0};t.triggerCharacter&&(c={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new ae.b;const h=this._editor.getOption(100);let d=1;switch(h){case"top":d=0;break;case"bottom":d=2}const{itemKind:g,showDeprecated:p}=e._createSuggestFilter(this._editor),m=ms.create(this._editorWorkerService,this._editor),f=zr(s,this._editor.getPosition(),new Vr(d,g,n,p),c,this._requestToken.token);Promise.all([f,m]).then(([e,i])=>_s(this,void 0,void 0,(function*(){var n;if(null===(n=this._requestToken)||void 0===n||n.dispose(),!this._editor.hasModel())return;let r=null==o?void 0:o.clipboardText;if(!r&&e.needsClipboard&&(r=yield this._clipboardService.readText()),0===this._state)return;const s=this._editor.getModel();let l=e.items;if(o){const e=qr(d);l=l.concat(o.items).sort(e)}const c=new vs(s,this._editor.getPosition(),a,t.shy);this._completionModel=new hs(l,this._context.column,{leadingLineContent:c.leadingLineContent,characterCountDelta:c.column-this._context.column},i,this._editor.getOption(105),this._editor.getOption(100),r),this._completionDisposables.add(e.disposable),this._onNewContext(c),this._reportDurationsTelemetry(e.durations)}))).catch(u.e)}_reportDurationsTelemetry(e){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;"none"===e.getOption(100)&&t.add(27);const i=e.getOption(105);return i.showMethods||t.add(0),i.showFunctions||t.add(1),i.showConstructors||t.add(2),i.showFields||t.add(3),i.showVariables||t.add(4),i.showClasses||t.add(5),i.showStructs||t.add(6),i.showInterfaces||t.add(7),i.showModules||t.add(8),i.showProperties||t.add(9),i.showEvents||t.add(10),i.showOperators||t.add(11),i.showUnits||t.add(12),i.showValues||t.add(13),i.showConstants||t.add(14),i.showEnums||t.add(15),i.showEnumMembers||t.add(16),i.showKeywords||t.add(17),i.showWords||t.add(18),i.showColors||t.add(19),i.showFiles||t.add(20),i.showReferences||t.add(21),i.showColors||t.add(22),i.showFolders||t.add(23),i.showTypeParameters||t.add(24),i.showSnippets||t.add(27),i.showUsers||t.add(25),i.showIssues||t.add(26),{itemKind:t,showDeprecated:i.showDeprecated}}_onNewContext(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if(Object(ce.y)(e.leadingLineContent)===Object(ce.y)(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const e=new Set(pe.d.all(this._editor.getModel()));for(let i of this._completionModel.allProvider)e.delete(i);const t=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,e,{items:t,clipboardText:this._completionModel.clipboardText})}else if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){const{incomplete:e}=this._completionModel,t=this._completionModel.adopt(e);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,e,{items:t,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(vs.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:i})}}else this.cancel();else this.cancel()}};Cs=fs([bs(1,ds.a),bs(2,Z.a),bs(3,at.a),bs(4,Gr.b),bs(5,h.b),bs(6,oi.a)],Cs);i("CClx"),i("udvx");const ws=Object(M.wc)("symbolIcon.arrayForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ys=Object(M.wc)("symbolIcon.booleanForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ss=Object(M.wc)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(s.a)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ls=Object(M.wc)("symbolIcon.colorForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xs=Object(M.wc)("symbolIcon.constantForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ks=Object(M.wc)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(s.a)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ds=Object(M.wc)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(s.a)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Is=Object(M.wc)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(s.a)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Os=Object(M.wc)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},Object(s.a)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ns=Object(M.wc)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(s.a)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Es=Object(M.wc)("symbolIcon.fileForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ts=Object(M.wc)("symbolIcon.folderForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ms=Object(M.wc)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(s.a)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),As=Object(M.wc)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(s.a)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Rs=Object(M.wc)("symbolIcon.keyForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ps=Object(M.wc)("symbolIcon.keywordForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Fs=Object(M.wc)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},Object(s.a)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),js=Object(M.wc)("symbolIcon.moduleForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Bs=Object(M.wc)("symbolIcon.namespaceForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ws=Object(M.wc)("symbolIcon.nullForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Vs=Object(M.wc)("symbolIcon.numberForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Hs=Object(M.wc)("symbolIcon.objectForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zs=Object(M.wc)("symbolIcon.operatorForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Us=Object(M.wc)("symbolIcon.packageForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ks=Object(M.wc)("symbolIcon.propertyForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qs=Object(M.wc)("symbolIcon.referenceForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$s=Object(M.wc)("symbolIcon.snippetForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Gs=Object(M.wc)("symbolIcon.stringForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ys=Object(M.wc)("symbolIcon.structForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Zs=Object(M.wc)("symbolIcon.textForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Xs=Object(M.wc)("symbolIcon.typeParameterForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Qs=Object(M.wc)("symbolIcon.unitForeground",{dark:M.eb,light:M.eb,hc:M.eb},Object(s.a)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Js=Object(M.wc)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},Object(s.a)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));Object(A.f)((e,t)=>{const i=e.getColor(ws);i&&t.addRule(`${$e.b.symbolArray.cssSelector} { color: ${i}; }`);const n=e.getColor(ys);n&&t.addRule(`${$e.b.symbolBoolean.cssSelector} { color: ${n}; }`);const o=e.getColor(Ss);o&&t.addRule(`${$e.b.symbolClass.cssSelector} { color: ${o}; }`);const r=e.getColor(Fs);r&&t.addRule(`${$e.b.symbolMethod.cssSelector} { color: ${r}; }`);const s=e.getColor(Ls);s&&t.addRule(`${$e.b.symbolColor.cssSelector} { color: ${s}; }`);const a=e.getColor(xs);a&&t.addRule(`${$e.b.symbolConstant.cssSelector} { color: ${a}; }`);const l=e.getColor(ks);l&&t.addRule(`${$e.b.symbolConstructor.cssSelector} { color: ${l}; }`);const c=e.getColor(Ds);c&&t.addRule(`\n\t\t\t${$e.b.symbolValue.cssSelector},${$e.b.symbolEnum.cssSelector} { color: ${c}; }`);const h=e.getColor(Is);h&&t.addRule(`${$e.b.symbolEnumMember.cssSelector} { color: ${h}; }`);const d=e.getColor(Os);d&&t.addRule(`${$e.b.symbolEvent.cssSelector} { color: ${d}; }`);const u=e.getColor(Ns);u&&t.addRule(`${$e.b.symbolField.cssSelector} { color: ${u}; }`);const g=e.getColor(Es);g&&t.addRule(`${$e.b.symbolFile.cssSelector} { color: ${g}; }`);const p=e.getColor(Ts);p&&t.addRule(`${$e.b.symbolFolder.cssSelector} { color: ${p}; }`);const m=e.getColor(Ms);m&&t.addRule(`${$e.b.symbolFunction.cssSelector} { color: ${m}; }`);const f=e.getColor(As);f&&t.addRule(`${$e.b.symbolInterface.cssSelector} { color: ${f}; }`);const b=e.getColor(Rs);b&&t.addRule(`${$e.b.symbolKey.cssSelector} { color: ${b}; }`);const _=e.getColor(Ps);_&&t.addRule(`${$e.b.symbolKeyword.cssSelector} { color: ${_}; }`);const v=e.getColor(js);v&&t.addRule(`${$e.b.symbolModule.cssSelector} { color: ${v}; }`);const C=e.getColor(Bs);C&&t.addRule(`${$e.b.symbolNamespace.cssSelector} { color: ${C}; }`);const w=e.getColor(Ws);w&&t.addRule(`${$e.b.symbolNull.cssSelector} { color: ${w}; }`);const y=e.getColor(Vs);y&&t.addRule(`${$e.b.symbolNumber.cssSelector} { color: ${y}; }`);const S=e.getColor(Hs);S&&t.addRule(`${$e.b.symbolObject.cssSelector} { color: ${S}; }`);const L=e.getColor(zs);L&&t.addRule(`${$e.b.symbolOperator.cssSelector} { color: ${L}; }`);const x=e.getColor(Us);x&&t.addRule(`${$e.b.symbolPackage.cssSelector} { color: ${x}; }`);const k=e.getColor(Ks);k&&t.addRule(`${$e.b.symbolProperty.cssSelector} { color: ${k}; }`);const D=e.getColor(qs);D&&t.addRule(`${$e.b.symbolReference.cssSelector} { color: ${D}; }`);const I=e.getColor($s);I&&t.addRule(`${$e.b.symbolSnippet.cssSelector} { color: ${I}; }`);const O=e.getColor(Gs);O&&t.addRule(`${$e.b.symbolString.cssSelector} { color: ${O}; }`);const N=e.getColor(Ys);N&&t.addRule(`${$e.b.symbolStruct.cssSelector} { color: ${N}; }`);const E=e.getColor(Zs);E&&t.addRule(`${$e.b.symbolText.cssSelector} { color: ${E}; }`);const T=e.getColor(Xs);T&&t.addRule(`${$e.b.symbolTypeParameter.cssSelector} { color: ${T}; }`);const M=e.getColor(Qs);M&&t.addRule(`${$e.b.symbolUnit.cssSelector} { color: ${M}; }`);const A=e.getColor(Js);A&&t.addRule(`${$e.b.symbolVariable.cssSelector} { color: ${A}; }`)});var ea=i("cqdO"),ta=i("ptcw");class ia{constructor(){let e;this._onDidWillResize=new Ke.b,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new Ke.b,this.onDidResize=this._onDidResize.event,this._sashListener=new D.b,this._size=new Me.b(0,0),this._minSize=new Me.b(0,0),this._maxSize=new Me.b(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Di.b(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Di.b(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Di.b(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Di.a.North}),this._southSash=new Di.b(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Di.a.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t=0,i=0;this._sashListener.add(Ke.c.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(Ke.c.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==e&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(n=>{e&&(i=n.currentX-n.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(n=>{e&&(i=-(n.currentX-n.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(n=>{e&&(t=-(n.currentY-n.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(n=>{e&&(t=n.currentY-n.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(Ke.c.any(this._eastSash.onDidReset,this._westSash.onDidReset)(e=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(Ke.c.any(this._northSash.onDidReset,this._southSash.onDidReset)(e=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:n}=this._minSize,{height:o,width:r}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(n,Math.min(r,t));const s=new Me.b(t,e);Me.b.equals(s,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=s,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}var na=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},oa=function(e,t){return function(i,n){t(i,n,e)}};function ra(e){return!!e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}let sa=class{constructor(e,t){this._editor=e,this._onDidClose=new Ke.b,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new Ke.b,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new D.b,this._renderDisposeable=new D.b,this._borderWidth=1,this._size=new Me.b(330,0),this.domNode=Me.a(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(fo,{editor:e}),this._body=Me.a(".body"),this._scrollbar=new di.a(this._body,{}),Me.q(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Me.q(this._body,Me.a(".header")),this._close=Me.q(this._header,Me.a("span"+$e.b.close.cssSelector)),this._close.title=s.a("details.close","Close"),this._type=Me.q(this._header,Me.a("p.type")),this._docs=Me.q(this._body,Me.a("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(41)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(41),i=t.fontFamily,n=e.get(106)||t.fontSize,o=e.get(107)||t.lineHeight,r=t.fontWeight,s=n+"px",a=o+"px";this.domNode.style.fontSize=s,this.domNode.style.lineHeight=a,this.domNode.style.fontWeight=r,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=a,this._close.style.width=a}getLayoutInfo(){const e=this._editor.getOption(107)||this._editor.getOption(41).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=s.a("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,n;this._renderDisposeable.clear();let{detail:o,documentation:r}=e.completion;if(t){let t="";t+=`score: ${e.score[0]}\n`,t+=`prefix: ${null!==(i=e.word)&&void 0!==i?i:"(no prefix)"}\n`,t+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}\n`,t+=`distance: ${e.distance} (localityBonus-setting)\n`,t+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,t+=`commit_chars: ${null===(n=e.completion.commitCharacters)||void 0===n?void 0:n.join("")}\n`,r=(new g).appendCodeblock("empty",t),o="Provider: "+e.provider._debugDisplayName}if(t||ra(e)){if(this.domNode.classList.remove("no-docs","no-type"),o){const e=o.length>1e5?o.substr(0,1e5)+"…":o;this._type.textContent=e,this._type.title=e,Me.W(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(e))}else Me.t(this._type),this._type.title="",Me.K(this._type),this.domNode.classList.add("no-type");if(Me.t(this._docs),"string"==typeof r)this._docs.classList.remove("markdown-docs"),this._docs.textContent=r;else if(r){this._docs.classList.add("markdown-docs"),Me.t(this._docs);const e=this._markdownRenderer.render(r);this._docs.appendChild(e.element),this._renderDisposeable.add(e),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=e=>{e.preventDefault(),e.stopPropagation()},this._close.onclick=e=>{e.preventDefault(),e.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const i=new Me.b(e,t);Me.b.equals(i,this._size)||(this._size=i,Me.X(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};sa=na([oa(1,Te.a)],sa);class aa{constructor(e,t){let i,n;this.widget=e,this._editor=t,this._disposables=new D.b,this._added=!1,this._resizable=new ia,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let o=0,r=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,n=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(e=>{if(i&&n){this.widget.layout(e.dimension.width,e.dimension.height);let t=!1;e.west&&(r=n.width-e.dimension.width,t=!0),e.north&&(o=n.height-e.dimension.height,t=!0),t&&this._applyTopLeft({top:i.top+o,left:i.left+r})}e.done&&(i=void 0,n=void 0,o=0,r=0,this._userSize=e.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var e;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(e=this._userSize)&&void 0!==e?e:this.widget.size)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e){var t;const i=Me.D(e);this._anchorBox=i,this._placeAtAnchor(this._anchorBox,null!==(t=this._userSize)&&void 0!==t?t:this.widget.size)}_placeAtAnchor(e,t){const i=Me.z(document.body),n=this.widget.getLayoutInfo();let o,r,s,a,l=new Me.b(220,2*n.lineHeight),c=0,h=e.top,d=e.top+e.height-n.borderHeight,u=i.width-(e.left+e.width+n.borderWidth+n.horizontalPadding);c=-n.borderWidth+e.left+e.width,a=!0,o=new Me.b(u,i.height-e.top-n.borderHeight-n.verticalPadding),r=o.with(void 0,e.top+e.height-n.borderHeight-n.verticalPadding),t.width>u&&(e.left>u&&(u=e.left-n.borderWidth-n.horizontalPadding,a=!1,c=Math.max(n.horizontalPadding,e.left-t.width-n.borderWidth),o=o.with(u),r=o.with(void 0,r.height)),e.width>1.3*u&&i.height-(e.top+e.height)>e.height&&(u=e.width,c=e.left,h=-n.borderWidth+e.top+e.height,o=new Me.b(e.width-n.borderHeight,i.height-e.top-e.height-n.verticalPadding),r=o.with(void 0,e.top-n.verticalPadding),l=l.with(o.width)));let g,p=t.height,m=Math.max(o.height,r.height);p>m&&(p=m),p<=o.height?(s=!0,g=o):(s=!1,g=r),this._applyTopLeft({left:c,top:s?h:d-p}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!s,a,s,!a),this._resizable.minSize=l,this._resizable.maxSize=g,this._resizable.layout(p,Math.min(g.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=this._topLeft.left+"px",this.getDomNode().style.top=this._topLeft.top+"px"}}var la=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ca=function(e,t){return function(i,n){t(i,n,e)}};class ha extends Ui{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=Object(s.a)("ddd","{0} ({1})",this._action.label,ha.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"⏎")}}let da=class{constructor(e,t,i,n){this._menuService=i,this._contextKeyService=n,this._menuDisposables=new D.b,this.element=Me.q(e,Me.a(".suggest-status-bar"));const o=e=>e instanceof R.c?t.createInstance(ha,e,void 0):void 0;this._leftActions=new wi.a(this.element,{actionViewItemProvider:o}),this._rightActions=new wi.a(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(Br,this._contextKeyService),t=()=>{const t=[],i=[];for(let[n,o]of e.getActions())"left"===n?t.push(...o):i.push(...o);this._leftActions.clear(),this._leftActions.push(t),this._rightActions.clear(),this._rightActions.push(i)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};da=la([ca(1,Te.a),ca(2,R.a),ca(3,h.b)],da);var ua,ga=i("xONI"),pa=i("MqQJ");function ma(e,t,i,n){const o=n===ua.ROOT_FOLDER?["rootfolder-icon"]:n===ua.FOLDER?["folder-icon"]:["file-icon"];if(i){let r;if(i.scheme===bi.c.data){r=lt.a.parseMetaData(i).get(lt.a.META_DATA_LABEL)}else r=fa(Object(lt.c)(i).toLowerCase());if(n===ua.FOLDER)o.push(r+"-name-folder-icon");else{if(r){if(o.push(r+"-name-file-icon"),r.length<=255){const e=r.split(".");for(let t=1;t<e.length;t++)o.push(e.slice(t).join(".")+"-ext-file-icon")}o.push("ext-file-icon")}const n=function(e,t,i){if(!i)return null;let n=null;if(i.scheme===bi.c.data){const e=lt.a.parseMetaData(i).get(lt.a.META_DATA_MIME);e&&(n=t.getModeId(e))}else{const t=e.getModel(i);t&&(n=t.getModeId())}if(n&&n!==pa.c)return n;return t.getModeIdByFilepathOrFirstLine(i)}(e,t,i);n&&o.push(fa(n)+"-lang-file-icon")}}return o}function fa(e){return e.replace(/[\11\12\14\15\40]/g,"/")}!function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ROOT_FOLDER=2]="ROOT_FOLDER"}(ua||(ua={}));var ba,_a=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},va=function(e,t){return function(i,n){t(i,n,e)}};function Ca(e){return"suggest-aria-id:"+e}const wa=Object(jn.b)("suggest-more-info",$e.b.chevronRight,s.a("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),ya=new((ba=class e{extract(t,i){if(t.textLabel.match(e._regexStrict))return i[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return i[0]=t.completion.detail,!0;if("string"==typeof t.completion.documentation){const n=e._regexRelaxed.exec(t.completion.documentation);if(n&&(0===n.index||n.index+n[0].length===t.completion.documentation.length))return i[0]=n[0],!0}return!1}})._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,ba._regexStrict=new RegExp(`^${ba._regexRelaxed.source}$`,"i"),ba);let Sa=class{constructor(e,t,i,n){this._editor=e,this._modelService=t,this._modeService=i,this._themeService=n,this._onDidToggleDetails=new Ke.b,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new D.b,t.root=e,t.root.classList.add("show-file-icons"),t.icon=Object(Me.q)(e,Object(Me.a)(".icon")),t.colorspan=Object(Me.q)(t.icon,Object(Me.a)("span.colorspan"));const i=Object(Me.q)(e,Object(Me.a)(".contents")),n=Object(Me.q)(i,Object(Me.a)(".main"));t.iconContainer=Object(Me.q)(n,Object(Me.a)(".icon-label.codicon")),t.left=Object(Me.q)(n,Object(Me.a)("span.left")),t.right=Object(Me.q)(n,Object(Me.a)("span.right")),t.iconLabel=new ga.a(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=Object(Me.q)(t.left,Object(Me.a)("span.signature-label")),t.qualifierLabel=Object(Me.q)(t.left,Object(Me.a)("span.qualifier-label")),t.detailsLabel=Object(Me.q)(t.right,Object(Me.a)("span.details-label")),t.readMore=Object(Me.q)(t.right,Object(Me.a)("span.readMore"+A.d.asCSSSelector(wa))),t.readMore.title=s.a("readMore","Read More");const o=()=>{const e=this._editor.getOptions(),i=e.get(41),o=i.fontFamily,r=i.fontFeatureSettings,s=e.get(106)||i.fontSize,a=e.get(107)||i.lineHeight,l=i.fontWeight,c=s+"px",h=a+"px";t.root.style.fontSize=c,t.root.style.fontWeight=l,n.style.fontFamily=o,n.style.fontFeatureSettings=r,n.style.lineHeight=h,t.icon.style.height=h,t.icon.style.width=h,t.readMore.style.height=h,t.readMore.style.width=h};return o(),t.disposables.add(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(41)||e.hasChanged(106)||e.hasChanged(107))&&o()})),t}renderElement(e,t,i){const{completion:n}=e;i.root.id=Ca(t),i.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:Object(Ar.c)(e.score)};let r=[];if(19===n.kind&&ya.extract(e,r))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=r[0];else if(20===n.kind&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const t=ma(this._modelService,this._modeService,ue.a.from({scheme:"fake",path:e.textLabel}),ua.FILE),r=ma(this._modelService,this._modeService,ue.a.from({scheme:"fake",path:n.detail}),ua.FILE);o.extraClasses=t.length>r.length?t:r}else 23===n.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=Object(de.k)([ma(this._modelService,this._modeService,ue.a.from({scheme:"fake",path:e.textLabel}),ua.FOLDER),ma(this._modelService,this._modeService,ue.a.from({scheme:"fake",path:n.detail}),ua.FOLDER)])):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...Object(pe.I)(n.kind).split(" ")));n.tags&&n.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),"string"==typeof n.label?(i.parametersLabel.textContent="",i.detailsLabel.textContent=La(n.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=La(n.label.detail||""),i.detailsLabel.textContent=La(n.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?Object(Me.W)(i.detailsLabel):Object(Me.K)(i.detailsLabel),ra(e)?(i.right.classList.add("can-expand-details"),Object(Me.W)(i.readMore),i.readMore.onmousedown=e=>{e.stopPropagation(),e.preventDefault()},i.readMore.onclick=e=>{e.stopPropagation(),e.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),Object(Me.K)(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};function La(e){return e.replace(/\r\n|\r|\n/g,"")}Sa=_a([va(1,me.a),va(2,li.a),va(3,A.b)],Sa);var xa=i("Sdnv"),ka=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Da=function(e,t){return function(i,n){t(i,n,e)}},Ia=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Oa=Object(M.wc)("editorSuggestWidget.background",{dark:M.Y,light:M.Y,hc:M.Y},s.a("editorSuggestWidgetBackground","Background color of the suggest widget.")),Na=Object(M.wc)("editorSuggestWidget.border",{dark:M.Z,light:M.Z,hc:M.Z},s.a("editorSuggestWidgetBorder","Border color of the suggest widget.")),Ea=Object(M.wc)("editorSuggestWidget.foreground",{dark:M.B,light:M.B,hc:M.B},s.a("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Ta=Object(M.wc)("editorSuggestWidget.selectedForeground",{dark:M.tc,light:M.tc,hc:M.tc},s.a("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Ma=Object(M.wc)("editorSuggestWidget.selectedIconForeground",{dark:M.uc,light:M.uc,hc:M.uc},s.a("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),Aa=Object(M.wc)("editorSuggestWidget.selectedBackground",{dark:M.sc,light:M.sc,hc:M.sc},s.a("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),Ra=Object(M.wc)("editorSuggestWidget.highlightForeground",{dark:M.Kb,light:M.Kb,hc:M.Kb},s.a("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),Pa=Object(M.wc)("editorSuggestWidget.focusHighlightForeground",{dark:M.Ib,light:M.Ib,hc:M.Ib},s.a("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));class Fa{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof ki}`}restore(){var e;const t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{const e=JSON.parse(t);if(Me.b.is(e))return Me.b.lift(e)}catch(i){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let ja=class e{constructor(e,t,i,n,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new k.g,this._disposables=new D.b,this._onDidSelect=new Ke.b,this._onDidFocus=new Ke.b,this._onDidHide=new Ke.b,this._onDidShow=new Ke.b,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new Ke.b,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new ia,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Ba(this,e),this._persistedSize=new Fa(t,e);class r{constructor(e,t,i=!1,n=!1){this.persistedSize=e,this.currentSize=t,this.persistHeight=i,this.persistWidth=n}}let a;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),a=new r(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(e=>{var t,i,n,o;if(this._resize(e.dimension.width,e.dimension.height),a&&(a.persistHeight=a.persistHeight||!!e.north||!!e.south,a.persistWidth=a.persistWidth||!!e.east||!!e.west),e.done){if(a){const{itemHeight:e,defaultSize:r}=this.getLayoutInfo(),s=Math.round(e/2);let{width:l,height:c}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-c)<=s)&&(c=null!==(i=null===(t=a.persistedSize)||void 0===t?void 0:t.height)&&void 0!==i?i:r.height),(!a.persistWidth||Math.abs(a.currentSize.width-l)<=s)&&(l=null!==(o=null===(n=a.persistedSize)||void 0===n?void 0:n.width)&&void 0!==o?o:r.width),this._persistedSize.store(new Me.b(l,c))}this._contentWidget.unlockPreference(),a=void 0}})),this._messageElement=Me.q(this.element.domNode,Me.a(".message")),this._listElement=Me.q(this.element.domNode,Me.a(".tree"));const l=o.createInstance(sa,this.editor);l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new aa(l,this.editor);const c=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);c();const h=o.createInstance(Sa,this.editor);this._disposables.add(h),this._disposables.add(h.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ea.c("SuggestWidget",this._listElement,{getHeight:e=>this.getLayoutInfo().itemHeight,getTemplateId:e=>"suggestion"},[h],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:e=>{if(e.isResolved&&this._isDetailsVisible()){const{documentation:t,detail:i}=e.completion,n=ce.w("{0}{1}",i||"",t?"string"==typeof t?t:t.value:"");return s.a("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",e.textLabel,n)}return e.textLabel},getWidgetAriaLabel:()=>s.a("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=o.createInstance(da,this.element.domNode);const d=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);d(),this._disposables.add(Object(ta.b)(this._list,n,{listInactiveFocusBackground:Aa,listInactiveFocusOutline:M.b})),this._disposables.add(n.onDidColorThemeChange(e=>this._onThemeChange(e))),this._onThemeChange(n.getColorTheme()),this._disposables.add(this._list.onMouseDown(e=>this._onListMouseDownOrTap(e))),this._disposables.add(this._list.onTap(e=>this._onListMouseDownOrTap(e))),this._disposables.add(this._list.onDidChangeSelection(e=>this._onListSelection(e))),this._disposables.add(this._list.onDidChangeFocus(e=>this._onListFocus(e))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(e=>{e.hasChanged(105)&&(d(),c())})),this._ctxSuggestWidgetVisible=jr.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=jr.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=jr.MultipleSuggestions.bindTo(i),this._disposables.add(Me.o(this._details.widget.domNode,"keydown",e=>{this._onDetailsKeydown.fire(e)})),this._disposables.add(this.editor.onMouseDown(e=>this._onEditorMouseDown(e)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){const t=e.getColor(Oa);t&&(this.element.domNode.style.backgroundColor=t.toString(),this._messageElement.style.backgroundColor=t.toString(),this._details.widget.domNode.style.backgroundColor=t.toString());const i=e.getColor(Na);i&&(this.element.domNode.style.borderColor=i.toString(),this._messageElement.style.borderColor=i.toString(),this._status.element.style.borderTopColor=i.toString(),this._details.widget.domNode.style.borderColor=i.toString(),this._detailsBorderColor=i.toString());const n=e.getColor(M.db);n&&(this._detailsFocusBorderColor=n.toString()),this._details.widget.borderWidth="hc"===e.type?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this._completionModel)return;const i=e.elements[0],n=e.indexes[0];i!==this._focusedItem&&(null===(t=this._currentSuggestionDetails)||void 0===t||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(n),this._currentSuggestionDetails=Object(k.h)(e=>Ia(this,void 0,void 0,(function*(){const t=Object(k.i)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250);e.onCancellationRequested(()=>t.dispose());const n=yield i.resolve(e);return t.dispose(),n}))),this._currentSuggestionDetails.then(()=>{n>=this._list.length||i!==this._list.element(n)||(this._ignoreFocusEvents=!0,this._list.splice(n,1,[i]),this._list.setFocus([n]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Ca(n)}))}).catch(u.e)),this._onDidFocus.fire({item:i,index:n,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:Me.K(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.LOADING_MESSAGE,Me.K(this._listElement,this._status.element),Me.W(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,Me.K(this._listElement,this._status.element),Me.W(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:Me.K(this._messageElement),Me.W(this._listElement,this._status.element),this._show();break;case 5:Me.K(this._messageElement),Me.W(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=Object(k.i)(()=>this._setState(1),t)))}showSuggestions(e,t,i,n){var o,r;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(o=this._loadingTimeout)||void 0===o||o.dispose(),null===(r=this._currentSuggestionDetails)||void 0===r||r.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&2!==this._state&&0!==this._state)return void this._setState(4);const s=this._completionModel.items.length,a=0===s;if(this._ctxSuggestWidgetMultipleSuggestions.set(s>1),a)return this._setState(n?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!ra(this._list.getFocusedElements()[0])&&!this._explainMode||3!==this._state&&5!==this._state&&4!==this._state||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),i=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return 4===this._state}_afterRender(e){null!==e?2!==this._state&&1!==this._state&&(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(e){var t,i,n;if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;const o=Me.z(document.body),r=this.getLayoutInfo();e||(e=r.defaultSize);let s=e.height,a=e.width;if(this._status.element.style.lineHeight=r.itemHeight+"px",2===this._state||1===this._state)s=r.itemHeight+r.borderHeight,a=r.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Me.b(a,s),this._contentWidget.setPreference(2);else{const l=o.width-r.borderHeight-2*r.horizontalPadding;a>l&&(a=l);const c=this._completionModel?this._completionModel.stats.pLabelLen*r.typicalHalfwidthCharacterWidth:a,h=r.statusBarHeight+this._list.contentHeight+r.borderHeight,d=r.itemHeight+r.statusBarHeight,u=Me.D(this.editor.getDomNode()),g=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),p=u.top+g.top+g.height,m=Math.min(o.height-p-r.verticalPadding,h),f=Math.min(u.top+g.top-r.verticalPadding,h);let b=Math.min(Math.max(f,m)+r.borderHeight,h);s===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(s=this._cappedHeight.wanted),s<d&&(s=d),s>b&&(s=b);const _=100;s>m||this._forceRenderingAbove&&f>_?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),b=f):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),b=m),this.element.preferredSize=new Me.b(c,r.defaultSize.height),this.element.maxSize=new Me.b(l,b),this.element.minSize=new Me.b(220,d),this._cappedHeight=s===h?{wanted:null!==(n=null===(i=this._cappedHeight)||void 0===i?void 0:i.wanted)&&void 0!==n?n:e.height,capped:s}:void 0}this._resize(a,s)}_resize(e,t){const{width:i,height:n}=this.element.maxSize;e=Math.min(i,e),t=Math.min(n,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=t-o+"px",this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const e=this.editor.getOption(41),t=Object(xa.b)(this.editor.getOption(107)||e.lineHeight,8,1e3),i=this.editor.getOption(105).showStatusBar&&2!==this._state&&1!==this._state?t:0,n=this._details.widget.borderWidth,o=2*n;return{itemHeight:t,statusBarHeight:i,borderWidth:n,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Me.b(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};ja.LOADING_MESSAGE=s.a("suggestWidget.loading","Loading..."),ja.NO_SUGGESTIONS_MESSAGE=s.a("suggestWidget.noSuggestions","No suggestions."),ja=ka([Da(1,Ht.a),Da(2,h.b),Da(3,A.b),Da(4,Te.a)],ja);class Ba{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:n}=this._widget.getLayoutInfo();return new Me.b(t+2*i+n,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}Object(A.f)((e,t)=>{const i=e.getColor(Ra);i&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${i}; }`);const n=e.getColor(Pa);i&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${n}; }`);const o=e.getColor(Ea);o&&t.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${o}; }`);const r=e.getColor(Ta);r&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${r}; }`);const s=e.getColor(Ma);s&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${s}; }`);const a=e.getColor(M.Jc);a&&t.addRule(`.monaco-editor .suggest-details a { color: ${a}; }`);const l=e.getColor(M.Hc);l&&t.addRule(`.monaco-editor .suggest-details code { background-color: ${l}; }`)});var Wa=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Va=function(e,t){return function(i,n){t(i,n,e)}};let Ha=class e{constructor(t,i){this._editor=t,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(i),this._configListener=this._editor.onDidChangeConfiguration(e=>e.hasChanged(110)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}_update(){const e="on"===this._editor.getOption(110);if(this._enabled!==e)if(this._enabled=e,this._enabled){const e=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const e=this._editor.getModel(),t=this._editor.getSelection(),i=e.getWordAtPosition(t.getStartPosition());i?this._ckAtEnd.set(i.endColumn===t.getStartPosition().column):this._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};Ha.AtEnd=new h.c("atEndOfWord",!1),Ha=Wa([Va(1,h.b)],Ha);var za=i("MXAL");class Ua{constructor(e,t,i){this._disposables=new D.b,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(n=>{if(this._active&&!t.isFrozen()){const t=n.charCodeAt(n.length-1);this._active.acceptCharacters.has(t)&&e.getOption(0)&&i(this._active.item)}}))}_onItem(e){if(!e||!Object(de.n)(e.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===e.item)return;const t=new za.b;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}class Ka{constructor(e,t){this._disposables=new D.b,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty)return;if(!e.hasModel())return;const t=e.getSelections(),i=t.length;let n=!1;for(let e=0;e<i;e++)if(!t[e].isEmpty()){n=!0;break}if(!n)return;this._lastOvertyped=[];const o=e.getModel();for(let e=0;e<i;e++){const i=t[e];if(o.getValueLengthInRange(i)>Ka._maxSelectionLength)return;this._lastOvertyped[e]={value:o.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}this._empty=!1})),this._disposables.add(t.onDidCancel(e=>{this._empty||e.retrigger||(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}Ka._maxSelectionLength=51200;var qa=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},$a=function(e,t){return function(i,n){t(i,n,e)}};class Ga{constructor(e,t){this._model=e,this._position=t;if(e.getLineMaxColumn(t.lineNumber)!==t.column){const i=e.getOffsetAt(t),n=e.getPositionAt(i+1);this._marker=e.deltaDecorations([],[{range:O.a.fromPositions(t,n),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let Ya=class e{constructor(e,t,i,n,o,r){this._memoryService=t,this._commandService=i,this._contextKeyService=n,this._instantiationService=o,this._logService=r,this._lineSuffix=new D.d,this._toDispose=new D.b,this.editor=e,this.model=o.createInstance(Cs,this.editor);const s=jr.InsertMode.bindTo(n);s.set(e.getOption(105).insertMode),this.model.onDidTrigger(()=>s.set(e.getOption(105).insertMode)),this.widget=this._toDispose.add(new k.b(()=>{const e=this._instantiationService.createInstance(ja,this.editor);this._toDispose.add(e),this._toDispose.add(e.onDidSelect(e=>this._insertSuggestion(e,0),this));const t=new Ua(this.editor,e,e=>this._insertSuggestion(e,2));this._toDispose.add(t),this._toDispose.add(this.model.onDidSuggest(e=>{0===e.completionModel.items.length&&t.reset()}));const i=jr.MakesTextEdit.bindTo(this._contextKeyService),n=jr.HasInsertAndReplaceRange.bindTo(this._contextKeyService),o=jr.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(Object(D.i)(()=>{i.reset(),n.reset(),o.reset()})),this._toDispose.add(e.onDidFocus(({item:e})=>{const t=this.editor.getPosition(),r=e.editStart.column,s=t.column;let a=!0;if(!("smart"!==this.editor.getOption(1)||2!==this.model.state||e.completion.command||e.completion.additionalTextEdits||4&e.completion.insertTextRules||s-r!==e.completion.insertText.length)){a=this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:r,endLineNumber:t.lineNumber,endColumn:s})!==e.completion.insertText}i.set(a),n.set(!I.a.equals(e.editInsertEnd,e.editReplaceEnd)),o.set(Boolean(e.provider.resolveCompletionItem)||Boolean(e.completion.documentation)||e.completion.detail!==e.completion.label)})),this._toDispose.add(e.onDetailsKeyDown(e=>{e.toKeybinding().equals(new c.e(!0,!1,!1,!1,33))||$.f&&e.toKeybinding().equals(new c.e(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||this.editor.focus()})),e})),this._overtypingCapturer=this._toDispose.add(new k.b(()=>this._toDispose.add(new Ka(this.editor,this.model)))),this._alternatives=this._toDispose.add(new k.b(()=>this._toDispose.add(new cs(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(Ha,e)),this._toDispose.add(this.model.onDidTrigger(e=>{this.widget.value.showTriggered(e.auto,e.shy?250:50),this._lineSuffix.value=new Ga(this.editor.getModel(),e.position)})),this._toDispose.add(this.model.onDidSuggest(e=>{if(!e.shy){let t=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items);this.widget.value.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}})),this._toDispose.add(this.model.onDidCancel(e=>{e.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let a=jr.AcceptSuggestionsOnEnter.bindTo(n),l=()=>{const e=this.editor.getOption(1);a.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>l())),l()}static get(t){return t.getContribution(e.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const i=this.editor.getModel(),n=i.getAlternativeVersionId(),{item:o}=e,r=[],s=new ae.b;1&t||this.editor.pushUndoStop();const a=this.getOverwriteInfo(o,Boolean(8&t));if(this._memoryService.memorize(i,this.editor.getPosition(),o),Array.isArray(o.completion.additionalTextEdits)){const e=ge.c.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",o.completion.additionalTextEdits.map(e=>zo.a.replace(O.a.lift(e.range),e.text))),e.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!o.isResolved){const e=new Rr.a(!0);let n;const a=i.onDidChangeContent(e=>{if(e.isFlush)return s.cancel(),void a.dispose();for(let t of e.changes){const e=O.a.getEndPosition(t.range);n&&!I.a.isBefore(e,n)||(n=e)}});let l=t;t|=2;let c=!1,h=this.editor.onWillType(()=>{h.dispose(),c=!0,2&l||this.editor.pushUndoStop()});r.push(o.resolve(s.token).then(()=>{if(!o.completion.additionalTextEdits||s.token.isCancellationRequested)return!1;if(n&&o.completion.additionalTextEdits.some(e=>I.a.isBefore(n,O.a.getStartPosition(e.range))))return!1;c&&this.editor.pushUndoStop();const e=ge.c.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",o.completion.additionalTextEdits.map(e=>zo.a.replace(O.a.lift(e.range),e.text))),e.restoreRelativeVerticalPositionOfCursor(this.editor),!c&&2&l||this.editor.pushUndoStop(),!0}).then(t=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",e.elapsed(),t),a.dispose(),h.dispose()}))}let{insertText:l}=o.completion;4&o.completion.insertTextRules||(l=mr.escape(l)),Qr.get(this.editor).insert(l,{overwriteBefore:a.overwriteBefore,overwriteAfter:a.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&o.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),o.completion.command?o.completion.command.id===Za.id?this.model.trigger({auto:!0,shy:!1},!0):(r.push(this._commandService.executeCommand(o.completion.command.id,...o.completion.command.arguments?[...o.completion.command.arguments]:[]).catch(u.e)),this.model.cancel()):this.model.cancel(),4&t&&this._alternatives.value.set(e,e=>{for(s.cancel();i.canUndo();){n!==i.getAlternativeVersionId()&&i.undo(),this._insertSuggestion(e,3|(8&t?8:0));break}}),this._alertCompletionItem(o),Promise.all(r).finally(()=>{this.model.clear(),s.dispose()})}getOverwriteInfo(e,t){Object(Et.c)(this.editor.hasModel());let i="replace"===this.editor.getOption(105).insertMode;t&&(i=!i);const n=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:n+(this.editor.getPosition().column-e.position.column),overwriteAfter:o+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(e){if(Object(de.n)(e.completion.additionalTextEdits)){let t=s.a("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);Object(f.a)(t)}}triggerSuggest(e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,e),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},n=e=>{if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;const t=this.editor.getPosition(),i=e.editStart.column,n=t.column;if(n-i!==e.completion.insertText.length)return!0;return this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:i,endLineNumber:t.lineNumber,endColumn:n})!==e.completion.insertText};Ke.c.once(this.model.onDidTrigger)(e=>{let t=[];Ke.c.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{Object(D.f)(t),i()},void 0,t),this.model.onDidSuggest(({completionModel:e})=>{if(Object(D.f)(t),0===e.items.length)return void i();const o=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.items),r=e.items[o];n(r)?(this.editor.pushUndoStop(),this._insertSuggestion({index:o,item:r,model:e},7)):i()},void 0,t)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(t.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.value.stopForceRenderingAbove()}};Ya.ID="editor.contrib.suggestController",Ya=qa([$a(1,rs),$a(2,Ce.b),$a(3,h.b),$a(4,Te.a),$a(5,Gr.b)],Ya);class Za extends r.b{constructor(){super({id:Za.id,label:s.a("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:h.a.and(a.a.writable,a.a.hasCompletionItemProvider),kbOpts:{kbExpr:a.a.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t){const i=Ya.get(t);i&&i.triggerSuggest()}}Za.id="editor.action.triggerSuggest",Object(r.l)(Ya.ID,Ya),Object(r.j)(Za);const Xa=r.c.bindToContribution(Ya.get);Object(r.k)(new Xa({id:"acceptSelectedSuggestion",precondition:jr.Visible,handler(e){e.acceptSelectedSuggestion(!0,!1)}})),ss.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:h.a.and(jr.Visible,a.a.textInputFocus),primary:2,weight:190}),ss.a.registerKeybindingRule({id:"acceptSelectedSuggestion",when:h.a.and(jr.Visible,a.a.textInputFocus,jr.AcceptSuggestionsOnEnter,jr.MakesTextEdit),primary:3,weight:190}),R.d.appendMenuItem(Br,{command:{id:"acceptSelectedSuggestion",title:s.a("accept.insert","Insert")},group:"left",order:1,when:jr.HasInsertAndReplaceRange.toNegated()}),R.d.appendMenuItem(Br,{command:{id:"acceptSelectedSuggestion",title:s.a("accept.insert","Insert")},group:"left",order:1,when:h.a.and(jr.HasInsertAndReplaceRange,jr.InsertMode.isEqualTo("insert"))}),R.d.appendMenuItem(Br,{command:{id:"acceptSelectedSuggestion",title:s.a("accept.replace","Replace")},group:"left",order:1,when:h.a.and(jr.HasInsertAndReplaceRange,jr.InsertMode.isEqualTo("replace"))}),Object(r.k)(new Xa({id:"acceptAlternativeSelectedSuggestion",precondition:h.a.and(jr.Visible,a.a.textInputFocus),kbOpts:{weight:190,kbExpr:a.a.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Br,group:"left",order:2,when:h.a.and(jr.HasInsertAndReplaceRange,jr.InsertMode.isEqualTo("insert")),title:s.a("accept.replace","Replace")},{menuId:Br,group:"left",order:2,when:h.a.and(jr.HasInsertAndReplaceRange,jr.InsertMode.isEqualTo("replace")),title:s.a("accept.insert","Insert")}]})),Ce.a.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Object(r.k)(new Xa({id:"hideSuggestWidget",precondition:jr.Visible,handler:e=>e.cancelSuggestWidget(),kbOpts:{weight:190,kbExpr:a.a.textInputFocus,primary:9,secondary:[1033]}})),Object(r.k)(new Xa({id:"selectNextSuggestion",precondition:h.a.and(jr.Visible,jr.MultipleSuggestions),handler:e=>e.selectNextSuggestion(),kbOpts:{weight:190,kbExpr:a.a.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Object(r.k)(new Xa({id:"selectNextPageSuggestion",precondition:h.a.and(jr.Visible,jr.MultipleSuggestions),handler:e=>e.selectNextPageSuggestion(),kbOpts:{weight:190,kbExpr:a.a.textInputFocus,primary:12,secondary:[2060]}})),Object(r.k)(new Xa({id:"selectLastSuggestion",precondition:h.a.and(jr.Visible,jr.MultipleSuggestions),handler:e=>e.selectLastSuggestion()})),Object(r.k)(new Xa({id:"selectPrevSuggestion",precondition:h.a.and(jr.Visible,jr.MultipleSuggestions),handler:e=>e.selectPrevSuggestion(),kbOpts:{weight:190,kbExpr:a.a.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Object(r.k)(new Xa({id:"selectPrevPageSuggestion",precondition:h.a.and(jr.Visible,jr.MultipleSuggestions),handler:e=>e.selectPrevPageSuggestion(),kbOpts:{weight:190,kbExpr:a.a.textInputFocus,primary:11,secondary:[2059]}})),Object(r.k)(new Xa({id:"selectFirstSuggestion",precondition:h.a.and(jr.Visible,jr.MultipleSuggestions),handler:e=>e.selectFirstSuggestion()})),Object(r.k)(new Xa({id:"toggleSuggestionDetails",precondition:jr.Visible,handler:e=>e.toggleSuggestionDetails(),kbOpts:{weight:190,kbExpr:a.a.textInputFocus,primary:2058,mac:{primary:266}},menuOpts:[{menuId:Br,group:"right",order:1,when:h.a.and(jr.DetailsVisible,jr.CanResolve),title:s.a("detail.more","show less")},{menuId:Br,group:"right",order:1,when:h.a.and(jr.DetailsVisible.toNegated(),jr.CanResolve),title:s.a("detail.less","show more")}]})),Object(r.k)(new Xa({id:"toggleExplainMode",precondition:jr.Visible,handler:e=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),Object(r.k)(new Xa({id:"toggleSuggestionFocus",precondition:jr.Visible,handler:e=>e.toggleSuggestionFocus(),kbOpts:{weight:190,kbExpr:a.a.textInputFocus,primary:2570,mac:{primary:778}}})),Object(r.k)(new Xa({id:"insertBestCompletion",precondition:h.a.and(a.a.textInputFocus,h.a.equals("config.editor.tabCompletion","on"),Ha.AtEnd,jr.Visible.toNegated(),cs.OtherSuggestions.toNegated(),Qr.InSnippetMode.toNegated()),handler:(e,t)=>{e.triggerSuggestAndAcceptBest(Object(Et.j)(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:190,primary:2}})),Object(r.k)(new Xa({id:"insertNextSuggestion",precondition:h.a.and(a.a.textInputFocus,h.a.equals("config.editor.tabCompletion","on"),cs.OtherSuggestions,jr.Visible.toNegated(),Qr.InSnippetMode.toNegated()),handler:e=>e.acceptNextSuggestion(),kbOpts:{weight:190,kbExpr:a.a.textInputFocus,primary:2}})),Object(r.k)(new Xa({id:"insertPrevSuggestion",precondition:h.a.and(a.a.textInputFocus,h.a.equals("config.editor.tabCompletion","on"),cs.OtherSuggestions,jr.Visible.toNegated(),Qr.InSnippetMode.toNegated()),handler:e=>e.acceptPrevSuggestion(),kbOpts:{weight:190,kbExpr:a.a.textInputFocus,primary:1026}})),Object(r.j)(class extends r.b{constructor(){super({id:"editor.action.resetSuggestSize",label:s.a("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(e,t){Ya.get(t).resetWidgetSize()}});class Qa extends $o{constructor(e){super(e),this.isSuggestWidgetVisible=!1,this.currentGhostText=void 0,this._isActive=!1,this.isShiftKeyPressed=!1,this.minReservedLineCount=0,this.setInactiveDelayed=this._register(new k.e(()=>{this.isSuggestWidgetVisible||this.isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100));const t=Ya.get(this.editor);if(t){let e=!1;const i=()=>{e||(e=!0,this._register(t.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})),this._register(t.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.minReservedLineCount=0,this.updateFromSuggestion()})),this._register(t.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()})))};this._register(Ke.c.once(t.model.onDidTrigger)(e=>{i()}))}this.updateFromSuggestion(),this._register(this.editor.onDidChangeCursorPosition(e=>{this.isSuggestionPreviewEnabled()&&this.update()})),this._register(Object(D.i)(()=>{const e=Ya.get(this.editor);e&&e.stopForceRenderingAbove()})),this._register(e.onKeyDown(e=>{e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.updateFromSuggestion())})),this._register(e.onKeyUp(e=>{e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.updateFromSuggestion())}))}get isActive(){return this._isActive}setExpanded(e){super.setExpanded(e),this.updateFromSuggestion()}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateFromSuggestion(){const e=Ya.get(this.editor);if(!e)return void this.setCurrentInlineCompletion(void 0);if(!this.isSuggestWidgetVisible)return void this.setCurrentInlineCompletion(void 0);const t=e.widget.value.getFocusedItem();t?this.setCurrentInlineCompletion(function(e,t,i,n){const o=i.item;if(Array.isArray(o.completion.additionalTextEdits))return{text:"",range:O.a.fromPositions(t,t)};let{insertText:r}=o.completion;if(4&o.completion.insertTextRules){const i=(new mr).parse(r),n=e.editor.getModel();Mr.adjustWhitespace(n,t,i,!0,!0),r=i.toString()}const s=e.getOverwriteInfo(o,n);return{text:r,range:O.a.fromPositions(t.delta(0,-s.overwriteBefore),t.delta(0,Math.max(s.overwriteAfter,0)))}}(e,this.editor.getPosition(),t,this.isShiftKeyPressed)):this.setCurrentInlineCompletion(void 0)}setCurrentInlineCompletion(e){this.currentCompletion=e,this.update()}update(){const e=this.currentCompletion,t=this.editor.getOptions().get(105).previewMode;this.setGhostText(e?ir(e,this.editor.getModel(),t,this.editor.getPosition())||new Ko(e.range.endLineNumber,[],this.minReservedLineCount):void 0)}setGhostText(e){if(Ko.equals(this.currentGhostText,e))return;this.currentGhostText=e,this.currentGhostText&&this.expanded&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,...this.currentGhostText.parts.map(e=>e.lines.length-1)));const t=Ya.get(this.editor);t&&(this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?t.forceRenderingAbove():t.stopForceRenderingAbove()),this.onDidChangeEmitter.fire()}get ghostText(){return this.isSuggestionPreviewEnabled()?this.currentGhostText:void 0}}var Ja=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},el=function(e,t){return function(i,n){t(i,n,e)}},tl=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class il extends D.a{constructor(){super(...arguments),this.onDidChangeEmitter=new Ke.b,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new D.d)}get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t,i,n;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?(i=e,n=e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()}),{object:i,dispose:()=>null==n?void 0:n.dispose()}):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}get expanded(){return!!this.targetModel&&this.targetModel.expanded}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let nl=class extends il{constructor(e,t){super(),this.editor=e,this.commandService=t,this.suggestWidgetAdapterModel=this._register(new Qa(this.editor)),this.inlineCompletionsModel=this._register(new Xo(this.editor,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const i=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!i&&i.parts.some(t=>e.containsPosition(new I.a(i.lineNumber,t.column)))}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger()}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}hasMultipleInlineCompletions(){var e;return tl(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};nl=Ja([el(1,Ce.b)],nl);var ol=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},rl=function(e,t){return function(i,n){t(i,n,e)}},sl=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let al=class e extends D.a{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new D.d),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(e=>{e.hasChanged(105)&&this.updateModelController(),e.hasChanged(53)&&this.updateModelController()})),this.updateModelController()}static get(t){return t.getContribution(e.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){const e=this.editor.getOption(105),t=this.editor.getOption(53);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(cl,this.editor):void 0}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return(null===(i=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return sl(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};al.inlineSuggestionVisible=new h.c("inlineSuggestionVisible",!1,s.a("inlineSuggestionVisible","Whether an inline suggestion is visible")),al.inlineSuggestionHasIndentation=new h.c("inlineSuggestionHasIndentation",!1,s.a("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),al.ID="editor.contrib.ghostTextController",al=ol([rl(1,Te.a)],al);class ll{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=al.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=al.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}}let cl=class extends D.a{constructor(e,t,i){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new ll(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(nl,this.editor)),this.widget=this._register(this.instantiationService.createInstance(Fo,this.editor,this.model)),this._register(Object(D.i)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));const t=this.model.inlineCompletionsModel.ghostText;if(t&&t.parts.length>0){const{column:e,lines:i}=t.parts[0],n=i[0].startsWith(" ")||i[0].startsWith("\t"),o=e<=this.editor.getModel().getLineIndentColumn(t.lineNumber);this.contextKeys.inlineCompletionSuggestsIndentation.set(!!this.model.activeInlineCompletionsModel&&n&&o)}else this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}};cl=ol([rl(1,Te.a),rl(2,h.b)],cl);const hl=r.c.bindToContribution(al.get),dl=new hl({id:"editor.action.inlineSuggest.commit",precondition:h.a.and(al.inlineSuggestionVisible,al.inlineSuggestionHasIndentation.toNegated(),a.a.tabMovesFocus.toNegated()),kbOpts:{weight:200,primary:2},handler(e){e.commit(),e.editor.focus()}});Object(r.k)(dl),Object(r.k)(new hl({id:"editor.action.inlineSuggest.hide",precondition:al.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(e){e.hide()}}));class ul extends r.b{constructor(){super({id:ul.ID,label:s.a("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:h.a.and(a.a.writable,al.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return sl(this,void 0,void 0,(function*(){const e=al.get(t);e&&(e.showNextInlineCompletion(),t.focus())}))}}ul.ID="editor.action.inlineSuggest.showNext";class gl extends r.b{constructor(){super({id:gl.ID,label:s.a("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:h.a.and(a.a.writable,al.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return sl(this,void 0,void 0,(function*(){const e=al.get(t);e&&(e.showPreviousInlineCompletion(),t.focus())}))}}gl.ID="editor.action.inlineSuggest.showPrevious";class pl extends r.b{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:s.a("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:a.a.writable})}run(e,t){return sl(this,void 0,void 0,(function*(){const e=al.get(t);e&&e.trigger()}))}}Object(r.l)(al.ID,al),Object(r.j)(pl),Object(r.j)(ul),Object(r.j)(gl);var ml=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},fl=function(e,t){return function(i,n){t(i,n,e)}};class bl{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let _l=class{constructor(e,t,i,n,o){this._editor=e,this._commandService=i,this._menuService=n,this._contextKeyService=o}suggestHoverAnchor(e){const t=al.get(this._editor);if(!t)return null;if(8===e.target.type){const i=e.target.detail;if(t.shouldShowHoverAtViewZone(i.viewZoneId))return new xo(1e3,this,O.a.fromPositions(i.positionBefore||i.position,i.positionBefore||i.position))}if(7===e.target.type&&e.target.range&&t.shouldShowHoverAt(e.target.range))return new xo(1e3,this,e.target.range);if(6===e.target.type&&e.target.range&&e.target.detail){if(e.target.detail.mightBeForeignElement&&t.shouldShowHoverAt(e.target.range))return new xo(1e3,this,e.target.range)}return null}computeSync(e,t){const i=al.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new bl(this,e.range,i)]:[]}renderHoverParts(e,t,i){const n=new D.b,o=n.add(this._menuService.createMenu(R.b.InlineCompletionsActions,this._contextKeyService)),r=i.addAction({label:s.a("showNextInlineSuggestion","Next"),commandId:ul.ID,run:()=>this._commandService.executeCommand(ul.ID)}),a=i.addAction({label:s.a("showPreviousInlineSuggestion","Previous"),commandId:gl.ID,run:()=>this._commandService.executeCommand(gl.ID)});i.addAction({label:s.a("acceptInlineSuggestion","Accept"),commandId:dl.id,run:()=>this._commandService.executeCommand(dl.id)});const l=[r,a];for(const s of l)s.setEnabled(!1);e[0].hasMultipleSuggestions().then(e=>{for(const t of l)t.setEnabled(e)});for(const[s,c]of o.getActions())for(const e of c)e instanceof R.c&&i.addAction({label:e.label,commandId:e.item.id,run:()=>this._commandService.executeCommand(e.item.id)});return n}};_l=ml([fl(2,Ce.b),fl(3,R.a),fl(4,h.b)],_l);class vl{constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new Ke.b,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Ke.b,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Ke.b,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let i=0;i<this.colorPresentations.length;i++)if(t.toLowerCase()===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}i("EPS+");const Cl=Me.a;class wl extends D.a{constructor(e,t,i){super(),this.model=t,this.domNode=Cl(".colorpicker-header"),Me.q(e,this.domNode),this.pickedColorNode=Me.q(this.domNode,Cl(".picked-color"));const n=Me.q(this.domNode,Cl(".original-color"));n.style.backgroundColor=ii.a.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(M.E)||ii.a.white,this._register(Object(A.f)((e,t)=>{this.backgroundColor=e.getColor(M.E)||ii.a.white})),this._register(Me.i(this.pickedColorNode,Me.d.CLICK,()=>this.model.selectNextColorPresentation())),this._register(Me.i(n,Me.d.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=ii.a.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter())}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=ii.a.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}class yl extends D.a{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this.domNode=Cl(".colorpicker-body"),Me.q(e,this.domNode),this.saturationBox=new Sl(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new xl(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new kl(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new ii.a(new ii.b(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new ii.a(new ii.b(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=360*(1-e);this.model.color=new ii.a(new ii.b(360===i?0:i,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Sl extends D.a{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new Ke.b,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Ke.b,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Cl(".saturation-wrap"),Me.q(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",Me.q(this.domNode,this.canvas),this.selection=Cl(".saturation-selection"),Me.q(this.domNode,this.selection),this.layout(),this._register(Me.g(this.domNode,e=>this.onMouseDown(e))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new Ue.a);const t=Me.D(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,Ue.b,e=>this.onDidChangePosition(e.posx-t.left,e.posy-t.top),()=>null);const i=Me.h(document,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new ii.a(new ii.b(e.h,1,1,1)),i=this.canvas.getContext("2d"),n=i.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");const o=i.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=ii.a.Format.CSS.format(t),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class Ll extends D.a{constructor(e,t){super(),this.model=t,this._onDidChange=new Ke.b,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Ke.b,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Me.q(e,Cl(".strip")),this.overlay=Me.q(this.domNode,Cl(".overlay")),this.slider=Me.q(this.domNode,Cl(".slider")),this.slider.style.top="0px",this._register(Me.g(this.domNode,e=>this.onMouseDown(e))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new Ue.a),i=Me.D(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,Ue.b,e=>this.onDidChangeTop(e.posy-i.top),()=>null);const n=Me.h(document,()=>{this._onColorFlushed.fire(),n.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class xl extends Ll{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:i,b:n}=e.rgba,o=new ii.a(new ii.c(t,i,n,1)),r=new ii.a(new ii.c(t,i,n,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${r} 100%)`}getValue(e){return e.hsva.a}}class kl extends Ll{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class Dl extends hi.a{constructor(e,t,i,n){super(),this.model=t,this.pixelRatio=i,this._register(Object(q.l)(()=>this.layout()));const o=Cl(".colorpicker-widget");e.appendChild(o);const r=new wl(o,this.model,n);this.body=new yl(o,this.model,this.pixelRatio),this._register(r),this._register(this.body)}layout(){this.body.layout()}}var Il=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ol=function(e,t){return function(i,n){t(i,n,e)}},Nl=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class El{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let Tl=class{constructor(e,t,i){this._editor=e,this._hover=t,this._themeService=i}computeSync(e,t){return[]}computeAsync(e,t,i){return Nl(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return[];const e=ai.get(this._editor);for(const i of t){const t=e.getColorData(i.range.getStartPosition());if(t){return[yield this._createColorHover(this._editor.getModel(),t.colorInfo,t.provider)]}}return[]}))}_createColorHover(e,t,i){return Nl(this,void 0,void 0,(function*(){const n=e.getValueInRange(t.range),{red:o,green:r,blue:s,alpha:a}=t.color,l=new ii.c(Math.round(255*o),Math.round(255*r),Math.round(255*s),a),c=new ii.a(l),h=yield ni(e,t,i,ae.a.None),d=new vl(c,[],0);return d.colorPresentations=h||[],d.guessColorPresentation(c,n),new El(this,O.a.lift(t.range),d,i)}))}renderHoverParts(e,t,i){if(0===e.length||!this._editor.hasModel())return D.a.None;const n=new D.b,o=e[0],r=this._editor.getModel(),s=o.model,a=n.add(new Dl(t,s,this._editor.getOption(127),this._themeService));let l=new O.a(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn);const c=()=>{let e,t;if(s.presentation.textEdit){e=[s.presentation.textEdit],t=new O.a(s.presentation.textEdit.range.startLineNumber,s.presentation.textEdit.range.startColumn,s.presentation.textEdit.range.endLineNumber,s.presentation.textEdit.range.endColumn);const i=this._editor.getModel()._setTrackedRange(null,t,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e),t=this._editor.getModel()._getTrackedRange(i)||t}else e=[{identifier:null,range:l,text:s.presentation.label,forceMoveMarkers:!1}],t=l.setEndPosition(l.endLineNumber,l.startColumn+s.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e);s.presentation.additionalTextEdits&&(e=[...s.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",e),this._hover.hide()),this._editor.pushUndoStop(),l=t},h=e=>ni(r,{range:l,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},o.provider,ae.a.None).then(e=>{s.colorPresentations=e||[]});return n.add(s.onColorFlushed(e=>{h(e).then(c)})),n.add(s.onDidChangeColor(h)),this._hover.setColorPicker(a),n}};Tl=Il([Ol(2,A.b)],Tl);var Ml=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Al=function(e,t){return function(i,n){t(i,n,e)}},Rl=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Pl=Me.a;let Fl=class extends D.a{constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=Pl("div.hover-row.status-bar"),this.actionsElement=Me.q(this.hoverElement,Pl("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(pi.render(this.actionsElement,e,i))}append(e){const t=Me.q(this.actionsElement,e);return this._hasContent=!0,t}};Fl=Ml([Al(0,Pe.a)],Fl);class jl{constructor(e,t){this._participants=t,this._editor=e,this._result=[],this._anchor=null}setAnchor(e){this._anchor=e,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(e,t){if(1!==t.type)return[];const i=e.getModel(),n=t.range.startLineNumber,o=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter(e=>{if(e.options.isWholeLine)return!0;const i=e.range.startLineNumber===n?e.range.startColumn:1,r=e.range.endLineNumber===n?e.range.endColumn:o;return!(i>t.range.startColumn||t.range.endColumn>r)})}computeAsync(e){return Rl(this,void 0,void 0,(function*(){const t=this._anchor;if(!this._editor.hasModel()||!t)return Promise.resolve([]);const i=jl._getLineDecorations(this._editor,t),n=yield Promise.all(this._participants.map(n=>this._computeAsync(n,i,t,e)));return Object(de.k)(n)}))}_computeAsync(e,t,i,n){return Rl(this,void 0,void 0,(function*(){return e.computeAsync?e.computeAsync(i,t,n):[]}))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=jl._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return Object(de.e)(t)}onResult(e,t){this._result=t?e.concat(this._result):this._result.concat(e)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor)for(const e of this._participants)if(e.createLoadingMessage){const t=e.createLoadingMessage(this._anchor);if(t)return this._result.slice(0).concat([t])}return this._result.slice(0)}}let Bl=class e extends hi.a{constructor(t,i,n,o){super(),this._hoverVisibleKey=i,this._keybindingService=o,this.allowEditorOverflow=!0,this._participants=[n.createInstance(Tl,t,this),n.createInstance(So,t,this),n.createInstance(_l,t,this),n.createInstance(Jn,t,this)],this._hover=this._register(new gi),this._id=e.ID,this._editor=t,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,e=>{e.equals(9)&&this.hide()}),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(41)&&this._updateFont()})),this._editor.onDidLayoutChange(()=>this.layout()),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new jl(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new ci(this._computer,e=>this._withResult(e,!0),null,e=>this._withResult(e,!1),this._editor.getOption(51).delay),this._register(Me.o(this.getDomNode(),Me.d.FOCUS,()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")})),this._register(Me.o(this.getDomNode(),Me.d.BLUR,()=>{this.getDomNode().classList.remove("colorpicker-hover")})),this._register(t.onDidChangeConfiguration(()=>{this._hoverOperation.setHoverTime(this._editor.getOption(51).delay)})),this._register(pe.F.onDidChange(()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))}))}dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(e){const t=e.target.type;if(6===t)return!0;if(7===t){const t=this._editor.getOption(41).typicalHalfwidthCharacterWidth/2,i=e.target.detail;if(i&&!i.isAfterLines&&"number"==typeof i.horizontalDistanceToText&&i.horizontalDistanceToText<t)return!0}return!1}maybeShowAt(e){var t;const i=[];for(const n of this._participants)if("function"==typeof n.suggestHoverAnchor){const t=n.suggestHoverAnchor(e);t&&i.push(t)}if(this._shouldShowAt(e)&&e.target.range){const n=[...(null===(t=e.target.element)||void 0===t?void 0:t.classList.values())||[]].find(e=>e.startsWith("ced-colorBox"))&&e.target.range.endColumn-e.target.range.startColumn==1?new O.a(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1):e.target.range;i.push(new Lo(0,n))}return 0!==i.length&&(i.sort((e,t)=>t.priority-e.priority),this._startShowingAt(i[0],0,!1),!0)}_showAt(e,t,i){this._showAtPosition=e,this._showAtRange=t,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=i,i&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(e=>this._editor.applyFontInfo(e))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(41);this._hover.contentsDomNode.style.fontSize=t+"px",this._hover.contentsDomNode.style.lineHeight=i+"px",this._hover.contentsDomNode.style.maxHeight=e+"px",this._hover.contentsDomNode.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px"}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(e,t,i){this._startShowingAt(new Lo(0,e),t,i)}_startShowingAt(e,t,i){if(!this._lastAnchor||!this._lastAnchor.equals(e)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition&&this._lastAnchor&&e.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition)){const t=this._messages.filter(t=>t.isValidForHoverAnchor(e));if(0===t.length)this.hide();else{if(t.length===this._messages.length)return;this._renderMessages(e,t)}}else this.hide();this._lastAnchor=e,this._computer.setAnchor(e),this._shouldFocus=i,this._hoverOperation.start(t)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout(()=>{this._isVisible||this._hoverVisibleKey.set(!1)},0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(e){this._colorPicker=e}onContentsChanged(){this._hover.onContentsChanged()}_withResult(e,t){this._messages=e,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):t&&this.hide()}_renderMessages(t,i){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let n=1073741824,o=i[0].range,r=null,s=document.createDocumentFragment();const a=new D.b,l=new Map;for(const e of i){n=Math.min(n,e.range.startColumn),o=O.a.plusRange(o,e.range),e.forceShowAtRange&&(r=e.range),l.has(e.owner)||l.set(e.owner,[]);l.get(e.owner).push(e)}const c=a.add(new Fl(this._keybindingService));for(const[e,h]of l)a.add(e.renderHoverParts(h,s,c));c.hasContent&&s.appendChild(c.hoverElement),this._renderDisposable=a,s.hasChildNodes()&&(r?this._showAt(r.getStartPosition(),r,this._shouldFocus):this._showAt(new I.a(t.range.startLineNumber,n),o,this._shouldFocus),this._updateContents(s)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,o?[{range:o,options:e._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}};Bl.ID="editor.contrib.modesContentHoverWidget",Bl._DECORATION_OPTIONS=E.a.register({description:"content-hover-highlight",className:"hoverHighlight"}),Bl=Ml([Al(2,Te.a),Al(3,Pe.a)],Bl);class Wl extends hi.a{constructor(e,t){super(),this._id=e,this._editor=t,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(41)&&this.updateFont()})),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(e){this._isVisible=e,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(this._showAtLineNumber),n=this._editor.getScrollTop(),o=this._editor.getOption(57),r=i-n-(this._domNode.clientHeight-o)/2;this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(r),0)+"px"}hide(){this.isVisible&&(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){[...Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),...Array.prototype.slice.call(this._domNode.getElementsByClassName("code"))].forEach(e=>this._editor.applyFontInfo(e))}updateContents(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()}}class Vl{constructor(e){this._editor=e,this._lineNumber=-1,this._result=[]}setLineNumber(e){this._lineNumber=e,this._result=[]}clearResult(){this._result=[]}computeSync(){const e=e=>({value:e}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(const n of t){if(!n.options.glyphMarginClassName)continue;const t=n.options.glyphMarginHoverMessage;t&&!p(t)&&i.push(...Object(de.c)(t).map(e))}return i}onResult(e,t){this._result=this._result.concat(e)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class Hl extends Wl{constructor(e,t,i=fi.b){super(Hl.ID,e),this._renderDisposeables=this._register(new D.b),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new fo({editor:this._editor},t,i)),this._computer=new Vl(this._editor),this._hoverOperation=new ci(this._computer,e=>this._withResult(e),void 0,e=>this._withResult(e),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const n of t){const e=this._markdownRenderer.render(n.value);this._renderDisposeables.add(e),i.appendChild(Object(Me.a)("div.hover-row",void 0,e.element))}this.updateContents(i),this.showAt(e)}}Hl.ID="editor.contrib.modesGlyphHoverWidget";i("62hx");var zl=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Ul{constructor(e,t,i,n){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=n,this.id=Ii.b.nextId()}get uri(){return this.link.uri}get range(){var e,t;return null!==(t=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==t?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return t?Object(s.a)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",Object(lt.b)(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):Object(s.a)("aria.oneReference","symbol in {0} on line {1} at column {2}",Object(lt.b)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class Kl{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:n,startColumn:o,endLineNumber:r,endColumn:s}=e,a=i.getWordUntilPosition({lineNumber:n,column:o-t}),l=new O.a(n,a.startColumn,n,o),c=new O.a(r,s,r,1073741824),h=i.getValueInRange(l).replace(/^\s+/,""),d=i.getValueInRange(e);return{value:h+d+i.getValueInRange(c).replace(/\s+$/,""),highlight:{start:h.length,end:h.length+d.length}}}}class ql{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new Vt.b}dispose(){Object(D.f)(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return 1===e?Object(s.a)("aria.fileReferences.1","1 symbol in {0}, full path {1}",Object(lt.b)(this.uri),this.uri.fsPath):Object(s.a)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,Object(lt.b)(this.uri),this.uri.fsPath)}resolve(e){return zl(this,void 0,void 0,(function*(){if(0!==this._previews.size)return this;for(let i of this.children)if(!this._previews.has(i.uri))try{const t=yield e.createModelReference(i.uri);this._previews.set(i.uri,new Kl(t))}catch(t){Object(u.e)(t)}return this}))}}class $l{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Ke.b,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;let n;e.sort($l._compareReferences);for(let o of e)if(n&&lt.e.isEqual(n.uri,o.uri,!0)||(n=new ql(this,o.uri),this.groups.push(n)),0===n.children.length||0!==$l._compareReferences(o,n.children[n.children.length-1])){const e=new Ul(i===o,n,o,e=>this._onDidChangeReferenceRange.fire(e));this.references.push(e),n.children.push(e)}}dispose(){Object(D.f)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new $l(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?Object(s.a)("aria.result.0","No results found"):1===this.references.length?Object(s.a)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?Object(s.a)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):Object(s.a)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:i}=e,n=i.children.indexOf(e),o=i.children.length,r=i.parent.groups.length;return 1===r||t&&n+1<o||!t&&n>0?(n=t?(n+1)%o:(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%r,i.parent.groups[n].children[0]):(n=(n+r-1)%r,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))}nearestReference(e,t){const i=this.references.map((i,n)=>({idx:n,prefixLen:ce.d(i.uri.toString(),e.toString()),offsetDist:100*Math.abs(i.range.startLineNumber-t.lineNumber)+Math.abs(i.range.startColumn-t.column)})).sort((e,t)=>e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&O.a.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return lt.e.compare(e.uri,t.uri)||O.a.compareRangesUsingStarts(e.range,t.range)}}var Gl=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function Yl(e,t,i,n){const o=i.ordered(e).map(i=>Promise.resolve(n(i,e,t)).then(void 0,e=>{Object(u.f)(e)}));return Promise.all(o).then(e=>{const t=[];for(let i of e)Array.isArray(i)?t.push(...i):i&&t.push(i);return t})}function Zl(e,t,i){return Yl(e,t,pe.f,(e,t,n)=>e.provideDefinition(t,n,i))}function Xl(e,t,i){return Yl(e,t,pe.e,(e,t,n)=>e.provideDeclaration(t,n,i))}function Ql(e,t,i){return Yl(e,t,pe.q,(e,t,n)=>e.provideImplementation(t,n,i))}function Jl(e,t,i){return Yl(e,t,pe.G,(e,t,n)=>e.provideTypeDefinition(t,n,i))}function ec(e,t,i,n){return Yl(e,t,pe.y,(e,t,o)=>Gl(this,void 0,void 0,(function*(){const r=yield e.provideReferences(t,o,{includeDeclaration:!0},n);if(!i||!r||2!==r.length)return r;const s=yield e.provideReferences(t,o,{includeDeclaration:!1},n);return s&&1===s.length?s:r})))}function tc(e){return Gl(this,void 0,void 0,(function*(){const t=yield e(),i=new $l(t,""),n=i.references.map(e=>e.link);return i.dispose(),n}))}Object(r.n)("_executeDefinitionProvider",(e,t)=>tc(()=>Zl(e,t,ae.a.None))),Object(r.n)("_executeDeclarationProvider",(e,t)=>tc(()=>Xl(e,t,ae.a.None))),Object(r.n)("_executeImplementationProvider",(e,t)=>tc(()=>Ql(e,t,ae.a.None))),Object(r.n)("_executeTypeDefinitionProvider",(e,t)=>tc(()=>Jl(e,t,ae.a.None))),Object(r.n)("_executeReferenceProvider",(e,t)=>tc(()=>ec(e,t,!1,ae.a.None)));var ic=i("sFUC"),nc=(i("KaET"),i("O/se")),oc=i("7lZ/"),rc=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},sc=function(e,t){return function(i,n){t(i,n,e)}};let ac=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof $l||e instanceof ql}getChildren(e){if(e instanceof $l)return e.groups;if(e instanceof ql)return e.resolve(this._resolverService).then(e=>e.children);throw new Error("bad tree")}};ac=rc([sc(0,Pr.a)],ac);class lc{getHeight(){return 23}getTemplateId(e){return e instanceof ql?uc.id:pc.id}}let cc=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof Ul){const i=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(i)return i.value}return Object(lt.b)(e.uri)}};cc=rc([sc(0,Pe.a)],cc);class hc{getId(e){return e instanceof Ul?e.id:e.uri}}let dc=class extends D.a{constructor(e,t,i){super(),this._uriLabel=t;const n=document.createElement("div");n.classList.add("reference-file"),this.file=this._register(new ga.a(n,{supportHighlights:!0})),this.badge=new nc.a(Me.q(n,Me.a(".count"))),this._register(Object(ta.a)(this.badge,i)),e.appendChild(n)}set(e,t){let i=Object(lt.d)(e.uri);this.file.setLabel(vi(e.uri),this._uriLabel.getUriLabel(i,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});const n=e.children.length;this.badge.setCount(n),n>1?this.badge.setTitleFormat(Object(s.a)("referencesCount","{0} references",n)):this.badge.setTitleFormat(Object(s.a)("referenceCount","{0} reference",n))}};dc=rc([sc(1,vn.a),sc(2,A.b)],dc);let uc=class e{constructor(t){this._instantiationService=t,this.templateId=e.id}renderTemplate(e){return this._instantiationService.createInstance(dc,e)}renderElement(e,t,i){i.set(e.element,Object(Ar.c)(e.filterData))}disposeTemplate(e){e.dispose()}};uc.id="FileReferencesRenderer",uc=rc([sc(0,Te.a)],uc);class gc{constructor(e){this.label=new oc.a(e,!1)}set(e,t){var i;const n=null===(i=e.parent.getPreview(e))||void 0===i?void 0:i.preview(e.range);if(n&&n.value){const{value:e,highlight:i}=n;t&&!Ar.a.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(e,Object(Ar.c)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(e,[i]))}else this.label.set(`${Object(lt.b)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}class pc{constructor(){this.templateId=pc.id}renderTemplate(e){return new gc(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}pc.id="OneReferenceRenderer";class mc{getWidgetAriaLabel(){return Object(s.a)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var fc=i("k9mg"),bc=i("44XX"),_c=i("OAO6"),vc=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Cc=function(e,t){return function(i,n){t(i,n,e)}},wc=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class yc{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new D.b,this._callOnModelChange=new D.b,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e)for(let t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],i=[];for(let o=0,r=e.children.length;o<r;o++){let n=e.children[o];this._decorationIgnoreSet.has(n.id)||n.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:n.range,options:yc.DecorationOptions}),i.push(o))}const n=this._editor.deltaDecorations([],t);for(let o=0;o<n.length;o++)this._decorations.set(n[o],e.children[i[o]])}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(let[i,n]of this._decorations){const o=t.getDecorationRange(i);if(!o)continue;let r=!1;if(!O.a.equalsRange(o,n.range)){if(O.a.spansMultipleLines(o))r=!0;else{n.range.endColumn-n.range.startColumn!==o.endColumn-o.startColumn&&(r=!0)}r?(this._decorationIgnoreSet.add(n.id),e.push(i)):n.range=o}}for(let t=0,i=e.length;t<i;t++)this._decorations.delete(e[t]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}yc.DecorationOptions=E.a.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class Sc extends fc.c{}let Lc=class extends tn{constructor(e,t,i,n,o,r,s,a,l,c){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},r),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=r,this._peekViewService=s,this._uriLabel=a,this._undoRedoService=l,this._keybindingService=c,this._disposeOnNewModel=new D.b,this._callOnDispose=new D.b,this._onDidSelectReference=new Ke.b,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new Me.b(0,0),this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Object(D.f)(this._preview),Object(D.f)(this._previewNotAvailableMessage),Object(D.f)(this._tree),Object(D.f)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(sn)||ii.a.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(nn)||ii.a.transparent,primaryHeadingColor:e.getColor(on),secondaryHeadingColor:e.getColor(rn)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=Me.q(e,Me.a("div.messages")),Me.K(this._messageContainer),this._splitView=new bc.b(e,{orientation:1}),this._previewContainer=Me.q(e,Me.a("div.preview.inline"));this._preview=this._instantiationService.createInstance(ki,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),Me.K(this._previewContainer),this._previewNotAvailableMessage=new E.b(s.a("missingPreviewMessage","no preview available"),E.b.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=Me.q(e,Me.a("div.ref-tree.inline"));const t={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new mc,keyboardNavigationLabelProvider:this._instantiationService.createInstance(cc),identityProvider:new hc,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:an}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(Me.o(this._treeContainer,"keydown",e=>{e.equals(9)&&(this._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Sc,"ReferencesWidget",this._treeContainer,new lc,[this._instantiationService.createInstance(uc),this._instantiationService.createInstance(pc)],this._instantiationService.createInstance(ac),t),this._splitView.addView({onDidChange:Ke.c.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:e=>{this._preview.layout({height:this._dim.height,width:e})}},bc.a.Distribute),this._splitView.addView({onDidChange:Ke.c.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:e=>{this._treeContainer.style.height=this._dim.height+"px",this._treeContainer.style.width=e+"px",this._tree.layout(this._dim.height,e)}},bc.a.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let i=(e,t)=>{e instanceof Ul&&("show"===t&&this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:t,source:"tree"}))};this._tree.onDidOpen(e=>{e.sideBySide?i(e.element,"side"):e.editorOptions.pinned?i(e.element,"goto"):i(e.element,"show")}),Me.K(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new Me.b(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=s.a("noResults","No results"),Me.W(this._messageContainer),Promise.resolve(void 0)):(Me.K(this._messageContainer),this._decorationsManager=new yc(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:i}=e;if(2!==t.detail)return;const n=this._getFocusedReference();n&&this._onDidSelectReference.fire({element:{uri:n.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),Me.W(this._treeContainer),Me.W(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();return e instanceof Ul?e:e instanceof ql&&e.children.length>0?e.children[0]:void 0}revealReference(e){return wc(this,void 0,void 0,(function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}))}_revealReference(e,t){return wc(this,void 0,void 0,(function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==bi.c.inMemory?this.setTitle(Object(lt.c)(e.uri),this._uriLabel.getUriLabel(Object(lt.d)(e.uri))):this.setTitle(s.a("peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent)),this._tree.reveal(e);const n=yield i;if(!this._model)return void n.dispose();Object(D.f)(this._previewModelReference);const o=n.object;if(o){const t=this._preview.getModel()===o.textEditorModel?0:1,i=O.a.lift(e.range).collapseToStart();this._previewModelReference=n,this._preview.setModel(o.textEditorModel),this._preview.setSelection(i),this._preview.revealRangeInCenter(i,t)}else this._preview.setModel(this._previewNotAvailableMessage),n.dispose()}))}};Lc=vc([Cc(3,A.b),Cc(4,Pr.a),Cc(5,Te.a),Cc(6,Zi),Cc(7,vn.a),Cc(8,_c.a),Cc(9,Pe.a)],Lc),Object(A.f)((e,t)=>{const i=e.getColor(pn);i&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${i}; }`);const n=e.getColor(mn);n&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${n}; }`);const o=e.getColor(fn);o&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${o}; box-sizing: border-box; }`);const r=e.getColor(M.b);r&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${r}; box-sizing: border-box; }`);const s=e.getColor(an);s&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${s}; }`);const a=e.getColor(ln);a&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${a}; }`);const l=e.getColor(cn);l&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${l}; }`);const c=e.getColor(hn);c&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${c}; }`);const h=e.getColor(dn);h&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${h} !important; }`);const d=e.getColor(un);d&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: ${d};}`);const u=e.getColor(gn);u&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: ${u};}`)});var xc=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},kc=function(e,t){return function(i,n){t(i,n,e)}},Dc=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Ic=new h.c("referenceSearchVisible",!1,s.a("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Oc=class e{constructor(e,t,i,n,o,r,s,a){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=o,this._instantiationService=r,this._storageService=s,this._configurationService=a,this._disposables=new D.b,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Ic.bindTo(i)}static get(t){return t.getContribution(e.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let n;if(this._widget&&(n=this._widget.position),this.closeWidget(),n&&e.containsPosition(n))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const o=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch(n){}return{ratio:t||.7,heightInLines:i||18}}}.fromJSON(this._storageService.get("peekViewLayout",0,"{}"));this._widget=this._instantiationService.createInstance(Lc,this._editor,this._defaultTreeKeyboardSupport,o),this._widget.setTitle(s.a("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store("peekViewLayout",JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(e=>{let{element:t,kind:n}=e;if(t)switch(n){case"open":"editor"===e.source&&this._configurationService.getValue("editor.stablePeek")||this.openReference(t,!1,!1);break;case"side":this.openReference(t,!0,!1);break;case"goto":i?this._gotoReference(t):this.openReference(t,!1,!0)}}));const r=++this._requestIdPool;t.then(t=>{var i;if(r===this._requestIdPool&&this._widget)return null===(i=this._model)||void 0===i||i.dispose(),this._model=t,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(s.a("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let t=this._editor.getModel().uri,i=new I.a(e.startLineNumber,e.startColumn),n=this._model.nearestReference(t,i);if(n)return this._widget.setSelection(n).then(()=>{this._widget&&"editor"===this._editor.getOption(75)&&this._widget.focusOnPreviewEditor()})}});t.dispose()},e=>{this._notificationService.error(e)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return Dc(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const n=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),r=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(n),yield this._gotoReference(n),o?this._editor.focus():this._widget&&r&&this._widget.focusOnPreviewEditor()}))}revealReference(e){return Dc(this,void 0,void 0,(function*(){this._editor.hasModel()&&this._model&&this._widget&&(yield this._widget.revealReference(e))}))}closeWidget(e=!0){var t,i;null===(t=this._widget)||void 0===t||t.dispose(),null===(i=this._model)||void 0===i||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const i=O.a.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i}},this._editor).then(t=>{var n;if(this._ignoreModelChangeEvent=!1,t&&this._widget)if(this._editor===t)this._widget.show(i),this._widget.focusOnReferenceTree();else{const o=e.get(t),r=this._model.clone();this.closeWidget(),t.focus(),o.toggleWidget(i,Object(k.h)(e=>Promise.resolve(r)),null!==(n=this._peekMode)&&void 0!==n&&n)}else this.closeWidget()},e=>{this._ignoreModelChangeEvent=!1,Object(u.e)(e)})}openReference(e,t,i){t||this.closeWidget();const{uri:n,range:o}=e;this._editorService.openCodeEditor({resource:n,options:{selection:o,pinned:i}},this._editor,t)}};function Nc(e,t){const i=function(e){let t=e.get(Y.a).getFocusedCodeEditor();return t instanceof ki?t.getParentEditor():t}(e);if(!i)return;let n=Oc.get(i);n&&t(n)}Oc.ID="editor.contrib.referencesController",Oc=xc([kc(2,h.b),kc(3,Y.a),kc(4,st.a),kc(5,Te.a),kc(6,Ht.a),kc(7,oi.a)],Oc),ss.a.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Object(c.a)(2089,60),when:h.a.or(Ic,Xi.inPeekEditor),handler(e){Nc(e,e=>{e.changeFocusBetweenPreviewAndReferences()})}}),ss.a.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:h.a.or(Ic,Xi.inPeekEditor),handler(e){Nc(e,e=>{e.goToNextOrPreviousReference(!0)})}}),ss.a.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:h.a.or(Ic,Xi.inPeekEditor),handler(e){Nc(e,e=>{e.goToNextOrPreviousReference(!1)})}}),Ce.a.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),Ce.a.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),Ce.a.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),Ce.a.registerCommand("closeReferenceSearch",e=>Nc(e,e=>e.closeWidget())),ss.a.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:h.a.and(Xi.inPeekEditor,h.a.not("config.editor.stablePeek"))}),ss.a.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:h.a.and(Ic,h.a.not("config.editor.stablePeek"))}),ss.a.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:h.a.and(Ic,fc.e),handler(e){var t;const i=null===(t=e.get(fc.a).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof Ul&&Nc(e,e=>e.revealReference(i[0]))}}),ss.a.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:h.a.and(Ic,fc.e),handler(e){var t;const i=null===(t=e.get(fc.a).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof Ul&&Nc(e,e=>e.openReference(i[0],!0,!0))}}),Ce.a.registerCommand("openReference",e=>{var t;const i=null===(t=e.get(fc.a).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof Ul&&Nc(e,e=>e.openReference(i[0],!1,!0))});var Ec=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Tc=function(e,t){return function(i,n){t(i,n,e)}};const Mc=new h.c("hasSymbols",!1,Object(s.a)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Ac=Object(Te.c)("ISymbolNavigationService");let Rc=class{constructor(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Mc.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new Pc(this._editorService),n=i.onDidChange(e=>{if(this._ignoreEditorChange)return;const i=this._editorService.getActiveCodeEditor();if(!i)return;const n=i.getModel(),o=i.getPosition();if(!n||!o)return;let r=!1,s=!1;for(const a of t.references)if(Object(lt.f)(a.uri,n.uri))r=!0,s=s||O.a.containsPosition(a.range,o);else if(r)break;r&&s||this.reset()});this._currentState=Object(D.e)(i,n)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:O.a.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?Object(s.a)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):Object(s.a)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};Rc=Ec([Tc(0,h.b),Tc(1,Y.a),Tc(2,st.a),Tc(3,Pe.a)],Rc),Object(Wt.b)(Ac,Rc,!0),Object(r.k)(new class extends r.c{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Mc,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,t){return e.get(Ac).revealNext(t)}}),ss.a.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Mc,primary:9,handler(e){e.get(Ac).reset()}});let Pc=class{constructor(e){this._listener=new Map,this._disposables=new D.b,this._onDidChange=new Ke.b,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),Object(D.f)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,Object(D.e)(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}};Pc=Ec([Tc(0,Y.a)],Pc);var Fc,jc,Bc,Wc,Vc,Hc,zc,Uc,Kc=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};R.d.appendMenuItem(R.b.EditorContext,{submenu:R.b.EditorContextPeek,title:s.a("peek.submenu","Peek"),group:"navigation",order:100});const qc=new Set;function $c(e){const t=new e;return Object(r.m)(t),qc.add(t.id),t}class Gc extends r.b{constructor(e,t){super(t),this._configuration=e}run(e,t){if(!t.hasModel())return Promise.resolve(void 0);const i=e.get(st.a),n=e.get(Y.a),o=e.get(ve.a),r=e.get(Ac),s=t.getModel(),a=t.getPosition(),l=new ge.b(t,5),c=Object(k.l)(this._getLocationModel(s,a,l.token),l.token).then(e=>Kc(this,void 0,void 0,(function*(){if(!e||l.token.isCancellationRequested)return;let i;if(Object(f.a)(e.ariaMessage),e.referenceAt(s.uri,a)){const e=this._getAlternativeCommand(t);e!==this.id&&qc.has(e)&&(i=t.getAction(e))}const o=e.references.length;if(0===o){if(!this._configuration.muteMessage){const e=s.getWordAtPosition(a);Oe.get(t).showMessage(this._getNoResultFoundMessage(e),a)}}else{if(1!==o||!i)return this._onResult(n,r,t,e);i.run()}})),e=>{i.error(e)}).finally(()=>{l.dispose()});return o.showWhile(c,250),c}_onResult(e,t,i,n){return Kc(this,void 0,void 0,(function*(){const o=this._getGoToPreference(i);if(i instanceof ki||!(this._configuration.openInPeek||"peek"===o&&n.references.length>1)){const r=n.firstReference(),s=n.references.length>1&&"gotoAndPeek"===o,a=yield this._openReference(i,e,r,this._configuration.openToSide,!s);s&&a?this._openInPeek(a,n):n.dispose(),"goto"===o&&t.put(r)}else this._openInPeek(i,n)}))}_openReference(e,t,i,n,o){return Kc(this,void 0,void 0,(function*(){let r=void 0;if(Object(pe.J)(i)&&(r=i.targetSelectionRange),r||(r=i.range),!r)return;const s=yield t.openCodeEditor({resource:i.uri,options:{selection:O.a.collapseToStart(r),selectionRevealType:3}},e,n);if(s){if(o){const e=s.getModel(),t=s.deltaDecorations([],[{range:r,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{s.getModel()===e&&s.deltaDecorations(t,[])},350)}return s}}))}_openInPeek(e,t){let i=Oc.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),Object(k.h)(e=>Promise.resolve(t)),this._configuration.openInPeek):t.dispose()}}class Yc extends Gc{_getLocationModel(e,t,i){return Kc(this,void 0,void 0,(function*(){return new $l(yield Zl(e,t,i),s.a("def.title","Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?s.a("noResultWord","No definition found for '{0}'",e.word):s.a("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(48).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(48).multipleDefinitions}}const Zc=$.i&&!q.i?2118:70;$c(((Fc=class e extends Yc{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:s.a("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:h.a.and(a.a.hasDefinitionProvider,a.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.a.editorTextFocus,primary:Zc,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:R.b.MenubarGoMenu,group:"4_symbol_nav",order:2,title:s.a({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}}),Ce.a.registerCommandAlias("editor.action.goToDeclaration",e.id)}}).id="editor.action.revealDefinition",Fc)),$c(((jc=class e extends Yc{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,label:s.a("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:h.a.and(a.a.hasDefinitionProvider,a.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,Zc),weight:100}}),Ce.a.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id)}}).id="editor.action.revealDefinitionAside",jc)),$c(((Bc=class e extends Yc{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,label:s.a("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:h.a.and(a.a.hasDefinitionProvider,Xi.notInPeekEditor,a.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.a.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:R.b.EditorContextPeek,group:"peek",order:2}}),Ce.a.registerCommandAlias("editor.action.previewDeclaration",e.id)}}).id="editor.action.peekDefinition",Bc));class Xc extends Gc{_getLocationModel(e,t,i){return Kc(this,void 0,void 0,(function*(){return new $l(yield Xl(e,t,i),s.a("decl.title","Declarations"))}))}_getNoResultFoundMessage(e){return e&&e.word?s.a("decl.noResultWord","No declaration found for '{0}'",e.word):s.a("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(48).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(48).multipleDeclarations}}$c(((Wc=class e extends Xc{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:s.a("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:h.a.and(a.a.hasDeclarationProvider,a.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:R.b.MenubarGoMenu,group:"4_symbol_nav",order:3,title:s.a({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})}_getNoResultFoundMessage(e){return e&&e.word?s.a("decl.noResultWord","No declaration found for '{0}'",e.word):s.a("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",Wc)),$c(class extends Xc{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:s.a("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:h.a.and(a.a.hasDeclarationProvider,Xi.notInPeekEditor,a.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:R.b.EditorContextPeek,group:"peek",order:3}})}});class Qc extends Gc{_getLocationModel(e,t,i){return Kc(this,void 0,void 0,(function*(){return new $l(yield Jl(e,t,i),s.a("typedef.title","Type Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?s.a("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):s.a("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(48).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(48).multipleTypeDefinitions}}$c(((Vc=class e extends Qc{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:s.a("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:h.a.and(a.a.hasTypeDefinitionProvider,a.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.a.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:R.b.MenubarGoMenu,group:"4_symbol_nav",order:3,title:s.a({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})}}).ID="editor.action.goToTypeDefinition",Vc)),$c(((Hc=class e extends Qc{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:s.a("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:h.a.and(a.a.hasTypeDefinitionProvider,Xi.notInPeekEditor,a.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:R.b.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",Hc));class Jc extends Gc{_getLocationModel(e,t,i){return Kc(this,void 0,void 0,(function*(){return new $l(yield Ql(e,t,i),s.a("impl.title","Implementations"))}))}_getNoResultFoundMessage(e){return e&&e.word?s.a("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):s.a("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(48).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(48).multipleImplementations}}$c(((zc=class e extends Jc{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:s.a("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:h.a.and(a.a.hasImplementationProvider,a.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.a.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:R.b.MenubarGoMenu,group:"4_symbol_nav",order:4,title:s.a({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",zc)),$c(((Uc=class e extends Jc{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:s.a("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:h.a.and(a.a.hasImplementationProvider,Xi.notInPeekEditor,a.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.a.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:R.b.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",Uc));class eh extends Gc{_getNoResultFoundMessage(e){return e?s.a("references.no","No references found for '{0}'",e.word):s.a("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(48).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(48).multipleReferences}}$c(class extends eh{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:s.a("goToReferences.label","Go to References"),alias:"Go to References",precondition:h.a.and(a.a.hasReferenceProvider,Xi.notInPeekEditor,a.a.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.a.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:R.b.MenubarGoMenu,group:"4_symbol_nav",order:5,title:s.a({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})}_getLocationModel(e,t,i){return Kc(this,void 0,void 0,(function*(){return new $l(yield ec(e,t,!0,i),s.a("ref.title","References"))}))}}),$c(class extends eh{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:s.a("references.action.label","Peek References"),alias:"Peek References",precondition:h.a.and(a.a.hasReferenceProvider,Xi.notInPeekEditor,a.a.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:R.b.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i){return Kc(this,void 0,void 0,(function*(){return new $l(yield ec(e,t,!1,i),s.a("ref.title","References"))}))}});class th extends Gc{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",label:s.a("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:h.a.and(Xi.notInPeekEditor,a.a.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i){return Kc(this,void 0,void 0,(function*(){return new $l(this._references,s.a("generic.title","Locations"))}))}_getNoResultFoundMessage(e){return e&&s.a("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(48).multipleReferences}_getAlternativeCommand(){return""}}function ih(e,t){return!!e[t]}Ce.a.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ue.a},{name:"position",description:"The position at which to start",constraint:I.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,t,i,n,o,r,s)=>Kc(void 0,void 0,void 0,(function*(){Object(Et.c)(ue.a.isUri(t)),Object(Et.c)(I.a.isIPosition(i)),Object(Et.c)(Array.isArray(n)),Object(Et.c)(void 0===o||"string"==typeof o),Object(Et.c)(void 0===s||"boolean"==typeof s);const a=e.get(Y.a),l=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if(Object(ic.b)(l))return l.setPosition(i),l.revealPositionInCenterIfOutsideViewport(i,0),l.invokeWithinContext(e=>{const t=new class extends th{_getNoResultFoundMessage(e){return r||super._getNoResultFoundMessage(e)}}({muteMessage:!Boolean(r),openInPeek:Boolean(s),openToSide:!1},n,o);e.get(Te.a).invokeFunction(t.run.bind(t),l)})}))}),Ce.a.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:ue.a},{name:"position",description:"The position at which to start",constraint:I.a.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,t,i,n,o)=>Kc(void 0,void 0,void 0,(function*(){e.get(Ce.b).executeCommand("editor.action.goToLocations",t,i,n,o,void 0,!0)}))}),Ce.a.registerCommand({id:"editor.action.findReferences",handler:(e,t,i)=>{Object(Et.c)(ue.a.isUri(t)),Object(Et.c)(I.a.isIPosition(i));const n=e.get(Y.a);return n.openCodeEditor({resource:t},n.getFocusedCodeEditor()).then(e=>{if(!Object(ic.b)(e)||!e.hasModel())return;const t=Oc.get(e);if(!t)return;const n=Object(k.h)(t=>ec(e.getModel(),I.a.lift(i),!1,t).then(e=>new $l(e,s.a("ref.title","References")))),o=new O.a(i.lineNumber,i.column,i.lineNumber,i.column);return Promise.resolve(t.toggleWidget(o,n,!1))})}}),Ce.a.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");class nh{constructor(e,t){this.target=e.target,this.hasTriggerModifier=ih(e.event,t.triggerModifier),this.hasSideBySideModifier=ih(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class oh{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=ih(e,t.triggerModifier)}}class rh{constructor(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function sh(e){return"altKey"===e?$.f?new rh(57,"metaKey",6,"altKey"):new rh(5,"ctrlKey",6,"altKey"):$.f?new rh(6,"altKey",57,"metaKey"):new rh(6,"altKey",5,"ctrlKey")}class ah extends D.a{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new Ke.b),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new Ke.b),this.onExecute=this._onExecute.event,this._onCancel=this._register(new Ke.b),this.onCancel=this._onCancel.event,this._editor=e,this._opts=sh(this._editor.getOption(68)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(e=>{if(e.hasChanged(68)){const e=sh(this._editor.getOption(68));if(this._opts.equals(e))return;this._opts=e,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(e=>this._onEditorMouseMove(new nh(e,this._opts)))),this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(new nh(e,this._opts)))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(new nh(e,this._opts)))),this._register(this._editor.onKeyDown(e=>this._onEditorKeyDown(new oh(e,this._opts)))),this._register(this._editor.onKeyUp(e=>this._onEditorKeyUp(new oh(e,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(e=>this._onDidChangeCursorSelection(e))),this._register(this._editor.onDidChangeModel(e=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var lh=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ch=function(e,t){return function(i,n){t(i,n,e)}};let hh=class e{constructor(e,t,i){this.textModelResolverService=t,this.modeService=i,this.toUnhook=new D.b,this.toUnhookForKeyboard=new D.b,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let n=new ah(e);this.toUnhook.add(n),this.toUnhook.add(n.onMouseMoveOrRelevantKeyDown(([e,t])=>{this.startFindDefinitionFromMouse(e,Object(Et.o)(t))})),this.toUnhook.add(n.onExecute(e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},e=>{this.removeLinkDecorations(),Object(u.e)(e)})})),this.toUnhook.add(n.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(t){return t.getContribution(e.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(9===e.target.type&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const i=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return Promise.resolve(0);this.currentWordAtPosition=i;let n=new ge.a(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Object(k.h)(t=>this.findDefinition(e,t)),this.previousPromise.then(t=>{if(t&&t.length&&n.validate(this.editor))if(t.length>1)this.addDecoration(new O.a(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),(new g).appendText(s.a("multipleResults","Click to show {0} definitions.",t.length)));else{let n=t[0];if(!n.uri)return;this.textModelResolverService.createModelReference(n.uri).then(t=>{if(!t.object||!t.object.textEditorModel)return void t.dispose();const{object:{textEditorModel:o}}=t,{startLineNumber:r}=n.range;if(r<1||r>o.getLineCount())return void t.dispose();const s=this.getPreviewValue(o,r,n);let a;a=n.originSelectionRange?O.a.lift(n.originSelectionRange):new O.a(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);const l=this.modeService.getModeIdByFilepathOrFirstLine(o.uri);this.addDecoration(a,(new g).appendCodeblock(l||"",s)),t.dispose()})}else this.removeLinkDecorations()}).then(void 0,u.e)}getPreviewValue(t,i,n){let o=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(t,i);o.endLineNumber-o.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,i));return this.stripIndentationFromPreviewRange(t,i,o)}stripIndentationFromPreviewRange(e,t,i){let n=e.getLineFirstNonWhitespaceColumn(t);for(let o=t+1;o<i.endLineNumber;o++){const t=e.getLineFirstNonWhitespaceColumn(o);n=Math.min(n,t)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${n-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,i){const n=t.getLineFirstNonWhitespaceColumn(i),o=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES);let r=i+1;for(;r<o;r++){if(n===t.getLineFirstNonWhitespaceColumn(r))break}return new O.a(i,1,r+1,1)}getPreviewRangeBasedOnBrackets(t,i){const n=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES),o=[];let r=!0,s=t.findNextBracket(new I.a(i,1));for(;null!==s;){if(0===o.length)o.push(s);else{const e=o[o.length-1];if(e.open[0]===s.open[0]&&e.isOpen&&!s.isOpen?o.pop():o.push(s),0===o.length){if(!r)return new O.a(i,1,s.range.endLineNumber+1,1);r=!1}}const e=t.getLineMaxColumn(i);let a=s.range.endLineNumber,l=s.range.endColumn;if(e===s.range.endColumn&&(a++,l=1),a>n)return new O.a(i,1,n+1,1);s=t.findNextBracket(new I.a(a,l))}return new O.a(i,1,n+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[i])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&pe.f.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?Zl(i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(e=>{const i=!t&&this.editor.getOption(76)&&!this.isInPeekEditor(e);return new Yc({openToSide:t,openInPeek:i,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(e,this.editor)})}isInPeekEditor(e){const t=e.get(h.b);return Xi.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};hh.ID="editor.contrib.gotodefinitionatposition",hh.MAX_SOURCE_PREVIEW_LINES=8,hh=lh([ch(1,Pr.a),ch(2,li.a)],hh),Object(r.l)(hh.ID,hh),Object(A.f)((e,t)=>{const i=e.getColor(M.q);i&&t.addRule(`.monaco-editor .goto-definition-link { color: ${i} !important; }`)});var dh=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},uh=function(e,t){return function(i,n){t(i,n,e)}};let gh=class e{constructor(e,t,i,n,o){this._editor=e,this._instantiationService=t,this._openerService=i,this._modeService=n,this._toUnhook=new D.b,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(e=>{e.hasChanged(51)&&(this._unhookEvents(),this._hookEvents())}),this._hoverVisibleKey=a.a.hoverVisible.bindTo(o)}static get(t){return t.getContribution(e.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(51);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._toUnhook.add(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._toUnhook.add(this._editor.onMouseMove(e=>this._onEditorMouseMove(e))),this._toUnhook.add(this._editor.onKeyDown(e=>this._onKeyDown(e))),this._toUnhook.add(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged()))):(this._toUnhook.add(this._editor.onMouseMove(e=>this._onEditorMouseMove(e))),this._toUnhook.add(this._editor.onKeyDown(e=>this._onKeyDown(e)))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(e=>this._onEditorScrollChanged(e)))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var e,t;null===(e=this._contentWidget)||void 0===e||e.onModelDecorationsChanged(),null===(t=this._glyphWidget)||void 0===t||t.onModelDecorationsChanged()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target.type;9!==t||e.target.detail!==Bl.ID?12===t&&e.target.detail===Hl.ID||(12!==t&&e.target.detail!==Hl.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,i,n,o,r;let s=e.target.type;if(this._isMouseDown&&this._hoverClicked)return;if(this._isHoverSticky&&9===s&&e.target.detail===Bl.ID)return;if(this._isHoverSticky&&!(null===(i=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===i?void 0:i.isCollapsed))return;if(!this._isHoverSticky&&9===s&&e.target.detail===Bl.ID&&(null===(n=this._contentWidget)||void 0===n?void 0:n.isColorPickerVisible()))return;if(this._isHoverSticky&&12===s&&e.target.detail===Hl.ID)return;if(!this._isHoverEnabled)return void this._hideWidgets();if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===s&&e.target.position?(null===(r=this._contentWidget)||void 0===r||r.hide(),this._glyphWidget||(this._glyphWidget=new Hl(this._editor,this._modeService,this._openerService)),void this._glyphWidget.startShowingAt(e.target.position.lineNumber)):void this._hideWidgets();null===(o=this._glyphWidget)||void 0===o||o.hide()}_onKeyDown(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}_hideWidgets(){var e,t,i;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(i=this._contentWidget)||void 0===i||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(Bl,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,i){this._getOrCreateContentWidget().startShowingAtRange(e,t,i)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}};gh.ID="editor.contrib.hover",gh=dh([uh(1,Te.a),uh(2,fi.a),uh(3,li.a),uh(4,h.b)],gh);class ph extends r.b{constructor(){super({id:"editor.action.showHover",label:s.a({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let i=gh.get(t);if(!i)return;const n=t.getPosition(),o=new O.a(n.lineNumber,n.column,n.lineNumber,n.column),r=2===t.getOption(2);i.showContentHover(o,1,r)}}class mh extends r.b{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:s.a({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){let i=gh.get(t);if(!i)return;const n=t.getPosition();if(!n)return;const o=new O.a(n.lineNumber,n.column,n.lineNumber,n.column);hh.get(t).startFindDefinitionFromCursor(n).then(()=>{i.showContentHover(o,1,!0)})}}Object(r.l)(gh.ID,gh),Object(r.j)(ph),Object(r.j)(mh),Object(A.f)((e,t)=>{const i=e.getColor(M.H);i&&t.addRule(`.monaco-editor .hoverHighlight { background-color: ${i}; }`);const n=e.getColor(M.E);n&&t.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const o=e.getColor(M.F);o&&(t.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${o.transparent(.5)}; }`));const r=e.getColor(M.Jc);r&&t.addRule(`.monaco-editor .monaco-hover a { color: ${r}; }`);const s=e.getColor(M.Ic);s&&t.addRule(`.monaco-editor .monaco-hover a:hover { color: ${s}; }`);const a=e.getColor(M.G);a&&t.addRule(`.monaco-editor .monaco-hover { color: ${a}; }`);const l=e.getColor(M.I);l&&t.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${l}; }`);const c=e.getColor(M.Hc);c&&t.addRule(`.monaco-editor .monaco-hover code { background-color: ${c}; }`)});class fh extends D.a{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(e=>this.onMouseDown(e)))}dispose(){super.dispose()}onMouseDown(e){var t;if(6!==e.target.type)return;if(![...(null===(t=e.target.element)||void 0===t?void 0:t.classList.values())||[]].find(e=>e.startsWith("ced-colorBox")))return;if(!e.target.range)return;const i=this._editor.getContribution(gh.ID);if(!i.isColorPickerVisible()){const t=new O.a(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1);i.showContentHover(t,0,!1)}}}fh.ID="editor.contrib.colorContribution",Object(r.l)(fh.ID,fh);class bh{constructor(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const n=t.length;if(i+n>e.length)return!1;for(let o=0;o<n;o++){const n=e.charCodeAt(i+o),r=t.charCodeAt(o);if(n!==r&&!(n>=65&&n<=90&&n+32===r||r>=65&&r<=90&&r+32===n))return!1}return!0}_createOperationsForBlockComment(e,t,i,n,o,r){const s=e.startLineNumber,a=e.startColumn,l=e.endLineNumber,c=e.endColumn,h=o.getLineContent(s),d=o.getLineContent(l);let u,g=h.lastIndexOf(t,a-1+t.length),p=d.indexOf(i,c-1-i.length);if(-1!==g&&-1!==p)if(s===l){h.substring(g+t.length,p).indexOf(i)>=0&&(g=-1,p=-1)}else{const e=h.substring(g+t.length),n=d.substring(0,p);(e.indexOf(i)>=0||n.indexOf(i)>=0)&&(g=-1,p=-1)}-1!==g&&-1!==p?(n&&g+t.length<h.length&&32===h.charCodeAt(g+t.length)&&(t+=" "),n&&p>0&&32===d.charCodeAt(p-1)&&(i=" "+i,p-=1),u=bh._createRemoveBlockCommentOperations(new O.a(s,g+t.length+1,l,p+1),t,i)):(u=bh._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=1===u.length?i:null);for(const m of u)r.addTrackedEditOperation(m.range,m.text)}static _createRemoveBlockCommentOperations(e,t,i){let n=[];return O.a.isEmpty(e)?n.push(zo.a.delete(new O.a(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(n.push(zo.a.delete(new O.a(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),n.push(zo.a.delete(new O.a(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),n}static _createAddBlockCommentOperations(e,t,i,n){let o=[];return O.a.isEmpty(e)?o.push(zo.a.replace(new O.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(zo.a.insert(new I.a(e.startLineNumber,e.startColumn),t+(n?" ":""))),o.push(zo.a.insert(new I.a(e.endLineNumber,e.endColumn),(n?" ":"")+i))),o}getEditOperations(e,t){const i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenizeIfCheap(i);const o=e.getLanguageIdAtPosition(i,n),r=_r.a.getComments(o);r&&r.blockCommentStartToken&&r.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(2===i.length){const e=i[0],t=i[1];return new l.a(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{const e=i[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new l.a(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}}class _h{constructor(e,t,i,n,o,r){this._selection=e,this._tabSize=t,this._type=i,this._insertSpace=n,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=o,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(e,t,i){e.tokenizeIfCheap(t);const n=e.getLanguageIdAtPosition(t,1),o=_r.a.getComments(n),r=o?o.lineCommentToken:null;if(!r)return null;let s=[];for(let a=0,l=i-t+1;a<l;a++)s[a]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return s}static _analyzeLines(e,t,i,n,o,r,s){let a,l=!0;a=0===e||1!==e;for(let c=0,h=n.length;c<h;c++){const h=n[c],d=o+c;if(d===o&&s){h.ignore=!0;continue}const u=i.getLineContent(d),g=ce.v(u);if(-1!==g){if(l=!1,h.ignore=!1,h.commentStrOffset=g,a&&!bh._haystackHasNeedleAtOffset(u,h.commentStr,g)&&(0===e?a=!1:1===e||(h.ignore=!0)),a&&t){const e=g+h.commentStrLength;e<u.length&&32===u.charCodeAt(e)&&(h.commentStrLength+=1)}}else h.ignore=r,h.commentStrOffset=u.length}if(0===e&&l){a=!1;for(let e=0,t=n.length;e<t;e++)n[e].ignore=!1}return{supported:!0,shouldRemoveComments:a,lines:n}}static _gatherPreflightData(e,t,i,n,o,r,s){const a=_h._gatherPreflightCommentStrings(i,n,o);return null===a?{supported:!1}:_h._analyzeLines(e,t,i,a,n,r,s)}_executeLineComments(e,t,i,n){let o;i.shouldRemoveComments?o=_h._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(_h._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));const r=new I.a(n.positionLineNumber,n.positionColumn);for(let s=0,a=o.length;s<a;s++)if(t.addEditOperation(o[s].range,o[s].text),O.a.isEmpty(o[s].range)&&O.a.getStartPosition(o[s].range).equals(r)){e.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(o[s].text||"").length)}this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let o=t.startLineNumber,r=t.endLineNumber,s=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),a=e.getLineContent(o).lastIndexOf(i,s-1),l=e.getLineContent(r).indexOf(n,t.endColumn-1-i.length);return-1!==a&&-1===l&&(l=e.getLineContent(o).indexOf(n,a+i.length),r=o),-1===a&&-1!==l&&(a=e.getLineContent(r).lastIndexOf(i,l),o=r),!t.isEmpty()||-1!==a&&-1!==l||(a=e.getLineContent(o).indexOf(i),-1!==a&&(l=e.getLineContent(o).indexOf(n,a+i.length))),-1!==a&&32===e.getLineContent(o).charCodeAt(a+i.length)&&(i+=" "),-1!==l&&32===e.getLineContent(r).charCodeAt(l-1)&&(n=" "+n,l-=1),-1!==a&&-1!==l?bh._createRemoveBlockCommentOperations(new O.a(o,a+i.length+1,r,l+1),i,n):null}_executeBlockComment(e,t,i){e.tokenizeIfCheap(i.startLineNumber);let n=e.getLanguageIdAtPosition(i.startLineNumber,1),o=_r.a.getComments(n);if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const r=o.blockCommentStartToken,s=o.blockCommentEndToken;let a=this._attemptRemoveBlockComment(e,i,r,s);if(!a){if(i.isEmpty()){const t=e.getLineContent(i.startLineNumber);let n=ce.v(t);-1===n&&(n=t.length),a=bh._createAddBlockCommentOperations(new O.a(i.startLineNumber,n+1,i.startLineNumber,t.length+1),r,s,this._insertSpace)}else a=bh._createAddBlockCommentOperations(new O.a(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),r,s,this._insertSpace);1===a.length&&(this._deltaColumn=r.length+1)}this._selectionId=t.trackSelection(i);for(const l of a)t.addEditOperation(l.range,l.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new O.a(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(i));i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const n=_h._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new l.a(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];o.ignore||i.push(zo.a.delete(new O.a(t+n,o.commentStrOffset+1,t+n,o.commentStrOffset+o.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[];const n=this._insertSpace?" ":"";for(let o=0,r=e.length;o<r;o++){const r=e[o];r.ignore||i.push(zo.a.insert(new I.a(t+o,r.commentStrOffset+1),r.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let o,r,s=1073741824;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const o=e.getLineContent(i+a);let r=0;for(let e=0,i=t[a].commentStrOffset;r<s&&e<i;e++)r=_h.nextVisibleColumn(r,n,9===o.charCodeAt(e),1);r<s&&(s=r)}s=Math.floor(s/n)*n;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const l=e.getLineContent(i+a);let c=0;for(o=0,r=t[a].commentStrOffset;c<s&&o<r;o++)c=_h.nextVisibleColumn(c,n,9===l.charCodeAt(o),1);t[a].commentStrOffset=c>s?o-1:o}}}class vh extends r.b{constructor(e,t){super(t),this._type=e}run(e,t){if(!t.hasModel())return;const i=[],n=t.getModel().getOptions(),o=t.getOption(17),r=t.getSelections().map((e,t)=>({selection:e,index:t,ignoreFirstLine:!1}));r.sort((e,t)=>O.a.compareRangesUsingStarts(e.selection,t.selection));let s=r[0];for(let a=1;a<r.length;a++){const e=r[a];s.selection.endLineNumber===e.selection.startLineNumber&&(s.index<e.index?e.ignoreFirstLine=!0:(s.ignoreFirstLine=!0,s=e))}for(const a of r)i.push(new _h(a.selection,n.tabSize,this._type,o.insertSpace,o.ignoreEmptyLines,a.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class Ch extends r.b{constructor(){super({id:"editor.action.blockComment",label:s.a("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:R.b.MenubarEditMenu,group:"5_insert",title:s.a({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){if(!t.hasModel())return;const i=t.getOption(17),n=[],o=t.getSelections();for(const r of o)n.push(new bh(r,i.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}Object(r.j)(class extends vh{constructor(){super(0,{id:"editor.action.commentLine",label:s.a("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:R.b.MenubarEditMenu,group:"5_insert",title:s.a({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),Object(r.j)(class extends vh{constructor(){super(1,{id:"editor.action.addCommentLine",label:s.a("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2081),weight:100}})}}),Object(r.j)(class extends vh{constructor(){super(2,{id:"editor.action.removeCommentLine",label:s.a("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2099),weight:100}})}}),Object(r.j)(Ch);var wh=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},yh=function(e,t){return function(i,n){t(i,n,e)}};let Sh=class e{constructor(e,t,i,n,o,r){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=n,this._keybindingService=o,this._menuService=r,this._toDispose=new D.b,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(e=>this._onContextMenu(e))),this._toDispose.add(this._editor.onMouseWheel(e=>{if(this._contextMenuIsBeingShownCount>0){const t=this._contextViewService.getContextViewElement(),i=e.srcElement;i.shadowRoot&&Me.F(t)===i.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(e=>{58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.showContextMenu())}))}static get(t){return t.getContribution(e.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(18))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type)return;if(e.event.preventDefault(),6!==e.target.type&&7!==e.target.type&&1!==e.target.type)return;if(this._editor.focus(),e.target.position){let t=!1;for(const i of this._editor.getSelections())if(i.containsPosition(e.target.position)){t=!0;break}t||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(18))return;if(!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?R.b.SimpleEditorContext:R.b.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],n=this._menuService.createMenu(t,this._contextKeyService),o=n.getActions({arg:e.uri});n.dispose();for(let r of o){const[,t]=r;let n=0;for(const o of t)if(o instanceof R.e){const t=this._getMenuActions(e,o.item.submenu);t.length>0&&(i.push(new Ae.e(o.id,o.label,t)),n++)}else i.push(o),n++;n&&i.push(new Ae.d)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(51);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const e=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),i=Me.D(this._editor.getDomNode()),n=i.left+e.left,o=i.top+e.top+e.height;t={x:n,y:o}}const n=this._editor.getOption(113)&&!$.c;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:n?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:e=>{const t=this._keybindingFor(e);if(t)return new Ri.a(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});const i=e;return"function"==typeof i.getActionViewItem?i.getActionViewItem():new Ri.a(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:e=>this._keybindingFor(e),onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:i})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};Sh.ID="editor.contrib.contextmenu",Sh=wh([yh(1,Re.a),yh(2,Re.b),yh(3,h.b),yh(4,Pe.a),yh(5,R.a)],Sh);class Lh extends r.b{constructor(){super({id:"editor.action.showContextMenu",label:s.a("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:a.a.textInputFocus,primary:1092,weight:100}})}run(e,t){Sh.get(t).showContextMenu()}}Object(r.l)(Sh.ID,Sh),Object(r.j)(Lh);class xh{constructor(e){this.selections=e}equals(e){const t=this.selections.length;if(t!==e.selections.length)return!1;for(let i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0}}class kh{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class Dh extends D.a{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(e=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(e=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo)return;if(!t.oldSelections)return;if(t.oldModelVersionId!==t.modelVersionId)return;const i=new xh(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new kh(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(Dh.ID)}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new kh(new xh(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new kh(new xh(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}Dh.ID="editor.contrib.cursorUndoRedoController";class Ih extends r.b{constructor(){super({id:"cursorUndo",label:s.a("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:a.a.textInputFocus,primary:2099,weight:100}})}run(e,t,i){Dh.get(t).cursorUndo()}}class Oh extends r.b{constructor(){super({id:"cursorRedo",label:s.a("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){Dh.get(t).cursorRedo()}}Object(r.l)(Dh.ID,Dh),Object(r.j)(Ih),Object(r.j)(Oh);i("OhnE");class Nh{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){let i=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new O.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new l.a(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new l.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new l.a(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new l.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new l.a(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(e,t){return this.targetSelection}}function Eh(e){return $.f?e.altKey:e.ctrlKey}class Th extends D.a{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._register(this._editor.onMouseDrag(e=>this._onEditorMouseDrag(e))),this._register(this._editor.onMouseDrop(e=>this._onEditorMouseDrop(e))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(e=>this.onEditorKeyDown(e))),this._register(this._editor.onKeyUp(e=>this.onEditorKeyUp(e))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(29)&&!this._editor.getOption(16)&&(Eh(e)&&(this._modifierPressed=!0),this._mouseDown&&Eh(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(29)&&!this._editor.getOption(16)&&(Eh(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===Th.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(null===this._dragSelection){let e=(this._editor.getSelections()||[]).filter(e=>t.position&&e.containsPosition(t.position));if(1!==e.length)return;this._dragSelection=e[0]}Eh(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new I.a(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let i=null;if(e.event.shiftKey){let e=this._editor.getSelection();if(e){const{selectionStartLineNumber:n,selectionStartColumn:o}=e;i=[new l.a(n,o,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(e=>e.containsPosition(t)?new l.a(t.lineNumber,t.column,t.lineNumber,t.column):e);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Eh(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Th.ID,new Nh(this._dragSelection,t,Eh(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new O.a(e.lineNumber,e.column,e.lineNumber,e.column),options:Th._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Th.ID="editor.contrib.dragAndDrop",Th.TRIGGER_KEY_VALUE=$.f?6:5,Th._DECORATION_OPTIONS=E.a.register({description:"dnd-target",className:"dnd-target"}),Object(r.l)(Th.ID,Th);var Mh=i("jAJ/");class Ah{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(e=>this._editor.getModel().getDecorationRange(e)).filter(e=>!!e);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const e=i.options;if(e===Ah._FIND_MATCH_DECORATION||e===Ah._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let n=0,o=this._decorations.length;n<o;n++){let o=this._editor.getModel().getDecorationRange(this._decorations[n]);if(e.equalsRange(o)){t=this._decorations[n],i=n+1;break}}return null===this._highlightedDecorationId&&null===t||this._editor.changeDecorations(e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,Ah._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,Ah._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let i=this._editor.getModel().getDecorationRange(t);if(i.startLineNumber!==i.endLineNumber&&1===i.endColumn){let e=i.endLineNumber-1,t=this._editor.getModel().getLineMaxColumn(e);i=new O.a(i.startLineNumber,i.startColumn,e,t)}this._rangeHighlightDecorationId=e.addDecoration(i,Ah._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let n=Ah._FIND_MATCH_DECORATION,o=[];if(e.length>1e3){n=Ah._FIND_MATCH_NO_OVERVIEW_DECORATION;const t=this._editor.getModel().getLineCount(),i=this._editor.getLayoutInfo().height/t,r=Math.max(2,Math.ceil(3/i));let s=e[0].range.startLineNumber,a=e[0].range.endLineNumber;for(let n=1,l=e.length;n<l;n++){const t=e[n].range;a+r>=t.startLineNumber?t.endLineNumber>a&&(a=t.endLineNumber):(o.push({range:new O.a(s,1,a,1),options:Ah._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),s=t.startLineNumber,a=t.endLineNumber)}o.push({range:new O.a(s,1,a,1),options:Ah._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let r=new Array(e.length);for(let t=0,s=e.length;t<s;t++)r[t]={range:e[t].range,options:n};this._decorations=i.deltaDecorations(this._decorations,r),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(e=>i.removeDecoration(e)),this._findScopeDecorationIds=[]),(null==t?void 0:t.length)&&(this._findScopeDecorationIds=t.map(e=>i.addDecoration(e,Ah._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,i=this._decorations.length;t<i;t++){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.startLineNumber<e.lineNumber)){if(n.startLineNumber>e.lineNumber)return n;if(!(n.startColumn<e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}Ah._CURRENT_FIND_MATCH_DECORATION=E.a.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Object(A.g)(M.ic),position:N.d.Center},minimap:{color:Object(A.g)(M.bc),position:N.c.Inline}}),Ah._FIND_MATCH_DECORATION=E.a.register({description:"find-match",stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Object(A.g)(M.ic),position:N.d.Center},minimap:{color:Object(A.g)(M.bc),position:N.c.Inline}}),Ah._FIND_MATCH_NO_OVERVIEW_DECORATION=E.a.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),Ah._FIND_MATCH_ONLY_OVERVIEW_DECORATION=E.a.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Object(A.g)(M.ic),position:N.d.Center}}),Ah._RANGE_HIGHLIGHT_DECORATION=E.a.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),Ah._FIND_SCOPE_DECORATION=E.a.register({description:"find-scope",className:"findScope",isWholeLine:!0});class Rh{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort((e,t)=>O.a.compareRangesUsingStarts(e.range,t.range));let i=[],n=e[0];for(let t=1;t<e.length;t++)n.range.endLineNumber===e[t].range.startLineNumber&&n.range.endColumn===e[t].range.startColumn?(n.range=n.range.plusRange(e[t].range),n.text=n.text+e[t].text):(i.push(n),n=e[t]);i.push(n);for(const o of i)t.addEditOperation(o.range,o.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function Ph(e,t){if(e&&""!==e[0]){const i=Fh(e,t,"-"),n=Fh(e,t,"_");return i&&!n?jh(e,t,"-"):!i&&n?jh(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():ce.o(e[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):e[0][0].toUpperCase()!==e[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function Fh(e,t,i){return-1!==e[0].indexOf(i)&&-1!==t.indexOf(i)&&e[0].split(i).length===t.split(i).length}function jh(e,t,i){const n=t.split(i),o=e[0].split(i);let r="";return n.forEach((e,t)=>{r+=Ph([o[t]],e)+i}),r.slice(0,-1)}class Bh{constructor(e){this.staticValue=e,this.kind=0}}class Wh{constructor(e){this.pieces=e,this.kind=1}}class Vh{constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new Bh(e[0].staticValue):this._state=new Wh(e):this._state=new Bh("")}static fromStaticValue(e){return new Vh([Hh.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(e,t){if(0===this._state.kind)return t?Ph(e,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,o=this._state.pieces.length;n<o;n++){let t=this._state.pieces[n];if(null!==t.staticValue){i+=t.staticValue;continue}let o=Vh._substitute(t.matchIndex,e);if(null!==t.caseOps&&t.caseOps.length>0){let e=[],i=t.caseOps.length,n=0;for(let r=0,s=o.length;r<s;r++){if(n>=i){e.push(o.slice(r));break}switch(t.caseOps[n]){case"U":e.push(o[r].toUpperCase());break;case"u":e.push(o[r].toUpperCase()),n++;break;case"L":e.push(o[r].toLowerCase());break;case"l":e.push(o[r].toLowerCase()),n++;break;default:e.push(o[r])}}o=e.join("")}i+=o}return i}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let i="";for(;e>0;){if(e<t.length){return(t[e]||"")+i}i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class Hh{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,i&&0!==i.length?this.caseOps=i.slice(0):this.caseOps=null}static staticValue(e){return new Hh(e,-1,null)}static caseOps(e,t){return new Hh(null,e,t)}}class zh{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=Hh.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=Hh.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=Hh.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Vh(this._result)}}const Uh=new h.c("findWidgetVisible",!1),Kh=new h.c("findInputFocussed",!1),qh=new h.c("replaceInputFocussed",!1),$h={primary:545,mac:{primary:2593}},Gh={primary:565,mac:{primary:2613}},Yh={primary:560,mac:{primary:2608}},Zh={primary:554,mac:{primary:2602}},Xh={primary:558,mac:{primary:2606}},Qh="actions.find",Jh="actions.findWithSelection",ed="editor.action.nextMatchFindAction",td="editor.action.previousMatchFindAction",id="editor.action.nextSelectionMatchFindAction",nd="editor.action.previousSelectionMatchFindAction",od="editor.action.startFindReplaceAction",rd="closeFindWidget",sd="toggleFindCaseSensitive",ad="toggleFindWholeWord",ld="toggleFindRegex",cd="toggleFindInSelection",hd="togglePreserveCase",dd="editor.action.replaceOne",ud="editor.action.replaceAll",gd="editor.action.selectAllMatches";class pd{constructor(e,t){this._toDispose=new D.b,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new k.g,this._decorations=new Ah(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.e(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(e=>{3!==e.reason&&5!==e.reason&&6!==e.reason||this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,Object(D.f)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;void 0!==t?null!==t&&(i=Array.isArray(t)?t:[t]):i=this._decorations.getFindScopes(),null!==i&&(i=i.map(e=>{if(e.startLineNumber!==e.endLineNumber){let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new O.a(e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}return e}));let n=this._findMatches(i,!1,19999);this._decorations.set(n,i);const o=this._editor.getSelection();let r=this._decorations.getCurrentMatchesPosition(o);if(0===r&&n.length>0){const e=Object(de.i)(n.map(e=>e.range),e=>O.a.compareRangesUsingStarts(e,o)>=0);r=e>0?e-1+1:r}this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),e&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||1===n?(1===i?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new I.a(i,n)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const t=this._decorations.matchAfterPosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<19999){let t=this._decorations.matchBeforePosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),void(t&&this._setCurrentFindMatch(t))}if(this._cannotFind())return;let i=this._decorations.getFindScope(),n=pd._getSearchRange(this._editor.getModel(),i);n.getEndPosition().isBefore(e)&&(e=n.getEndPosition()),e.isBefore(n.getStartPosition())&&(e=n.getEndPosition());let{lineNumber:o,column:r}=e,s=this._editor.getModel(),a=new I.a(o,r),l=s.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);return l&&l.range.isEmpty()&&l.range.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),l=s.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),l?t||n.containsRange(l.range)?void this._setCurrentFindMatch(l.range):this._moveToPrevMatch(l.range.getStartPosition(),!0):void 0}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new I.a(i,n)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<19999){let t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;let o=this._decorations.getFindScope(),r=pd._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());let{lineNumber:s,column:a}=e,l=this._editor.getModel(),c=new I.a(s,a),h=l.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t);return i&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(c)&&(c=this._nextSearchPosition(c),h=l.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t)),h?n||r.containsRange(h.range)?h:this._getNextMatch(h.range.getEndPosition(),t,i,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function(e){if(!e||0===e.length)return new Vh(null);let t=[],i=new zh(e);for(let n=0,o=e.length;n<o;n++){let r=e.charCodeAt(n);if(92!==r){if(36===r){if(n++,n>=o)break;let r=e.charCodeAt(n);if(36===r){i.emitUnchanged(n-1),i.emitStatic("$",n+1);continue}if(48===r||38===r){i.emitUnchanged(n-1),i.emitMatchIndex(0,n+1,t),t.length=0;continue}if(49<=r&&r<=57){let s=r-48;if(n+1<o){let o=e.charCodeAt(n+1);if(48<=o&&o<=57){n++,s=10*s+(o-48),i.emitUnchanged(n-2),i.emitMatchIndex(s,n+1,t),t.length=0;continue}}i.emitUnchanged(n-1),i.emitMatchIndex(s,n+1,t),t.length=0;continue}}}else{if(n++,n>=o)break;let r=e.charCodeAt(n);switch(r){case 92:i.emitUnchanged(n-1),i.emitStatic("\\",n+1);break;case 110:i.emitUnchanged(n-1),i.emitStatic("\n",n+1);break;case 116:i.emitUnchanged(n-1),i.emitStatic("\t",n+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(n-1),i.emitStatic("",n+1),t.push(String.fromCharCode(r))}}}return i.finalize()}(this._state.replaceString):Vh.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let n=e.buildReplaceString(i.matches,this._state.preserveCase),o=new z.a(t,n);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new I.a(t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const n=(e||[null]).map(e=>pd._getSearchRange(this._editor.getModel(),e));return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=19999?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const e=new Mh.a(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(!e)return;let t=e.regex;if(!t.multiline){let e="mu";t.ignoreCase&&(e+="i"),t.global&&(e+="g"),t=new RegExp(t.source,e)}const i=this._editor.getModel(),n=i.getValue(1),o=i.getFullModelRange(),r=this._getReplacePattern();let s;const a=this._state.preserveCase;s=r.hasReplacementPatterns||a?n.replace(t,(function(){return r.buildReplaceString(arguments,a)})):n.replace(t,r.buildReplaceString(null,a));let l=new z.b(o,s,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}_regularReplaceAll(e){const t=this._getReplacePattern();let i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let r=0,s=i.length;r<s;r++)n[r]=t.buildReplaceString(i[r].matches,this._state.preserveCase);let o=new Rh(this._editor.getSelection(),i.map(e=>e.range),n);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,1073741824).map(e=>new l.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)),i=this._editor.getSelection();for(let n=0,o=t.length;n<o;n++){if(t[n].equalsRange(i)){t=[i].concat(t.slice(0,n)).concat(t.slice(n+1));break}}this._editor.setSelections(t)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}i("iJk1");const md={inputActiveOptionBorder:ii.a.fromHex("#007ACC00"),inputActiveOptionForeground:ii.a.fromHex("#FFFFFF"),inputActiveOptionBackground:ii.a.fromHex("#0E639C50")};class fd extends hi.a{constructor(e){super(),this._onChange=this._register(new Ke.b),this.onChange=this._onChange.event,this._onKeyDown=this._register(new Ke.b),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},md),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...$e.a.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,e=>{this.checked=!this._checked,this._onChange.fire(!1),e.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,e=>{if(10===e.keyCode||3===e.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void e.preventDefault();this._onKeyDown.fire(e)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const bd=s.a("caseDescription","Match Case"),_d=s.a("wordsDescription","Match Whole Word"),vd=s.a("regexDescription","Use Regular Expression");class Cd extends fd{constructor(e){super({icon:$e.b.caseSensitive,title:bd+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class wd extends fd{constructor(e){super({icon:$e.b.wholeWord,title:_d+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class yd extends fd{constructor(e){super({icon:$e.b.regex,title:vd+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Sd extends hi.a{constructor(e,t,i,n){super(),this._hideSoon=this._register(new k.e(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const o=n.getColorTheme().getColor(M.hb),r=n.getColorTheme().getColor(M.ib),s=n.getColorTheme().getColor(M.gb);this.caseSensitive=this._register(new Cd({appendTitle:this._keybindingLabelFor(sd),isChecked:this._state.matchCase,inputActiveOptionBorder:o,inputActiveOptionForeground:r,inputActiveOptionBackground:s})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new wd({appendTitle:this._keybindingLabelFor(ad),isChecked:this._state.wholeWord,inputActiveOptionBorder:o,inputActiveOptionForeground:r,inputActiveOptionBackground:s})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new yd({appendTitle:this._keybindingLabelFor(ld),isChecked:this._state.isRegex,inputActiveOptionBorder:o,inputActiveOptionForeground:r,inputActiveOptionBackground:s})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()})),this._register(Me.j(this._domNode,e=>this._onMouseOut())),this._register(Me.i(this._domNode,"mouseover",e=>this._onMouseOver())),this._applyTheme(n.getColorTheme()),this._register(n.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Sd.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(M.hb),inputActiveOptionForeground:e.getColor(M.ib),inputActiveOptionBackground:e.getColor(M.gb)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}function Ld(e,t){return 1===e||2!==e&&t}Sd.ID="editor.contrib.findOptionsWidget",Object(A.f)((e,t)=>{const i=e.getColor(M.Y);i&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`);const n=e.getColor(M.ab);n&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const o=e.getColor(M.Mc);o&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const r=e.getColor(M.h);r&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${r}; }`)});class xd extends D.a{constructor(){super(),this._onFindReplaceStateChange=this._register(new Ke.b),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Ld(this._isRegexOverride,this._isRegex)}get wholeWord(){return Ld(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Ld(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Ld(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},o=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,o=!0),void 0!==i&&(O.a.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;let o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},r=!1;const s=this.isRegex,a=this.wholeWord,l=this.matchCase,c=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,r=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,r=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,r=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,r=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&((null===(n=e.searchScope)||void 0===n?void 0:n.every(e=>{var t;return null===(t=this._searchScope)||void 0===t?void 0:t.some(t=>!O.a.equalsRange(t,e))}))||(this._searchScope=e.searchScope,o.searchScope=!0,r=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,r=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,s!==this.isRegex&&(r=!0,o.isRegex=!0),a!==this.wholeWord&&(r=!0,o.wholeWord=!0),l!==this.matchCase&&(r=!0,o.matchCase=!0),c!==this.preserveCase&&(r=!0,o.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=19999}}i("AbCa"),i("yqFB");var kd=i("0+8E");const Dd=s.a("defaultLabel","input");class Id extends hi.a{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new Ke.b),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Ke.b),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Ke.b),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new Ke.b),this._onKeyUp=this._register(new Ke.b),this._onCaseSensitiveKeyDown=this._register(new Ke.b),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new Ke.b),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||Dd,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const o=n.appendCaseSensitiveLabel||"",r=n.appendWholeWordsLabel||"",s=n.appendRegexLabel||"",a=n.history||[],l=!!n.flexibleHeight,c=!!n.flexibleWidth,h=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new kd.a(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:a,flexibleHeight:l,flexibleWidth:c,flexibleMaxHeight:h})),this.regex=this._register(new yd({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(e=>{this._onRegexKeyDown.fire(e)})),this.wholeWords=this._register(new wd({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new Cd({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(e=>{this._onCaseSensitiveKeyDown.fire(e)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let d=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){let t=d.indexOf(document.activeElement);if(t>=0){let i=-1;e.equals(17)?i=(t+1)%d.length:e.equals(15)&&(i=0===t?d.length-1:t-1),e.equals(9)?(d[t].blur(),this.inputBox.focus()):i>=0&&d[i].focus(),Me.c.stop(e,!0)}}});let u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.caseSensitive.domNode),u.appendChild(this.wholeWords.domNode),u.appendChild(this.regex.domNode),this.domNode.appendChild(u),e&&e.appendChild(this.domNode),this._register(Me.i(this.inputBox.inputElement,"compositionstart",e=>{this.imeSessionInProgress=!0})),this._register(Me.i(this.inputBox.inputElement,"compositionend",e=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,e=>this._onKeyDown.fire(e)),this.onkeyup(this.inputBox.inputElement,e=>this._onKeyUp.fire(e)),this.oninput(this.inputBox.inputElement,e=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,e=>this._onMouseDown.fire(e))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const Od=s.a("defaultLabel","input"),Nd=s.a("label.preserveCaseCheckbox","Preserve Case");class Ed extends fd{constructor(e){super({icon:$e.b.preserveCase,title:Nd+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Td extends hi.a{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new Ke.b),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Ke.b),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Ke.b),this._onInput=this._register(new Ke.b),this._onKeyUp=this._register(new Ke.b),this._onPreserveCaseKeyDown=this._register(new Ke.b),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||Od,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const o=n.appendPreserveCaseLabel||"",r=n.history||[],s=!!n.flexibleHeight,a=!!n.flexibleWidth,l=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new kd.a(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:r,flexibleHeight:s,flexibleWidth:a,flexibleMaxHeight:l})),this.preserveCase=this._register(new Ed({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(e=>{this._onPreserveCaseKeyDown.fire(e)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let c=[this.preserveCase.domNode];this.onkeydown(this.domNode,e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){let t=c.indexOf(document.activeElement);if(t>=0){let i=-1;e.equals(17)?i=(t+1)%c.length:e.equals(15)&&(i=0===t?c.length-1:t-1),e.equals(9)?(c[t].blur(),this.inputBox.focus()):i>=0&&c[i].focus(),Me.c.stop(e,!0)}}});let h=document.createElement("div");h.className="controls",h.style.display=this._showOptionButtons?"block":"none",h.appendChild(this.preserveCase.domNode),this.domNode.appendChild(h),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,e=>this._onKeyDown.fire(e)),this.onkeyup(this.inputBox.inputElement,e=>this._onKeyUp.fire(e)),this.oninput(this.inputBox.inputElement,e=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,e=>this._onMouseDown.fire(e))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var Md=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ad=function(e,t){return function(i,n){t(i,n,e)}};function Rd(e,t){return e.getContext(document.activeElement).getValue(t)}function Pd(e,t){const i=function(e,t){return e.createScoped(t.target)}(e,t);!function(e,t,i){new h.c(i,t).bindTo(e)}(i,t,"historyNavigationWidget");return{scopedContextKeyService:i,historyNavigationEnablement:new h.c("historyNavigationEnabled",!0).bindTo(i)}}let Fd=class extends Id{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(Pd(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};Fd=Md([Ad(3,h.b)],Fd);let jd=class extends Td{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(Pd(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};jd=Md([Ad(3,h.b)],jd),ss.a.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:h.a.and(h.a.has("historyNavigationWidget"),h.a.equals("historyNavigationEnabled",!0)),primary:16,secondary:[528],handler:(e,t)=>{const i=Rd(e.get(h.b),"historyNavigationWidget");if(i){i.historyNavigator.showPreviousValue()}}}),ss.a.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:h.a.and(h.a.has("historyNavigationWidget"),h.a.equals("historyNavigationEnabled",!0)),primary:18,secondary:[530],handler:(e,t)=>{const i=Rd(e.get(h.b),"historyNavigationWidget");if(i){i.historyNavigator.showNextValue()}}});var Bd=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Wd=Object(jn.b)("find-selection",$e.b.selection,s.a("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),Vd=Object(jn.b)("find-collapsed",$e.b.chevronRight,s.a("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Hd=Object(jn.b)("find-expanded",$e.b.chevronDown,s.a("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),zd=Object(jn.b)("find-replace",$e.b.replace,s.a("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Ud=Object(jn.b)("find-replace-all",$e.b.replaceAll,s.a("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Kd=Object(jn.b)("find-previous-match",$e.b.arrowUp,s.a("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),qd=Object(jn.b)("find-next-match",$e.b.arrowDown,s.a("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),$d=s.a("label.find","Find"),Gd=s.a("placeholder.find","Find"),Yd=s.a("label.previousMatchButton","Previous Match"),Zd=s.a("label.nextMatchButton","Next Match"),Xd=s.a("label.toggleSelectionFind","Find in Selection"),Qd=s.a("label.closeButton","Close"),Jd=s.a("label.replace","Replace"),eu=s.a("placeholder.replace","Replace"),tu=s.a("label.replaceButton","Replace"),iu=s.a("label.replaceAllButton","Replace All"),nu=s.a("label.toggleReplaceButton","Toggle Replace"),ou=s.a("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",19999),ru=s.a("label.matchesLocation","{0} of {1}"),su=s.a("label.noResults","No results");let au=69;const lu=$.f?256:2048;class cu{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function hu(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionStart>0&&e.stopPropagation()}function du(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionEnd<i.value.length&&e.stopPropagation()}class uu extends hi.a{constructor(e,t,i,n,o,r,s,a,l){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=n,this._keybindingService=o,this._contextKeyService=r,this._storageService=a,this._notificationService=l,this._ctrlEnterReplaceAllWarningPrompted=!!a.getBoolean("ctrlEnterReplaceAll.windows.donotask",0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new k.a(500),this._register(Object(D.i)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(e=>{if(e.hasChanged(79)&&(this._codeEditor.getOption(79)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(129)&&this._tryUpdateWidgetWidth(),e.hasChanged(2)&&this.updateAccessibilitySupport(),e.hasChanged(33)){const e=this._codeEditor.getOption(33).addExtraSpaceOnTop;e&&!this._viewZone&&(this._viewZone=new cu(0),this._showViewZone()),!e&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Bd(this,void 0,void 0,(function*(){if(this._isVisible){let e=yield this._controller.getGlobalBufferTerm();e&&e!==this._state.searchString&&(this._state.change({searchString:e},!1),this._findInput.select())}})))),this._findInputFocused=Kh.bindTo(r),this._findFocusTracker=this._register(Me.Y(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=qh.bindTo(r),this._replaceFocusTracker=this._register(Me.Y(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new cu(0)),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return uu.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(79)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=Me.I(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let e=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",e),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,u.e)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=au+"px",this._state.matchesCount>=19999?this._matchesCount.title=ou:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=19999&&(t+="+");let i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=ce.w(ru,i,t)}else e=su;this._matchesCount.appendChild(document.createTextNode(e)),Object(f.a)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),au=Math.max(au,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===su)return""===i?s.a("ariaSearchNoResultEmpty","{0} found",e):s.a("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const n=s.a("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();if(o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1){return`${o.getLineContent(t.startLineNumber)}, ${n}`}return n}return s.a("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(79);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const t=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=t}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const n=Me.D(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),r=n.left+(o?o.left:0),s=o?o.top:0;if(this._viewZone&&s<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const i=Me.G(this._domNode).left;r>i&&(t=!1);const o=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());n.left+(o?o.left:0)>i&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones(i=>{t.heightInPx=this._getHeight(),this._viewZoneId=i.addZone(t),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+t.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible)return;if(!this._codeEditor.getOption(33).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new cu(0));const t=this._viewZone;this._codeEditor.changeViewZones(i=>{if(void 0!==this._viewZoneId){const n=this._getHeight();if(n===t.heightInPx)return;let o=n-t.heightInPx;return t.heightInPx=n,i.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o))}{let n=this._getHeight();if(n-=this._codeEditor.getOption(73).top,n<=0)return;t.heightInPx=n,this._viewZoneId=i.addZone(t),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+n)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(M.hb),inputActiveOptionBackground:e.getColor(M.gb),inputActiveOptionForeground:e.getColor(M.ib),inputBackground:e.getColor(M.jb),inputForeground:e.getColor(M.lb),inputBorder:e.getColor(M.kb),inputValidationInfoBackground:e.getColor(M.pb),inputValidationInfoForeground:e.getColor(M.rb),inputValidationInfoBorder:e.getColor(M.qb),inputValidationWarningBackground:e.getColor(M.sb),inputValidationWarningForeground:e.getColor(M.ub),inputValidationWarningBorder:e.getColor(M.tb),inputValidationErrorBackground:e.getColor(M.mb),inputValidationErrorForeground:e.getColor(M.ob),inputValidationErrorBorder:e.getColor(M.nb)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible)return;if(!Me.N(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const t=e.width,i=e.minimap.minimapWidth;let n=!1,o=!1,r=!1;if(this._resized){if(Me.I(this._domNode)>419)return this._domNode.style.maxWidth=t-28-i-15+"px",void(this._replaceInput.width=Me.I(this._findInput.domNode))}if(447+i>=t&&(o=!0),447+i-au>=t&&(r=!0),447+i-au>=t+50&&(n=!0),this._domNode.classList.toggle("collapsed-find-widget",n),this._domNode.classList.toggle("narrow-find-widget",r),this._domNode.classList.toggle("reduced-find-widget",o),r||n||(this._domNode.style.maxWidth=t-28-i-15+"px"),this._resized){this._findInput.inputBox.layout();let e=this._findInput.inputBox.element.clientWidth;e>0&&(this._replaceInput.width=e)}else this._isReplaceVisible&&(this._replaceInput.width=Me.I(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=e+"px",!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));const t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||O.a.equalsRange(e,t)?null:e}).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|lu)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?hu(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?du(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|lu)?($.j&&$.g&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(s.a("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store("ctrlEnterReplaceAll.windows.donotask",!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?hu(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?du(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new Fd(null,this._contextViewProvider,{width:221,label:$d,placeholder:Gd,appendCaseSensitiveLabel:this._keybindingLabelFor(sd),appendWholeWordsLabel:this._keybindingLabelFor(ad),appendRegexLabel:this._keybindingLabelFor(ld),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return new RegExp(e,"gu"),null}catch(t){return{content:t.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(e=>this._onFindInputKeyDown(e))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(e=>{e.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())})),this._register(this._findInput.onRegexKeyDown(e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(e=>{this._tryUpdateHeight()&&this._showViewZone()})),$.d&&this._register(this._findInput.onMouseDown(e=>this._onFindInputMouseDown(e))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new gu({label:Yd+this._keybindingLabelFor(td),icon:Kd,onTrigger:()=>{this._codeEditor.getAction(td).run().then(void 0,u.e)}})),this._nextBtn=this._register(new gu({label:Zd+this._keybindingLabelFor(ed),icon:qd,onTrigger:()=>{this._codeEditor.getAction(ed).run().then(void 0,u.e)}}));let e=document.createElement("div");e.className="find-part",e.appendChild(this._findInput.domNode);const t=document.createElement("div");t.className="find-actions",e.appendChild(t),t.appendChild(this._matchesCount),t.appendChild(this._prevBtn.domNode),t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new fd({icon:Wd,title:Xd+this._keybindingLabelFor(cd),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let e=this._codeEditor.getSelections();e.map(e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e)).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)})),t.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new gu({label:Qd+this._keybindingLabelFor(rd),icon:jn.c,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}})),t.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new jd(null,void 0,{label:Jd,placeholder:eu,appendPreserveCaseLabel:this._keybindingLabelFor(hd),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(e=>this._onReplaceInputKeyDown(e))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(e=>{e.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())})),this._replaceBtn=this._register(new gu({label:tu+this._keybindingLabelFor(dd),icon:zd,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(1026)&&(this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new gu({label:iu+this._keybindingLabelFor(ud),icon:Ud,onTrigger:()=>{this._controller.replaceAll()}}));let i=document.createElement("div");i.className="replace-part",i.appendChild(this._replaceInput.domNode);const n=document.createElement("div");n.className="replace-actions",i.appendChild(n),n.appendChild(this._replaceBtn.domNode),n.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new gu({label:nu,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Me.I(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(e),this._domNode.appendChild(i),this._resizeSash=new Di.b(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let o=419;this._register(this._resizeSash.onDidStart(()=>{o=Me.I(this._domNode)})),this._register(this._resizeSash.onDidChange(e=>{this._resized=!0;let t=o+e.startX-e.currentX;if(t<419)return;t>(parseFloat(Me.A(this._domNode).maxWidth)||0)||(this._domNode.style.width=t+"px",this._isReplaceVisible&&(this._replaceInput.width=Me.I(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const e=Me.I(this._domNode);if(e<419)return;let t=419;if(!this._resized||419===e){const e=this._codeEditor.getLayoutInfo();t=e.width-28-e.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=t+"px",this._isReplaceVisible&&(this._replaceInput.width=Me.I(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}uu.ID="editor.contrib.findWidget";class gu extends hi.a{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+A.d.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,e=>{this._opts.onTrigger(),e.preventDefault()}),this.onkeydown(this._domNode,e=>{if(e.equals(10)||e.equals(3))return this._opts.onTrigger(),void e.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(e)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...A.d.asClassNameArray(Vd)),this._domNode.classList.add(...A.d.asClassNameArray(Hd))):(this._domNode.classList.remove(...A.d.asClassNameArray(Hd)),this._domNode.classList.add(...A.d.asClassNameArray(Vd)))}}Object(A.f)((e,t)=>{const i=(e,i)=>{i&&t.addRule(`.monaco-editor ${e} { background-color: ${i}; }`)};i(".findMatch",e.getColor(M.x)),i(".currentFindMatch",e.getColor(M.v)),i(".findScope",e.getColor(M.z));i(".find-widget",e.getColor(M.Y));const n=e.getColor(M.Mc);n&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${n}; }`);const o=e.getColor(M.y);o&&t.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===e.type?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const r=e.getColor(M.w);r&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${r}; padding: 1px; box-sizing: border-box; }`);const s=e.getColor(M.A);s&&t.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===e.type?"dashed":"solid"} ${s}; }`);const a=e.getColor(M.h);a&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${a}; }`);const l=e.getColor(M.ab);l&&t.addRule(`.monaco-editor .find-widget { color: ${l}; }`);const c=e.getColor(M.cb);c&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${c}; }`);const h=e.getColor(M.bb);if(h)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${h}; }`);else{const i=e.getColor(M.Z);i&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${i}; }`)}const d=e.getColor(M.db);d&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${d}; }`)});var pu=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},mu=function(e,t){return function(i,n){t(i,n,e)}},fu=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function bu(e,t="single",i=!1){if(!e.hasModel())return null;const n=e.getSelection();if("single"===t&&n.startLineNumber===n.endLineNumber||"multiple"===t)if(n.isEmpty()){const t=e.getConfiguredWordAtPosition(n.getStartPosition());if(t&&!1===i)return t.word}else if(e.getModel().getValueLengthInRange(n)<524288)return e.getModel().getValueInRange(n);return null}let _u=class e extends D.a{constructor(e,t,i,n){super(),this._editor=e,this._findWidgetVisible=Uh.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=n,this._updateHistoryDelayer=new k.a(500),this._state=this._register(new xd),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(e=>this._onStateChanged(e))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(t){return t.getContribution(e.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Kh.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e)).filter(e=>!!e),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=ce.u(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e){return fu(this,void 0,void 0,(function*(){if(this.disposeModel(),!this._editor.hasModel())return;let t={isRevealed:!0};if("single"===e.seedSearchStringFromSelection){let i=bu(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);i&&(this._state.isRegex?t.searchString=ce.u(i):t.searchString=i)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){let i=bu(this._editor,e.seedSearchStringFromSelection);i&&(t.searchString=i)}if(!t.searchString&&e.seedSearchStringFromGlobalClipboard){let e=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;e&&(t.searchString=e)}if(e.forceRevealReplace?t.isReplaceRevealed=!0:this._findWidgetVisible.get()||(t.isReplaceRevealed=!1),e.updateSearchScope){let e=this._editor.getSelections();e.some(e=>!e.isEmpty())&&(t.searchScope=e)}t.loop=e.loop,this._state.change(t,!1),this._model||(this._model=new pd(this._editor,this._state))}))}start(e){return this._start(e)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return fu(this,void 0,void 0,(function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}))}setGlobalBufferTerm(e){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};_u.ID="editor.contrib.findController",_u=pu([mu(1,h.b),mu(2,Ht.a),mu(3,Z.a)],_u);let vu=class extends _u{constructor(e,t,i,n,o,r,s,a){super(e,i,s,a),this._contextViewService=t,this._keybindingService=n,this._themeService=o,this._notificationService=r,this._widget=null,this._findOptionsWidget=null}_start(e){const t=Object.create(null,{_start:{get:()=>super._start}});return fu(this,void 0,void 0,(function*(){this._widget||this._createFindWidget();const i=this._editor.getSelection();let n=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":n=!0;break;case"never":n=!1;break;case"multiline":n=!!i&&i.startLineNumber!==i.endLineNumber}e.updateSearchScope=n,yield t._start.call(this,e),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())}))}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new uu(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new Sd(this._editor,this._state,this._keybindingService,this._themeService))}};vu=pu([mu(1,Re.b),mu(2,h.b),mu(3,Pe.a),mu(4,A.b),mu(5,st.a),mu(6,Ht.a),mu(7,Z.a)],vu);Object(r.p)(new r.f({id:Qh,label:s.a("startFindAction","Find"),alias:"Find",precondition:h.a.or(a.a.focus,h.a.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:R.b.MenubarEditMenu,group:"3_find",title:s.a({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(e,t,i)=>{const n=_u.get(t);return!!n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop})});class Cu extends r.b{constructor(){super({id:Jh,label:s.a("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return fu(this,void 0,void 0,(function*(){let e=_u.get(t);e&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),e.setGlobalBufferTerm(e.getState().searchString))}))}}class wu extends r.b{run(e,t){return fu(this,void 0,void 0,(function*(){let e=_u.get(t);e&&!this._run(e)&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&"never"!==t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),this._run(e))}))}}class yu extends r.b{run(e,t){return fu(this,void 0,void 0,(function*(){let e=_u.get(t);if(!e)return;const i="selection"===t.getOption(33).seedSearchStringFromSelection;let n=null;"never"!==t.getOption(33).seedSearchStringFromSelection&&(n=bu(t,"single",i)),n&&e.setSearchString(n),this._run(e)||(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:i,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),this._run(e))}))}}Object(r.p)(new r.f({id:od,label:s.a("startReplace","Replace"),alias:"Replace",precondition:h.a.or(a.a.focus,h.a.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:R.b.MenubarEditMenu,group:"3_find",title:s.a({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(e,t,i)=>{if(!t.hasModel()||t.getOption(79))return!1;const n=_u.get(t);if(!n)return!1;const o=t.getSelection(),r=n.isFindInputFocused(),s=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&"never"!==t.getOption(33).seedSearchStringFromSelection&&!r,a=r||s?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(33).seedSearchStringFromSelection,shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop})}),Object(r.l)(_u.ID,vu),Object(r.j)(Cu),Object(r.j)(class extends wu{constructor(){super({id:ed,label:s.a("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:a.a.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:h.a.and(a.a.focus,Kh),primary:3,weight:100}]})}_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}),Object(r.j)(class extends wu{constructor(){super({id:td,label:s.a("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:a.a.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:h.a.and(a.a.focus,Kh),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}),Object(r.j)(class extends yu{constructor(){super({id:id,label:s.a("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}),Object(r.j)(class extends yu{constructor(){super({id:nd,label:s.a("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}});const Su=r.c.bindToContribution(_u.get);Object(r.k)(new Su({id:rd,precondition:Uh,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:h.a.and(a.a.focus,h.a.not("isComposing")),primary:9,secondary:[1033]}})),Object(r.k)(new Su({id:sd,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:$h.primary,mac:$h.mac,win:$h.win,linux:$h.linux}})),Object(r.k)(new Su({id:ad,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:Gh.primary,mac:Gh.mac,win:Gh.win,linux:Gh.linux}})),Object(r.k)(new Su({id:ld,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:Yh.primary,mac:Yh.mac,win:Yh.win,linux:Yh.linux}})),Object(r.k)(new Su({id:cd,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:Zh.primary,mac:Zh.mac,win:Zh.win,linux:Zh.linux}})),Object(r.k)(new Su({id:hd,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:Xh.primary,mac:Xh.mac,win:Xh.win,linux:Xh.linux}})),Object(r.k)(new Su({id:dd,precondition:Uh,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:3094}})),Object(r.k)(new Su({id:dd,precondition:Uh,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:h.a.and(a.a.focus,qh),primary:3}})),Object(r.k)(new Su({id:ud,precondition:Uh,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:2563}})),Object(r.k)(new Su({id:ud,precondition:Uh,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:h.a.and(a.a.focus,qh),primary:void 0,mac:{primary:2051}}})),Object(r.k)(new Su({id:gd,precondition:Uh,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:a.a.focus,primary:515}}));i("CjOT");class Lu{constructor(e,t,i){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(t,i)=>{let n=e[e.length-1];return this.getStartLineNumber(n)<=t&&this.getEndLineNumber(n)>=i};for(let i=0,n=this._startIndexes.length;i<n;i++){let n=this._startIndexes[i],o=this._endIndexes[i];if(n>16777215||o>16777215)throw new Error("startLineNumber or endLineNumber must not exceed 16777215");for(;e.length>0&&!t(n,o);)e.pop();let r=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=n+((255&r)<<24),this._endIndexes[i]=o+((65280&r)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return 16777215&this._startIndexes[e]}getEndLineNumber(e){return 16777215&this._endIndexes[e]}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){let t=e/32|0,i=e%32;return 0!=(this._collapseStates[t]&1<<i)}setCollapsed(e,t){let i=e/32|0,n=e%32,o=this._collapseStates[i];this._collapseStates[i]=t?o|1<<n:o&~(1<<n)}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,t),i=!0);return i}toRegion(e){return new xu(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((4278190080&this._startIndexes[e])>>>24)+((4278190080&this._endIndexes[e])>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(0===i)return-1;for(;t<i;){let n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}}class xu{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class ku{constructor(e,t){this._updateEventEmitter=new Ke.b,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Lu(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort((e,t)=>e.regionIndex-t.regionIndex);const t={};this._decorationProvider.changeDecorations(i=>{let n=0,o=-1,r=-1;const s=e=>{for(;n<e;){const e=this._regions.getEndLineNumber(n),t=this._regions.isCollapsed(n);e<=o&&i.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(t,e<=r)),t&&e>r&&(r=e),n++}};for(let a of e){let e=a.regionIndex,i=this._editorDecorationIds[e];if(i&&!t[i]){t[i]=!0,s(e);let n=!this._regions.isCollapsed(e);this._regions.setCollapsed(e,n),o=Math.max(o,this._regions.getEndLineNumber(e))}}s(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let i=[],n=-1,o=(o,r)=>{const s=e.getStartLineNumber(o),a=e.getEndLineNumber(o);r||(r=e.isCollapsed(o)),r&&((e,i)=>{for(let n of t)if(e<n&&n<=i)return!0;return!1})(s,a)&&(r=!1),e.setCollapsed(o,r);const l=this._textModel.getLineMaxColumn(s),c={startLineNumber:s,startColumn:Math.max(l-1,1),endLineNumber:s,endColumn:l};i.push({range:c,options:this._decorationProvider.getDecorationOption(r,a<=n)}),r&&a>n&&(n=a)},r=0,s=()=>{for(;r<this._regions.length;){let e=this._regions.isCollapsed(r);if(r++,e)return r-1}return-1},a=0,l=s();for(;-1!==l&&a<e.length;){let t=this._textModel.getDecorationRange(this._editorDecorationIds[l]);if(t){let i=t.startLineNumber;if(t.startColumn===Math.max(t.endColumn-1,1)&&this._textModel.getLineMaxColumn(i)===t.endColumn)for(;a<e.length;){let t=e.getStartLineNumber(a);if(!(i>=t))break;o(a,i===t),a++}}l=s()}for(;a<e.length;)o(a,!1),a++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let i=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(i){let n=i.startLineNumber,o=i.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:n,endLineNumber:o})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let i of e){let e=this.getRegionAtLine(i.startLineNumber);e&&!e.isCollapsed&&t.push(e)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let i=[];if(this._regions){let n=this._regions.findRange(e),o=1;for(;n>=0;){let e=this._regions.toRegion(n);t&&!t(e,o)||i.push(e),o++,n=e.parentIndex}}return i}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let i=[],n=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){const e=[];for(let r=n,s=this._regions.length;r<s;r++){let n=this._regions.toRegion(r);if(!(this._regions.getStartLineNumber(r)<o))break;for(;e.length>0&&!n.containedBy(e[e.length-1]);)e.pop();e.push(n),t(n,e.length)&&i.push(n)}}else for(let r=n,s=this._regions.length;r<s;r++){let e=this._regions.toRegion(r);if(!(this._regions.getStartLineNumber(r)<o))break;t&&!t(e)||i.push(e)}return i}}function Du(e,t,i=Number.MAX_VALUE,n){let o=[];if(n&&n.length>0)for(let r of n){let n=e.getRegionAtLine(r);if(n&&(n.isCollapsed!==t&&o.push(n),i>1)){let r=e.getRegionsInside(n,(e,n)=>e.isCollapsed!==t&&n<i);o.push(...r)}}else{let n=e.getRegionsInside(null,(e,n)=>e.isCollapsed!==t&&n<i);o.push(...n)}e.toggleCollapseState(o)}function Iu(e,t,i,n){let o=[];for(let r of n){let n=e.getAllRegionsAtLine(r,(e,n)=>e.isCollapsed!==t&&n<=i);o.push(...n)}e.toggleCollapseState(o)}function Ou(e,t,i){let n=[];for(let r of i)n.push(e.getAllRegionsAtLine(r,void 0)[0]);let o=e.getRegionsInside(null,e=>n.every(t=>!t.containedBy(e)&&!e.containedBy(t))&&e.isCollapsed!==t);e.toggleCollapseState(o)}function Nu(e,t,i){let n=e.textModel,o=e.regions,r=[];for(let s=o.length-1;s>=0;s--)if(i!==o.isCollapsed(s)){let e=o.getStartLineNumber(s);t.test(n.getLineContent(e))&&r.push(o.toRegion(s))}e.toggleCollapseState(r)}function Eu(e,t,i){let n=e.regions,o=[];for(let r=n.length-1;r>=0;r--)i!==n.isCollapsed(r)&&t===n.getType(r)&&o.push(n.toRegion(r));e.toggleCollapseState(o)}const Tu=Object(jn.b)("folding-expanded",$e.b.chevronDown,Object(s.a)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Mu=Object(jn.b)("folding-collapsed",$e.b.chevronRight,Object(s.a)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class Au{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?Au.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?Au.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Au.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?Au.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Au.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}}Au.COLLAPSED_VISUAL_DECORATION=E.a.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:A.d.asClassName(Mu)}),Au.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=E.a.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:A.d.asClassName(Mu)}),Au.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=E.a.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:A.d.asClassName(Tu)}),Au.EXPANDED_VISUAL_DECORATION=E.a.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+A.d.asClassName(Tu)}),Au.HIDDEN_RANGE_DECORATION=E.a.register({description:"folding-hidden-range-decoration",stickiness:1});class Ru{constructor(e){this._updateEventEmitter=new Ke.b,this._foldingModel=e,this._foldingModelListener=e.onDidChange(e=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let e=!1,t=[],i=0,n=0,o=Number.MAX_VALUE,r=-1,s=this._foldingModel.regions;for(;i<s.length;i++){if(!s.isCollapsed(i))continue;let a=s.getStartLineNumber(i)+1,l=s.getEndLineNumber(i);o<=a&&l<=r||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===a&&this._hiddenRanges[n].endLineNumber===l?(t.push(this._hiddenRanges[n]),n++):(e=!0,t.push(new O.a(a,1,l,1))),o=a,r=l)}(e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||0===e.length)return!1;let t=[];for(let i of e){if(!i.startLineNumber||!i.endLineNumber)return!1;t.push(new O.a(i.startLineNumber+1,1,i.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}))}applyHiddenRanges(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==Pu(this._hiddenRanges,e)}adjustSelections(e){let t=!1,i=this._foldingModel.textModel,n=null,o=e=>(n&&function(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,n)||(n=Pu(this._hiddenRanges,e)),n?n.startLineNumber-1:null);for(let r=0,s=e.length;r<s;r++){let n=e[r],s=o(n.startLineNumber);s&&(n=n.setStartPosition(s,i.getLineMaxColumn(s)),t=!0);let a=o(n.endLineNumber);a&&(n=n.setEndPosition(a,i.getLineMaxColumn(a)),t=!0),e[r]=n}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function Pu(e,t){let i=Object(de.i)(e,e=>t<e.startLineNumber)-1;return i>=0&&e[i].endLineNumber>=t?e[i]:null}class Fu{constructor(e){this.editorModel=e,this.id="indent"}dispose(){}compute(e){let t=_r.a.getFoldingRules(this.editorModel.getLanguageIdentifier().id),i=t&&!!t.offSide,n=t&&t.markers;return Promise.resolve(function(e,t,i,n=5e3){const o=e.getOptions().tabSize;let r=new ju(n),s=void 0;i&&(s=new RegExp(`(${i.start.source})|(?:${i.end.source})`));let a=[],l=e.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let c=e.getLineCount();c>0;c--){let i,n=e.getLineContent(c),l=E.b.computeIndentLevel(n,o),h=a[a.length-1];if(-1!==l){if(s&&(i=n.match(s))){if(!i[1]){a.push({indent:-2,endAbove:c,line:c});continue}{let e=a.length-1;for(;e>0&&-2!==a[e].indent;)e--;if(e>0){a.length=e+1,h=a[e],r.insertFirst(c,h.line,l),h.line=c,h.indent=l,h.endAbove=c;continue}}}if(h.indent>l){do{a.pop(),h=a[a.length-1]}while(h.indent>l);let e=h.endAbove-1;e-c>=1&&r.insertFirst(c,e,l)}h.indent===l?h.endAbove=c:a.push({indent:l,endAbove:c,line:c})}else t&&(h.endAbove=c)}return r.toIndentRanges(e)}(this.editorModel,i,n))}}class ju{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>16777215||t>16777215)return;let n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=this._length-1,n=0;i>=0;i--,n++)e[n]=this._startIndexes[i],t[n]=this._endIndexes[i];return new Lu(e,t)}{let t=0,i=this._indentOccurrences.length;for(let e=0;e<this._indentOccurrences.length;e++){let n=this._indentOccurrences[e];if(n){if(n+t>this._foldingRangesLimit){i=e;break}t+=n}}const n=e.getOptions().tabSize;let o=new Uint32Array(this._foldingRangesLimit),r=new Uint32Array(this._foldingRangesLimit);for(let s=this._length-1,a=0;s>=0;s--){let l=this._startIndexes[s],c=e.getLineContent(l),h=E.b.computeIndentLevel(c,n);(h<i||h===i&&t++<this._foldingRangesLimit)&&(o[a]=l,r[a]=this._endIndexes[s],a++)}return new Lu(o,r)}}}const Bu={};class Wu{constructor(e,t,i,n=5e3){this.editorModel=e,this.providers=t,this.limit=n,this.id="syntax";for(const o of t)"function"==typeof o.onDidChange&&(this.disposables||(this.disposables=new D.b),this.disposables.add(o.onDidChange(i)))}compute(e){return function(e,t,i){let n=null,o=e.map((e,o)=>Promise.resolve(e.provideFoldingRanges(t,Bu,i)).then(e=>{if(!i.isCancellationRequested&&Array.isArray(e)){Array.isArray(n)||(n=[]);let i=t.getLineCount();for(let t of e)t.start>0&&t.end>t.start&&t.end<=i&&n.push({start:t.start,end:t.end,rank:o,kind:t.kind})}},u.f));return Promise.all(o).then(e=>n)}(this.providers,this.editorModel,e).then(e=>{if(e){return Hu(e,this.limit)}return null})}dispose(){var e;null===(e=this.disposables)||void 0===e||e.dispose()}}class Vu{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){if(e>16777215||t>16777215)return;let o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=n,this._types[o]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new Lu(e,t,this._types)}{let e=0,t=this._nestingLevelCounts.length;for(let r=0;r<this._nestingLevelCounts.length;r++){let i=this._nestingLevelCounts[r];if(i){if(i+e>this._foldingRangesLimit){t=r;break}e+=i}}let i=new Uint32Array(this._foldingRangesLimit),n=new Uint32Array(this._foldingRangesLimit),o=[];for(let r=0,s=0;r<this._length;r++){let a=this._nestingLevels[r];(a<t||a===t&&e++<this._foldingRangesLimit)&&(i[s]=this._startIndexes[r],n[s]=this._endIndexes[r],o[s]=this._types[r],s++)}return new Lu(i,n,o)}}}function Hu(e,t){let i=e.sort((e,t)=>{let i=e.start-t.start;return 0===i&&(i=e.rank-t.rank),i}),n=new Vu(t),o=void 0,r=[];for(let s of i)if(o){if(s.start>o.start)if(s.end<=o.end)r.push(o),o=s,n.add(s.start,s.end,s.kind&&s.kind.value,r.length);else{if(s.start>o.end){do{o=r.pop()}while(o&&s.start>o.end);o&&r.push(o),o=s}n.add(s.start,s.end,s.kind&&s.kind.value,r.length)}}else o=s,n.add(s.start,s.end,s.kind&&s.kind.value,r.length);return n.toIndentRanges()}class zu{constructor(e,t,i,n){if(this.editorModel=e,this.id="init",t.length){let o=t=>({range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(o)),this.timeout=setTimeout(i,n)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let i of this.decorationIds){let e=this.editorModel.getDecorationRange(i);e&&t.push({start:e.startLineNumber,end:e.endLineNumber,rank:1})}return Promise.resolve(Hu(t,Number.MAX_VALUE))}}var Uu=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ku=function(e,t){return function(i,n){t(i,n,e)}};const qu=new h.c("foldingEnabled",!1);let $u=class e extends D.a{constructor(e,t){super(),this.contextKeyService=t,this.localToDispose=this._register(new D.b),this.editor=e;const i=this.editor.getOptions();this._isEnabled=i.get(35),this._useFoldingProviders="indentation"!==i.get(36),this._unfoldOnClickAfterEndOfLine=i.get(39),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=i.get(38),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Au(e),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===i.get(98),this.foldingDecorationProvider.showFoldingHighlights=i.get(37),this.foldingEnabled=qu.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(e=>{if(e.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(98)||e.hasChanged(37)){const e=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===e.get(98),this.foldingDecorationProvider.showFoldingHighlights=e.get(37),this.onModelContentChanged()}e.hasChanged(36)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(36),this.onFoldingStrategyChanged()),e.hasChanged(39)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(39)),e.hasChanged(38)&&(this._foldingImportsByDefault=this.editor.getOptions().get(38))})),this.onModelChanged()}static get(t){return t.getContribution(e.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!e||e.lineCount!==t.getLineCount())return;if(this._currentModelHasFoldedImports=!!e.foldedImports,!e.collapsedRegions)return;"syntax"!==e.provider&&"init"!==e.provider||(this.foldingStateMemento=e);const i=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(i)){const e=this.getFoldingModel();e&&e.then(e=>{if(e){this._restoringViewState=!0;try{e.applyMemento(i)}finally{this._restoringViewState=!1}}}).then(void 0,u.e)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();this._isEnabled&&e&&!e.isTooLargeForTokenization()&&(this._currentModelHasFoldedImports=!1,this.foldingModel=new ku(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Ru(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(e=>this.onHiddenRangesChanges(e))),this.updateScheduler=new k.a(200),this.cursorChangedScheduler=new k.e(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(pe.o.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(()=>this.onModelContentChanged())),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(e=>this.onEditorMouseDown(e))),this.localToDispose.add(this.editor.onMouseUp(e=>this.onEditorMouseUp(e))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new Fu(e),this._useFoldingProviders&&this.foldingModel){let t=pe.o.ordered(this.foldingModel.textModel);if(0===t.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){return this.rangeProvider=new zu(e,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4)}t.length>0&&(this.rangeProvider=new Wu(e,t,()=>this.onModelContentChanged()))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=this.getRangeProvider(e.textModel);let i=this.foldingRegionPromise=Object(k.h)(e=>t.compute(e));return i.then(t=>{if(t&&i===this.foldingRegionPromise){let i;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const e=t.setCollapsedAllOfType(pe.n.Imports.value,!0);e&&(i=ge.c.capture(this.editor),this._currentModelHasFoldedImports=e)}let n=this.editor.getSelections(),o=n?n.map(e=>e.startLineNumber):[];e.update(t,o),i&&i.restore(this.editor)}return e})}).then(void 0,e=>(Object(u.e)(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then(e=>{if(e){let t=this.editor.getSelections();if(t&&t.length>0){let i=[];for(let n of t){let t=n.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(t)&&i.push(...e.getAllRegionsAtLine(t,e=>e.isCollapsed&&t>e.startLineNumber))}i.length&&(e.toggleCollapseState(i),this.reveal(t[0].getPosition()))}}}).then(void 0,u.e)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range)return;if(!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:const n=e.target.detail,o=e.target.element.offsetLeft;if(n.offsetX-o<5)return;i=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){if(!e.target.detail.isAfterLines)break}return;case 6:if(this.hiddenRangeModel.hasRanges()){let e=this.editor.getModel();if(e&&t.startColumn===e.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let i=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,o=e.target.range;if(o&&o.startLineNumber===i){if(n){if(4!==e.target.type)return}else{let e=this.editor.getModel();if(!e||o.startColumn!==e.getLineMaxColumn(i))return}t.then(t=>{if(t){let o=t.getRegionAtLine(i);if(o&&o.startLineNumber===i){let r=o.isCollapsed;if(n||r){let n=[];if(e.event.altKey){let e=e=>!e.containedBy(o)&&!o.containedBy(e),i=t.getRegionsInside(null,e);for(const t of i)t.isCollapsed&&n.push(t);0===n.length&&(n=i)}else{let i=e.event.middleButton||e.event.shiftKey;if(i)for(const e of t.getRegionsInside(o))e.isCollapsed===r&&n.push(e);!r&&i&&0!==n.length||n.push(o)}t.toggleCollapseState(n),this.reveal({lineNumber:i,column:1})}}}}).then(void 0,u.e)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};$u.ID="editor.contrib.folding",$u=Uu([Ku(1,h.b)],$u);class Gu extends r.b{runEditorCommand(e,t,i){let n=$u.get(t);if(!n)return;let o=n.getFoldingModel();return o?(this.reportTelemetry(e,t),o.then(e=>{if(e){this.invoke(n,e,t,i);const o=t.getSelection();o&&n.reveal(o.getStartPosition())}})):void 0}getSelectedLines(e){let t=e.getSelections();return t?t.map(e=>e.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(e=>e+1):this.getSelectedLines(t)}run(e,t){}}function Yu(e){if(!Et.l(e)){if(!Et.j(e))return!1;const t=e;if(!Et.l(t.levels)&&!Et.i(t.levels))return!1;if(!Et.l(t.direction)&&!Et.k(t.direction))return!1;if(!(Et.l(t.selectionLines)||Et.f(t.selectionLines)&&t.selectionLines.every(Et.i)))return!1}return!0}class Zu extends Gu{getFoldingLevel(){return parseInt(this.id.substr(Zu.ID_PREFIX.length))}invoke(e,t,i){!function(e,t,i,n){let o=e.getRegionsInside(null,(e,o)=>o===t&&e.isCollapsed!==i&&!n.some(t=>e.containsLine(t)));e.toggleCollapseState(o)}(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}Zu.ID_PREFIX="editor.foldLevel",Zu.ID=e=>Zu.ID_PREFIX+e;Object(r.l)($u.ID,$u),Object(r.j)(class extends Gu{constructor(){super({id:"editor.unfold",label:s.a("unfoldAction.label","Unfold"),alias:"Unfold",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:Yu,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let o=n&&n.levels||1,r=this.getLineNumbers(n,i);n&&"up"===n.direction?Iu(t,!1,o,r):Du(t,!1,o,r)}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.unfoldRecursively",label:s.a("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2137),weight:100}})}invoke(e,t,i,n){Du(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.fold",label:s.a("foldAction.label","Fold"),alias:"Fold",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:Yu,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let o=this.getLineNumbers(n,i);const r=n&&n.levels,s=n&&n.direction;"number"!=typeof r&&"string"!=typeof s?function(e,t,i){let n=[];for(let o of i){let i=e.getAllRegionsAtLine(o,e=>e.isCollapsed!==t);i.length>0&&n.push(i[0])}e.toggleCollapseState(n)}(t,!0,o):"up"===s?Iu(t,!0,r||1,o):Du(t,!0,r||1,o)}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.foldRecursively",label:s.a("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2135),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);Du(t,!0,Number.MAX_VALUE,n)}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.foldAll",label:s.a("foldAllAction.label","Fold All"),alias:"Fold All",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2069),weight:100}})}invoke(e,t,i){Du(t,!0)}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.unfoldAll",label:s.a("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2088),weight:100}})}invoke(e,t,i){Du(t,!1)}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.foldAllBlockComments",label:s.a("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2133),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())Eu(t,pe.n.Comment.value,!0);else{const e=i.getModel();if(!e)return;let n=_r.a.getComments(e.getLanguageIdentifier().id);if(n&&n.blockCommentStartToken){Nu(t,new RegExp("^\\s*"+Object(ce.u)(n.blockCommentStartToken)),!0)}}}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.foldAllMarkerRegions",label:s.a("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2077),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())Eu(t,pe.n.Region.value,!0);else{const e=i.getModel();if(!e)return;let n=_r.a.getFoldingRules(e.getLanguageIdentifier().id);if(n&&n.markers&&n.markers.start){Nu(t,new RegExp(n.markers.start),!0)}}}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:s.a("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2078),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())Eu(t,pe.n.Region.value,!1);else{const e=i.getModel();if(!e)return;let n=_r.a.getFoldingRules(e.getLanguageIdentifier().id);if(n&&n.markers&&n.markers.start){Nu(t,new RegExp(n.markers.start),!1)}}}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.foldAllExcept",label:s.a("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2131),weight:100}})}invoke(e,t,i){Ou(t,!0,this.getSelectedLines(i))}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.unfoldAllExcept",label:s.a("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2129),weight:100}})}invoke(e,t,i){Ou(t,!1,this.getSelectedLines(i))}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.toggleFold",label:s.a("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2090),weight:100}})}invoke(e,t,i){!function(e,t,i){let n=[];for(let o of i){let i=e.getRegionAtLine(o);if(i){const o=!i.isCollapsed;if(n.push(i),t>1){let r=e.getRegionsInside(i,(e,i)=>e.isCollapsed!==o&&i<t);n.push(...r)}}}e.toggleCollapseState(n)}(t,1,this.getSelectedLines(i))}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.gotoParentFold",label:s.a("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let e=function(e,t){let i=null,n=t.getRegionAtLine(e);if(null!==n&&(i=n.startLineNumber,e===i)){let e=n.parentIndex;i=-1!==e?t.regions.getStartLineNumber(e):null}return i}(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.gotoPreviousFold",label:s.a("gotoPreviousFold.label","Go to Previous Fold"),alias:"Go to Previous Fold",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let e=function(e,t){let i=t.getRegionAtLine(e);if(null!==i){if(e!==i.startLineNumber)return i.startLineNumber;{let e=i.parentIndex;if(-1===e)return null;let n=t.regions.getStartLineNumber(i.parentIndex);for(;null!==i;){if(!(i.regionIndex>0))return null;if(i=t.regions.toRegion(i.regionIndex-1),i.startLineNumber<=n)return null;if(i.parentIndex===e)return i.startLineNumber}}}return null}(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}),Object(r.j)(class extends Gu{constructor(){super({id:"editor.gotoNextFold",label:s.a("gotoNextFold.label","Go to Next Fold"),alias:"Go to Next Fold",precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);if(n.length>0){let e=function(e,t){let i=t.getRegionAtLine(e);if(null!==i){let e=i.parentIndex;if(-1===e)return null;let n=t.regions.getEndLineNumber(i.parentIndex);for(;null!==i;){if(!(i.regionIndex<t.regions.length))return null;if(i=t.regions.toRegion(i.regionIndex+1),i.startLineNumber>=n)return null;if(i.parentIndex===e)return i.startLineNumber}}return null}(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}});for(let jb=1;jb<=7;jb++)Object(r.m)(new Zu({id:Zu.ID(jb),label:s.a("foldLevelAction.label","Fold Level {0}",jb),alias:"Fold Level "+jb,precondition:qu,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2048|21+jb),weight:100}}));const Xu=Object(M.wc)("editor.foldBackground",{light:Object(M.Kc)(M.R,.3),dark:Object(M.Kc)(M.R,.3),hc:null},s.a("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Qu=Object(M.wc)("editorGutter.foldingControlForeground",{dark:M.fb,light:M.fb,hc:M.fb},s.a("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));Object(A.f)((e,t)=>{const i=e.getColor(Xu);i&&t.addRule(`.monaco-editor .folded-background { background-color: ${i}; }`);const n=e.getColor(Qu);n&&t.addRule(`\n\t\t.monaco-editor .cldr${A.d.asCSSSelector(Tu)},\n\t\t.monaco-editor .cldr${A.d.asCSSSelector(Mu)} {\n\t\t\tcolor: ${n} !important;\n\t\t}\n\t\t`)});var Ju=i("Yr1X");class eg extends r.b{constructor(){super({id:"editor.action.fontZoomIn",label:s.a("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Ju.a.setZoomLevel(Ju.a.getZoomLevel()+1)}}class tg extends r.b{constructor(){super({id:"editor.action.fontZoomOut",label:s.a("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Ju.a.setZoomLevel(Ju.a.getZoomLevel()-1)}}class ig extends r.b{constructor(){super({id:"editor.action.fontZoomReset",label:s.a("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Ju.a.setZoomLevel(0)}}Object(r.j)(eg),Object(r.j)(tg),Object(r.j)(ig);var ng=i("hN88"),og=i("Cduo"),rg=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},sg=function(e,t){return function(i,n){t(i,n,e)}},ag=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let lg=class{constructor(e,t){this._workerService=t,this._callOnDispose=new D.b,this._callOnModel=new D.b,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(pe.x.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(46))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=pe.x.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let i=new za.b;for(let n of t.autoFormatTriggerCharacters)i.add(n.charCodeAt(0));this._callOnModel.add(this._editor.onDidType(e=>{let t=e.charCodeAt(e.length-1);i.has(t)&&this._trigger(String.fromCharCode(t))}))}_trigger(e){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1)return;const t=this._editor.getModel(),i=this._editor.getPosition();let n=!1;const o=this._editor.onDidChangeModelContent(e=>{if(e.isFlush)return n=!0,void o.dispose();for(let t=0,r=e.changes.length;t<r;t++){if(e.changes[t].range.endLineNumber<=i.lineNumber)return n=!0,void o.dispose()}});Object(ng.e)(this._workerService,t,i,e,t.getFormattingOptions()).then(e=>{o.dispose(),n||Object(de.n)(e)&&(og.a.execute(this._editor,e,!0),Object(ng.b)(e))},e=>{throw o.dispose(),e})}};lg.ID="editor.contrib.autoFormat",lg=rg([sg(1,ds.a)],lg);let cg=class{constructor(e,t){this.editor=e,this._instantiationService=t,this._callOnDispose=new D.b,this._callOnModel=new D.b,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(pe.j.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(45)&&this.editor.hasModel()&&pe.j.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e)))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(ng.c,this.editor,e,2,ve.b.None,ae.a.None).catch(u.e))}};cg.ID="editor.contrib.formatOnPaste",cg=rg([sg(1,Te.a)],cg);class hg extends r.b{constructor(){super({id:"editor.action.formatDocument",label:s.a("formatDocument.label","Format Document"),alias:"Format Document",precondition:h.a.and(a.a.notInCompositeEditor,a.a.writable,a.a.hasDocumentFormattingProvider),kbOpts:{kbExpr:a.a.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return ag(this,void 0,void 0,(function*(){if(t.hasModel()){const i=e.get(Te.a),n=e.get(ve.a);yield n.showWhile(i.invokeFunction(ng.d,t,1,ve.b.None,ae.a.None),250)}}))}}class dg extends r.b{constructor(){super({id:"editor.action.formatSelection",label:s.a("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:h.a.and(a.a.writable,a.a.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2084),weight:100},contextMenuOpts:{when:a.a.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return ag(this,void 0,void 0,(function*(){if(!t.hasModel())return;const i=e.get(Te.a),n=t.getModel(),o=t.getSelections().map(e=>e.isEmpty()?new O.a(e.startLineNumber,1,e.startLineNumber,n.getLineMaxColumn(e.startLineNumber)):e),r=e.get(ve.a);yield r.showWhile(i.invokeFunction(ng.c,t,o,1,ve.b.None,ae.a.None),250)}))}}Object(r.l)(lg.ID,lg),Object(r.l)(cg.ID,cg),Object(r.j)(hg),Object(r.j)(dg),Ce.a.registerCommand("editor.action.format",e=>ag(void 0,void 0,void 0,(function*(){const t=e.get(Y.a).getFocusedCodeEditor();if(!t||!t.hasModel())return;const i=e.get(Ce.b);t.getSelection().isEmpty()?yield i.executeCommand("editor.action.formatDocument"):yield i.executeCommand("editor.action.formatSelection")})));var ug=i("JYp7");class gg{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let i;"string"==typeof e?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,void 0!==t.children.get(i)&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let o=0;void 0!==t.children.get(n);o++)n=`${i}_${o}`;return n}static empty(e){return 0===e.children.size}}class pg extends gg{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class mg extends gg{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}}class fg extends gg{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t){let i=this._keys.for(e,!0),n=fg._requests.get(i);if(!n){let t=new ae.b;n={promiseCnt:0,source:t,promise:fg._create(e,t.token),model:void 0},fg._requests.set(i,n);const o=Date.now();n.promise.then(()=>{this._requestDurations.update(e,Date.now()-o)})}return n.model?Promise.resolve(n.model):(n.promiseCnt+=1,t.onCancellationRequested(()=>{0==--n.promiseCnt&&(n.source.cancel(),fg._requests.delete(i))}),new Promise((e,t)=>{n.promise.then(t=>{n.model=t,e(t)},e=>{fg._requests.delete(i),t(e)})}))}static _create(e,t){const i=new ae.b(t),n=new fg(e.uri),o=pe.m.ordered(e),r=o.map((t,o)=>{var r;let s=gg.findId("provider_"+o,n),a=new mg(s,n,null!==(r=t.displayName)&&void 0!==r?r:"Unknown Outline Provider",o);return Promise.resolve(t.provideDocumentSymbols(e,i.token)).then(e=>{for(const t of e||[])fg._makeOutlineElement(t,a);return a},e=>(Object(u.f)(e),a)).then(e=>{gg.empty(e)?e.remove():n._groups.set(s,e)})}),s=pe.m.onDidChange(()=>{const t=pe.m.ordered(e);Object(de.h)(t,o)||i.cancel()});return Promise.all(r).then(()=>i.token.isCancellationRequested&&!t.isCancellationRequested?fg._create(e,t):n._compact()).finally(()=>{s.dispose()})}static _makeOutlineElement(e,t){let i=gg.findId(e,t),n=new pg(i,t,e);if(e.children)for(const o of e.children)fg._makeOutlineElement(o,n);t.children.set(n.id,n)}_compact(){let e=0;for(const[t,i]of this._groups)0===i.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{let e=ug.a.first(this._groups.values());for(let[,t]of e.children)t.parent=this,this.children.set(t.id,t)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof pg?e.push(t.symbol):e.push(...ug.a.map(t.children.values(),e=>e.symbol));return e.sort((e,t)=>O.a.compareRangesUsingStarts(e.range,t.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return fg._flattenDocumentSymbols(t,e,""),t.sort((e,t)=>O.a.compareRangesUsingStarts(e.range,t.range))}static _flattenDocumentSymbols(e,t,i){for(const n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&fg._flattenDocumentSymbols(e,n.children,n.name)}}fg._requestDurations=new Xt.b(pe.m,350),fg._requests=new Vt.a(9,.75),fg._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(e,t){return`${e.id}/${t?e.getVersionId():""}/${this._hash(pe.m.all(e))}`}_hash(e){let t="";for(const i of e){let e=this._data.get(i);void 0===e&&(e=this._counter++,this._data.set(i,e)),t+=e}return t}};var bg=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function _g(e,t,i){return bg(this,void 0,void 0,(function*(){const n=yield fg.create(e,i);return t?n.asListOfDocumentSymbols():n.getTopLevelSymbols()}))}Ce.a.registerCommand("_executeDocumentSymbolProvider",(function(e,...t){return bg(this,void 0,void 0,(function*(){const[i]=t;Object(Et.c)(ue.a.isUri(i));const n=e.get(me.a).getModel(i);if(n)return _g(n,!1,ae.a.None);const o=yield e.get(Pr.a).createModelReference(i);try{return yield _g(o.object.textEditorModel,!1,ae.a.None)}finally{o.dispose()}}))}));var vg=i("zN7H");function Cg(e,t){let i=0;for(let n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function wg(e,t,i){e=e<0?0:e;let n="";if(!i){let i=Math.floor(e/t);e%=t;for(let e=0;e<i;e++)n+="\t"}for(let o=0;o<e;o++)n+=" ";return n}function yg(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];let o=_r.a.getIndentationRules(e.getLanguageIdentifier().id);if(!o)return[];for(i=Math.min(i,e.getLineCount());t<=i&&o.unIndentedLinePattern;){let i=e.getLineContent(t);if(!o.unIndentedLinePattern.test(i))break;t++}if(t>i-1)return[];const{tabSize:r,indentSize:s,insertSpaces:a}=e.getOptions(),c=(e,t)=>(t=t||1,vg.a.shiftIndent(e,e.length+t,r,s,a)),h=(e,t)=>(t=t||1,vg.a.unshiftIndent(e,e.length+t,r,s,a));let d,u=[],g=e.getLineContent(t),p=g;if(null!=n){d=n;let e=ce.y(g);p=d+g.substring(e.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(p)&&(d=h(d),p=d+g.substring(e.length)),g!==p&&u.push(zo.a.replaceMove(new l.a(t,1,t,e.length+1),E.b.normalizeIndentation(d,s,a)))}else d=ce.y(g);let m=d;o.increaseIndentPattern&&o.increaseIndentPattern.test(p)?(m=c(m),d=c(d)):o.indentNextLinePattern&&o.indentNextLinePattern.test(p)&&(m=c(m));for(let f=++t;f<=i;f++){let t=e.getLineContent(f),i=ce.y(t),n=m+t.substring(i.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(n)&&(m=h(m),d=h(d)),i!==m&&u.push(zo.a.replaceMove(new l.a(f,1,f,i.length+1),E.b.normalizeIndentation(m,s,a))),o.unIndentedLinePattern&&o.unIndentedLinePattern.test(t)||(o.increaseIndentPattern&&o.increaseIndentPattern.test(n)?(d=c(d),m=d):m=o.indentNextLinePattern&&o.indentNextLinePattern.test(n)?c(m):d)}return u}class Sg extends r.b{constructor(){super({id:Sg.ID,label:s.a("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:a.a.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const r=new Ag(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}Sg.ID="editor.action.indentationToSpaces";class Lg extends r.b{constructor(){super({id:Lg.ID,label:s.a("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:a.a.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const r=new Rg(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}Lg.ID="editor.action.indentationToTabs";class xg extends r.b{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const i=e.get(Zt.a),n=e.get(me.a);let o=t.getModel();if(!o)return;let r=n.getCreationOptions(o.getLanguageIdentifier().language,o.uri,o.isForSimpleWidget);const a=[1,2,3,4,5,6,7,8].map(e=>({id:e.toString(),label:e.toString(),description:e===r.tabSize?s.a("configuredTabSize","Configured Tab Size"):void 0})),l=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(a,{placeHolder:s.a({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[l]}).then(e=>{e&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})})},50)}}class kg extends xg{constructor(){super(!1,{id:kg.ID,label:s.a("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}kg.ID="editor.action.indentUsingTabs";class Dg extends xg{constructor(){super(!0,{id:Dg.ID,label:s.a("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}Dg.ID="editor.action.indentUsingSpaces";class Ig extends r.b{constructor(){super({id:Ig.ID,label:s.a("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(me.a);let n=t.getModel();if(!n)return;let o=i.getCreationOptions(n.getLanguageIdentifier().language,n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}Ig.ID="editor.action.detectIndentation";class Og extends r.b{constructor(){super({id:"editor.action.reindentlines",label:s.a("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:a.a.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=yg(i,1,i.getLineCount());n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}}class Ng extends r.b{constructor(){super({id:"editor.action.reindentselectedlines",label:s.a("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:a.a.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=t.getSelections();if(null===n)return;let o=[];for(let r of n){let e=r.startLineNumber,t=r.endLineNumber;if(e!==t&&1===r.endColumn&&t--,1===e){if(e===t)continue}else e--;let n=yg(i,e,t);o.push(...n)}o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class Eg{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let i of e)i.range&&"string"==typeof i.text&&this._edits.push(i)}getEditOperations(e,t){for(let n of this._edits)t.addEditOperation(O.a.lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class Tg{constructor(e){this.callOnDispose=new D.b,this.callOnModel=new D.b,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(45)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;const i=this.editor.getModel();if(!i)return;if(!i.isCheapToTokenize(e.getStartPosition().lineNumber))return;const n=this.editor.getOption(9),{tabSize:o,indentSize:r,insertSpaces:s}=i.getOptions();let a=[],l={shiftIndent:e=>vg.a.shiftIndent(e,e.length+1,o,r,s),unshiftIndent:e=>vg.a.unshiftIndent(e,e.length+1,o,r,s)},c=e.startLineNumber;for(;c<=e.endLineNumber&&this.shouldIgnoreLine(i,c);)c++;if(c>e.endLineNumber)return;let h=i.getLineContent(c);if(!/\S/.test(h.substring(0,e.startColumn-1))){let e=_r.a.getGoodIndentForLine(n,i,i.getLanguageIdentifier().id,c,l);if(null!==e){let t=ce.y(h),n=Cg(e,o);if(n!==Cg(t,o)){let e=wg(n,o,s);a.push({range:new O.a(c,1,c,t.length+1),text:e}),h=e+h.substr(t.length)}else{let e=_r.a.getIndentMetadata(i,c);if(0===e||8===e)return}}}const d=c;for(;c<e.endLineNumber&&!/\S/.test(i.getLineContent(c+1));)c++;if(c!==e.endLineNumber){let t={getLineTokens:e=>i.getLineTokens(e),getLanguageIdentifier:()=>i.getLanguageIdentifier(),getLanguageIdAtPosition:(e,t)=>i.getLanguageIdAtPosition(e,t),getLineContent:e=>e===d?h:i.getLineContent(e)},r=_r.a.getGoodIndentForLine(n,t,i.getLanguageIdentifier().id,c+1,l);if(null!==r){let t=Cg(r,o),n=Cg(ce.y(i.getLineContent(c+1)),o);if(t!==n){let r=t-n;for(let t=c+1;t<=e.endLineNumber;t++){let e=i.getLineContent(t),n=ce.y(e),l=wg(Cg(n,o)+r,o,s);l!==n&&a.push({range:new O.a(t,1,t,n.length+1),text:l})}}}}if(a.length>0){this.editor.pushUndoStop();let e=new Eg(a,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;let n=e.getLineTokens(t);if(n.getCount()>0){let e=n.findTokenIndexAtOffset(i);if(e>=0&&1===n.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function Mg(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let s=0;s<i;s++)o+=" ";let r=new RegExp(o,"gi");for(let s=1,a=e.getLineCount();s<=a;s++){let i=e.getLineFirstNonWhitespaceColumn(s);if(0===i&&(i=e.getLineMaxColumn(s)),1===i)continue;const a=new O.a(s,1,s,i),l=e.getValueInRange(a),c=n?l.replace(/\t/gi,o):l.replace(r,"\t");t.addEditOperation(a,c)}}Tg.ID="editor.contrib.autoIndentOnPaste";class Ag{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Mg(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class Rg{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Mg(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}Object(r.l)(Tg.ID,Tg),Object(r.j)(Sg),Object(r.j)(Lg),Object(r.j)(kg),Object(r.j)(Dg),Object(r.j)(Ig),Object(r.j)(Og),Object(r.j)(Ng);var Pg=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Fg=function(e,t){return function(i,n){t(i,n,e)}},jg=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function Bg(e,t,i){return jg(this,void 0,void 0,(function*(){const n=[],o=pe.r.ordered(e).reverse(),r=Object(de.k)(o.map(o=>t.map(t=>Promise.resolve(o.provideInlayHints(e,t,i)).then(e=>{e&&n.push({list:e,provider:o})},e=>{Object(u.f)(e)}))));return yield Promise.all(r),n}))}let Wg=class{constructor(e,t,i,n){this._editor=e,this._codeEditorService=t,this._themeService=i,this._configurationService=n,this._disposables=new D.b,this._sessionDisposables=new D.b,this._getInlayHintsDelays=new Xt.b(pe.r,25,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(pe.r.onDidChange(()=>this._update())),this._disposables.add(i.onDidColorThemeChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(e=>{e.hasChanged(125)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(125).enabled)return void this._removeAllDecorations();const e=this._editor.getModel();if(!e||!pe.r.has(e))return void this._removeAllDecorations();const t=new k.e(()=>jg(this,void 0,void 0,(function*(){const i=Date.now(),n=new ae.b;this._sessionDisposables.add(Object(D.i)(()=>n.dispose(!0)));const o=this._editor.getVisibleRangesPlusViewportAboveBelow(),r=yield Bg(e,o,n.token),s=this._getInlayHintsDelays.update(e,Date.now()-i);t.delay=s,this._updateHintsDecorators(r)})),this._getInlayHintsDelays.get(e));this._sessionDisposables.add(t),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>t.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>t.schedule())),t.schedule();const i=new D.b;this._sessionDisposables.add(i);for(const n of pe.r.all(e))"function"==typeof n.onDidChangeInlayHints&&i.add(n.onDidChangeInlayHints(()=>t.schedule()))}_updateHintsDecorators(e){const{fontSize:t,fontFamily:i}=this._getLayoutInfo(),n=this._themeService.getColorTheme().getColor(M.N),o=this._themeService.getColorTheme().getColor(M.O),r=[],s=[];this._editor.getContainerDomNode().style.setProperty("--inlayHintsFontFamily",i);const a=this._configurationService.getValue("editor.useInjectedText"),l=void 0===a||!!a;for(const{list:c}of e)for(let e=0;e<c.length&&s.length<500;e++){const{text:i,position:a,whitespaceBefore:h,whitespaceAfter:d}=c[e],u=h?t/3|0:0,g=d?t/3|0:0,p={contentText:Vg(i),backgroundColor:""+n,color:""+o,margin:`0px ${g}px 0px ${u}px`,fontSize:t+"px",fontFamily:"var(--inlayHintsFontFamily)",padding:`0px ${t/4|0}px`,borderRadius:(t/4|0)+"px"},m="inlayHints-"+Object(Yt.b)(p).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",m,l?{beforeInjectedText:Object.assign(Object.assign({},p),{affectsLetterSpacing:!0})}:{before:p},void 0,this._editor),r.push(m);const f=this._codeEditorService.resolveDecorationOptions(m,!0);s.push({range:O.a.fromPositions(a),options:f})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=r,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,s)}_getLayoutInfo(){const e=this._editor.getOption(125),t=this._editor.getOption(43);let i=e.fontSize;(!i||i<5||i>t)&&(i=.9*t|0);return{fontSize:i,fontFamily:e.fontFamily||this._editor.getOption(40)}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}};function Vg(e){return e.replace(/[ \t]/g," ")}Wg.ID="editor.contrib.InlayHints",Wg=Pg([Fg(1,Y.a),Fg(2,A.b),Fg(3,oi.a)],Wg),Object(r.l)(Wg.ID,Wg),Ce.a.registerCommand("_executeInlayHintProvider",(e,...t)=>jg(void 0,void 0,void 0,(function*(){const[i,n]=t;Object(Et.c)(ue.a.isUri(i)),Object(Et.c)(O.a.isIRange(n));const o=yield e.get(Pr.a).createModelReference(i);try{const e=yield Bg(o.object.textEditorModel,[O.a.lift(n)],ae.a.None);return Object(de.k)(e.map(e=>e.list)).sort((e,t)=>I.a.compare(e.position,t.position))}finally{o.dispose()}})));class Hg{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new l.a(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new l.a(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)}}var zg=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ug=function(e,t){return function(i,n){t(i,n,e)}};let Kg=class e{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,i){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),o=this.editor.getModel();if(!o||!n)return;let r=n;if(r.startLineNumber!==r.endLineNumber)return;const s=new ge.a(this.editor,5),a=o.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=Object(k.h)(e=>this.editorWorkerService.navigateValueSet(a,r,i)),this.currentRequest.then(i=>{if(!i||!i.range||!i.value)return;if(!s.validate(this.editor))return;let n=O.a.lift(i.range),o=i.range,a=i.value.length-(r.endColumn-r.startColumn);o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.startColumn+i.value.length},a>1&&(r=new l.a(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn+a-1));const c=new Hg(n,r,i.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,c),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:o,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Object(k.n)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(u.e)}).catch(u.e)):Promise.resolve(void 0)}};Kg.ID="editor.contrib.inPlaceReplaceController",Kg.DECORATION=E.a.register({description:"in-place-replace",className:"valueSetReplacement"}),Kg=zg([Ug(1,ds.a)],Kg);class qg extends r.b{constructor(){super({id:"editor.action.inPlaceReplace.up",label:s.a("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:3154,weight:100}})}run(e,t){const i=Kg.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}class $g extends r.b{constructor(){super({id:"editor.action.inPlaceReplace.down",label:s.a("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:3156,weight:100}})}run(e,t){const i=Kg.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}Object(r.l)(Kg.ID,Kg),Object(r.j)(qg),Object(r.j)($g),Object(A.f)((e,t)=>{const i=e.getColor(T.d);i&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${i}; }`)});class Gg{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){let i=function(e,t){t.sort((e,t)=>e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber);for(let s=t.length-2;s>=0;s--)t[s].lineNumber===t[s+1].lineNumber&&t.splice(s,1);let i=[],n=0,o=0,r=t.length;for(let s=1,a=e.getLineCount();s<=a;s++){let a=e.getLineContent(s),l=a.length+1,c=0;if(o<r&&t[o].lineNumber===s&&(c=t[o].column,o++,c===l))continue;if(0===a.length)continue;let h=ce.J(a),d=0;if(-1===h)d=1;else{if(h===a.length-1)continue;d=h+2}d=Math.max(c,d),i[n++]=zo.a.delete(new O.a(s,d,s,l))}return i}(e,this._cursors);for(let n=0,o=i.length;n<o;n++){let e=i[n];t.addEditOperation(e.range,e.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}var Yg=i("GR/f");class Zg{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=[];for(let r=i.startLineNumber;r<=i.endLineNumber;r++)n.push(e.getLineContent(r));const o=n.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new O.a(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new O.a(i.startLineNumber,1,i.startLineNumber,1),o+"\n"):t.addEditOperation(new O.a(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,n=i.endLineNumber,o=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(n+=this._endLineNumberDelta,o=1),i=l.a.createWithDirection(e,t,n,o,this._selectionDirection)}return i}}var Xg=i("KDc4");class Qg{constructor(e,t,i){this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const{tabSize:o,indentSize:r,insertSpaces:s}=e.getOptions();let a=this.buildIndentConverter(o,r,s),c={getLineTokens:t=>e.getLineTokens(t),getLanguageIdentifier:()=>e.getLanguageIdentifier(),getLanguageIdAtPosition:(t,i)=>e.getLanguageIdAtPosition(t,i),getLineContent:null};if(n.startLineNumber===n.endLineNumber&&1===e.getLineMaxColumn(n.startLineNumber)){let i=n.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new O.a(1,1,1,1),null):(t.addEditOperation(new O.a(i,1,i,1),e.getLineContent(o)),t.addEditOperation(new O.a(o,1,o,e.getLineMaxColumn(o)),null)),n=new l.a(o,1,o,1)}else{let i,r;if(this._isMovingDown){i=n.endLineNumber+1,r=e.getLineContent(i),t.addEditOperation(new O.a(i-1,e.getLineMaxColumn(i-1),i,e.getLineMaxColumn(i)),null);let l=r;if(this.shouldAutoIndent(e,n)){let h=this.matchEnterRule(e,a,o,i,n.startLineNumber-1);if(null!==h){let t=wg(h+Cg(ce.y(e.getLineContent(i)),o),o,s);l=t+this.trimLeft(r)}else{c.getLineContent=t=>t===n.startLineNumber?e.getLineContent(i):e.getLineContent(t);let t=_r.a.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(i,1),n.startLineNumber,a);if(null!==t){let n=ce.y(e.getLineContent(i)),a=Cg(t,o);if(a!==Cg(n,o)){let e=wg(a,o,s);l=e+this.trimLeft(r)}}}t.addEditOperation(new O.a(n.startLineNumber,1,n.startLineNumber,1),l+"\n");let d=this.matchEnterRuleMovingDown(e,a,o,n.startLineNumber,i,l);if(null!==d)0!==d&&this.getIndentEditsOfMovingBlock(e,t,n,o,s,d);else{c.getLineContent=t=>t===n.startLineNumber?l:t>=n.startLineNumber+1&&t<=n.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);let r=_r.a.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(i,1),n.startLineNumber+1,a);if(null!==r){const i=ce.y(e.getLineContent(n.startLineNumber)),a=Cg(r,o),l=Cg(i,o);if(a!==l){const i=a-l;this.getIndentEditsOfMovingBlock(e,t,n,o,s,i)}}}}else t.addEditOperation(new O.a(n.startLineNumber,1,n.startLineNumber,1),l+"\n")}else if(i=n.startLineNumber-1,r=e.getLineContent(i),t.addEditOperation(new O.a(i,1,i+1,1),null),t.addEditOperation(new O.a(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+r),this.shouldAutoIndent(e,n)){c.getLineContent=t=>t===i?e.getLineContent(n.startLineNumber):e.getLineContent(t);let r=this.matchEnterRule(e,a,o,n.startLineNumber,n.startLineNumber-2);if(null!==r)0!==r&&this.getIndentEditsOfMovingBlock(e,t,n,o,s,r);else{let r=_r.a.getGoodIndentForLine(this._autoIndent,c,e.getLanguageIdAtPosition(n.startLineNumber,1),i,a);if(null!==r){let i=ce.y(e.getLineContent(n.startLineNumber)),a=Cg(r,o),l=Cg(i,o);if(a!==l){let i=a-l;this.getIndentEditsOfMovingBlock(e,t,n,o,s,i)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>vg.a.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>vg.a.unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let r=o.indentation;o.indentAction===Xg.b.None||o.indentAction===Xg.b.Indent?r=o.indentation+o.appendText:o.indentAction===Xg.b.IndentOutdent?r=o.indentation:o.indentAction===Xg.b.Outdent&&(r=t.unshiftIndent(o.indentation)+o.appendText);let s=e.getLineContent(n);if(this.trimLeft(s).indexOf(this.trimLeft(r))>=0){let o=ce.y(e.getLineContent(n)),s=ce.y(r),a=_r.a.getIndentMetadata(e,n);return null!==a&&2&a&&(s=t.unshiftIndent(s)),Cg(s,i)-Cg(o,i)}}return null}matchEnterRuleMovingDown(e,t,i,n,o,r){if(ce.J(r)>=0){let r=e.getLineMaxColumn(o),s=_r.a.getEnterAction(this._autoIndent,e,new O.a(o,r,o,r));return this.parseEnterResult(e,t,i,n,s)}{let o=n-1;for(;o>=1;){let t=e.getLineContent(o);if(ce.J(t)>=0)break;o--}if(o<1||n>e.getLineCount())return null;let r=e.getLineMaxColumn(o),s=_r.a.getEnterAction(this._autoIndent,e,new O.a(o,r,o,r));return this.parseEnterResult(e,t,i,n,s)}}matchEnterRule(e,t,i,n,o,r){let s=o;for(;s>=1;){let t;if(t=s===o&&void 0!==r?r:e.getLineContent(s),ce.J(t)>=0)break;s--}if(s<1||n>e.getLineCount())return null;let a=e.getLineMaxColumn(s),l=_r.a.getEnterAction(this._autoIndent,e,new O.a(s,a,s,a));return this.parseEnterResult(e,t,i,n,l)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1);return i===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==_r.a.getIndentRulesSupport(i)}getIndentEditsOfMovingBlock(e,t,i,n,o,r){for(let s=i.startLineNumber;s<=i.endLineNumber;s++){let a=e.getLineContent(s),l=ce.y(a),c=wg(Cg(l,n)+r,n,o);c!==l&&(t.addEditOperation(new O.a(s,1,s,l.length+1),c),s===i.endLineNumber&&i.endColumn<=l.length+1&&""===c&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}}class Jg{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return Jg._COLLATOR||(Jg._COLLATOR=new Intl.Collator),Jg._COLLATOR}getEditOperations(e,t){let i=function(e,t,i){let n=ep(e,t,i);if(!n)return null;return zo.a.replace(new O.a(n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),n.after.join("\n"))}(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;let n=ep(e,t,i);if(!n)return!1;for(let o=0,r=n.before.length;o<r;o++)if(n.before[o]!==n.after[o])return!0;return!1}}function ep(e,t,i){let n=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;let r=[];for(let a=n;a<=o;a++)r.push(e.getLineContent(a));let s=r.slice(0);return s.sort(Jg.getCollator().compare),!0===i&&(s=s.reverse()),{startLineNumber:n,endLineNumber:o,before:r,after:s}}Jg._COLLATOR=null;class tp extends r.b{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((e,t)=>({selection:e,index:t,ignore:!1}));i.sort((e,t)=>O.a.compareRangesUsingStarts(e.selection,t.selection));let n=i[0];for(let r=1;r<i.length;r++){const e=i[r];n.selection.endLineNumber===e.selection.startLineNumber&&(n.index<e.index?e.ignore=!0:(n.ignore=!0,n=e))}const o=[];for(const r of i)o.push(new Zg(r.selection,this.down,r.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class ip extends r.b{constructor(){super({id:"editor.action.duplicateSelection",label:s.a("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:a.a.writable,menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"2_line",title:s.a({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const n=[],o=t.getSelections(),r=t.getModel();for(const s of o)if(s.isEmpty())n.push(new Zg(s,!0));else{const e=new l.a(s.endLineNumber,s.endColumn,s.endLineNumber,s.endColumn);n.push(new z.c(e,r.getValueInRange(s)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class np extends r.b{constructor(e,t){super(t),this.down=e}run(e,t){let i=[],n=t.getSelections()||[];const o=t.getOption(9);for(const r of n)i.push(new Qg(r,this.down,o));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class op extends r.b{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!Jg.canRun(t.getModel(),o,this.descending))return;let n=[];for(let o=0,r=i.length;o<r;o++)n[o]=new Jg(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class rp extends r.b{constructor(){super({id:rp.ID,label:s.a("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:Object(c.a)(2089,2102),weight:100}})}run(e,t,i){let n=[];"auto-save"===i.reason&&(n=(t.getSelections()||[]).map(e=>new I.a(e.positionLineNumber,e.positionColumn)));let o=t.getSelection();if(null===o)return;let r=new Gg(o,n);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop()}}rp.ID="editor.action.trimTrailingWhitespace";class sp extends r.b{constructor(){super({id:"editor.action.deleteLines",label:s.a("lines.delete","Delete Line"),alias:"Delete Line",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=0,r=[],s=[];for(let a=0,c=i.length;a<c;a++){const e=i[a];let t=e.startLineNumber,c=e.endLineNumber,h=1,d=n.getLineMaxColumn(c);c<n.getLineCount()?(c+=1,d=1):t>1&&(t-=1,h=n.getLineMaxColumn(t)),r.push(zo.a.replace(new l.a(t,h,c,d),"")),s.push(new l.a(t-o,e.positionColumn,t-o,e.positionColumn)),o+=e.endLineNumber-e.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}});t.sort((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber);let i=[],n=t[0];for(let o=1;o<t.length;o++)n.endLineNumber+1>=t[o].startLineNumber?n.endLineNumber=t[o].endLineNumber:(i.push(n),n=t[o]);return i.push(n),i}}class ap extends r.b{constructor(){super({id:"editor.action.indentLines",label:s.a("lines.indent","Indent Line"),alias:"Indent Line",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:2137,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Yg.a.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class lp extends r.b{constructor(){super({id:"editor.action.outdentLines",label:s.a("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:2135,weight:100}})}run(e,t){n.a.Outdent.runEditorCommand(e,t,null)}}class cp extends r.b{constructor(){super({id:"editor.action.insertLineBefore",label:s.a("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Yg.a.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class hp extends r.b{constructor(){super({id:"editor.action.insertLineAfter",label:s.a("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,Yg.a.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class dp extends r.b{run(e,t){if(!t.hasModel())return;const i=t.getSelection();let n=this._getRangesToDelete(t),o=[];for(let a=0,l=n.length-1;a<l;a++){let e=n[a],t=n[a+1];null===O.a.intersectRanges(e,t)?o.push(e):n[a+1]=O.a.plusRange(e,t)}o.push(n[n.length-1]);let r=this._getEndCursorState(i,o),s=o.map(e=>zo.a.replace(e,""));t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}}class up extends r.b{constructor(){super({id:"editor.action.joinLines",label:s.a("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getSelection();if(null===n)return;i.sort(O.a.compareRangesUsingStarts);let o=[],r=i.reduce((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(n.equalsSelection(e)&&(n=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new l.a(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new l.a(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn));o.push(r);let s=t.getModel();if(null===s)return;let a=[],c=[],h=n,d=0;for(let u=0,g=o.length;u<g;u++){let e,t,i=o[u],r=i.startLineNumber,g=1,p=0,m=s.getLineContent(i.endLineNumber).length-i.endColumn;if(i.isEmpty()||i.startLineNumber===i.endLineNumber){let n=i.getStartPosition();n.lineNumber<s.getLineCount()?(e=r+1,t=s.getLineMaxColumn(e)):(e=n.lineNumber,t=s.getLineMaxColumn(n.lineNumber))}else e=i.endLineNumber,t=s.getLineMaxColumn(e);let f=s.getLineContent(r);for(let n=r+1;n<=e;n++){let e=s.getLineContent(n),t=s.getLineFirstNonWhitespaceColumn(n);if(t>=1){let i=!0;""===f&&(i=!1),!i||" "!==f.charAt(f.length-1)&&"\t"!==f.charAt(f.length-1)||(i=!1,f=f.replace(/[\s\uFEFF\xA0]+$/g," "));let n=e.substr(t-1);f+=(i?" ":"")+n,p=i?n.length+1:n.length}else p=0}let b=new O.a(r,g,e,t);if(!b.isEmpty()){let e;i.isEmpty()?(a.push(zo.a.replace(b,f)),e=new l.a(b.startLineNumber-d,f.length-p+1,r-d,f.length-p+1)):i.startLineNumber===i.endLineNumber?(a.push(zo.a.replace(b,f)),e=new l.a(i.startLineNumber-d,i.startColumn,i.endLineNumber-d,i.endColumn)):(a.push(zo.a.replace(b,f)),e=new l.a(i.startLineNumber-d,i.startColumn,i.startLineNumber-d,f.length-m)),null!==O.a.intersectRanges(b,n)?h=e:c.push(e)}d+=b.endLineNumber-b.startLineNumber}c.unshift(h),t.pushUndoStop(),t.executeEdits(this.id,a,c),t.pushUndoStop()}}class gp extends r.b{constructor(){super({id:"editor.action.transpose",label:s.a("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:a.a.writable})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getModel();if(null===n)return;let o=[];for(let r=0,s=i.length;r<s;r++){let e=i[r];if(!e.isEmpty())continue;let t=e.getStartPosition(),s=n.getLineMaxColumn(t.lineNumber);if(t.column>=s){if(t.lineNumber===n.getLineCount())continue;let e=new O.a(t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new z.a(new l.a(t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i))}else{let e=new O.a(t.lineNumber,Math.max(1,t.column-1),t.lineNumber,t.column+1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new z.b(e,i,new l.a(t.lineNumber,t.column+1,t.lineNumber,t.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class pp extends r.b{run(e,t){const i=t.getSelections();if(null===i)return;const n=t.getModel();if(null===n)return;const o=t.getOption(115),r=[];for(const s of i)if(s.isEmpty()){const e=s.getStartPosition(),i=t.getConfiguredWordAtPosition(e);if(!i)continue;const a=new O.a(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),l=n.getValueInRange(a);r.push(zo.a.replace(a,this._modifyText(l,o)))}else{const e=n.getValueInRange(s);r.push(zo.a.replace(s,this._modifyText(e,o)))}t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop()}}class mp{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class fp extends pp{constructor(){super({id:"editor.action.transformToSnakecase",label:s.a("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:a.a.writable})}_modifyText(e,t){const i=fp.regExp1.get(),n=fp.regExp2.get();return i&&n?e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase():e}}fp.regExp1=new mp("(\\p{Ll})(\\p{Lu})","gmu"),fp.regExp2=new mp("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),Object(r.j)(class extends tp{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:s.a("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"2_line",title:s.a({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),Object(r.j)(class extends tp{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:s.a("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"2_line",title:s.a({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),Object(r.j)(ip),Object(r.j)(class extends np{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:s.a("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"2_line",title:s.a({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),Object(r.j)(class extends np{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:s.a("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:a.a.writable,kbOpts:{kbExpr:a.a.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"2_line",title:s.a({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),Object(r.j)(class extends op{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:s.a("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:a.a.writable})}}),Object(r.j)(class extends op{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:s.a("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:a.a.writable})}}),Object(r.j)(rp),Object(r.j)(sp),Object(r.j)(ap),Object(r.j)(lp),Object(r.j)(cp),Object(r.j)(hp),Object(r.j)(class extends dp{constructor(){super({id:"deleteAllLeft",label:s.a("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null,n=[],o=0;return t.forEach(t=>{let r;if(1===t.endColumn&&o>0){let e=t.startLineNumber-o;r=new l.a(e,t.startColumn,e,t.startColumn)}else r=new l.a(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=r:n.push(r)}),i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let i=t,n=e.getModel();return null===n?[]:(i.sort(O.a.compareRangesUsingStarts),i=i.map(e=>{if(e.isEmpty()){if(1===e.startColumn){let t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:n.getLineContent(t).length+1;return new O.a(t,i,e.startLineNumber,1)}return new O.a(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new O.a(e.startLineNumber,1,e.endLineNumber,e.endColumn)}),i)}}),Object(r.j)(class extends dp{constructor(){super({id:"deleteAllRight",label:s.a("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null,n=[];for(let o=0,r=t.length,s=0;o<r;o++){let r=t[o],a=new l.a(r.startLineNumber-s,r.startColumn,r.startLineNumber-s,r.startColumn);r.intersectRanges(e)?i=a:n.push(a)}return i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let i=e.getSelections();if(null===i)return[];let n=i.map(e=>{if(e.isEmpty()){const i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new O.a(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new O.a(e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e});return n.sort(O.a.compareRangesUsingStarts),n}}),Object(r.j)(up),Object(r.j)(gp),Object(r.j)(class extends pp{constructor(){super({id:"editor.action.transformToUppercase",label:s.a("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:a.a.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}),Object(r.j)(class extends pp{constructor(){super({id:"editor.action.transformToLowercase",label:s.a("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:a.a.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}),Object(r.j)(class extends pp{constructor(){super({id:"editor.action.transformToTitlecase",label:s.a("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:a.a.writable})}_modifyText(e,t){const i=("\r\n\t "+t).split("");let n="",o=!0;for(let r=0;r<e.length;r++){let t=e[r];i.indexOf(t)>=0?(o=!0,n+=t):o?(o=!1,n+=t.toLocaleUpperCase()):n+=t.toLocaleLowerCase()}return n}}),fp.regExp1.isSupported()&&fp.regExp2.isSupported()&&Object(r.j)(fp);var bp=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},_p=function(e,t){return function(i,n){t(i,n,e)}},vp=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Cp=new h.c("LinkedEditingInputVisible",!1);let wp=class e extends D.a{constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new D.b),this._editor=e,this._enabled=!1,this._visibleContextKey=Cp.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new D.b),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(60)||e.hasChanged(80))&&this.reinitialize(!1)})),this._register(pe.w.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(t){return t.getContribution(e.ID)}reinitialize(e){const t=this._editor.getModel(),i=null!==t&&(this._editor.getOption(60)||this._editor.getOption(80))&&pe.w.has(t);if(i===this._enabled&&!e)return;if(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||null===t)return;this._languageWordPattern=_r.a.getWordDefinition(t.getLanguageIdentifier().id),this._localToDispose.add(t.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=_r.a.getWordDefinition(t.getLanguageIdentifier().id)}));const n=new k.a(this._debounceDuration),o=()=>{this._rangeUpdateTriggerPromise=n.trigger(()=>this.updateRanges(),this._debounceDuration)},r=new k.a(0),s=e=>{this._rangeSyncTriggerPromise=r.trigger(()=>this._syncRanges(e))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const i=t.getDecorationRange(this._currentDecorations[0]);if(i&&e.changes.every(e=>i.intersectRanges(e.range)))return void s(this._currentDecorations)}o()})),this._localToDispose.add({dispose:()=>{n.cancel(),r.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),i=t.getDecorationRange(e[0]);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const n=t.getValueInRange(i);if(this._currentWordPattern){const e=n.match(this._currentWordPattern);if((e?e[0].length:0)!==n.length)return this.clearRanges()}let o=[];for(let r=1,s=e.length;r<s;r++){const i=t.getDecorationRange(e[r]);if(i)if(i.startLineNumber!==i.endLineNumber)o.push({range:i,text:n});else{let e=t.getValueInRange(i),r=n,s=i.startColumn,a=i.endColumn;const l=ce.d(e,r);s+=l,e=e.substr(l),r=r.substr(l);const c=ce.e(e,r);a-=c,e=e.substr(0,e.length-c),r=r.substr(0,r.length-c),s===a&&0===r.length||o.push({range:new O.a(i.startLineNumber,s,i.endLineNumber,a),text:r})}}if(0!==o.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return vp(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const i=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),o=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(i.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const e=n.getDecorationRange(this._currentDecorations[0]);if(e&&e.containsPosition(i))return}}this._currentRequestPosition=i,this._currentRequestModelVersion=o;const r=Object(k.h)(t=>vp(this,void 0,void 0,(function*(){try{const s=yield Lp(n,i,t);if(r!==this._currentRequest)return;if(this._currentRequest=null,o!==n.getVersionId())return;let a=[];(null==s?void 0:s.ranges)&&(a=s.ranges),this._currentWordPattern=(null==s?void 0:s.wordPattern)||this._languageWordPattern;let l=!1;for(let e=0,t=a.length;e<t;e++)if(O.a.containsPosition(a[e],i)){if(l=!0,0!==e){const t=a[e];a.splice(e,1),a.unshift(t)}break}if(!l)return void this.clearRanges();const c=a.map(t=>({range:t,options:e.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,c)}catch(s){Object(u.d)(s)||Object(u.e)(s),this._currentRequest!==r&&this._currentRequest||this.clearRanges()}})));return this._currentRequest=r,r}))}};wp.ID="editor.contrib.linkedEditing",wp.DECORATION=E.a.register({description:"linked-editing",stickiness:0,className:"linked-editing-decoration"}),wp=bp([_p(1,h.b)],wp);class yp extends r.b{constructor(){super({id:"editor.action.linkedEditing",label:s.a("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:h.a.and(a.a.writable,a.a.hasRenameProvider),kbOpts:{kbExpr:a.a.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(Y.a),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return ue.a.isUri(n)&&I.a.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(o),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},u.e):super.runCommand(e,t)}run(e,t){const i=wp.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const Sp=r.c.bindToContribution(wp.get);function Lp(e,t,i){const n=pe.w.ordered(e);return Object(k.j)(n.map(n=>()=>vp(this,void 0,void 0,(function*(){try{return yield n.provideLinkedEditingRanges(e,t,i)}catch(o){return void Object(u.f)(o)}}))),e=>!!e&&de.n(null==e?void 0:e.ranges))}Object(r.k)(new Sp({id:"cancelLinkedEditingInput",precondition:Cp,handler:e=>e.clearRanges(),kbOpts:{kbExpr:a.a.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const xp=Object(M.wc)("editor.linkedEditingBackground",{dark:ii.a.fromHex("#f00").transparent(.3),light:ii.a.fromHex("#f00").transparent(.3),hc:ii.a.fromHex("#f00").transparent(.3)},s.a("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Object(A.f)((e,t)=>{const i=e.getColor(xp);i&&t.addRule(`.monaco-editor .linked-editing-decoration { background: ${i}; border-left-color: ${i}; }`)}),Object(r.n)("_executeLinkedEditingProvider",(e,t)=>Lp(e,t,ae.a.None)),Object(r.l)(wp.ID,wp),Object(r.j)(yp);i("YHy6");var kp=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Dp{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return kp(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}))}}class Ip{constructor(e){this._disposables=new D.b;let t=[];for(const[i,n]of e){const e=i.links.map(e=>new Dp(e,n));t=Ip._union(t,e),Object(D.g)(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let i,n,o,r,s=[];for(i=0,o=0,n=e.length,r=t.length;i<n&&o<r;){const n=e[i],r=t[o];if(O.a.areIntersectingOrTouching(n.range,r.range)){i++;continue}O.a.compareRangesUsingStarts(n.range,r.range)<0?(s.push(n),i++):(s.push(r),o++)}for(;i<n;i++)s.push(e[i]);for(;o<r;o++)s.push(t[o]);return s}}function Op(e,t){const i=[],n=pe.v.ordered(e).reverse().map((n,o)=>Promise.resolve(n.provideLinks(e,t)).then(e=>{e&&(i[o]=[e,n])},u.f));return Promise.all(n).then(()=>{const e=new Ip(Object(de.e)(i));return t.isCancellationRequested?(e.dispose(),new Ip([])):e})}Ce.a.registerCommand("_executeLinkProvider",(e,...t)=>kp(void 0,void 0,void 0,(function*(){let[i,n]=t;Object(Et.c)(i instanceof ue.a),"number"!=typeof n&&(n=0);const o=e.get(me.a).getModel(i);if(!o)return[];const r=yield Op(o,ae.a.None);if(!r)return[];for(let e=0;e<Math.min(n,r.links.length);e++)yield r.links[e].resolve(ae.a.None);const s=r.links.slice(0);return r.dispose(),s})));var Np=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ep=function(e,t){return function(i,n){t(i,n,e)}},Tp=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Mp={general:E.a.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:E.a.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class Ap{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:Ap._getOptions(e,t,!1)}}static _getOptions(e,t,i){const n=Object.assign({},i?Mp.active:Mp.general);return n.hoverMessage=function(e,t){const i=e.url&&/^command:/i.test(e.url.toString()),n=e.tooltip?e.tooltip:i?s.a("links.navigate.executeCmd","Execute command"):s.a("links.navigate.follow","Follow link"),o=t?$.f?s.a("links.navigate.kb.meta.mac","cmd + click"):s.a("links.navigate.kb.meta","ctrl + click"):$.f?s.a("links.navigate.kb.alt.mac","option + click"):s.a("links.navigate.kb.alt","alt + click");if(e.url){let t="";if(/^command:/i.test(e.url.toString())){const i=e.url.toString().match(/^command:([^?#]+)/);if(i){const e=i[1];t=` "${s.a("tooltip.explanation","Execute command {0}",e)}"`}}return new g("",!0).appendMarkdown(`[${n}](${e.url.toString(!0)}${t}) (${o})`)}return(new g).appendText(`${n} (${o})`)}(e,t),n}activate(e,t){e.changeDecorationOptions(this.decorationId,Ap._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,Ap._getOptions(this.link,t,!1))}}let Rp=class e{constructor(e,t,i){this.listenersToRemove=new D.b,this.editor=e,this.openerService=t,this.notificationService=i;let n=new ah(e);this.listenersToRemove.add(n),this.listenersToRemove.add(n.onMouseMoveOrRelevantKeyDown(([e,t])=>{this._onEditorMouseMove(e,t)})),this.listenersToRemove.add(n.onExecute(e=>{this.onEditorMouseUp(e)})),this.listenersToRemove.add(n.onCancel(e=>{this.cleanUpActiveLinkDecoration()})),this.enabled=e.getOption(61),this.listenersToRemove.add(e.onDidChangeConfiguration(t=>{const i=e.getOption(61);this.enabled!==i&&(this.enabled=i,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(e=>this.onChange())),this.listenersToRemove.add(e.onDidChangeModel(e=>this.onModelChanged())),this.listenersToRemove.add(e.onDidChangeModelLanguage(e=>this.onModelModeChanged())),this.listenersToRemove.add(pe.v.onDidChange(e=>this.onModelModeChanged())),this.timeout=new k.g,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(t){return t.getContribution(e.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),e.RECOMPUTE_TIME)}beginCompute(){return Tp(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(pe.v.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=k.h(t=>Op(e,t));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){Object(u.e)(t)}finally{this.computePromise=null}}}))}updateDecorations(e){const t="altKey"===this.editor.getOption(68);let i=[],n=Object.keys(this.currentOccurrences);for(let s=0,a=n.length;s<a;s++){let e=n[s],t=this.currentOccurrences[e];i.push(t.decorationId)}let o=[];if(e)for(const s of e)o.push(Ap.decoration(s,t));let r=this.editor.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let s=0,a=r.length;s<a;s++){let t=new Ap(e[s],r[s]);this.currentOccurrences[t.decorationId]=t}}_onEditorMouseMove(e,t){const i="altKey"===this.editor.getOption(68);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations(e=>{t.activate(e,i),this.activeLinkDecorationId=t.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(68);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:n}=e;n.resolve(ae.a.None).then(e=>{if("string"==typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===bi.c.file&&e.startsWith(bi.c.file+":")){const i=ue.a.parse(e);if(i.scheme===bi.c.file){const n=lt.i(i);let o=null;n.startsWith("/./")?o="."+n.substr(1):n.startsWith("//./")&&(o="."+n.substr(2)),o&&(e=lt.g(t,o))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0})},e=>{const t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(s.a("invalid.url","Failed to open this link because it is not well-formed: {0}",n.url.toString())):"missing"===t?this.notificationService.warn(s.a("missing.url","Failed to open this link because its target is missing.")):Object(u.e)(e)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const e=this.currentOccurrences[i.id];if(e)return e}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};Rp.ID="editor.linkDetector",Rp.RECOMPUTE_TIME=1e3,Rp=Np([Ep(1,fi.a),Ep(2,st.a)],Rp);class Pp extends r.b{constructor(){super({id:"editor.action.openLink",label:s.a("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let i=Rp.get(t);if(!i)return;if(!t.hasModel())return;let n=t.getSelections();for(let o of n){let e=i.getLinkOccurrence(o.getEndPosition());e&&i.openLinkOccurrence(e,!1)}}}Object(r.l)(Rp.ID,Rp),Object(r.j)(Pp),Object(A.f)((e,t)=>{const i=e.getColor(M.q);i&&t.addRule(`.monaco-editor .detected-link-active { color: ${i} !important; }`)});var Fp=i("oAeH");function jp(e,t){const i=t.filter(t=>!e.find(e=>e.equals(t)));if(i.length>=1){const e=i.map(e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`).join(", "),t=1===i.length?s.a("cursorAdded","Cursor added: {0}",e):s.a("cursorsAdded","Cursors added: {0}",e);Object(f.c)(t)}}class Bp extends r.b{constructor(){super({id:"editor.action.insertCursorAbove",label:s.a("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:a.a.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"3_multi",title:s.a({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;const n=i&&!0===i.logicalLine,o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const r=o.getCursorStates();o.setCursorStates(i.source,3,Fp.b.addCursorUp(o,r,n)),o.revealTopMostCursor(i.source),jp(r,o.getCursorStates())}}class Wp extends r.b{constructor(){super({id:"editor.action.insertCursorBelow",label:s.a("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:a.a.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"3_multi",title:s.a({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;const n=i&&!0===i.logicalLine,o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const r=o.getCursorStates();o.setCursorStates(i.source,3,Fp.b.addCursorDown(o,r,n)),o.revealBottomMostCursor(i.source),jp(r,o.getCursorStates())}}class Vp extends r.b{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:s.a("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"3_multi",title:s.a({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){let e=t.getLineMaxColumn(n);i.push(new l.a(n,e,n,e))}e.endColumn>1&&i.push(new l.a(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=t.getSelections(),o=t._getViewModel(),r=o.getCursorStates();let s=[];n.forEach(e=>this.getCursorsForSelection(e,i,s)),s.length>0&&t.setSelections(s),jp(r,o.getCursorStates())}}class Hp extends r.b{constructor(){super({id:"editor.action.addCursorsToBottom",label:s.a("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=t.getModel().getLineCount();let o=[];for(let a=i[0].startLineNumber;a<=n;a++)o.push(new l.a(a,i[0].startColumn,a,i[0].endColumn));const r=t._getViewModel(),s=r.getCursorStates();o.length>0&&t.setSelections(o),jp(s,r.getCursorStates())}}class zp extends r.b{constructor(){super({id:"editor.action.addCursorsToTop",label:s.a("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections();let n=[];for(let s=i[0].startLineNumber;s>=1;s--)n.push(new l.a(s,i[0].startColumn,s,i[0].endColumn));const o=t._getViewModel(),r=o.getCursorStates();n.length>0&&t.setSelections(n),jp(r,o.getCursorStates())}}class Up{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class Kp{constructor(e,t,i,n,o,r,s){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=r,this.currentMatch=s}static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new Kp(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n,o,r=!1;const s=e.getSelections();1===s.length&&s[0].isEmpty()?(r=!0,n=!0,o=!0):(n=i.wholeWord,o=i.matchCase);const a=e.getSelection();let c,h=null;if(a.isEmpty()){const t=e.getConfiguredWordAtPosition(a.getStartPosition());if(!t)return null;c=t.word,h=new l.a(a.startLineNumber,t.startColumn,a.startLineNumber,t.endColumn)}else c=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new Kp(e,t,r,c,n,o,h)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Up(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Up(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return i?new l.a(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Up(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Up(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return i?new l.a(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1,1073741824)):[]}}class qp extends D.a{constructor(e){super(),this._sessionDispose=this._register(new D.b),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(qp.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=Kp.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(e=>{(e.matchCase||e.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new l.a(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const i=e.getState().matchCase;if(!Zp(this._editor.getModel(),t,i)){const e=this._editor.getModel();let i=[];for(let n=0,o=t.length;n<o;n++)i[n]=this._expandEmptyToWord(e,t[n]);return void this._editor.setSelections(i)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)t=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(115):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(i.searchScope){const e=i.searchScope;let n=[];t.forEach(t=>{e.forEach(e=>{t.range.endLineNumber<=e.endLineNumber&&t.range.startLineNumber>=e.startLineNumber&&n.push(t)})}),t=n}if(t.length>0){const e=this._editor.getSelection();for(let i=0,n=t.length;i<n;i++){const n=t[i];if(n.range.intersectRanges(e)){t[i]=t[0],t[0]=n;break}}this._setSelections(t.map(e=>new l.a(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)))}}}qp.ID="editor.contrib.multiCursorController";class $p extends r.b{run(e,t){const i=qp.get(t);if(!i)return;const n=_u.get(t);if(!n)return;const o=t._getViewModel();if(o){const e=o.getCursorStates();this._run(i,n),jp(e,o.getCursorStates())}}}class Gp{constructor(e,t,i,n){this.searchText=e,this.matchCase=t,this.wordSeparators=i,this.modelVersionId=n}static softEquals(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators&&e.modelVersionId===t.modelVersionId)}}class Yp extends D.a{constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(96),this.decorations=[],this.updateSoon=this._register(new k.e(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(t=>{this._isEnabled=e.getOption(96)})),this._register(e.onDidChangeCursorSelection(e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(e=>{this._setState(null)})),this._register(e.onDidChangeModelContent(e=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(_u.get(e).getState().onFindReplaceStateChange(e=>{this._update()}))}_update(){this._setState(Yp._createState(this._isEnabled,this.editor))}static _createState(e,t){if(!e)return null;if(!t.hasModel())return null;const i=t.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;const n=qp.get(t);if(!n)return null;const o=_u.get(t);if(!o)return null;let r=n.getSession(o);if(!r){const e=t.getSelections();if(e.length>1){const i=o.getState().matchCase;if(!Zp(t.getModel(),e,i))return null}r=Kp.create(t,o)}if(!r)return null;if(r.currentMatch)return null;if(/^[ \t]+$/.test(r.searchText))return null;if(r.searchText.length>200)return null;const s=o.getState(),a=s.matchCase;if(s.isRevealed){let e=s.searchString;a||(e=e.toLowerCase());let t=r.searchText;if(a||(t=t.toLowerCase()),e===t&&r.matchCase===s.matchCase&&r.wholeWord===s.wholeWord&&!s.isRegex)return null}return new Gp(r.searchText,r.matchCase,r.wholeWord?t.getOption(115):null,t.getModel().getVersionId())}_setState(e){if(Gp.softEquals(this.state,e))return void(this.state=e);if(this.state=e,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=pe.i.has(t)&&this.editor.getOption(70);let n=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(e=>e.range);n.sort(O.a.compareRangesUsingStarts);let o=this.editor.getSelections();o.sort(O.a.compareRangesUsingStarts);let r=[];for(let a=0,l=0,c=n.length,h=o.length;a<c;){const e=n[a];if(l>=h)r.push(e),a++;else{const t=O.a.compareRangesUsingStarts(e,o[l]);t<0?(!o[l].isEmpty()&&O.a.areIntersecting(e,o[l])||r.push(e),a++):(t>0||a++,l++)}}const s=r.map(e=>({range:e,options:i?Yp._SELECTION_HIGHLIGHT:Yp._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,s)}dispose(){this._setState(null),super.dispose()}}function Zp(e,t,i){const n=Xp(e,t[0],!i);for(let o=1,r=t.length;o<r;o++){const r=t[o];if(r.isEmpty())return!1;if(n!==Xp(e,r,!i))return!1}return!0}function Xp(e,t,i){const n=e.getValueInRange(t);return i?n.toLowerCase():n}Yp.ID="editor.contrib.selectionHighlighter",Yp._SELECTION_HIGHLIGHT_OVERVIEW=E.a.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(A.g)(M.jc),position:N.d.Center}}),Yp._SELECTION_HIGHLIGHT=E.a.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Object(r.l)(qp.ID,qp),Object(r.l)(Yp.ID,Yp),Object(r.j)(Bp),Object(r.j)(Wp),Object(r.j)(Vp),Object(r.j)(class extends $p{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:s.a("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:2082,weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"3_multi",title:s.a({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}),Object(r.j)(class extends $p{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:s.a("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"3_multi",title:s.a({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}),Object(r.j)(class extends $p{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:s.a("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:Object(c.a)(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}),Object(r.j)(class extends $p{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:s.a("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}),Object(r.j)(class extends $p{constructor(){super({id:"editor.action.selectHighlights",label:s.a("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:3114,weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"3_multi",title:s.a({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}),Object(r.j)(class extends $p{constructor(){super({id:"editor.action.changeAll",label:s.a("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:h.a.and(a.a.writable,a.a.editorTextFocus),kbOpts:{kbExpr:a.a.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}),Object(r.j)(Hp),Object(r.j)(zp);i("yrU1");var Qp=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Jp={Visible:new h.c("parameterHintsVisible",!1),MultipleSignatures:new h.c("parameterHintsMultipleSignatures",!1)};function em(e,t,i,n){return Qp(this,void 0,void 0,(function*(){const o=pe.B.ordered(e);for(const s of o)try{const o=yield s.provideSignatureHelp(e,t,n,i);if(o)return o}catch(r){Object(u.f)(r)}}))}Ce.a.registerCommand("_executeSignatureHelpProvider",(e,...t)=>Qp(void 0,void 0,void 0,(function*(){const[i,n,o]=t;Object(Et.c)(ue.a.isUri(i)),Object(Et.c)(I.a.isIPosition(n)),Object(Et.c)("string"==typeof o||!o);const r=yield e.get(Pr.a).createModelReference(i);try{const e=yield em(r.object.textEditorModel,I.a.lift(n),{triggerKind:pe.C.Invoke,isRetrigger:!1,triggerCharacter:o},ae.a.None);if(!e)return;return setTimeout(()=>e.dispose(),0),e.value}finally{r.dispose()}})));var tm,im=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){e.Default={type:0};e.Pending=class{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}};e.Active=class{constructor(e){this.hints=e,this.type=1}}}(tm||(tm={}));class nm extends D.a{constructor(e,t=nm.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new Ke.b),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=tm.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.d),this.triggerChars=new za.b,this.retriggerChars=new za.b,this.triggerId=0,this.editor=e,this.throttledDelayer=new k.a(t),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(e=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(e=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(e=>this.onCursorChange(e))),this._register(this.editor.onDidChangeModelContent(e=>this.onModelContentChange())),this._register(pe.B.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(e=>this.onDidType(e))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=tm.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!pe.B.has(i))return;const n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(n),t).catch(u.e)}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e==e-1,n=this.editor.getOption(74).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?0:t+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,n=this.editor.getOption(74).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?e-1:t-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new tm.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return im(this,void 0,void 0,(function*(){const t=1===this.state.type||2===this.state.type,i=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const n=this._pendingTriggers.reduce(om);this._pendingTriggers=[];const o={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),s=this.editor.getPosition();this.state=new tm.Pending(Object(k.h)(e=>em(r,s,o,e)),i);try{const t=yield this.state.request;return e!==this.triggerId?(null==t||t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new tm.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null==t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(a){return e===this.triggerId&&(this.state=tm.Default),Object(u.e)(a),!1}}))}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new za.b,this.retriggerChars=new za.b;const e=this.editor.getModel();if(e)for(const t of pe.B.ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(e.charCodeAt(0)),this.retriggerChars.add(e.charCodeAt(0));for(const e of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:pe.C.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:pe.C.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:pe.C.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(74).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function om(e,t){switch(t.triggerKind){case pe.C.Invoke:return t;case pe.C.ContentChange:return e;case pe.C.TriggerCharacter:default:return t}}nm.DEFAULT_DELAY=120;var rm=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},sm=function(e,t){return function(i,n){t(i,n,e)}};const am=Me.a,lm=Object(jn.b)("parameter-hints-next",$e.b.chevronDown,s.a("parameterHintsNextIcon","Icon for show next parameter hint.")),cm=Object(jn.b)("parameter-hints-previous",$e.b.chevronUp,s.a("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let hm=class e extends D.a{constructor(e,t,i,n){super(),this.editor=e,this.renderDisposeables=this._register(new D.b),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new fo({editor:e},n,i)),this.model=this._register(new nm(e)),this.keyVisible=Jp.Visible.bindTo(t),this.keyMultipleSignatures=Jp.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(e=>{e?(this.show(),this.render(e)):this.hide()}))}createParameterHintDOMNodes(){const e=am(".editor-widget.parameter-hints-widget"),t=Me.q(e,am(".phwrapper"));t.tabIndex=-1;const i=Me.q(t,am(".controls")),n=Me.q(i,am(".button"+A.d.asCSSSelector(cm))),o=Me.q(i,am(".overloads")),r=Me.q(i,am(".button"+A.d.asCSSSelector(lm)));this._register(Me.i(n,"click",e=>{Me.c.stop(e),this.previous()})),this._register(Me.i(r,"click",e=>{Me.c.stop(e),this.next()}));const s=am(".body"),a=new di.a(s,{});this._register(a),t.appendChild(a.getDomNode());const l=Me.q(s,am(".signature")),c=Me.q(s,am(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:l,overloads:o,docs:c,scrollbar:a},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(e=>{this.visible&&this.editor.layoutContentWidget(this)}));const h=()=>{if(!this.domNodes)return;const e=this.editor.getOption(41);this.domNodes.element.style.fontSize=e.fontSize+"px"};h(),this._register(Ke.c.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(e=>e.hasChanged(41)).on(h,null)),this._register(this.editor.onDidLayoutChange(e=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const n=e.signatures[e.activeSignature];if(!n)return;const o=Me.q(this.domNodes.signature,am(".code")),r=this.editor.getOption(41);o.style.fontSize=r.fontSize+"px",o.style.fontFamily=r.fontFamily;const a=n.parameters.length>0,l=null!==(t=n.activeParameter)&&void 0!==t?t:e.activeParameter;if(a)this.renderParameters(o,n,l);else{Me.q(o,am("span")).textContent=n.label}const c=n.parameters[l];if(null==c?void 0:c.documentation){const e=am("span.documentation");if("string"==typeof c.documentation)e.textContent=c.documentation;else{const t=this.renderMarkdownDocs(c.documentation);e.appendChild(t.element)}Me.q(this.domNodes.docs,am("p",{},e))}if(void 0===n.documentation);else if("string"==typeof n.documentation)Me.q(this.domNodes.docs,am("p",{},n.documentation));else{const e=this.renderMarkdownDocs(n.documentation);Me.q(this.domNodes.docs,e.element)}const h=this.hasDocs(n,c);if(this.domNodes.signature.classList.toggle("has-docs",h),this.domNodes.docs.classList.toggle("empty",!h),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){const e=this.getParameterLabel(n,l);this.announcedLabel!==e&&(f.a(s.a("hint","{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null===(e=this.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"==typeof t.documentation&&Object(Et.a)(t.documentation).length>0)||(!!(t&&"object"==typeof t.documentation&&Object(Et.a)(t.documentation).value.length>0)||(!!(e.documentation&&"string"==typeof e.documentation&&Object(Et.a)(e.documentation).length>0)||!!(e.documentation&&"object"==typeof e.documentation&&Object(Et.a)(e.documentation.value).length>0)))}renderParameters(e,t,i){const[n,o]=this.getParameterLabelOffsets(t,i),r=document.createElement("span");r.textContent=t.label.substring(0,n);const s=document.createElement("span");s.textContent=t.label.substring(n,o),s.className="parameter active";const a=document.createElement("span");a.textContent=t.label.substring(o),Me.q(e,r,s,a)}getParameterLabel(e,t){const i=e.parameters[t];return Array.isArray(i.label)?e.label.substring(i.label[0],i.label[1]):i.label}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const t=new RegExp(`(\\W|^)${Object(ce.u)(i.label)}(?=\\W|$)`,"g");t.test(e.label);const n=t.lastIndex-i.label.length;return n>=0?[n,t.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const e=Math.max(this.editor.getLayoutInfo().height/4,250)+"px";this.domNodes.element.style.maxHeight=e;const t=this.domNodes.element.getElementsByClassName("phwrapper");t.length&&(t[0].style.maxHeight=e)}};hm.ID="editor.widget.parameterHintsWidget",hm=rm([sm(1,h.b),sm(2,fi.a),sm(3,li.a)],hm),Object(A.f)((e,t)=>{const i=e.getColor(M.F);if(i){const n=e.type===ke.a.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .parameter-hints-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${i.transparent(.5)}; }`)}const n=e.getColor(M.E);n&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const o=e.getColor(M.Jc);o&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const r=e.getColor(M.G);r&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${r}; }`);const s=e.getColor(M.Hc);s&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${s}; }`)});var dm=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},um=function(e,t){return function(i,n){t(i,n,e)}};let gm=class e extends D.a{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(hm,this.editor))}static get(t){return t.getContribution(e.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};gm.ID="editor.controller.parameterHints",gm=dm([um(1,Te.a)],gm);class pm extends r.b{constructor(){super({id:"editor.action.triggerParameterHints",label:s.a("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:a.a.hasSignatureHelpProvider,kbOpts:{kbExpr:a.a.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=gm.get(t);i&&i.trigger({triggerKind:pe.C.Invoke})}}Object(r.l)(gm.ID,gm),Object(r.j)(pm);const mm=r.c.bindToContribution(gm.get);Object(r.k)(new mm({id:"closeParameterHints",precondition:Jp.Visible,handler:e=>e.cancel(),kbOpts:{weight:175,kbExpr:a.a.focus,primary:9,secondary:[1033]}})),Object(r.k)(new mm({id:"showPrevParameterHint",precondition:h.a.and(Jp.Visible,Jp.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:175,kbExpr:a.a.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(r.k)(new mm({id:"showNextParameterHint",precondition:h.a.and(Jp.Visible,Jp.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:175,kbExpr:a.a.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));i("BjKj");var fm=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},bm=function(e,t){return function(i,n){t(i,n,e)}};const _m=new h.c("renameInputVisible",!1,Object(s.a)("renameInputVisible","Whether the rename input widget is visible"));let vm=class{constructor(e,t,i,n,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=n,this._disposables=new D.b,this.allowEditorOverflow=!0,this._visibleContextKey=_m.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(41)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",Object(s.a)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var e,t;const[i,n]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(i),this._label.innerText=Object(s.a)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(i))||void 0===e?void 0:e.getLabel(),null===(t=this._keybindingService.lookupKeybinding(n))||void 0===t?void 0:t.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,i,n,o;if(!this._input||!this._domNode)return;const r=e.getColor(M.Mc);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(M.Y))&&void 0!==t?t:""),this._domNode.style.boxShadow=r?" 0 0 8px 2px "+r:"",this._domNode.style.color=String(null!==(i=e.getColor(M.lb))&&void 0!==i?i:""),this._input.style.backgroundColor=String(null!==(n=e.getColor(M.jb))&&void 0!==n?n:"");const s=e.getColor(M.kb);this._input.style.borderWidth=s?"1px":"0px",this._input.style.borderStyle=s?"solid":"none",this._input.style.borderColor=null!==(o=null==s?void 0:s.toString())&&void 0!==o?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(41);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=e.fontSize+"px",this._label.style.fontSize=.8*e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,i,n,o,r){this._domNode.classList.toggle("preview",o),this._position=new I.a(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const s=new D.b;return new Promise(e=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e(t),!0),this._currentAcceptInput=i=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e({newName:this._input.value,wantsPreview:o&&i})):this.cancelInput(!0)},r.onCancellationRequested(()=>this.cancelInput(!0)),s.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{s.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};vm=fm([bm(2,A.b),bm(3,Pe.a),bm(4,h.b)],vm);var Cm=i("ic2d"),wm=i("CRAX"),ym=i("e0rL"),Sm=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Lm=function(e,t){return function(i,n){t(i,n,e)}},xm=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class km{constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=pe.z.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return xm(this,void 0,void 0,(function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const i=this._providers[this._providerRenameIdx];if(!i.resolveRenameLocation)break;let n=yield i.resolveRenameLocation(this.model,this.position,e);if(n){if(!n.rejectReason)return n;t.push(n.rejectReason)}}const i=this.model.getWordAtPosition(this.position);return i?{range:new O.a(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:O.a.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}))}provideRenameEdits(e,t){return xm(this,void 0,void 0,(function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}))}_provideRenameEdits(e,t,i,n){return xm(this,void 0,void 0,(function*(){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join("\n")};const r=yield o.provideRenameEdits(this.model,this.position,e,n);return r?r.rejectReason?this._provideRenameEdits(e,t+1,i.concat(r.rejectReason),n):r:this._provideRenameEdits(e,t+1,i.concat(s.a("no result","No result.")),n)}))}}let Dm=class e{constructor(e,t,i,n,o,r,s){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=n,this._progressService=o,this._logService=r,this._configService=s,this._dispoableStore=new D.b,this._cts=new ae.b,this._renameInputField=this._dispoableStore.add(new k.b(()=>this._dispoableStore.add(this._instaService.createInstance(vm,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(t){return t.getContribution(e.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return xm(this,void 0,void 0,(function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const e=this.editor.getPosition(),t=new km(this.editor.getModel(),e);if(!t.hasProvider())return;let i;this._cts=new ge.b(this.editor,5);try{const e=t.resolveRenameLocation(this._cts.token);this._progressService.showWhile(e,250),i=yield e}catch(h){return void Oe.get(this.editor).showMessage(h||s.a("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e)}if(!i)return;if(i.rejectReason)return void Oe.get(this.editor).showMessage(i.rejectReason,e);if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new ge.b(this.editor,5,i.range);let n=this.editor.getSelection(),o=0,r=i.text.length;O.a.isEmpty(n)||O.a.spansMultipleLines(n)||!O.a.containsRange(i.range,n)||(o=Math.max(0,n.startColumn-i.range.startColumn),r=Math.min(i.range.endColumn,n.endColumn)-i.range.startColumn);const a=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),l=yield this._renameInputField.value.getInput(i.range,i.text,o,r,a,this._cts.token);if("boolean"==typeof l)return void(l&&this.editor.focus());this.editor.focus();const c=Object(k.l)(t.provideRenameEdits(l.newName,this._cts.token),this._cts.token).then(e=>xm(this,void 0,void 0,(function*(){e&&this.editor.hasModel()&&(e.rejectReason?this._notificationService.info(e.rejectReason):this._bulkEditService.apply(he.b.convert(e),{editor:this.editor,showPreview:l.wantsPreview,label:s.a("label","Renaming '{0}'",null==i?void 0:i.text),quotableLabel:s.a("quotableLabel","Renaming {0}",null==i?void 0:i.text)}).then(e=>{e.ariaSummary&&Object(f.a)(s.a("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",i.text,l.newName,e.ariaSummary))}).catch(e=>{this._notificationService.error(s.a("rename.failedApply","Rename failed to apply edits")),this._logService.error(e)}))})),e=>{this._notificationService.error(s.a("rename.failed","Rename failed to compute edits")),this._logService.error(e)});return this._progressService.showWhile(c,250),c}))}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};Dm.ID="editor.contrib.renameController",Dm=Sm([Lm(1,Te.a),Lm(2,st.a),Lm(3,he.a),Lm(4,ve.a),Lm(5,Gr.b),Lm(6,ym.a)],Dm);class Im extends r.b{constructor(){super({id:"editor.action.rename",label:s.a("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:h.a.and(a.a.writable,a.a.hasRenameProvider),kbOpts:{kbExpr:a.a.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(Y.a),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return ue.a.isUri(n)&&I.a.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(o),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},u.e):super.runCommand(e,t)}run(e,t){const i=Dm.get(t);return i?i.run():Promise.resolve()}}Object(r.l)(Dm.ID,Dm),Object(r.j)(Im);const Om=r.c.bindToContribution(Dm.get);Object(r.k)(new Om({id:"acceptRenameInput",precondition:_m,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:a.a.focus,primary:3}})),Object(r.k)(new Om({id:"acceptRenameInputWithPreview",precondition:h.a.and(_m,h.a.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:a.a.focus,primary:1027}})),Object(r.k)(new Om({id:"cancelRenameInput",precondition:_m,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:a.a.focus,primary:9,secondary:[1033]}})),Object(r.n)("_executeDocumentRenameProvider",(function(e,t,...i){const[n]=i;return Object(Et.c)("string"==typeof n),function(e,t,i){return xm(this,void 0,void 0,(function*(){const n=new km(e,t),o=yield n.resolveRenameLocation(ae.a.None);return(null==o?void 0:o.rejectReason)?{edits:[],rejectReason:o.rejectReason}:n.provideRenameEdits(i,ae.a.None)}))}(e,t,n)})),Cm.a.as(wm.a.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:s.a("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var Nm=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Em{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new Em(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}class Tm{constructor(e){this._editor=e,this._ignoreSelection=!1}static get(e){return e.getContribution(Tm.ID)}dispose(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}run(e){return Nm(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(!pe.A.has(i))return;if(this._state||(yield Am(i,t.map(e=>e.getPosition()),this._editor.getOption(101),ae.a.None).then(e=>{var i;if(de.n(e)&&e.length===t.length&&this._editor.hasModel()&&de.h(this._editor.getSelections(),t,(e,t)=>e.equalsSelection(t))){for(let i=0;i<e.length;i++)e[i]=e[i].filter(e=>e.containsPosition(t[i].getStartPosition())&&e.containsPosition(t[i].getEndPosition())),e[i].unshift(t[i]);this._state=e.map(e=>new Em(0,e)),null===(i=this._selectionListener)||void 0===i||i.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var e;this._ignoreSelection||(null===(e=this._selectionListener)||void 0===e||e.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(t=>t.mov(e));const n=this._state.map(e=>l.a.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(n)}finally{this._ignoreSelection=!1}}))}}Tm.ID="editor.contrib.smartSelectController";class Mm extends r.b{constructor(e,t){super(t),this._forward=e}run(e,t){return Nm(this,void 0,void 0,(function*(){let e=Tm.get(t);e&&(yield e.run(this._forward))}))}}Ce.a.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");function Am(e,t,i,n){return Nm(this,void 0,void 0,(function*(){const o=pe.A.all(e);1===o.length&&o.unshift(new gs);let r=[],s=[];for(const i of o)r.push(Promise.resolve(i.provideSelectionRanges(e,t,n)).then(e=>{if(de.n(e)&&e.length===t.length)for(let i=0;i<t.length;i++){s[i]||(s[i]=[]);for(const n of e[i])O.a.isIRange(n.range)&&O.a.containsPosition(n.range,t[i])&&s[i].push(O.a.lift(n.range))}},u.f));return yield Promise.all(r),s.map(t=>{if(0===t.length)return[];t.sort((e,t)=>I.a.isBefore(e.getStartPosition(),t.getStartPosition())?1:I.a.isBefore(t.getStartPosition(),e.getStartPosition())||I.a.isBefore(e.getEndPosition(),t.getEndPosition())?-1:I.a.isBefore(t.getEndPosition(),e.getEndPosition())?1:0);let n,o=[];for(const e of t)(!n||O.a.containsRange(e,n)&&!O.a.equalsRange(e,n))&&(o.push(e),n=e);if(!i.selectLeadingAndTrailingWhitespace)return o;let r=[o[0]];for(let i=1;i<o.length;i++){const t=o[i-1],n=o[i];if(n.startLineNumber!==t.startLineNumber||n.endLineNumber!==t.endLineNumber){const i=new O.a(t.startLineNumber,e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.endLineNumber,e.getLineLastNonWhitespaceColumn(t.endLineNumber));i.containsRange(t)&&!i.equalsRange(t)&&n.containsRange(i)&&!n.equalsRange(i)&&r.push(i);const o=new O.a(t.startLineNumber,1,t.endLineNumber,e.getLineMaxColumn(t.endLineNumber));o.containsRange(t)&&!o.equalsRange(i)&&n.containsRange(o)&&!n.equalsRange(o)&&r.push(o)}r.push(n)}return r})}))}Object(r.l)(Tm.ID,Tm),Object(r.j)(class extends Mm{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:s.a("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"1_basic",title:s.a({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),Object(r.j)(class extends Mm{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:s.a("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:R.b.MenubarSelectionMenu,group:"1_basic",title:s.a({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),pe.A.register("*",new class{provideSelectionRanges(e,t){const i=[];for(const n of t){const t=[];i.push(t),this._addInWordRanges(t,e,n),this._addWordRanges(t,e,n),this._addWhitespaceLine(t,e,n),t.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const n=t.getWordAtPosition(i);if(!n)return;let{word:o,startColumn:r}=n,s=i.column-r,a=s,l=s,c=0;for(;a>=0;a--){let e=o.charCodeAt(a);if(a!==s&&(95===e||45===e))break;if(Object(ce.H)(e)&&Object(ce.I)(c))break;c=e}for(a+=1;l<o.length;l++){let e=o.charCodeAt(l);if(Object(ce.I)(e)&&Object(ce.H)(c))break;if(95===e||45===e)break;c=e}a<l&&e.push({range:new O.a(i.lineNumber,r+a,i.lineNumber,r+l)})}_addWordRanges(e,t,i){const n=t.getWordAtPosition(i);n&&e.push({range:new O.a(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new O.a(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}),Object(r.o)("_executeSelectionRangeProvider",(function(e,...t){const[i]=t;return Am(e,i,{selectLeadingAndTrailingWhitespace:!0},ae.a.None)}));class Rm extends r.b{constructor(){super({id:"editor.action.forceRetokenize",label:s.a("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.resetTokenization();const n=new Rr.a(!0);i.forceTokenization(i.getLineCount()),n.stop(),console.log("tokenization took "+n.elapsed())}}Object(r.j)(Rm);var Pm=i("iDAx");class Fm extends r.b{constructor(){super({id:Fm.ID,label:s.a({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){const i=!Pm.b.getTabFocusMode();Pm.b.setTabFocusMode(i),i?Object(f.a)(s.a("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):Object(f.a)(s.a("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}Fm.ID="editor.action.toggleTabFocusMode",Object(r.j)(Fm);var jm=i("6vuP"),Bm=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Wm=function(e,t){return function(i,n){t(i,n,e)}},Vm=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let Hm=class extends D.a{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._config=this._editor.getOption(112),this._register(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(112)&&(this._config=this._editor.getOption(112),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(e=>{e.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Vm(this,void 0,void 0,(function*(){if("off"===this._config)return;if(!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators())return;if(!0===function(e,t){return e.getModelProperty(t.uri,"ignoreUnusualLineTerminators")}(this._codeEditorService,e))return;if(this._editor.getOption(79))return;if("auto"===this._config)return void e.removeUnusualLineTerminators(this._editor.getSelections());(yield this._dialogService.confirm({title:s.a("unusualLineTerminators.title","Unusual Line Terminators"),message:s.a("unusualLineTerminators.message","Detected unusual line terminators"),detail:s.a("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",Object(lt.b)(e.uri)),primaryButton:s.a("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:s.a("unusualLineTerminators.ignore","Ignore")})).confirmed?e.removeUnusualLineTerminators(this._editor.getSelections()):function(e,t,i){e.setModelProperty(t.uri,"ignoreUnusualLineTerminators",i)}(this._codeEditorService,e,!0)}))}};Hm.ID="editor.contrib.unusualLineTerminatorsDetector",Hm=Bm([Wm(1,jm.a),Wm(2,Y.a)],Hm),Object(r.l)(Hm.ID,Hm);var zm=i("JS/N"),Um=i("0af2"),Km=i("dM5B"),qm=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},$m=function(e,t){return function(i,n){t(i,n,e)}};let Gm=class extends D.a{constructor(e,t,i,n){super(),this._modelService=t,this._themeService=i,this._configurationService=n,this._editor=e,this._tokenizeViewport=new k.e(()=>this._tokenizeViewportNow(),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange(()=>{this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._editor.onDidChangeModelContent(e=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(pe.k.onDidChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()})),this._register(this._configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(Um.b)&&(this._cancelAll(),this._tokenizeViewport.schedule())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!Object(Um.c)(e,this._themeService,this._configurationService))return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));const t=Object(Km.a)(e);if(!t)return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));const i=this._modelService.getSemanticTokensProviderStyling(t),n=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(n.map(n=>this._requestRange(e,n,t,i)))}_requestRange(e,t,i,n){const o=e.getVersionId(),r=Object(k.h)(n=>Promise.resolve(i.provideDocumentRangeSemanticTokens(e,t,n)));return r.then(i=>{i&&!e.isDisposed()&&e.getVersionId()===o&&e.setPartialSemanticTokens(t,Object(zm.b)(i,n,e.getLanguageIdentifier()))}).then(()=>this._removeOutstandingRequest(r),()=>this._removeOutstandingRequest(r)),r}};Gm.ID="editor.contrib.viewportSemanticTokens",Gm=qm([$m(1,me.a),$m(2,A.b),$m(3,oi.a)],Gm),Object(r.l)(Gm.ID,Gm);var Ym=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Zm=function(e,t){return function(i,n){t(i,n,e)}};const Xm=Object(M.wc)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},s.a("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),Qm=Object(M.wc)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},s.a("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),Jm=Object(M.wc)("editor.wordHighlightBorder",{light:null,dark:null,hc:M.b},s.a("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),ef=Object(M.wc)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:M.b},s.a("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),tf=Object(M.wc)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},s.a("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),nf=Object(M.wc)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},s.a("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),of=new h.c("hasWordHighlights",!1);function rf(e,t,i){const n=pe.i.ordered(e);return Object(k.j)(n.map(n=>()=>Promise.resolve(n.provideDocumentHighlights(e,t,i)).then(void 0,u.f)),de.n)}class sf{constructor(e,t,i){this._wordRange=this._getCurrentWordRange(e,t),this.result=Object(k.h)(n=>this._compute(e,t,i,n))}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new O.a(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const n=t.startLineNumber,o=t.startColumn,r=t.endColumn,s=this._getCurrentWordRange(e,t);let a=Boolean(this._wordRange&&this._wordRange.equalsRange(s));for(let l=0,c=i.length;!a&&l<c;l++){let t=e.getDecorationRange(i[l]);t&&t.startLineNumber===n&&t.startColumn<=o&&t.endColumn>=r&&(a=!0)}return a}cancel(){this.result.cancel()}}class af extends sf{_compute(e,t,i,n){return rf(e,t.getPosition(),n).then(e=>e||[])}}class lf extends sf{constructor(e,t,i){super(e,t,i),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return Object(k.n)(250,n).then(()=>{if(!t.isEmpty())return[];const n=e.getWordAtPosition(t.getPosition());if(!n||n.word.length>1e3)return[];return e.findMatches(n.word,!0,!1,!0,i,!1).map(e=>({range:e.range,kind:pe.h.Text}))})}isValid(e,t,i){const n=t.isEmpty();return this._selectionIsEmpty===n&&super.isValid(e,t,i)}}Object(r.n)("_executeDocumentHighlights",(e,t)=>rf(e,t,ae.a.None));class cf{constructor(e,t){this.toUnhook=new D.b,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=of.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(70),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)})),this.toUnhook.add(e.onDidChangeModelContent(e=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(e=>{let t=this.editor.getOption(70);this.occurrencesHighlight!==t&&(this.occurrencesHighlight=t,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return de.e(this._decorationIds.map(e=>this.model.getDecorationRange(e)).sort(O.a.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),t=(e.findIndex(e=>e.containsPosition(this.editor.getPosition()))+1)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);const n=this._getWord();if(n){const o=this.editor.getModel().getLineContent(i.startLineNumber);Object(f.a)(`${o}, ${t+1} of ${e.length} for '${n.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),t=(e.findIndex(e=>e.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);const n=this._getWord();if(n){const o=this.editor.getModel().getLineContent(i.startLineNumber);Object(f.a)(`${o}, ${t+1} of ${e.length} for '${n.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();let t=e.startColumn,i=e.endColumn;const n=this._getWord();if(!n||n.startColumn>t||n.endColumn<i)return void this._stopAll();const o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),o)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let e=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(r=this.model,s=this.editor.getSelection(),a=this.editor.getOption(115),pe.i.has(r)?new af(r,s,a):new lf(r,s,a)),this.workerRequest.result.then(t=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=t||[],this._beginRenderDecorations())},u.e)}var r,s,a}_beginRenderDecorations(){let e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:cf._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===pe.h.Write?this._WRITE_OPTIONS:e===pe.h.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}cf._WRITE_OPTIONS=E.a.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Object(A.g)(nf),position:N.d.Center}}),cf._TEXT_OPTIONS=E.a.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Object(A.g)(M.jc),position:N.d.Center}}),cf._REGULAR_OPTIONS=E.a.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Object(A.g)(tf),position:N.d.Center}});let hf=class e extends D.a{constructor(e,t){super(),this.wordHighlighter=null;const i=()=>{e.hasModel()&&(this.wordHighlighter=new cf(e,t))};this._register(e.onDidChangeModel(e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),i()})),i()}static get(t){return t.getContribution(e.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};hf.ID="editor.contrib.wordHighlighter",hf=Ym([Zm(1,h.b)],hf);class df extends r.b{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=hf.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class uf extends r.b{constructor(){super({id:"editor.action.wordHighlight.trigger",label:s.a("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:of.toNegated(),kbOpts:{kbExpr:a.a.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const n=hf.get(t);n&&n.restoreViewState(!0)}}Object(r.l)(hf.ID,hf),Object(r.j)(class extends df{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:s.a("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:of,kbOpts:{kbExpr:a.a.editorTextFocus,primary:65,weight:100}})}}),Object(r.j)(class extends df{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:s.a("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:of,kbOpts:{kbExpr:a.a.editorTextFocus,primary:1089,weight:100}})}}),Object(r.j)(uf),Object(A.f)((e,t)=>{const i=e.getColor(M.T);i&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${i}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${i.transparent(.5)}; }`));const n=e.getColor(Xm);n&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const o=e.getColor(Qm);o&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${o}; }`);const r=e.getColor(M.U);r&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${r}; box-sizing: border-box; }`);const s=e.getColor(Jm);s&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===e.type?"dashed":"solid"} ${s}; box-sizing: border-box; }`);const a=e.getColor(ef);a&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===e.type?"dashed":"solid"} ${a}; box-sizing: border-box; }`)});var gf=i("1I1M"),pf=i("5v8Y"),mf=i("FmXZ");class ff extends r.c{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const n=Object(pf.a)(t.getOption(115)),o=t.getModel(),r=t.getSelections().map(e=>{const t=new I.a(e.positionLineNumber,e.positionColumn),i=this._move(n,o,t,this._wordNavigationType);return this._moveTo(e,i,this._inSelectionMode)});if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,r.map(e=>To.d.fromModelSelection(e))),1===r.length){const e=new I.a(r[0].positionLineNumber,r[0].positionColumn);t.revealPosition(e,0)}}_moveTo(e,t,i){return i?new l.a(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new l.a(t.lineNumber,t.column,t.lineNumber,t.column)}}class bf extends ff{_move(e,t,i,n){return gf.a.moveWordLeft(e,t,i,n)}}class _f extends ff{_move(e,t,i,n){return gf.a.moveWordRight(e,t,i,n)}}class vf extends r.c{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const n=Object(pf.a)(t.getOption(115)),o=t.getModel(),r=t.getSelections(),s=t.getOption(5),a=t.getOption(8),l=_r.a.getAutoClosingPairs(o.getLanguageIdentifier().id),c=t._getViewModel(),h=r.map(e=>{const i=this._delete({wordSeparators:n,model:o,selection:e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:s,autoClosingQuotes:a,autoClosingPairs:l,autoClosedCharacters:c.getCursorAutoClosedCharacters()},this._wordNavigationType);return new z.a(i,"")});t.pushUndoStop(),t.executeCommands(this.id,h),t.pushUndoStop()}}class Cf extends vf{_delete(e,t){let i=gf.a.deleteWordLeft(e,t);return i||new O.a(1,1,1,1)}}class wf extends vf{_delete(e,t){let i=gf.a.deleteWordRight(e,t);if(i)return i;const n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new O.a(n,o,n,o)}}class yf extends r.b{constructor(){super({id:"deleteInsideWord",precondition:a.a.writable,label:s.a("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const n=Object(pf.a)(t.getOption(115)),o=t.getModel(),r=t.getSelections().map(e=>{const t=gf.a.deleteInsideWord(n,o,e);return new z.a(t,"")});t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}Object(r.k)(new class extends bf{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),Object(r.k)(new class extends bf{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),Object(r.k)(new class extends bf{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:h.a.and(a.a.textInputFocus,null===(e=h.a.and(Si.a,mf.b))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}),Object(r.k)(new class extends bf{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),Object(r.k)(new class extends bf{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),Object(r.k)(new class extends bf{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:h.a.and(a.a.textInputFocus,null===(e=h.a.and(Si.a,mf.b))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),Object(r.k)(new class extends _f{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),Object(r.k)(new class extends _f{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:h.a.and(a.a.textInputFocus,null===(e=h.a.and(Si.a,mf.b))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}),Object(r.k)(new class extends _f{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),Object(r.k)(new class extends _f{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),Object(r.k)(new class extends _f{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:h.a.and(a.a.textInputFocus,null===(e=h.a.and(Si.a,mf.b))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),Object(r.k)(new class extends _f{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),Object(r.k)(new class extends bf{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,n){return super._move(Object(pf.a)(Io.g.wordSeparators.defaultValue),t,i,n)}}),Object(r.k)(new class extends bf{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Object(pf.a)(Io.g.wordSeparators.defaultValue),t,i,n)}}),Object(r.k)(new class extends _f{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,n){return super._move(Object(pf.a)(Io.g.wordSeparators.defaultValue),t,i,n)}}),Object(r.k)(new class extends _f{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,n){return super._move(Object(pf.a)(Io.g.wordSeparators.defaultValue),t,i,n)}}),Object(r.k)(new class extends Cf{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:a.a.writable})}}),Object(r.k)(new class extends Cf{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:a.a.writable})}}),Object(r.k)(new class extends Cf{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),Object(r.k)(new class extends wf{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:a.a.writable})}}),Object(r.k)(new class extends wf{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:a.a.writable})}}),Object(r.k)(new class extends wf{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),Object(r.j)(yf);class Sf extends ff{_move(e,t,i,n){return gf.b.moveWordPartLeft(e,t,i)}}Ce.a.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");Ce.a.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class Lf extends ff{_move(e,t,i,n){return gf.b.moveWordPartRight(e,t,i)}}Object(r.k)(new class extends vf{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){let i=gf.b.deleteWordPartLeft(e);return i||new O.a(1,1,1,1)}}),Object(r.k)(new class extends vf{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:a.a.writable,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){let i=gf.b.deleteWordPartRight(e);if(i)return i;const n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new O.a(n,o,n,o)}}),Object(r.k)(new class extends Sf{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),Object(r.k)(new class extends Sf{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),Object(r.k)(new class extends Lf{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),Object(r.k)(new class extends Lf{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:a.a.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}});var xf=i("A9l+"),kf=(i("QaAZ"),i("ZlPH")),Df=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},If=function(e,t){return function(i,n){t(i,n,e)}};const Of=new h.c("accessibilityHelpWidgetVisible",!1);let Nf=class e extends D.a{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(Ef,this._editor))}static get(t){return t.getContribution(e.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};Nf.ID="editor.contrib.accessibilityHelpController",Nf=Df([If(1,Te.a)],Nf);let Ef=class e extends hi.a{constructor(e,t,i,n){super(),this._contextKeyService=t,this._keybindingService=i,this._openerService=n,this._editor=e,this._isVisibleKey=Of.bindTo(this._contextKeyService),this._domNode=Object(kf.b)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=Object(kf.b)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(Me.o(this._contentDomNode.domNode,"keydown",e=>{if(this._isVisible&&(e.equals(2083)&&(Object(f.a)(xf.a.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),Me.t(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){Object(f.a)(xf.a.openingDocs);let t=this._editor.getRawOptions().accessibilityHelpUrl;void 0===t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(ue.a.parse(t)),e.preventDefault(),e.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,i){let n=this._keybindingService.lookupKeybinding(e);return n?ce.w(t,n.getAriaLabel()):ce.w(i,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let i=0;if(t){const e=this._editor.getModel();e&&t.forEach(t=>{i+=e.getValueLengthInRange(t)})}let n=function(e,t){return e&&0!==e.length?1===e.length?t?ce.w(xf.a.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,t):ce.w(xf.a.singleSelection,e[0].positionLineNumber,e[0].positionColumn):t?ce.w(xf.a.multiSelectionRange,e.length,t):e.length>0?ce.w(xf.a.multiSelection,e.length):"":xf.a.noSelection}(t,i);e.get(52)?e.get(79)?n+=xf.a.readonlyDiffEditor:n+=xf.a.editableDiffEditor:e.get(79)?n+=xf.a.readonlyEditor:n+=xf.a.editableEditor;const o=$.f?xf.a.changeConfigToOnMac:xf.a.changeConfigToOnWinLinux;switch(e.get(2)){case 0:n+="\n\n - "+o;break;case 2:n+="\n\n - "+xf.a.auto_on;break;case 1:n+="\n\n - "+xf.a.auto_off,n+=" "+o}e.get(128)?n+="\n\n - "+this._descriptionForCommand(Fm.ID,xf.a.tabFocusModeOnMsg,xf.a.tabFocusModeOnMsgNoKb):n+="\n\n - "+this._descriptionForCommand(Fm.ID,xf.a.tabFocusModeOffMsg,xf.a.tabFocusModeOffMsgNoKb);n+="\n\n - "+($.f?xf.a.openDocMac:xf.a.openDocWinLinux),n+="\n\n"+xf.a.outroMsg,this._contentDomNode.domNode.appendChild(Object(eo.b)(n)),this._contentDomNode.domNode.setAttribute("aria-label",n)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,Me.t(this._contentDomNode.domNode),this._editor.focus())}_layout(){let t=this._editor.getLayoutInfo(),i=Math.max(5,Math.min(e.WIDTH,t.width-40)),n=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(i),this._domNode.setHeight(n);let o=Math.round((t.height-n)/2);this._domNode.setTop(o);let r=Math.round((t.width-i)/2);this._domNode.setLeft(r)}};Ef.ID="editor.contrib.accessibilityHelpWidget",Ef.WIDTH=500,Ef.HEIGHT=300,Ef=Df([If(1,h.b),If(2,Pe.a),If(3,fi.a)],Ef);class Tf extends r.b{constructor(){super({id:"editor.action.showAccessibilityHelp",label:xf.a.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){let i=Nf.get(t);i&&i.show()}}Object(r.l)(Nf.ID,Nf),Object(r.j)(Tf);const Mf=r.c.bindToContribution(Nf.get);Object(r.k)(new Mf({id:"closeAccessibilityHelp",precondition:Of,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:a.a.focus,primary:9,secondary:[1033]}})),Object(A.f)((e,t)=>{const i=e.getColor(M.Y);i&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${i}; }`);const n=e.getColor(M.ab);n&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const o=e.getColor(M.Mc);o&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${o}; }`);const r=e.getColor(M.h);r&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${r}; }`)});i("ci+S");class Af extends D.a{constructor(e){super(),this.editor=e,this.widget=null,$.c&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(79);!this.widget&&e?this.widget=new Rf(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}Af.ID="editor.contrib.iPadShowKeyboard";class Rf extends D.a{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(Me.i(this._domNode,"touchstart",e=>{this.editor.focus()})),this._register(Me.i(this._domNode,"focus",e=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return Rf.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}Rf.ID="editor.contrib.ShowKeyboardWidget",Object(r.l)(Af.ID,Af);i("EzsQ");var Pf=i("i/Ef"),Ff=i("scqD"),jf=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Bf=function(e,t){return function(i,n){t(i,n,e)}};let Wf=class e extends D.a{constructor(e,t,i){super(),this._editor=e,this._modeService=i,this._widget=null,this._register(this._editor.onDidChangeModel(e=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(e=>this.stop())),this._register(pe.F.onDidChange(e=>this.stop())),this._register(this._editor.onKeyUp(e=>9===e.keyCode&&this.stop()))}static get(t){return t.getContribution(e.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new Hf(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Wf.ID="editor.contrib.inspectTokens",Wf=jf([Bf(1,Ff.a),Bf(2,li.a)],Wf);class Vf extends r.b{constructor(){super({id:"editor.action.inspectTokens",label:xf.c.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){let i=Wf.get(t);i&&i.launch()}}class Hf extends D.a{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._modeService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(e){let t=pe.F.get(e.language);return t||{getInitialState:()=>Pf.c,tokenize:(t,i,n,o)=>Object(Pf.d)(e.language,t,n,o),tokenize2:(t,i,n,o)=>Object(Pf.e)(e.id,t,n,o)}}(this._model.getLanguageIdentifier()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(e=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return Hf._ID}_compute(e){let t=this._getTokensAtLine(e.lineNumber),i=0;for(let a=t.tokens1.length-1;a>=0;a--){let n=t.tokens1[a];if(e.column-1>=n.offset){i=a;break}}let n=0;for(let a=t.tokens2.length>>>1;a>=0;a--)if(e.column-1>=t.tokens2[a<<1]){n=a;break}let o=this._model.getLineContent(e.lineNumber),r="";if(i<t.tokens1.length){let e=t.tokens1[i].offset,n=i+1<t.tokens1.length?t.tokens1[i+1].offset:o.length;r=o.substring(e,n)}Object(Me.R)(this._domNode,Object(Me.a)("h2.tm-token",void 0,function(e){let t="";for(let i=0,n=e.length;i<n;i++){let n=e.charCodeAt(i);switch(n){case 9:t+="→";break;case 32:t+="·";break;default:t+=String.fromCharCode(n)}}return t}(r),Object(Me.a)("span.tm-token-length",void 0,`${r.length} ${1===r.length?"char":"chars"}`))),Object(Me.q)(this._domNode,Object(Me.a)("hr.tokens-inspect-separator",{style:"clear:both"}));const s=1+(n<<1)<t.tokens2.length?this._decodeMetadata(t.tokens2[1+(n<<1)]):null;Object(Me.q)(this._domNode,Object(Me.a)("table.tm-metadata-table",void 0,Object(Me.a)("tbody",void 0,Object(Me.a)("tr",void 0,Object(Me.a)("td.tm-metadata-key",void 0,"language"),Object(Me.a)("td.tm-metadata-value",void 0,""+(s?s.languageIdentifier.language:"-?-"))),Object(Me.a)("tr",void 0,Object(Me.a)("td.tm-metadata-key",void 0,"token type"),Object(Me.a)("td.tm-metadata-value",void 0,""+(s?this._tokenTypeToString(s.tokenType):"-?-"))),Object(Me.a)("tr",void 0,Object(Me.a)("td.tm-metadata-key",void 0,"font style"),Object(Me.a)("td.tm-metadata-value",void 0,""+(s?this._fontStyleToString(s.fontStyle):"-?-"))),Object(Me.a)("tr",void 0,Object(Me.a)("td.tm-metadata-key",void 0,"foreground"),Object(Me.a)("td.tm-metadata-value",void 0,""+(s?ii.a.Format.CSS.formatHex(s.foreground):"-?-"))),Object(Me.a)("tr",void 0,Object(Me.a)("td.tm-metadata-key",void 0,"background"),Object(Me.a)("td.tm-metadata-value",void 0,""+(s?ii.a.Format.CSS.formatHex(s.background):"-?-")))))),Object(Me.q)(this._domNode,Object(Me.a)("hr.tokens-inspect-separator")),i<t.tokens1.length&&Object(Me.q)(this._domNode,Object(Me.a)("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){let t=pe.F.getColorMap(),i=pe.E.getLanguageId(e),n=pe.E.getTokenType(e),o=pe.E.getFontStyle(e),r=pe.E.getForeground(e),s=pe.E.getBackground(e);return{languageIdentifier:this._modeService.getLanguageIdentifier(i),tokenType:n,fontStyle:o,foreground:t[r],background:t[s]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),0===t.length&&(t="---"),t}_getTokensAtLine(e){let t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t,0),n=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),!0,t,0);return{startState:t,tokens1:i.tokens,tokens2:n.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++){t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t,0).endState}return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}Hf._ID="editor.contrib.inspectTokensWidget",Object(r.l)(Wf.ID,Wf),Object(r.j)(Vf),Object(A.f)((e,t)=>{const i=e.getColor(M.F);if(i){let n=e.type===ke.a.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${i}; }`)}const n=e.getColor(M.E);n&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const o=e.getColor(M.G);o&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${o}; }`)});var zf=i("Lx4V"),Uf=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Kf=function(e,t){return function(i,n){t(i,n,e)}};let qf=class e{constructor(e){this.quickInputService=e,this.registry=Cm.a.as(zf.b.Quickaccess)}provide(t){const i=new D.b;i.add(t.onDidAccept(()=>{const[e]=t.selectedItems;e&&this.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})})),i.add(t.onDidChangeValue(t=>{const i=this.registry.getQuickAccessProvider(t.substr(e.PREFIX.length));i&&i.prefix&&i.prefix!==e.PREFIX&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})}));const{editorProviders:n,globalProviders:o}=this.getQuickAccessProviders();return t.items=0===n.length||0===o.length?[...0===n.length?o:n]:[{label:Object(s.a)("globalCommands","global commands"),type:"separator"},...o,{label:Object(s.a)("editorCommands","editor commands"),type:"separator"},...n],i}getQuickAccessProviders(){const t=[],i=[];for(const n of this.registry.getQuickAccessProviders().sort((e,t)=>e.prefix.localeCompare(t.prefix)))if(n.prefix!==e.PREFIX)for(const e of n.helpEntries){const o=e.prefix||n.prefix,r=o||"…";(e.needsEditor?i:t).push({prefix:o,label:r,ariaLabel:Object(s.a)("helpPickAriaLabel","{0}, {1}",r,e.description),description:e.description})}return{editorProviders:i,globalProviders:t}}};qf.PREFIX="?",qf=Uf([Kf(0,Zt.a)],qf),Cm.a.as(zf.b.Quickaccess).registerQuickAccessProvider({ctor:qf,prefix:"",helpEntries:[{description:xf.e.helpQuickAccessActionLabel,needsEditor:!0}]});class $f{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const n=new D.b;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=n.add(new D.d);return o.value=this.doProvide(e,t),n.add(this.onDidActiveTextEditorControlChange(()=>{o.value=void 0,o.value=this.doProvide(e,t)})),n}doProvide(e,t){const i=new D.b,n=this.activeTextEditorControl;if(n&&this.canProvideWithTextEditor(n)){const o={editor:n},r=Object(ic.a)(n);if(r){let e=Object(Et.o)(n.saveViewState());i.add(r.onDidChangeCursorPosition(()=>{e=Object(Et.o)(n.saveViewState())})),o.restoreViewState=()=>{e&&n===this.activeTextEditorControl&&n.restoreViewState(e)},i.add(Object(zt.a)(t.onCancellationRequested)(()=>{var e;return null===(e=o.restoreViewState)||void 0===e?void 0:e.call(o)}))}i.add(Object(D.i)(()=>this.clearDecorations(n))),i.add(this.provideWithTextEditor(o,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return Object(ic.c)(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(e=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Object(A.g)(T.u),position:N.d.Full}}}],[o,r]=e.deltaDecorations(i,n);this.rangeHighlightDecorationId={rangeHighlightId:o,overviewRulerDecorationId:r}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class Gf extends $f{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=Object(s.a)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,D.a.None}provideWithTextEditor(e,t,i){const n=e.editor,o=new D.b;o.add(t.onDidAccept(i=>{const[o]=t.selectedItems;if(o){if(!this.isValidLineNumber(n,o.lineNumber))return;this.gotoLocation(e,{range:this.toRange(o.lineNumber,o.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}}));const r=()=>{const e=this.parsePosition(n,t.value.trim().substr(Gf.PREFIX.length)),i=this.getPickLabel(n,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,!this.isValidLineNumber(n,e.lineNumber))return void this.clearDecorations(n);const o=this.toRange(e.lineNumber,e.column);n.revealRangeInCenter(o,0),this.addDecorations(n,o)};r(),o.add(t.onDidChangeValue(()=>r()));const s=Object(ic.a)(n);if(s){2===s.getOptions().get(58).renderType&&(s.updateOptions({lineNumbers:"on"}),o.add(Object(D.i)(()=>s.updateOptions({lineNumbers:"relative"}))))}return o}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map(e=>parseInt(e,10)).filter(e=>!isNaN(e)),n=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:n+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?Object(s.a)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):Object(s.a)("gotoLineLabel","Go to line {0}.",t);const n=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?Object(s.a)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",n.lineNumber,n.column,o):Object(s.a)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",n.lineNumber,n.column)}isValidLineNumber(e,t){return!(!t||"number"!=typeof t)&&(t>0&&t<=this.lineCount(e))}isValidColumn(e,t,i){if(!i||"number"!=typeof i)return!1;const n=this.getModel(e);if(!n)return!1;const o={lineNumber:t,column:i};return n.validatePosition(o).equals(o)}lineCount(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==i?i:0}}Gf.PREFIX=":";var Yf=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Zf=function(e,t){return function(i,n){t(i,n,e)}};let Xf=class extends Gf{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Ke.c.None}get activeTextEditorControl(){return Object(Et.o)(this.editorService.getFocusedCodeEditor())}};Xf=Yf([Zf(0,Y.a)],Xf),Cm.a.as(zf.b.Quickaccess).registerQuickAccessProvider({ctor:Xf,prefix:Xf.PREFIX,helpEntries:[{description:xf.b.gotoLineActionLabel,needsEditor:!0}]});class Qf extends r.b{constructor(){super({id:"editor.action.gotoLine",label:xf.b.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(Zt.a).quickAccess.show(Xf.PREFIX)}}Object(r.j)(Qf);const Jf=[void 0,[]];function eb(e,t,i=0,n=0){const o=t;return o.values&&o.values.length>1?function(e,t,i,n){let o=0;const r=[];for(const s of t){const[t,a]=tb(e,s,i,n);if("number"!=typeof t)return Jf;o+=t,r.push(...a)}return[o,ib(r)]}(e,o.values,i,n):tb(e,t,i,n)}function tb(e,t,i,n){const o=Object(Ar.d)(t.original,t.originalLowercase,i,e,e.toLowerCase(),n,!0);return o?[o[0],Object(Ar.c)(o)]:Jf}function ib(e){const t=e.sort((e,t)=>e.start-t.start),i=[];let n=void 0;for(const o of t)n&&nb(n,o)?(n.start=Math.min(n.start,o.start),n.end=Math.max(n.end,o.end)):(n=o,i.push(o));return i}function nb(e,t){return!(e.end<t.start)&&!(t.end<e.start)}function ob(e){"string"!=typeof e&&(e="");const t=e.toLowerCase(),{pathNormalized:i,normalized:n,normalizedLowercase:o}=rb(e),r=i.indexOf(br.h)>=0;let s=void 0;const a=e.split(" ");if(a.length>1)for(const l of a){const{pathNormalized:e,normalized:t,normalizedLowercase:i}=rb(l);t&&(s||(s=[]),s.push({original:l,originalLowercase:l.toLowerCase(),pathNormalized:e,normalized:t,normalizedLowercase:i}))}return{original:e,originalLowercase:t,pathNormalized:i,normalized:n,normalizedLowercase:o,values:s,containsPathSeparator:r}}function rb(e){let t;t=$.j?e.replace(/\//g,br.h):e.replace(/\\/g,br.h);const i=Object(ce.U)(t).replace(/\s/g,"");return{pathNormalized:t,normalized:i,normalizedLowercase:i.toLowerCase()}}function sb(e){return Array.isArray(e)?ob(e.map(e=>e.original).join(" ")):ob(e.original)}var ab=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class lb extends $f{constructor(e=Object.create(null)){super(e),this.options=e,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,Object(s.a)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),D.a.None}provideWithTextEditor(e,t,i){const n=e.editor,o=this.getModel(n);return o?pe.m.has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):D.a.None}doProvideWithoutEditorSymbols(e,t,i,n){const o=new D.b;return this.provideLabelPick(i,Object(s.a)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{ab(this,void 0,void 0,(function*(){(yield this.waitForLanguageSymbolRegistry(t,o))&&!n.isCancellationRequested&&o.add(this.doProvideWithEditorSymbols(e,t,i,n))}))})(),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return ab(this,void 0,void 0,(function*(){if(pe.m.has(e))return!0;let i;const n=new Promise(e=>i=e),o=t.add(pe.m.onDidChange(()=>{pe.m.has(e)&&(o.dispose(),i(!0))}));return t.add(Object(D.i)(()=>i(!1))),n}))}doProvideWithEditorSymbols(e,t,i,n){const o=e.editor,r=new D.b;r.add(i.onDidAccept(t=>{const[n]=i.selectedItems;n&&n.range&&(this.gotoLocation(e,{range:n.range.selection,keyMods:i.keyMods,preserveFocus:t.inBackground}),t.inBackground||i.hide())})),r.add(i.onDidTriggerItemButton(({item:t})=>{t&&t.range&&(this.gotoLocation(e,{range:t.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const a=this.getDocumentSymbols(t,n);let l=void 0;const c=()=>ab(this,void 0,void 0,(function*(){null==l||l.dispose(!0),i.busy=!1,l=new ae.b(n),i.busy=!0;try{const e=ob(i.value.substr(lb.PREFIX.length).trim()),t=yield this.doGetSymbolPicks(a,e,void 0,l.token);if(n.isCancellationRequested)return;t.length>0?i.items=t:e.original.length>0?this.provideLabelPick(i,Object(s.a)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,Object(s.a)("noSymbolResults","No editor symbols"))}finally{n.isCancellationRequested||(i.busy=!1)}}));r.add(i.onDidChangeValue(()=>c())),c();let h=!0;return r.add(i.onDidChangeActive(()=>{const[e]=i.activeItems;if(e&&e.range){if(h)return void(h=!1);o.revealRangeInCenter(e.range.selection,0),this.addDecorations(o,e.range.decoration)}})),r}doGetSymbolPicks(e,t,i,n){return ab(this,void 0,void 0,(function*(){const o=yield e;if(n.isCancellationRequested)return[];const r=0===t.original.indexOf(lb.SCOPE_PREFIX),a=r?1:0;let l,c;t.values&&t.values.length>1?(l=sb(t.values[0]),c=sb(t.values.slice(1))):l=t;const h=[];for(let e=0;e<o.length;e++){const n=o[e],r=Object(ce.V)(n.name),d=`$(symbol-${pe.D.toString(n.kind)||"property"}) ${r}`,u=d.length-r.length;let g=n.containerName;(null==i?void 0:i.extraContainerLabel)&&(g=g?`${i.extraContainerLabel} • ${g}`:i.extraContainerLabel);let p=void 0,m=void 0,f=void 0,b=void 0;if(t.original.length>a){let e=!1;if(l!==t&&([p,m]=eb(d,Object.assign(Object.assign({},t),{values:void 0}),a,u),"number"==typeof p&&(e=!0)),"number"!=typeof p&&([p,m]=eb(d,l,a,u),"number"!=typeof p))continue;if(!e&&c){if(g&&c.original.length>0&&([f,b]=eb(g,c)),"number"!=typeof f)continue;"number"==typeof p&&(p+=f)}}const _=n.tags&&n.tags.indexOf(1)>=0;h.push({index:e,kind:n.kind,score:p,label:d,ariaLabel:r,description:g,highlights:_?void 0:{label:m,description:b},range:{selection:O.a.collapseToStart(n.selectionRange),decoration:n.range},strikethrough:_,buttons:(()=>{var e,t;const i=(null===(e=this.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=this.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(i)return[{iconClass:"right"===i?$e.b.splitHorizontal.classNames:$e.b.splitVertical.classNames,tooltip:"right"===i?Object(s.a)("openToSide","Open to the Side"):Object(s.a)("openToBottom","Open to the Bottom")}]})()})}const d=h.sort((e,t)=>r?this.compareByKindAndScore(e,t):this.compareByScore(e,t));let u=[];if(r){let e=void 0,t=void 0,i=0;function g(){t&&"number"==typeof e&&i>0&&(t.label=Object(ce.w)(hb[e]||cb,i))}for(const n of d)e!==n.kind?(g(),e=n.kind,i=1,t={type:"separator"},u.push(t)):i++,u.push(n);g()}else d.length>0&&(u=[{label:Object(s.a)("symbols","symbols ({0})",h.length),type:"separator"},...d]);return u}))}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=hb[e.kind]||cb,n=hb[t.kind]||cb,o=i.localeCompare(n);return 0===o?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return ab(this,void 0,void 0,(function*(){const i=yield fg.create(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}))}}lb.PREFIX="@",lb.SCOPE_PREFIX=":",lb.PREFIX_BY_CATEGORY=`${lb.PREFIX}${lb.SCOPE_PREFIX}`;const cb=Object(s.a)("property","properties ({0})"),hb={5:Object(s.a)("method","methods ({0})"),11:Object(s.a)("function","functions ({0})"),8:Object(s.a)("_constructor","constructors ({0})"),12:Object(s.a)("variable","variables ({0})"),4:Object(s.a)("class","classes ({0})"),22:Object(s.a)("struct","structs ({0})"),23:Object(s.a)("event","events ({0})"),24:Object(s.a)("operator","operators ({0})"),10:Object(s.a)("interface","interfaces ({0})"),2:Object(s.a)("namespace","namespaces ({0})"),3:Object(s.a)("package","packages ({0})"),25:Object(s.a)("typeParameter","type parameters ({0})"),1:Object(s.a)("modules","modules ({0})"),6:Object(s.a)("property","properties ({0})"),9:Object(s.a)("enum","enumerations ({0})"),21:Object(s.a)("enumMember","enumeration members ({0})"),14:Object(s.a)("string","strings ({0})"),0:Object(s.a)("file","files ({0})"),17:Object(s.a)("array","arrays ({0})"),15:Object(s.a)("number","numbers ({0})"),16:Object(s.a)("boolean","booleans ({0})"),18:Object(s.a)("object","objects ({0})"),19:Object(s.a)("key","keys ({0})"),7:Object(s.a)("field","fields ({0})"),13:Object(s.a)("constant","constants ({0})")};var db=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ub=function(e,t){return function(i,n){t(i,n,e)}};let gb=class extends lb{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Ke.c.None}get activeTextEditorControl(){return Object(Et.o)(this.editorService.getFocusedCodeEditor())}};gb=db([ub(0,Y.a)],gb),Cm.a.as(zf.b.Quickaccess).registerQuickAccessProvider({ctor:gb,prefix:lb.PREFIX,helpEntries:[{description:xf.f.quickOutlineActionLabel,prefix:lb.PREFIX,needsEditor:!0},{description:xf.f.quickOutlineByCategoryActionLabel,prefix:lb.PREFIX_BY_CATEGORY,needsEditor:!0}]});class pb extends r.b{constructor(){super({id:"editor.action.quickOutline",label:xf.f.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:a.a.hasDocumentSymbolProvider,kbOpts:{kbExpr:a.a.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(Zt.a).quickAccess.show(lb.PREFIX)}}Object(r.j)(pb);var mb,fb=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function bb(e){const t=e;return Array.isArray(t.items)}!function(e){e[e.NO_ACTION=0]="NO_ACTION",e[e.CLOSE_PICKER=1]="CLOSE_PICKER",e[e.REFRESH_PICKER=2]="REFRESH_PICKER",e[e.REMOVE_ITEM=3]="REMOVE_ITEM"}(mb||(mb={}));class _b extends D.a{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var i;const n=new D.b;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let o=void 0;const r=n.add(new D.d),s=()=>fb(this,void 0,void 0,(function*(){const i=r.value=new D.b;null==o||o.dispose(!0),e.busy=!1,o=new ae.b(t);const n=o.token,s=e.value.substr(this.prefix.length).trim(),a=this._getPicks(s,i,n),l=(t,i)=>{var n;let o,r=void 0;if(bb(t)?(o=t.items,r=t.active):o=t,0===o.length){if(i)return!1;s.length>0&&(null===(n=this.options)||void 0===n?void 0:n.noResultsPick)&&(o=[this.options.noResultsPick])}return e.items=o,r&&(e.activeItems=[r]),!0};if(null===a);else if(function(e){const t=e;return!!t.picks&&t.additionalPicks instanceof Promise}(a)){let t=!1,i=!1;yield Promise.all([(()=>fb(this,void 0,void 0,(function*(){yield Object(k.n)(_b.FAST_PICKS_RACE_DELAY),n.isCancellationRequested||i||(t=l(a.picks,!0))})))(),(()=>fb(this,void 0,void 0,(function*(){e.busy=!0;try{const o=yield a.additionalPicks;if(n.isCancellationRequested)return;let r,s,c=void 0;bb(a.picks)?(r=a.picks.items,c=a.picks.active):r=a.picks;let h=void 0;if(bb(o)?(s=o.items,h=o.active):s=o,s.length>0||!t){let t=void 0;if(!c&&!h){const i=e.activeItems[0];i&&-1!==r.indexOf(i)&&(t=i)}l({items:[...r,...s],active:c||h||t})}}finally{n.isCancellationRequested||(e.busy=!1),i=!0}})))()])}else if(a instanceof Promise){e.busy=!0;try{const t=yield a;if(n.isCancellationRequested)return;l(t)}finally{n.isCancellationRequested||(e.busy=!1)}}else l(a)}));return n.add(e.onDidChangeValue(()=>s())),s(),n.add(e.onDidAccept(t=>{const[i]=e.selectedItems;"function"==typeof(null==i?void 0:i.accept)&&(t.inBackground||e.hide(),i.accept(e.keyMods,t))})),n.add(e.onDidTriggerItemButton(({button:i,item:n})=>fb(this,void 0,void 0,(function*(){var o,r;if("function"==typeof n.trigger){const a=null!==(r=null===(o=n.buttons)||void 0===o?void 0:o.indexOf(i))&&void 0!==r?r:-1;if(a>=0){const i=n.trigger(a,e.keyMods),o="number"==typeof i?i:yield i;if(t.isCancellationRequested)return;switch(o){case mb.NO_ACTION:break;case mb.CLOSE_PICKER:e.hide();break;case mb.REFRESH_PICKER:s();break;case mb.REMOVE_ITEM:const t=e.items.indexOf(n);if(-1!==t){const i=e.items.slice();i.splice(t,1),e.items=i}}}}})))),n}}function vb(e,t){return t&&(e.stack||e.stacktrace)?s.a("stackTrace.format","{0}: {1}",wb(e),Cb(e.stack)||Cb(e.stacktrace)):wb(e)}function Cb(e){return Array.isArray(e)?e.join("\n"):e}function wb(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?s.a("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||s.a("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function yb(e=null,t=!1){if(!e)return s.a("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){const i=de.e(e),n=yb(i[0],t);return i.length>1?s.a("error.moreErrors","{0} ({1} errors in total)",n,i.length):n}if(Et.k(e))return e;if(e.detail){const i=e.detail;if(i.error)return vb(i.error,t);if(i.exception)return vb(i.exception,t)}return e.stack?vb(e,t):e.message?e.message:s.a("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}_b.FAST_PICKS_RACE_DELAY=200;var Sb=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Lb=function(e,t){return function(i,n){t(i,n,e)}},xb=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let kb=class e extends _b{constructor(t,i,n,o,r,s){super(e.PREFIX,t),this.instantiationService=i,this.keybindingService=n,this.commandService=o,this.telemetryService=r,this.dialogService=s,this.commandsHistory=this._register(this.instantiationService.createInstance(Db)),this.options=t}_getPicks(t,i,n){return xb(this,void 0,void 0,(function*(){const o=yield this.getCommandPicks(i,n);if(n.isCancellationRequested)return[];const r=[];for(const i of o){const n=Object(Et.o)(e.WORD_FILTER(t,i.label)),o=i.commandAlias?Object(Et.o)(e.WORD_FILTER(t,i.commandAlias)):void 0;n||o?(i.highlights={label:n,detail:this.options.showAlias?o:void 0},r.push(i)):t===i.commandId&&r.push(i)}const a=new Map;for(const e of r){const t=a.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):a.set(e.label,e)}r.sort((e,t)=>{const i=this.commandsHistory.peek(e.commandId),n=this.commandsHistory.peek(t.commandId);return i&&n?i>n?-1:1:i?-1:n?1:e.label.localeCompare(t.label)});const l=[];let c=!1;for(let e=0;e<r.length;e++){const t=r[e],i=this.keybindingService.lookupKeybinding(t.commandId),n=i?Object(s.a)("commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,i.getAriaLabel()):t.label;0===e&&this.commandsHistory.peek(t.commandId)&&(l.push({type:"separator",label:Object(s.a)("recentlyUsed","recently used")}),c=!0),0!==e&&c&&!this.commandsHistory.peek(t.commandId)&&(l.push({type:"separator",label:Object(s.a)("morecCommands","other commands")}),c=!1),l.push(Object.assign(Object.assign({},t),{ariaLabel:n,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:i,accept:()=>xb(this,void 0,void 0,(function*(){this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:"quick open"});try{yield this.commandService.executeCommand(t.commandId)}catch(e){Object(u.d)(e)||this.dialogService.show(_n.a.Error,Object(s.a)("canNotRun","Command '{0}' resulted in an error ({1})",t.label,yb(e)))}}))}))}return l}))}};kb.PREFIX=">",kb.WORD_FILTER=Object(Ar.j)(Ar.h,Ar.i,Ar.f),kb=Sb([Lb(1,Te.a),Lb(2,Pe.a),Lb(3,Ce.b),Lb(4,at.a),Lb(5,jm.a)],kb);let Db=class e extends D.a{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService))}load(){const t=this.storageService.get(e.PREF_KEY_CACHE,0);let i;if(t)try{i=JSON.parse(t)}catch(o){}const n=e.cache=new Vt.a(this.configuredCommandsHistoryLength,1);if(i){let e;e=i.usesLRU?i.entries:i.entries.sort((e,t)=>e.value-t.value),e.forEach(e=>n.set(e.key,e.value))}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}push(t){e.cache&&(e.cache.set(t,e.counter++),e.saveState(this.storageService))}peek(t){var i;return null===(i=e.cache)||void 0===i?void 0:i.peek(t)}static saveState(t){if(!e.cache)return;const i={usesLRU:!0,entries:[]};e.cache.forEach((e,t)=>i.entries.push({key:t,value:e})),t.store(e.PREF_KEY_CACHE,JSON.stringify(i),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}static getConfiguredCommandHistoryLength(t){var i,n;const o=null===(n=null===(i=t.getValue().workbench)||void 0===i?void 0:i.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof o?o:e.DEFAULT_COMMANDS_HISTORY_LENGTH}};Db.DEFAULT_COMMANDS_HISTORY_LENGTH=50,Db.PREF_KEY_CACHE="commandPalette.mru.cache",Db.PREF_KEY_COUNTER="commandPalette.mru.counter",Db.counter=1,Db=Sb([Lb(0,Ht.a),Lb(1,oi.a)],Db);class Ib extends kb{constructor(e,t,i,n,o,r){super(e,t,i,n,o,r)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:Object(d.e)(i.label)||i.id});return t}}var Ob=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Nb=function(e,t){return function(i,n){t(i,n,e)}},Eb=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let Tb=class extends Ib{constructor(e,t,i,n,o,r){super({showAlias:!1},e,i,n,o,r),this.codeEditorService=t}get activeTextEditorControl(){return Object(Et.o)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Eb(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}};Tb=Ob([Nb(0,Te.a),Nb(1,Y.a),Nb(2,Pe.a),Nb(3,Ce.b),Nb(4,at.a),Nb(5,jm.a)],Tb),Cm.a.as(zf.b.Quickaccess).registerQuickAccessProvider({ctor:Tb,prefix:Tb.PREFIX,helpEntries:[{description:xf.d.quickCommandHelp,needsEditor:!0}]});class Mb extends r.b{constructor(){super({id:"editor.action.quickCommand",label:xf.d.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:a.a.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(Zt.a).quickAccess.show(Tb.PREFIX)}}Object(r.j)(Mb);var Ab=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Rb=function(e,t){return function(i,n){t(i,n,e)}};let Pb=class extends Oc{constructor(e,t,i,n,o,r,s){super(!0,e,t,i,n,o,r,s)}};Pb=Ab([Rb(1,h.b),Rb(2,Y.a),Rb(3,st.a),Rb(4,Te.a),Rb(5,Ht.a),Rb(6,oi.a)],Pb),Object(r.l)(Oc.ID,Pb);class Fb extends r.b{constructor(){super({id:"editor.action.toggleHighContrast",label:xf.i.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(Ff.a);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}}Object(r.j)(Fb);i("8z58")},"+hIS":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("+sZP"),o={},r={},s=function(){function e(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,i){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=i}))}return e.getOrCreate=function(t){return r[t]||(r[t]=new e(t)),r[t]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,o[this._languageId].loader().then((function(t){return e._lazyLoadPromiseResolve(t)}),(function(t){return e._lazyLoadPromiseReject(t)}))),this._lazyLoadPromise},e}();function a(e){var t=e.id;o[t]=e,n.a.register(e);var i=s.getOrCreate(t);n.a.setMonarchTokensProvider(t,i.whenLoaded().then((function(e){return e.language}))),n.a.onLanguage(t,(function(){i.load().then((function(e){n.a.setLanguageConfiguration(t,e.conf)}))}))}},"+sZP":function(e,t,i){"use strict";var n=i("8z58");i.d(t,"a",(function(){return n.languages}))},"/+yt":function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface PromiseConstructor {\r\n    /**\r\n     * A reference to the prototype.\r\n     */\r\n    readonly prototype: Promise<any>;\r\n\r\n    /**\r\n     * Creates a new Promise.\r\n     * @param executor A callback used to initialize the promise. This callback is passed two arguments:\r\n     * a resolve callback used to resolve the promise with a value or the result of another promise,\r\n     * and a reject callback used to reject the promise with a provided reason or error.\r\n     */\r\n    new <T>(executor: (resolve: (value: T | PromiseLike<T>) => void, reject: (reason?: any) => void) => void): Promise<T>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T1, T2, T3, T4, T5, T6, T7, T8, T9, T10>(values: readonly [T1 | PromiseLike<T1>, T2 | PromiseLike<T2>, T3 | PromiseLike<T3>, T4 | PromiseLike<T4>, T5 | PromiseLike<T5>, T6 | PromiseLike<T6>, T7 | PromiseLike<T7>, T8 | PromiseLike<T8>, T9 | PromiseLike<T9>, T10 | PromiseLike<T10>]): Promise<[T1, T2, T3, T4, T5, T6, T7, T8, T9, T10]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T1, T2, T3, T4, T5, T6, T7, T8, T9>(values: readonly [T1 | PromiseLike<T1>, T2 | PromiseLike<T2>, T3 | PromiseLike<T3>, T4 | PromiseLike<T4>, T5 | PromiseLike<T5>, T6 | PromiseLike<T6>, T7 | PromiseLike<T7>, T8 | PromiseLike<T8>, T9 | PromiseLike<T9>]): Promise<[T1, T2, T3, T4, T5, T6, T7, T8, T9]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T1, T2, T3, T4, T5, T6, T7, T8>(values: readonly [T1 | PromiseLike<T1>, T2 | PromiseLike<T2>, T3 | PromiseLike<T3>, T4 | PromiseLike<T4>, T5 | PromiseLike<T5>, T6 | PromiseLike<T6>, T7 | PromiseLike<T7>, T8 | PromiseLike<T8>]): Promise<[T1, T2, T3, T4, T5, T6, T7, T8]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T1, T2, T3, T4, T5, T6, T7>(values: readonly [T1 | PromiseLike<T1>, T2 | PromiseLike<T2>, T3 | PromiseLike<T3>, T4 | PromiseLike<T4>, T5 | PromiseLike<T5>, T6 | PromiseLike<T6>, T7 | PromiseLike<T7>]): Promise<[T1, T2, T3, T4, T5, T6, T7]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T1, T2, T3, T4, T5, T6>(values: readonly [T1 | PromiseLike<T1>, T2 | PromiseLike<T2>, T3 | PromiseLike<T3>, T4 | PromiseLike<T4>, T5 | PromiseLike<T5>, T6 | PromiseLike<T6>]): Promise<[T1, T2, T3, T4, T5, T6]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T1, T2, T3, T4, T5>(values: readonly [T1 | PromiseLike<T1>, T2 | PromiseLike<T2>, T3 | PromiseLike<T3>, T4 | PromiseLike<T4>, T5 | PromiseLike<T5>]): Promise<[T1, T2, T3, T4, T5]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T1, T2, T3, T4>(values: readonly [T1 | PromiseLike<T1>, T2 | PromiseLike<T2>, T3 | PromiseLike<T3>, T4 | PromiseLike<T4>]): Promise<[T1, T2, T3, T4]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T1, T2, T3>(values: readonly [T1 | PromiseLike<T1>, T2 | PromiseLike<T2>, T3 | PromiseLike<T3>]): Promise<[T1, T2, T3]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T1, T2>(values: readonly [T1 | PromiseLike<T1>, T2 | PromiseLike<T2>]): Promise<[T1, T2]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T>(values: readonly (T | PromiseLike<T>)[]): Promise<T[]>;\r\n\r\n    // see: lib.es2015.iterable.d.ts\r\n    // all<T>(values: Iterable<T | PromiseLike<T>>): Promise<T[]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved or rejected when any of the provided Promises are resolved\r\n     * or rejected.\r\n     * @param values An array of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    race<T>(values: readonly T[]): Promise<T extends PromiseLike<infer U> ? U : T>;\r\n\r\n    // see: lib.es2015.iterable.d.ts\r\n    // race<T>(values: Iterable<T>): Promise<T extends PromiseLike<infer U> ? U : T>;\r\n\r\n    /**\r\n     * Creates a new rejected promise for the provided reason.\r\n     * @param reason The reason the promise was rejected.\r\n     * @returns A new rejected Promise.\r\n     */\r\n    reject<T = never>(reason?: any): Promise<T>;\r\n\r\n    /**\r\n     * Creates a new resolved promise.\r\n     * @returns A resolved promise.\r\n     */\r\n    resolve(): Promise<void>;\r\n\r\n    /**\r\n     * Creates a new resolved promise for the provided value.\r\n     * @param value A promise.\r\n     * @returns A promise whose internal state matches the provided promise.\r\n     */\r\n    resolve<T>(value: T | PromiseLike<T>): Promise<T>;\r\n}\r\n\r\ndeclare var Promise: PromiseConstructor;\r\n'},"/6w4":function(e,t,i){},"/UlZ":function(e,t,i){"use strict";i.d(t,"h",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"j",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"k",(function(){return g})),i.d(t,"n",(function(){return _})),i.d(t,"i",(function(){return w})),i.d(t,"e",(function(){return y})),i.d(t,"f",(function(){return L})),i.d(t,"m",(function(){return x})),i.d(t,"c",(function(){return D})),i.d(t,"d",(function(){return I})),i.d(t,"l",(function(){return O})),i.d(t,"g",(function(){return E}));var n=i("3/fG"),o=i("MNsG"),r=i("0JNc");const s=8;class a{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class l{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class c{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class h{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}compute(e,t,i){return i}}class d{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}validate(e){return this.defaultValue}}class u{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,i){return i}}function g(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}class p extends u{constructor(e,t,i,n){void 0!==n&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return g(e,this.defaultValue)}}class m extends u{constructor(e,t,i,n,o,r){void 0!==r&&(r.type="integer",r.default=i,r.minimum=n,r.maximum=o),super(e,t,i,r),this.minimum=n,this.maximum=o}static clampedInt(e,t,i,n){if(void 0===e)return t;let o=parseInt(e,10);return isNaN(o)?t:(o=Math.max(i,o),o=Math.min(n,o),0|o)}validate(e){return m.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class f extends u{constructor(e,t,i,n,o){void 0!==o&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=n}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if("number"==typeof e)return e;if(void 0===e)return t;const i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(f.float(e,this.defaultValue))}}class b extends u{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,i,n){void 0!==n&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return b.string(e,this.defaultValue)}}function _(e,t,i){return"string"!=typeof e||-1===i.indexOf(e)?t:e}class v extends u{constructor(e,t,i,n,o){void 0!==o&&(o.type="string",o.enum=n,o.default=i),super(e,t,i,o),this._allowedValues=n}validate(e){return _(e,this.defaultValue,this._allowedValues)}}class C extends h{constructor(e,t,i,n,o,r,s){void 0!==s&&(s.type="string",s.enum=o,s.default=n),super(e,t,i,s),this._allowedValues=o,this._convert=r}validate(e){return"string"!=typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var w;!function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(w||(w={}));class y extends h{constructor(){super(42,"fontLigatures",y.OFF,{anyOf:[{type:"boolean",description:n.a("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:n.a("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:n.a("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?y.OFF:"true"===e?y.ON:e:Boolean(e)?y.ON:y.OFF}}y.OFF='"liga" off, "calt" off',y.ON='"liga" on, "calt" on';class S extends h{constructor(){super(44,"fontWeight",D.fontWeight,{anyOf:[{type:"number",minimum:S.MINIMUM_VALUE,maximum:S.MAXIMUM_VALUE,errorMessage:n.a("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:S.SUGGESTION_VALUES}],default:D.fontWeight,description:n.a("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(m.clampedInt(e,D.fontWeight,S.MINIMUM_VALUE,S.MAXIMUM_VALUE))}}S.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],S.MINIMUM_VALUE=1,S.MAXIMUM_VALUE=1e3;class L extends d{constructor(){super(129,[47,56,35,63,91,58,59,93,116,119,120,121,2])}compute(e,t,i){return L.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:Math.floor(e.viewLineCount/n)}}static _computeMinimapLayout(e,t){const i=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};const r=t.stableMinimapLayoutInput,a=r&&e.outerHeight===r.outerHeight&&e.lineHeight===r.lineHeight&&e.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&e.pixelRatio===r.pixelRatio&&e.scrollBeyondLastLine===r.scrollBeyondLastLine&&e.minimap.enabled===r.minimap.enabled&&e.minimap.side===r.minimap.side&&e.minimap.size===r.minimap.size&&e.minimap.showSlider===r.minimap.showSlider&&e.minimap.renderCharacters===r.minimap.renderCharacters&&e.minimap.maxColumn===r.minimap.maxColumn&&e.minimap.scale===r.minimap.scale&&e.verticalScrollbarWidth===r.verticalScrollbarWidth&&e.isViewportWrapping===r.isViewportWrapping,l=e.lineHeight,c=e.typicalHalfwidthCharacterWidth,h=e.scrollBeyondLastLine,d=e.minimap.renderCharacters;let u=o>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const g=e.minimap.maxColumn,p=e.minimap.size,m=e.minimap.side,f=e.verticalScrollbarWidth,b=e.viewLineCount,_=e.remainingWidth,v=e.isViewportWrapping,C=d?2:3;let w=Math.floor(o*n);const y=w/o;let S=!1,x=!1,k=C*u,D=u/o,I=1;if("fill"===p||"fit"===p){const{typicalViewportLineCount:i,extraLinesBeyondLastLine:r,desiredRatio:s,minimapLineCount:c}=L.computeContainedMinimapLineCount({viewLineCount:b,scrollBeyondLastLine:h,height:n,lineHeight:l,pixelRatio:o});if(b/c>1)S=!0,x=!0,u=1,k=1,D=u/o;else{let n=!1,c=u+1;if("fit"===p){const e=Math.ceil((b+r)*k);v&&a&&_<=t.stableFitRemainingWidth?(n=!0,c=t.stableFitMaxMinimapScale):n=e>w}if("fill"===p||n){S=!0;const n=u;k=Math.min(l*o,Math.max(1,Math.floor(1/s))),v&&a&&_<=t.stableFitRemainingWidth&&(c=t.stableFitMaxMinimapScale),u=Math.min(c,Math.max(1,Math.floor(k/C))),u>n&&(I=Math.min(2,u/n)),D=u/o/I,w=Math.ceil(Math.max(i,b+r)*k),v?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=_,t.stableFitMaxMinimapScale=u):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const O=Math.floor(g*D),N=Math.min(O,Math.max(0,Math.floor((_-f-2)*D/(c+D)))+s);let E=Math.floor(o*N);const T=E/o;E=Math.floor(E*I);return{renderMinimap:d?1:2,minimapLeft:"left"===m?0:i-N-f,minimapWidth:N,minimapHeightIsEditorHeight:S,minimapIsSampling:x,minimapScale:u,minimapLineHeight:k,minimapCanvasInnerWidth:E,minimapCanvasInnerHeight:w,minimapCanvasOuterWidth:T,minimapCanvasOuterHeight:y}}static computeLayout(e,t){const i=0|t.outerWidth,n=0|t.outerHeight,o=0|t.lineHeight,r=0|t.lineNumbersDigitCount,s=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,h=t.viewLineCount,d=e.get(121),u="inherit"===d?e.get(120):d,g="inherit"===u?e.get(116):u,p=e.get(119),f=e.get(2),b=t.isDominatedByLongLines,_=e.get(47),v=0!==e.get(58).renderType,C=e.get(59),w=e.get(93),y=e.get(63),S=e.get(91),x=S.verticalScrollbarSize,k=S.verticalHasArrows,D=S.arrowSize,I=S.horizontalScrollbarSize,O=e.get(56),N=e.get(35);let E;if("string"==typeof O&&/^\d+(\.\d+)?ch$/.test(O)){const e=parseFloat(O.substr(0,O.length-2));E=m.clampedInt(e*s,0,0,1e3)}else E=m.clampedInt(O,0,0,1e3);N&&(E+=16);let T=0;if(v){const e=Math.max(r,C);T=Math.round(e*a)}let M=0;_&&(M=o);let A=0,R=A+M,P=R+T,F=P+E;const j=i-M-T-E;let B=!1,W=!1,V=-1;2!==f&&("inherit"===u&&b?(B=!0,W=!0):"on"===g||"bounded"===g?W=!0:"wordWrapColumn"===g&&(V=p));const H=L._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:s,pixelRatio:l,scrollBeyondLastLine:w,minimap:y,verticalScrollbarWidth:x,viewLineCount:h,remainingWidth:j,isViewportWrapping:W},t.memory||new c);0!==H.renderMinimap&&0===H.minimapLeft&&(A+=H.minimapWidth,R+=H.minimapWidth,P+=H.minimapWidth,F+=H.minimapWidth);const z=j-H.minimapWidth,U=Math.max(1,Math.floor((z-x-2)/s)),K=k?D:0;return W&&(V=Math.max(1,U),"bounded"===g&&(V=Math.min(V,p))),{width:i,height:n,glyphMarginLeft:A,glyphMarginWidth:M,lineNumbersLeft:R,lineNumbersWidth:T,decorationsLeft:P,decorationsWidth:E,contentLeft:F,contentWidth:z,minimap:H,viewportColumn:U,isWordWrapMinified:B,isViewportWrapping:W,wrappingColumn:V,verticalScrollbarWidth:x,horizontalScrollbarHeight:I,overviewRuler:{top:K,width:x,height:n-2*K,right:0}}}}function x(e){const t=e.get(86);return"editable"===t?e.get(79):"on"!==t}function k(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}const D={fontFamily:o.f?"Menlo, Monaco, 'Courier New', monospace":o.d?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:o.f?12:14,lineHeight:0,letterSpacing:0},I={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},O=[];function N(e){return O[e.id]=e,e}const E={acceptSuggestionOnCommitCharacter:N(new p(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:n.a("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:N(new v(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",n.a("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:n.a("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:N(new class extends h{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[n.a("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),n.a("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),n.a("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:n.a("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return 0===i?e.accessibilitySupport:i}}),accessibilityPageSize:N(new m(3,"accessibilityPageSize",10,1,1073741824,{description:n.a("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:N(new b(4,"ariaLabel",n.a("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:N(new v(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",n.a("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),n.a("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:n.a("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:N(new v(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",n.a("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:n.a("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:N(new v(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",n.a("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:n.a("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:N(new v(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",n.a("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),n.a("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:n.a("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:N(new C(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[n.a("editor.autoIndent.none","The editor will not insert indentation automatically."),n.a("editor.autoIndent.keep","The editor will keep the current line's indentation."),n.a("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),n.a("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),n.a("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:n.a("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:N(new p(10,"automaticLayout",!1)),autoSurround:N(new v(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[n.a("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),n.a("editor.autoSurround.quotes","Surround with quotes but not brackets."),n.a("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:n.a("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),stickyTabStops:N(new p(103,"stickyTabStops",!1,{description:n.a("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:N(new p(12,"codeLens",!0,{description:n.a("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:N(new b(13,"codeLensFontFamily","",{description:n.a("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:N(new m(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:n.a("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:N(new p(15,"colorDecorators",!0,{description:n.a("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:N(new p(16,"columnSelection",!1,{description:n.a("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:N(new class extends h{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:n.a("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:n.a("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertSpace:g(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:g(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:N(new p(18,"contextmenu",!0)),copyWithSyntaxHighlighting:N(new p(19,"copyWithSyntaxHighlighting",!0,{description:n.a("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:N(new C(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:n.a("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:N(new p(21,"cursorSmoothCaretAnimation",!1,{description:n.a("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:N(new C(22,"cursorStyle",w.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(e){switch(e){case"line":return w.Line;case"block":return w.Block;case"underline":return w.Underline;case"line-thin":return w.LineThin;case"block-outline":return w.BlockOutline;case"underline-thin":return w.UnderlineThin}}),{description:n.a("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:N(new m(23,"cursorSurroundingLines",0,0,1073741824,{description:n.a("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:N(new v(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[n.a("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),n.a("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:n.a("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:N(new m(25,"cursorWidth",0,0,1073741824,{markdownDescription:n.a("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:N(new p(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:N(new p(27,"disableMonospaceOptimizations",!1)),domReadOnly:N(new p(28,"domReadOnly",!1)),dragAndDrop:N(new p(29,"dragAndDrop",!0,{description:n.a("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:N(new class extends p{constructor(){super(30,"emptySelectionClipboard",!0,{description:n.a("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}),extraEditorClassName:N(new b(31,"extraEditorClassName","")),fastScrollSensitivity:N(new f(32,"fastScrollSensitivity",5,e=>e<=0?5:e,{markdownDescription:n.a("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:N(new class extends h{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:n.a("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[n.a("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),n.a("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),n.a("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:n.a("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[n.a("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),n.a("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),n.a("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:n.a("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:n.a("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:o.f},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:n.a("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:n.a("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:g(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof e.seedSearchStringFromSelection?e.seedSearchStringFromSelection?"always":"never":_(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":_(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:g(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:g(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:g(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:N(new p(34,"fixedOverflowWidgets",!1)),folding:N(new p(35,"folding",!0,{description:n.a("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:N(new v(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[n.a("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),n.a("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:n.a("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:N(new p(37,"foldingHighlight",!0,{description:n.a("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:N(new p(38,"foldingImportsByDefault",!1,{description:n.a("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:N(new p(39,"unfoldOnClickAfterEndOfLine",!1,{description:n.a("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:N(new b(40,"fontFamily",D.fontFamily,{description:n.a("fontFamily","Controls the font family.")})),fontInfo:N(new class extends d{constructor(){super(41)}compute(e,t,i){return e.fontInfo}}),fontLigatures2:N(new y),fontSize:N(new class extends u{constructor(){super(43,"fontSize",D.fontSize,{type:"number",minimum:6,maximum:100,default:D.fontSize,description:n.a("fontSize","Controls the font size in pixels.")})}validate(e){let t=f.float(e,this.defaultValue);return 0===t?D.fontSize:f.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}),fontWeight:N(new S),formatOnPaste:N(new p(45,"formatOnPaste",!1,{description:n.a("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:N(new p(46,"formatOnType",!1,{description:n.a("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:N(new p(47,"glyphMargin",!0,{description:n.a("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:N(new class extends h{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[n.a("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),n.a("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),n.a("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(48,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:n.a("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:n.a("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:n.a("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:n.a("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:n.a("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:n.a("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:n.a("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:n.a("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:n.a("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:n.a("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:n.a("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,o,r;if(!e||"object"!=typeof e)return this.defaultValue;const s=e;return{multiple:_(s.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=s.multipleDefinitions)&&void 0!==t?t:_(s.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(i=s.multipleTypeDefinitions)&&void 0!==i?i:_(s.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(n=s.multipleDeclarations)&&void 0!==n?n:_(s.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(o=s.multipleImplementations)&&void 0!==o?o:_(s.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(r=s.multipleReferences)&&void 0!==r?r:_(s.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:b.string(s.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:b.string(s.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:b.string(s.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:b.string(s.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:b.string(s.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:N(new p(49,"hideCursorInOverviewRuler",!1,{description:n.a("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),highlightActiveIndentGuide:N(new p(50,"highlightActiveIndentGuide",!0,{description:n.a("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")})),hover:N(new class extends h{constructor(){const e={enabled:!0,delay:300,sticky:!0};super(51,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:n.a("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:n.a("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:n.a("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:g(t.enabled,this.defaultValue.enabled),delay:m.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:g(t.sticky,this.defaultValue.sticky)}}}),inDiffEditor:N(new p(52,"inDiffEditor",!1)),letterSpacing:N(new f(54,"letterSpacing",D.letterSpacing,e=>f.clamp(e,-5,20),{description:n.a("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:N(new class extends h{constructor(){const e={enabled:!0};super(55,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:n.a("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;return{enabled:g(e.enabled,this.defaultValue.enabled)}}}),lineDecorationsWidth:N(new u(56,"lineDecorationsWidth",10)),lineHeight:N(new class extends f{constructor(){super(57,"lineHeight",D.lineHeight,e=>f.clamp(e,0,150),{markdownDescription:n.a("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(e,t,i){return e.fontInfo.lineHeight}}),lineNumbers:N(new class extends h{constructor(){super(58,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[n.a("lineNumbers.off","Line numbers are not rendered."),n.a("lineNumbers.on","Line numbers are rendered as absolute number."),n.a("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),n.a("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:n.a("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,i=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:i}}}),lineNumbersMinChars:N(new m(59,"lineNumbersMinChars",5,1,300)),linkedEditing:N(new p(60,"linkedEditing",!1,{description:n.a("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:N(new p(61,"links",!0,{description:n.a("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:N(new v(62,"matchBrackets","always",["always","near","never"],{description:n.a("matchBrackets","Highlight matching brackets.")})),minimap:N(new class extends h{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(63,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:n.a("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[n.a("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),n.a("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),n.a("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:n.a("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:n.a("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:n.a("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:n.a("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:n.a("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:n.a("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:g(t.enabled,this.defaultValue.enabled),size:_(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:_(t.side,this.defaultValue.side,["right","left"]),showSlider:_(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:g(t.renderCharacters,this.defaultValue.renderCharacters),scale:m.clampedInt(t.scale,1,1,3),maxColumn:m.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:N(new v(64,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:N(new f(65,"mouseWheelScrollSensitivity",1,e=>0===e?1:e,{markdownDescription:n.a("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:N(new p(66,"mouseWheelZoom",!1,{markdownDescription:n.a("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:N(new p(67,"multiCursorMergeOverlapping",!0,{description:n.a("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:N(new C(68,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(e){return"ctrlCmd"===e?o.f?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[n.a("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),n.a("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:n.a({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:N(new v(69,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[n.a("multiCursorPaste.spread","Each cursor pastes a single line of the text."),n.a("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:n.a("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:N(new p(70,"occurrencesHighlight",!0,{description:n.a("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:N(new p(71,"overviewRulerBorder",!0,{description:n.a("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:N(new m(72,"overviewRulerLanes",3,0,3)),padding:N(new class extends h{constructor(){super(73,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:n.a("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:n.a("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{top:m.clampedInt(t.top,0,0,1e3),bottom:m.clampedInt(t.bottom,0,0,1e3)}}}),parameterHints:N(new class extends h{constructor(){const e={enabled:!0,cycle:!1};super(74,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:n.a("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:n.a("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:g(t.enabled,this.defaultValue.enabled),cycle:g(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:N(new v(75,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[n.a("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),n.a("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:n.a("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:N(new p(76,"definitionLinkOpensInPeek",!1,{description:n.a("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:N(new class extends h{constructor(){const e={other:!0,comments:!1,strings:!1};super(77,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:n.a("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:n.a("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:n.a("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:n.a("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){const t=e,i={other:g(t.other,this.defaultValue.other),comments:g(t.comments,this.defaultValue.comments),strings:g(t.strings,this.defaultValue.strings)};return!!(i.other&&i.comments&&i.strings)||!!(i.other||i.comments||i.strings)&&i}return this.defaultValue}}),quickSuggestionsDelay:N(new m(78,"quickSuggestionsDelay",10,0,1073741824,{description:n.a("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:N(new p(79,"readOnly",!1)),renameOnType:N(new p(80,"renameOnType",!1,{description:n.a("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:n.a("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:N(new p(81,"renderControlCharacters",!1,{description:n.a("renderControlCharacters","Controls whether the editor should render control characters.")})),renderIndentGuides:N(new p(82,"renderIndentGuides",!0,{description:n.a("renderIndentGuides","Controls whether the editor should render indent guides.")})),renderFinalNewline:N(new p(83,"renderFinalNewline",!0,{description:n.a("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:N(new v(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",n.a("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:n.a("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:N(new p(85,"renderLineHighlightOnlyWhenFocus",!1,{description:n.a("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:N(new v(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:N(new v(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",n.a("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),n.a("renderWhitespace.selection","Render whitespace characters only on selected text."),n.a("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:n.a("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:N(new m(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:N(new p(89,"roundedSelection",!0,{description:n.a("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:N(new class extends h{constructor(){const e=[],t={type:"number",description:n.a("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:n.a("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:n.a("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let i of e)if("number"==typeof i)t.push({column:m.clampedInt(i,0,0,1e4),color:null});else if(i&&"object"==typeof i){const e=i;t.push({column:m.clampedInt(e.column,0,0,1e4),color:e.color})}return t.sort((e,t)=>e.column-t.column),t}return this.defaultValue}}),scrollbar:N(new class extends h{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[n.a("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),n.a("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),n.a("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:n.a("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[n.a("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),n.a("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),n.a("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:n.a("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:n.a("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:n.a("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:n.a("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e,i=m.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=m.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:m.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:k(t.vertical,this.defaultValue.vertical),horizontal:k(t.horizontal,this.defaultValue.horizontal),useShadows:g(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:g(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:g(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:g(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:g(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:m.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:m.clampedInt(t.verticalSliderSize,n,0,1e3),scrollByPage:g(t.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:N(new m(92,"scrollBeyondLastColumn",5,0,1073741824,{description:n.a("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:N(new p(93,"scrollBeyondLastLine",!0,{description:n.a("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:N(new p(94,"scrollPredominantAxis",!0,{description:n.a("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:N(new p(95,"selectionClipboard",!0,{description:n.a("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:o.d})),selectionHighlight:N(new p(96,"selectionHighlight",!0,{description:n.a("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:N(new p(97,"selectOnLineNumbers",!0)),showFoldingControls:N(new v(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[n.a("showFoldingControls.always","Always show the folding controls."),n.a("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:n.a("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:N(new p(99,"showUnused",!0,{description:n.a("showUnused","Controls fading out of unused code.")})),showDeprecated:N(new p(124,"showDeprecated",!0,{description:n.a("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:N(new class extends h{constructor(){const e={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:n.a("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:n.a("inlayHints.fontSize","Controls font size of inlay hints in the editor. When set to `0`, the 90% of `#editor.fontSize#` is used.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,description:n.a("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:g(t.enabled,this.defaultValue.enabled),fontSize:m.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:b.string(t.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:N(new v(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[n.a("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),n.a("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),n.a("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),n.a("snippetSuggestions.none","Do not show snippet suggestions.")],description:n.a("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:N(new class extends h{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:n.a("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return e&&"object"==typeof e?{selectLeadingAndTrailingWhitespace:g(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:N(new p(102,"smoothScrolling",!1,{description:n.a("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:N(new m(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:N(new class extends h{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[n.a("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),n.a("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:n.a("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:n.a("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:n.a("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:n.a("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:n.a("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:n.a("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:n.a("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:n.a("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.previewMode":{type:"string",enum:["prefix","subword","subwordSmart"],enumDescriptions:[n.a("suggest.previewMode.prefix","Only render a preview if the replace text is a prefix of the insert text."),n.a("suggest.previewMode.subword","Only render a preview if the replace text is a subword of the insert text."),n.a("suggest.previewMode.subwordSmart","Render a preview if the replace text is a subword of the insert text, or if it is a prefix of the insert text.")],default:e.previewMode,description:n.a("suggest.previewMode","Controls which mode to use for rendering the suggest preview.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:n.a("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:n.a("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:n.a("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:n.a("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertMode:_(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:g(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:g(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:g(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:g(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:g(t.showIcons,this.defaultValue.showIcons),showStatusBar:g(t.showStatusBar,this.defaultValue.showStatusBar),preview:g(t.preview,this.defaultValue.preview),previewMode:_(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:g(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:g(t.showMethods,this.defaultValue.showMethods),showFunctions:g(t.showFunctions,this.defaultValue.showFunctions),showConstructors:g(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:g(t.showDeprecated,this.defaultValue.showDeprecated),showFields:g(t.showFields,this.defaultValue.showFields),showVariables:g(t.showVariables,this.defaultValue.showVariables),showClasses:g(t.showClasses,this.defaultValue.showClasses),showStructs:g(t.showStructs,this.defaultValue.showStructs),showInterfaces:g(t.showInterfaces,this.defaultValue.showInterfaces),showModules:g(t.showModules,this.defaultValue.showModules),showProperties:g(t.showProperties,this.defaultValue.showProperties),showEvents:g(t.showEvents,this.defaultValue.showEvents),showOperators:g(t.showOperators,this.defaultValue.showOperators),showUnits:g(t.showUnits,this.defaultValue.showUnits),showValues:g(t.showValues,this.defaultValue.showValues),showConstants:g(t.showConstants,this.defaultValue.showConstants),showEnums:g(t.showEnums,this.defaultValue.showEnums),showEnumMembers:g(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:g(t.showKeywords,this.defaultValue.showKeywords),showWords:g(t.showWords,this.defaultValue.showWords),showColors:g(t.showColors,this.defaultValue.showColors),showFiles:g(t.showFiles,this.defaultValue.showFiles),showReferences:g(t.showReferences,this.defaultValue.showReferences),showFolders:g(t.showFolders,this.defaultValue.showFolders),showTypeParameters:g(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:g(t.showSnippets,this.defaultValue.showSnippets),showUsers:g(t.showUsers,this.defaultValue.showUsers),showIssues:g(t.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:N(new class extends h{constructor(){const e={enabled:!1,mode:"subwordSmart"};super(53,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:n.a("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.mode":{type:"string",enum:["prefix","subword","subwordSmart"],enumDescriptions:[n.a("inlineSuggest.mode.prefix","Only render an inline suggestion if the replace text is a prefix of the insert text."),n.a("inlineSuggest.mode.subword","Only render an inline suggestion if the replace text is a subword of the insert text."),n.a("inlineSuggest.mode.subwordSmart","Only render an inline suggestion if the replace text is a subword of the insert text, but the subword must start after the cursor.")],default:e.mode,description:n.a("inlineSuggest.mode","Controls which mode to use for rendering inline suggestions.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:g(t.enabled,this.defaultValue.enabled),mode:_(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:N(new m(106,"suggestFontSize",0,0,1e3,{markdownDescription:n.a("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:N(new m(107,"suggestLineHeight",0,0,1e3,{markdownDescription:n.a("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:N(new p(108,"suggestOnTriggerCharacters",!0,{description:n.a("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:N(new v(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[n.a("suggestSelection.first","Always select the first suggestion."),n.a("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),n.a("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:n.a("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:N(new v(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[n.a("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),n.a("tabCompletion.off","Disable tab completions."),n.a("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:n.a("tabCompletion","Enables tab completions.")})),tabIndex:N(new m(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:N(new v(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[n.a("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),n.a("unusualLineTerminators.off","Unusual line terminators are ignored."),n.a("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:n.a("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:N(new p(113,"useShadowDOM",!0)),useTabStops:N(new p(114,"useTabStops",!0,{description:n.a("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:N(new b(115,"wordSeparators",r.b,{description:n.a("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:N(new v(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[n.a("wordWrap.off","Lines will never wrap."),n.a("wordWrap.on","Lines will wrap at the viewport width."),n.a({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),n.a({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:n.a({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:N(new b(117,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:N(new b(118,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:N(new m(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:n.a({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:N(new v(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:N(new v(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:N(new C(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],(function(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}),{enumDescriptions:[n.a("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),n.a("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),n.a("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),n.a("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:n.a("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:N(new v(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[n.a("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),n.a("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:n.a("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:N(new class extends d{constructor(){super(126,[64,31])}compute(e,t,i){const n=["monaco-editor"];return t.get(31)&&n.push(t.get(31)),e.extraEditorClassName&&n.push(e.extraEditorClassName),"default"===t.get(64)?n.push("mouse-default"):"copy"===t.get(64)&&n.push("mouse-copy"),t.get(99)&&n.push("showUnused"),t.get(124)&&n.push("showDeprecated"),n.join(" ")}}),pixelRatio:N(new class extends d{constructor(){super(127)}compute(e,t,i){return e.pixelRatio}}),tabFocusMode:N(new class extends d{constructor(){super(128,[79])}compute(e,t,i){return!!t.get(79)||e.tabFocusMode}}),layoutInfo:N(new L),wrappingInfo:N(new class extends d{constructor(){super(130,[129])}compute(e,t,i){const n=t.get(129);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}})}},"/cxE":function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"f",(function(){return r})),i.d(t,"g",(function(){return s})),i.d(t,"d",(function(){return a})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return h}));const n=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function o(e){a(e)||n.onUnexpectedError(e)}function r(e){a(e)||n.onUnexpectedExternalError(e)}function s(e){if(e instanceof Error){let{name:t,message:i}=e;return{$isError:!0,name:t,message:i,stack:e.stacktrace||e.stack}}return e}function a(e){return e instanceof Error&&"Canceled"===e.name&&"Canceled"===e.message}function l(){const e=new Error("Canceled");return e.name=e.message,e}function c(e){return e?new Error("Illegal argument: "+e):new Error("Illegal argument")}function h(e){return e?new Error("Illegal state: "+e):new Error("Illegal state")}},"/kV6":function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"f",(function(){return h})),i.d(t,"e",(function(){return u})),i.d(t,"d",(function(){return p})),i.d(t,"c",(function(){return m}));var n=i("/cxE");class o{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const r=new o,s=new o,a=new o;var l;function c(e,t){return(e|(65535&t)<<16>>>0)>>>0}function h(e,t){if(0===e)return null;const i=(65535&e)>>>0,n=(4294901760&e)>>>16;return new g(0!==n?[d(i,t),d(n,t)]:[d(i,t)])}function d(e,t){const i=!!(2048&e),n=!!(256&e);return new u(2===t?n:i,!!(1024&e),!!(512&e),2===t?i:n,255&e)}!function(){function e(e,t,i=t,n=i){r.define(e,t),s.define(e,i),a.define(e,n)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}(),function(e){e.toString=function(e){return r.keyCodeToStr(e)},e.fromString=function(e){return r.strToKeyCode(e)},e.toUserSettingsUS=function(e){return s.keyCodeToStr(e)},e.toUserSettingsGeneral=function(e){return a.keyCodeToStr(e)},e.fromUserSettings=function(e){return s.strToKeyCode(e)||a.strToKeyCode(e)}}(l||(l={}));class u{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new g([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class g{constructor(e){if(0===e.length)throw Object(n.b)("parts");this.parts=e}}class p{constructor(e,t,i,n,o,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=r}}class m{}},"/oaI":function(e,t,i){},"/wDO":function(e){e.exports=JSON.parse('{"base":"vs-dark","inherit":true,"rules":[{"foreground":"5c6370","fontStyle":"italic","token":"comment"},{"foreground":"5c6370","token":"comment markup.link"},{"foreground":"e5c07b","token":"entity.name.type"},{"foreground":"98c379","token":"entity.other.inherited-class"},{"foreground":"c678dd","token":"keyword"},{"foreground":"c678dd","token":"keyword.control"},{"foreground":"abb2bf","token":"keyword.operator"},{"foreground":"61afef","token":"keyword.other.special-method"},{"foreground":"d19a66","token":"keyword.other.unit"},{"foreground":"c678dd","token":"storage"},{"foreground":"c678dd","token":"storage.type.annotation"},{"foreground":"c678dd","token":"storage.type.primitive"},{"foreground":"abb2bf","token":"storage.modifier.package"},{"foreground":"abb2bf","token":"storage.modifier.import"},{"foreground":"d19a66","token":"constant"},{"foreground":"d19a66","token":"constant.variable"},{"foreground":"56b6c2","token":"constant.character.escape"},{"foreground":"d19a66","token":"constant.numeric"},{"foreground":"56b6c2","token":"constant.other.color"},{"foreground":"56b6c2","token":"constant.other.symbol"},{"foreground":"e06c75","token":"variable"},{"foreground":"be5046","token":"variable.interpolation"},{"foreground":"abb2bf","token":"variable.parameter"},{"foreground":"98c379","token":"string"},{"foreground":"56b6c2","token":"string.regexp"},{"foreground":"e5c07b","token":"string.regexp source.ruby.embedded"},{"foreground":"e06c75","token":"string.other.link"},{"foreground":"5c6370","token":"punctuation.definition.comment"},{"foreground":"abb2bf","token":"punctuation.definition.method-parameters"},{"foreground":"abb2bf","token":"punctuation.definition.function-parameters"},{"foreground":"abb2bf","token":"punctuation.definition.parameters"},{"foreground":"abb2bf","token":"punctuation.definition.separator"},{"foreground":"abb2bf","token":"punctuation.definition.seperator"},{"foreground":"abb2bf","token":"punctuation.definition.array"},{"foreground":"61afef","token":"punctuation.definition.heading"},{"foreground":"61afef","token":"punctuation.definition.identity"},{"foreground":"e5c07b","fontStyle":"bold","token":"punctuation.definition.bold"},{"foreground":"c678dd","fontStyle":"italic","token":"punctuation.definition.italic"},{"foreground":"be5046","token":"punctuation.section.embedded"},{"foreground":"abb2bf","token":"punctuation.section.method"},{"foreground":"abb2bf","token":"punctuation.section.class"},{"foreground":"abb2bf","token":"punctuation.section.inner-class"},{"foreground":"e5c07b","token":"support.class"},{"foreground":"56b6c2","token":"support.type"},{"foreground":"56b6c2","token":"support.function"},{"foreground":"61afef","token":"support.function.any-method"},{"foreground":"61afef","token":"entity.name.function"},{"foreground":"e5c07b","token":"entity.name.class"},{"foreground":"e5c07b","token":"entity.name.type.class"},{"foreground":"61afef","token":"entity.name.section"},{"foreground":"e06c75","token":"entity.name.tag"},{"foreground":"d19a66","token":"entity.other.attribute-name"},{"foreground":"61afef","token":"entity.other.attribute-name.id"},{"foreground":"e5c07b","token":"meta.class"},{"foreground":"abb2bf","token":"meta.class.body"},{"foreground":"abb2bf","token":"meta.method-call"},{"foreground":"abb2bf","token":"meta.method"},{"foreground":"e06c75","token":"meta.definition.variable"},{"foreground":"d19a66","token":"meta.link"},{"foreground":"61afef","token":"meta.require"},{"foreground":"c678dd","token":"meta.selector"},{"foreground":"abb2bf","background":"373b41","token":"meta.separator"},{"foreground":"abb2bf","token":"meta.tag"},{"foreground":"abb2bf","token":"none"},{"foreground":"523d14","background":"e0c285","token":"invalid.deprecated"},{"foreground":"ffffff","background":"e05252","token":"invalid.illegal"},{"foreground":"d19a66","fontStyle":"bold","token":"markup.bold"},{"foreground":"c678dd","token":"markup.changed"},{"foreground":"e06c75","token":"markup.deleted"},{"foreground":"c678dd","fontStyle":"italic","token":"markup.italic"},{"foreground":"e06c75","token":"markup.heading"},{"foreground":"61afef","token":"markup.heading punctuation.definition.heading"},{"foreground":"c678dd","token":"markup.link"},{"foreground":"98c379","token":"markup.inserted"},{"foreground":"d19a66","token":"markup.quote"},{"foreground":"98c379","token":"markup.raw"},{"foreground":"c678dd","token":"source.c keyword.operator"},{"foreground":"c678dd","token":"source.cpp keyword.operator"},{"foreground":"c678dd","token":"source.cs keyword.operator"},{"foreground":"828997","token":"source.css property-name"},{"foreground":"828997","token":"source.css property-value"},{"foreground":"abb2bf","token":"source.css property-name.support"},{"foreground":"abb2bf","token":"source.css property-value.support"},{"foreground":"61afef","token":"source.gfm link entity"},{"foreground":"c678dd","token":"source.go storage.type.string"},{"foreground":"e06c75","token":"source.ini keyword.other.definition.ini"},{"foreground":"e5c07b","token":"source.java storage.modifier.import"},{"foreground":"e5c07b","token":"source.java storage.type"},{"foreground":"c678dd","token":"source.java keyword.operator.instanceof"},{"foreground":"e06c75","token":"source.java-properties meta.key-pair"},{"foreground":"abb2bf","token":"source.java-properties meta.key-pair > punctuation"},{"foreground":"56b6c2","token":"source.js keyword.operator"},{"foreground":"c678dd","token":"source.js keyword.operator.delete"},{"foreground":"c678dd","token":"source.js keyword.operator.in"},{"foreground":"c678dd","token":"source.js keyword.operator.of"},{"foreground":"c678dd","token":"source.js keyword.operator.instanceof"},{"foreground":"c678dd","token":"source.js keyword.operator.new"},{"foreground":"c678dd","token":"source.js keyword.operator.typeof"},{"foreground":"c678dd","token":"source.js keyword.operator.void"},{"foreground":"e06c75","token":"source.json meta.structure.dictionary.json > string.quoted.json"},{"foreground":"e06c75","token":"source.json meta.structure.dictionary.json > string.quoted.json > punctuation.string"},{"foreground":"98c379","token":"source.json meta.structure.dictionary.json > value.json > string.quoted.json"},{"foreground":"98c379","token":"source.json meta.structure.array.json > value.json > string.quoted.json"},{"foreground":"98c379","token":"source.json meta.structure.dictionary.json > value.json > string.quoted.json > punctuation"},{"foreground":"98c379","token":"source.json meta.structure.array.json > value.json > string.quoted.json > punctuation"},{"foreground":"56b6c2","token":"source.json meta.structure.dictionary.json > constant.language.json"},{"foreground":"56b6c2","token":"source.json meta.structure.array.json > constant.language.json"},{"foreground":"ffffff","token":"source.ruby constant.other.symbol > punctuation"},{"foreground":"c678dd","token":"source.python keyword.operator.logical.python"},{"foreground":"d19a66","token":"source.python variable.parameter"},{"foreground":"bcc199","token":"meta.attribute.rust"},{"foreground":"33e8ec","token":"storage.modifier.lifetime.rust"},{"foreground":"33e8ec","token":"entity.name.lifetime.rust"},{"foreground":"cc6b73","token":"keyword.unsafe.rust"},{"foreground":"abb2bf","token":"customrule"},{"foreground":"abb2bf","token":"support.type.property-name"},{"foreground":"98c379","token":"string.quoted.double punctuation"},{"foreground":"d19a66","token":"support.constant"},{"foreground":"e06c75","token":"support.type.property-name.json"},{"foreground":"e06c75","token":"support.type.property-name.json punctuation"},{"foreground":"56b6c2","token":"punctuation.separator.key-value.ts"},{"foreground":"56b6c2","token":"punctuation.separator.key-value.js"},{"foreground":"56b6c2","token":"punctuation.separator.key-value.tsx"},{"foreground":"56b6c2","token":"source.js.embedded.html keyword.operator"},{"foreground":"56b6c2","token":"source.ts.embedded.html keyword.operator"},{"foreground":"abb2bf","token":"variable.other.readwrite.js"},{"foreground":"abb2bf","token":"variable.other.readwrite.ts"},{"foreground":"abb2bf","token":"variable.other.readwrite.tsx"},{"foreground":"e06c75","token":"support.variable.dom.js"},{"foreground":"e06c75","token":"support.variable.dom.ts"},{"foreground":"e06c75","token":"support.variable.property.dom.js"},{"foreground":"e06c75","token":"support.variable.property.dom.ts"},{"foreground":"be5046","token":"meta.template.expression.js punctuation.definition"},{"foreground":"be5046","token":"meta.template.expression.ts punctuation.definition"},{"foreground":"abb2bf","token":"source.ts punctuation.definition.typeparameters"},{"foreground":"abb2bf","token":"source.js punctuation.definition.typeparameters"},{"foreground":"abb2bf","token":"source.tsx punctuation.definition.typeparameters"},{"foreground":"abb2bf","token":"source.ts punctuation.definition.block"},{"foreground":"abb2bf","token":"source.js punctuation.definition.block"},{"foreground":"abb2bf","token":"source.tsx punctuation.definition.block"},{"foreground":"abb2bf","token":"source.ts punctuation.separator.comma"},{"foreground":"abb2bf","token":"source.js punctuation.separator.comma"},{"foreground":"abb2bf","token":"source.tsx punctuation.separator.comma"},{"foreground":"e06c75","token":"support.variable.property.js"},{"foreground":"e06c75","token":"support.variable.property.ts"},{"foreground":"e06c75","token":"support.variable.property.tsx"},{"foreground":"e06c75","token":"keyword.control.default.js"},{"foreground":"e06c75","token":"keyword.control.default.ts"},{"foreground":"e06c75","token":"keyword.control.default.tsx"},{"foreground":"c678dd","token":"keyword.operator.expression.instanceof.js"},{"foreground":"c678dd","token":"keyword.operator.expression.instanceof.ts"},{"foreground":"c678dd","token":"keyword.operator.expression.instanceof.tsx"},{"foreground":"c678dd","token":"keyword.operator.expression.of.js"},{"foreground":"c678dd","token":"keyword.operator.expression.of.ts"},{"foreground":"c678dd","token":"keyword.operator.expression.of.tsx"},{"foreground":"abb2bf","token":"meta.brace.round.js"},{"foreground":"abb2bf","token":"meta.array-binding-pattern-variable.js"},{"foreground":"abb2bf","token":"meta.brace.square.js"},{"foreground":"abb2bf","token":"meta.brace.round.ts"},{"foreground":"abb2bf","token":"meta.array-binding-pattern-variable.ts"},{"foreground":"abb2bf","token":"meta.brace.square.ts"},{"foreground":"abb2bf","token":"meta.brace.round.tsx"},{"foreground":"abb2bf","token":"meta.array-binding-pattern-variable.tsx"},{"foreground":"abb2bf","token":"meta.brace.square.tsx"},{"foreground":"abb2bf","token":"source.js punctuation.accessor"},{"foreground":"abb2bf","token":"source.ts punctuation.accessor"},{"foreground":"abb2bf","token":"source.tsx punctuation.accessor"},{"foreground":"abb2bf","token":"punctuation.terminator.statement.js"},{"foreground":"abb2bf","token":"punctuation.terminator.statement.ts"},{"foreground":"abb2bf","token":"punctuation.terminator.statement.tsx"},{"foreground":"d19a66","token":"meta.array-binding-pattern-variable.js variable.other.readwrite.js"},{"foreground":"d19a66","token":"meta.array-binding-pattern-variable.ts variable.other.readwrite.ts"},{"foreground":"d19a66","token":"meta.array-binding-pattern-variable.tsx variable.other.readwrite.tsx"},{"foreground":"e06c75","token":"source.js support.variable"},{"foreground":"e06c75","token":"source.ts support.variable"},{"foreground":"e06c75","token":"source.tsx support.variable"},{"foreground":"d19a66","token":"variable.other.constant.property.js"},{"foreground":"d19a66","token":"variable.other.constant.property.ts"},{"foreground":"d19a66","token":"variable.other.constant.property.tsx"},{"foreground":"c678dd","token":"keyword.operator.new.ts"},{"foreground":"c678dd","token":"keyword.operator.new.js"},{"foreground":"c678dd","token":"keyword.operator.new.tsx"},{"foreground":"56b6c2","token":"source.ts keyword.operator"},{"foreground":"56b6c2","token":"source.tsx keyword.operator"},{"foreground":"abb2bf","token":"punctuation.separator.parameter.js"},{"foreground":"abb2bf","token":"punctuation.separator.parameter.ts"},{"foreground":"abb2bf","token":"punctuation.separator.parameter.tsx"},{"foreground":"56b6c2","token":"constant.language.import-export-all.js"},{"foreground":"56b6c2","token":"constant.language.import-export-all.ts"},{"foreground":"56b6c2","token":"constant.language.import-export-all.jsx"},{"foreground":"56b6c2","token":"constant.language.import-export-all.tsx"},{"foreground":"abb2bf","token":"keyword.control.as.js"},{"foreground":"abb2bf","token":"keyword.control.as.ts"},{"foreground":"abb2bf","token":"keyword.control.as.jsx"},{"foreground":"abb2bf","token":"keyword.control.as.tsx"},{"foreground":"abb2bf","token":"variable.other.readwrite.alias.js"},{"foreground":"abb2bf","token":"variable.other.readwrite.alias.ts"},{"foreground":"abb2bf","token":"variable.other.readwrite.alias.jsx"},{"foreground":"abb2bf","token":"variable.other.readwrite.alias.tsx"},{"foreground":"d19a66","token":"variable.other.constant.js"},{"foreground":"d19a66","token":"variable.other.constant.ts"},{"foreground":"d19a66","token":"variable.other.constant.jsx"},{"foreground":"d19a66","token":"variable.other.constant.tsx"},{"foreground":"e06c75","token":"meta.export.default.js variable.other.readwrite.js"},{"foreground":"e06c75","token":"meta.export.default.ts variable.other.readwrite.ts"},{"foreground":"98c379","token":"source.js meta.template.expression.js punctuation.accessor"},{"foreground":"98c379","token":"source.ts meta.template.expression.ts punctuation.accessor"},{"foreground":"98c379","token":"source.tsx meta.template.expression.tsx punctuation.accessor"},{"foreground":"abb2bf","token":"source.python constant"},{"foreground":"abb2bf","token":"support.constant.property-value.css"},{"foreground":"d19a66","token":"punctuation.definition.constant.css"},{"foreground":"e06c75","token":"punctuation.separator.key-value.scss"},{"foreground":"d19a66","token":"punctuation.definition.constant.scss"},{"foreground":"abb2bf","token":"meta.property-list.scss punctuation.separator.key-value.scss"},{"foreground":"e5c07b","token":"storage.type.primitive.array.java"},{"foreground":"e06c75","token":"entity.name.section.markdown"},{"foreground":"e06c75","token":"punctuation.definition.heading.markdown"},{"foreground":"abb2bf","token":"markup.heading.setext"},{"foreground":"d19a66","token":"punctuation.definition.bold.markdown"},{"foreground":"98c379","token":"markup.inline.raw.markdown"},{"foreground":"e06c75","token":"beginning.punctuation.definition.list.markdown"},{"foreground":"5c6370","fontStyle":"italic","token":"markup.quote.markdown"},{"foreground":"abb2bf","token":"punctuation.definition.string.begin.markdown"},{"foreground":"abb2bf","token":"punctuation.definition.string.end.markdown"},{"foreground":"abb2bf","token":"punctuation.definition.metadata.markdown"},{"foreground":"c678dd","token":"punctuation.definition.metadata.markdown"},{"foreground":"c678dd","token":"markup.underline.link.markdown"},{"foreground":"c678dd","token":"markup.underline.link.image.markdown"},{"foreground":"61afef","token":"string.other.link.title.markdown"},{"foreground":"61afef","token":"string.other.link.description.markdown"},{"foreground":"e06c75","token":"punctuation.separator.variable.ruby"},{"foreground":"d19a66","token":"variable.other.constant.ruby"},{"foreground":"98c379","token":"keyword.operator.other.ruby"},{"foreground":"e06c75","token":"punctuation.definition.variable.php"}],"colors":{"editor.foreground":"#ABB2BF","editor.background":"#282C34","editor.selectionBackground":"#3E4451","editor.lineHighlightBackground":"#2C313A","editorCursor.foreground":"#528BFF","editorWhitespace.foreground":"#3C4049","editorIndentGuide.background":"#3C4049","editorIndentGuide.activeBackground":"#CACED6"}}')},"0+8E":function(e,t,i){"use strict";i.d(t,"b",(function(){return _})),i.d(t,"a",(function(){return v}));i("i/Rh");var n=i("3/fG"),o=i("EffR"),r=i("Md8J"),s=i("OBOq"),a=i("WqXY"),l=i("MI8n"),c=i("G300"),h=i("zrhQ"),d=i("qj0h");class u{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class g{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new u(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}var p=i("GJhM"),m=i("4y0V");const f=o.a,b={inputBackground:h.a.fromHex("#3C3C3C"),inputForeground:h.a.fromHex("#CCCCCC"),inputValidationInfoBorder:h.a.fromHex("#55AAFF"),inputValidationInfoBackground:h.a.fromHex("#063B49"),inputValidationWarningBorder:h.a.fromHex("#B89500"),inputValidationWarningBackground:h.a.fromHex("#352A05"),inputValidationErrorBorder:h.a.fromHex("#BE1100"),inputValidationErrorBackground:h.a.fromHex("#5A1D1D")};class _ extends c.a{constructor(e,t,i){var n;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new l.b),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new l.b),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),Object(d.f)(this.options,b,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(n=this.options.tooltip)&&void 0!==n?n:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=o.q(e,f(".monaco-inputbox.idle"));let r=this.options.flexibleHeight?"textarea":"input",s=o.q(this.element,f(".ibwrapper"));if(this.input=o.q(s,f(r+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=o.q(s,f("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new p.b(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),o.q(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(e=>this.input.scrollTop=e.scrollTop));const t=this._register(new m.a(document,"selectionchange")),i=l.c.filter(t.event,()=>{const e=document.getSelection();return(null==e?void 0:e.anchorNode)===s});this._register(i(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new a.a(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:o.H(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return o.I(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){t=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${e}px)`:this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=i.border?"1px solid "+i.border:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==e?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t,i=()=>e.style.width=o.I(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:t=>{if(!this.message)return null;e=o.q(t,f(".monaco-inputbox-container")),i();const n={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?Object(r.b)(this.message.content,n):Object(r.c)(this.message.content,n);s.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return s.style.backgroundColor=a.background?a.background.toString():"",s.style.color=a.foreground?a.foreground.toString():"",s.style.border=a.border?"1px solid "+a.border:"",o.q(e,s),null},onHide:()=>{this.state="closed"},layout:i}),t=3===this.message.type?n.a("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?n.a("alertWarningMessage","Warning: {0}",this.message.content):n.a("alertInfoMessage","Info: {0}",this.message.content),s.a(t),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";(e+t).replace(/\u000c/g,"")?this.mirror.textContent=e+t:this.mirror.innerText=" ",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=o.H(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;null!==i&&null!==n&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class v extends _{constructor(e,t,i){super(e,t,i),this.history=new g(i.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,s.c(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,s.c(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},"0/Sa":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("aokT");class o{static insert(e,t){return{range:new n.a(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}},"09fa":function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return h})),i.d(t,"d",(function(){return d}));var n=i("Cg/j"),o=i("pmY6"),r=i("MI8n");const s=Object(n.c)("logService");var a;!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.Off=6]="Off"}(a||(a={}));const l=a.Info;class c extends o.a{constructor(){super(...arguments),this.level=l,this._onDidChangeLogLevel=this._register(new r.b)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class h extends c{constructor(e=l){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=a.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=a.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=a.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=a.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class d extends o.a{constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}},"0JNc":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return a}));const n="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";const o=function(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const i of n)e.indexOf(i)>=0||(t+="\\"+i);return t+="\\s]+)",new RegExp(t,"g")}();function r(e){let t=o;if(e&&e instanceof RegExp)if(e.global)t=e;else{let i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.unicode&&(i+="u"),t=new RegExp(e.source,i)}return t.lastIndex=0,t}const s={maxLen:1e3,windowSize:15,timeBudget:150};function a(e,t,i,n,o=s){if(i.length>o.maxLen){let r=e-o.maxLen/2;return r<0?r=0:n+=r,a(e,t,i=i.substring(r,e+o.maxLen/2),n,o)}const r=Date.now(),c=e-1-n;let h=-1,d=null;for(let s=1;!(Date.now()-r>=o.timeBudget);s++){const e=c-o.windowSize*s;t.lastIndex=Math.max(0,e);const n=l(t,i,c,h);if(!n&&d)break;if(d=n,e<=0)break;h=e}if(d){let e={word:d[0],startColumn:n+1+d.index,endColumn:n+1+d.index+d[0].length};return t.lastIndex=0,e}return null}function l(e,t,i,n){let o;for(;o=e.exec(t);){const t=o.index||0;if(t<=i&&e.lastIndex>=i)return o;if(n>0&&t>n)return null}return null}},"0Lb2":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("FWmy"),o=i("MI8n"),r=i("pmY6"),s=i("qj0h"),a=i("aokT");const l={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class c extends r.a{constructor(e,t={}){super(),this._onDidUpdate=this._register(new o.b),this._editor=e,this._options=s.f(t,l,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(e=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(e=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(e=>{!this._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(e=>{this.ranges.push({rhs:!0,range:new a.a(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new a.a(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}),this.ranges.sort((e,t)=>e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,i=this._editor.getPosition();if(i){for(let n=0,o=this.ranges.length;n<o&&!t;n++){let o=this.ranges[n].range;i.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(e,t){if(n.a(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let e=i.range.getStartPosition();this._editor.setPosition(e),this._editor.revealPositionInCenter(e,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},"0af2":function(e,t,i){"use strict";i.d(t,"a",(function(){return N})),i.d(t,"b",(function(){return E})),i.d(t,"c",(function(){return T}));var n=i("MI8n"),o=i("pmY6"),r=i("MNsG"),s=i("/cxE"),a=i("/UlZ"),l=i("tX9W"),c=i("twdY"),h=i("MqQJ"),d=i("e0rL"),u=i("+7oY"),g=i("X+cX"),p=i("JQT/"),m=i("t9D7"),f=i("09fa"),b=i("OAO6"),_=i("7afs"),v=i("oFSf"),C=i("tYmi"),w=i("JS/N"),y=i("dM5B"),S=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},L=function(e,t){return function(i,n){t(i,n,e)}};function x(e){return e.toString()}function k(e){const t=new _.a,i=e.createSnapshot();let n;for(;n=i.read();)t.update(n);return t.digest()}class D{constructor(e,t,i){this._modelEventListeners=new o.b,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(t=>i(e,t)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageIdentifier)),this.model.setMode(e.languageIdentifier)}}const I=r.d||r.f?1:2;class O{constructor(e,t,i,n,o,r,s,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=n,this.heapSize=o,this.sha1=r,this.versionId=s,this.alternativeVersionId=a}}let N=class e extends o.a{constructor(e,t,i,o,r){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=o,this._undoRedoService=r,this._onModelAdded=this._register(new n.b),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new n.b),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new n.b),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new A(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new M(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){let i=a.d.tabSize;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(i=t),i<1&&(i=1)}let n=i;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let o=a.d.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(o="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let r=I;const s=e.eol;"\r\n"===s?r=2:"\n"===s&&(r=1);let l=a.d.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(l="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let c=a.d.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(c="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let h=a.d.largeFileOptimizations;return e.editor&&void 0!==e.editor.largeFileOptimizations&&(h="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations)),{isForSimpleWidget:t,tabSize:i,indentSize:n,insertSpaces:o,detectIndentation:c,defaultEOL:r,trimAutoWhitespace:l,largeFileOptimizations:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&"string"==typeof i&&"auto"!==i?i:3===r.a||2===r.a?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(t,i,n){let o=this._modelCreationOptionsByLanguageAndResource[t+i];if(!o){const r=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),s=this._getEOL(i,t);o=e._readModelOptions({editor:r,eol:s},n),this._modelCreationOptionsByLanguageAndResource[t+i]=o}return o}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let n=0,o=i.length;n<o;n++){const o=i[n],r=this._models[o],s=r.model.getLanguageIdentifier().language,a=r.model.uri,l=t[s+a],c=this.getCreationOptions(s,a,r.model.isForSimpleWidget);e._setModelOptionsForModel(r.model,c,l)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace}))}_insertDisposedModel(e){this._disposedModels.set(x(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(x(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(x(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(e=>{e.sharesUndoRedoStack||t.push(e)}),t.sort((e,t)=>e.time-t.time);t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,n){const o=this.getCreationOptions(t.language,i,n),r=new l.b(e,o,t,i,this._undoRedoService);if(i&&this._disposedModels.has(x(i))){const e=this._removeDisposedModel(i),t=this._undoRedoService.getElements(i),n=k(r)===e.sha1;if(n||e.sharesUndoRedoStack){for(const e of t.past)Object(v.b)(e)&&e.matchesResource(i)&&e.setModel(r);for(const e of t.future)Object(v.b)(e)&&e.matchesResource(i)&&e.setModel(r);this._undoRedoService.setElementsValidFlag(i,!0,e=>Object(v.b)(e)&&e.matchesResource(i)),n&&(r._overwriteVersionId(e.versionId),r._overwriteAlternativeVersionId(e.alternativeVersionId),r._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const s=x(r.uri);if(this._models[s])throw new Error("ModelService: Cannot add model because it already exists!");const a=new D(r,e=>this._onWillDispose(e),(e,t)=>this._onDidChangeLanguage(e,t));return this._models[s]=a,a}createModel(e,t,i,n=!1){let o;return t?(o=this._createModelData(e,t.languageIdentifier,i,n),this.setMode(o.model,t)):o=this._createModelData(e,h.b,i,n),this._onModelAdded.fire(o.model),o.model}setMode(e,t){if(!t)return;const i=this._models[x(e.uri)];i&&i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._models[n].model)}return e}getModel(e){const t=x(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_onWillDispose(t){const i=x(t.uri),n=this._models[i],o=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let r=!1,s=0;if(o||this._shouldRestoreUndoStack()&&((a=t.uri).scheme===C.c.file||a.scheme===C.c.vscodeRemote||a.scheme===C.c.userData||"fake-fs"===a.scheme)){const e=this._undoRedoService.getElements(t.uri);if(e.past.length>0||e.future.length>0){for(const i of e.past)Object(v.b)(i)&&i.matchesResource(t.uri)&&(r=!0,s+=i.heapSize(t.uri),i.setModel(t.uri));for(const i of e.future)Object(v.b)(i)&&i.matchesResource(t.uri)&&(r=!0,s+=i.heapSize(t.uri),i.setModel(t.uri))}}var a;const l=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(r)if(!o&&s>l){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else this._ensureDisposedModelsHeapSize(l-s),this._undoRedoService.setElementsValidFlag(t.uri,!1,e=>Object(v.b)(e)&&e.matchesResource(t.uri)),this._insertDisposedModel(new O(t.uri,n.model.getInitialUndoRedoSnapshot(),Date.now(),o,s,k(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!o){const e=n.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[i],n.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageIdentifier().language+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,i){const n=i.oldLanguage,o=t.getLanguageIdentifier().language,r=this.getCreationOptions(n,t.uri,t.isForSimpleWidget),s=this.getCreationOptions(o,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,s,r),this._onModelModeChanged.fire({model:t,oldModeId:n})}};N.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,N=S([L(0,u.a),L(1,d.b),L(2,m.b),L(3,f.b),L(4,b.a)],N);const E="editor.semanticHighlighting";function T(e,t,i){var n;const o=null===(n=i.getValue(E,{overrideIdentifier:e.getLanguageIdentifier().language,resource:e.uri}))||void 0===n?void 0:n.enabled;return"boolean"==typeof o?o:t.getColorTheme().semanticHighlighting}class M extends o.a{constructor(e,t,i,n){super(),this._watchers=Object.create(null),this._semanticStyling=n;const o=e=>{this._watchers[e.uri.toString()]=new P(e,t,this._semanticStyling)},r=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},s=()=>{for(let n of e.getModels()){const e=this._watchers[n.uri.toString()];T(n,t,i)?e||o(n):e&&r(n,e)}};this._register(e.onModelAdded(e=>{T(e,t,i)&&o(e)})),this._register(e.onModelRemoved(e=>{const t=this._watchers[e.uri.toString()];t&&r(e,t)})),this._register(i.onDidChangeConfiguration(e=>{e.affectsConfiguration(E)&&s()})),this._register(t.onDidColorThemeChange(s))}}class A extends o.a{constructor(e,t){super(),this._themeService=e,this._logService=t,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new w.a(e.getLegend(),this._themeService,this._logService)),this._caches.get(e)}}class R{constructor(e,t,i){this._provider=e,this.resultId=t,this.data=i}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class P extends o.a{constructor(e,t,i){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=i,this._fetchDocumentSemanticTokens=this._register(new g.e(()=>this._fetchDocumentSemanticTokensNow(),P.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const n=()=>{Object(o.f)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of c.l.all(e))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};n(),this._register(c.l.onDidChange(()=>{n(),this._fetchDocumentSemanticTokens.schedule()})),this._register(t.onDidColorThemeChange(e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const e=new p.b,t=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,i=Object(y.b)(this._model,t,e.token);if(!i)return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const{provider:n,request:o}=i;this._currentDocumentRequestCancellationTokenSource=e;const r=[],a=this._model.onDidChangeContent(e=>{r.push(e)}),l=this._semanticStyling.get(n);o.then(e=>{this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),this._setDocumentSemanticTokens(n,e||null,l,r)},e=>{e&&(s.d(e)||"string"==typeof e.message&&-1!==e.message.indexOf("busy"))||s.e(e),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),r.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}_setDocumentSemanticTokens(e,t,i,n){const o=this._currentDocumentResponse,r=()=>{n.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&i){if(!t)return this._model.setSemanticTokens(null,!0),void r();if(Object(y.d)(t)){if(!o)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:o.data};else{let e=0;for(const o of t.edits)e+=(o.data?o.data.length:0)-o.deleteCount;const i=o.data,n=new Uint32Array(i.length+e);let r=i.length,s=n.length;for(let o=t.edits.length-1;o>=0;o--){const e=t.edits[o],a=r-(e.start+e.deleteCount);a>0&&(P._copy(i,r-a,n,s-a,a),s-=a),e.data&&(P._copy(e.data,0,n,s-e.data.length,e.data.length),s-=e.data.length),r=e.start}r>0&&P._copy(i,0,n,0,r),t={resultId:t.resultId,data:n}}}if(Object(y.c)(t)){this._currentDocumentResponse=new R(e,t.resultId,t.data);const o=Object(w.b)(t,i,this._model.getLanguageIdentifier());if(n.length>0)for(const e of n)for(const t of o)for(const i of e.changes)t.applyEdit(i.range,i.text);this._model.setSemanticTokens(o,!0)}else this._model.setSemanticTokens(null,!0);r()}else this._model.setSemanticTokens(null,!1)}}P.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300},"1I1M":function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return h}));var n=i("N0LK"),o=i("Ll0s"),r=i("snIX"),s=i("5v8Y"),a=i("cGHE"),l=i("aokT");class c{static _createWord(e,t,i,n,o){return{start:n,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let o=i.column-2;o>=0;o--){let i=e.charCodeAt(o),r=t.get(i);if(0===r){if(2===n)return this._createWord(e,n,r,o+1,this._findEndOfWord(e,t,n,o+1));n=1}else if(2===r){if(1===n)return this._createWord(e,n,r,o+1,this._findEndOfWord(e,t,n,o+1));n=2}else if(1===r&&0!==n)return this._createWord(e,n,r,o+1,this._findEndOfWord(e,t,n,o+1))}return 0!==n?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){let o=e.length;for(let r=n;r<o;r++){let n=e.charCodeAt(r),o=t.get(n);if(1===o)return r;if(1===i&&2===o)return r;if(2===i&&0===o)return r}return o}static _findNextWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0,o=e.length;for(let r=i.column-1;r<o;r++){let i=e.charCodeAt(r),o=t.get(i);if(0===o){if(2===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,r-1),r);n=1}else if(2===o){if(1===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,r-1),r);n=2}else if(1===o&&0!==n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,r-1),r)}return 0!==n?this._createWord(e,n,1,this._findStartOfWord(e,t,n,o-1),o):null}static _findStartOfWord(e,t,i,n){for(let o=n;o>=0;o--){let n=e.charCodeAt(o),r=t.get(n);if(1===r)return o+1;if(1===i&&2===r)return o+1;if(2===i&&0===r)return o+1}return 0}static moveWordLeft(e,t,i,n){let o=i.lineNumber,r=i.column;1===r&&o>1&&(o-=1,r=t.getLineMaxColumn(o));let s=c._findPreviousWordOnLine(e,t,new a.a(o,r));if(0===n)return new a.a(o,s?s.start+1:1);if(1===n)return s&&2===s.wordType&&s.end-s.start==1&&0===s.nextCharClass&&(s=c._findPreviousWordOnLine(e,t,new a.a(o,s.start+1))),new a.a(o,s?s.start+1:1);if(3===n){for(;s&&2===s.wordType;)s=c._findPreviousWordOnLine(e,t,new a.a(o,s.start+1));return new a.a(o,s?s.start+1:1)}return s&&r<=s.end+1&&(s=c._findPreviousWordOnLine(e,t,new a.a(o,s.start+1))),new a.a(o,s?s.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,o=e.getLineMaxColumn(i);if(1===t.column)return i>1?new a.a(i-1,e.getLineMaxColumn(i-1)):t;const r=e.getLineContent(i);for(let s=t.column-1;s>1;s--){const e=r.charCodeAt(s-2),t=r.charCodeAt(s-1);if(95===e&&95!==t)return new a.a(i,s);if(n.H(e)&&n.I(t))return new a.a(i,s);if(n.I(e)&&n.I(t)&&s+1<o){const e=r.charCodeAt(s);if(n.H(e))return new a.a(i,s)}}return new a.a(i,1)}static moveWordRight(e,t,i,n){let o=i.lineNumber,r=i.column,s=!1;r===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(s=!0,o+=1,r=1);let l=c._findNextWordOnLine(e,t,new a.a(o,r));if(2===n)l&&2===l.wordType&&l.end-l.start==1&&0===l.nextCharClass&&(l=c._findNextWordOnLine(e,t,new a.a(o,l.end+1))),r=l?l.end+1:t.getLineMaxColumn(o);else if(3===n){for(s&&(r=0);l&&(2===l.wordType||l.start+1<=r);)l=c._findNextWordOnLine(e,t,new a.a(o,l.end+1));r=l?l.start+1:t.getLineMaxColumn(o)}else l&&!s&&r>=l.start+1&&(l=c._findNextWordOnLine(e,t,new a.a(o,l.end+1))),r=l?l.start+1:t.getLineMaxColumn(o);return new a.a(o,r)}static _moveWordPartRight(e,t){const i=t.lineNumber,o=e.getLineMaxColumn(i);if(t.column===o)return i<e.getLineCount()?new a.a(i+1,1):t;const r=e.getLineContent(i);for(let s=t.column+1;s<o;s++){const e=r.charCodeAt(s-2),t=r.charCodeAt(s-1);if(95!==e&&95===t)return new a.a(i,s);if(n.H(e)&&n.I(t))return new a.a(i,s);if(n.I(e)&&n.I(t)&&s+1<o){const e=r.charCodeAt(s);if(n.H(e))return new a.a(i,s)}}return new a.a(i,o)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),o=t.column-2,r=n.J(i,o);return r+1<o?new l.a(t.lineNumber,r+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(r.a.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new l.a(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const h=new a.a(o.positionLineNumber,o.positionColumn);let d=h.lineNumber,u=h.column;if(1===d&&1===u)return null;if(s){let e=this._deleteWordLeftWhitespace(n,h);if(e)return e}let g=c._findPreviousWordOnLine(i,n,h);return 0===t?g?u=g.start+1:u>1?u=1:(d--,u=n.getLineMaxColumn(d)):(g&&u<=g.end+1&&(g=c._findPreviousWordOnLine(i,n,new a.a(d,g.start+1))),g?u=g.end+1:u>1?u=1:(d--,u=n.getLineMaxColumn(d))),new l.a(d,u,h.lineNumber,h.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const n=new a.a(i.positionLineNumber,i.positionColumn);let o=this._deleteInsideWordWhitespace(t,n);return o||this._deleteInsideWordDetermineDeleteRange(e,t,n)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return 32===i||9===i}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=i.length;if(0===n)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let r=Math.min(t.column-1,n-1);if(!this._charAtIsWhitespace(i,r))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;r+1<n&&this._charAtIsWhitespace(i,r+1);)r++;return new l.a(t.lineNumber,o+1,t.lineNumber,r+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const n=t.getLineContent(i.lineNumber),o=n.length;if(0===o)return i.lineNumber>1?new l.a(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new l.a(i.lineNumber,1,i.lineNumber+1,1):new l.a(i.lineNumber,1,i.lineNumber,1);const r=e=>e.start+1<=i.column&&i.column<=e.end+1,s=(e,t)=>(e=Math.min(e,i.column),t=Math.max(t,i.column),new l.a(i.lineNumber,e,i.lineNumber,t)),a=e=>{let t=e.start+1,i=e.end+1,r=!1;for(;i-1<o&&this._charAtIsWhitespace(n,i-1);)r=!0,i++;if(!r)for(;t>1&&this._charAtIsWhitespace(n,t-2);)t--;return s(t,i)},h=c._findPreviousWordOnLine(e,t,i);if(h&&r(h))return a(h);const d=c._findNextWordOnLine(e,t,i);return d&&r(d)?a(d):h&&d?s(h.end+1,d.start+1):h?s(h.start+1,h.end+1):d?s(d.start+1,d.end+1):s(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=c._moveWordPartLeft(e,i);return new l.a(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){let i=e.length;for(let n=t;n<i;n++){let t=e.charAt(n);if(" "!==t&&"\t"!==t)return n}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-1,o=this._findFirstNonWhitespaceChar(i,n);return n+1<o?new l.a(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,n=e.model,o=e.selection,r=e.whitespaceHeuristics;if(!o.isEmpty())return o;const s=new a.a(o.positionLineNumber,o.positionColumn);let h=s.lineNumber,d=s.column;const u=n.getLineCount(),g=n.getLineMaxColumn(h);if(h===u&&d===g)return null;if(r){let e=this._deleteWordRightWhitespace(n,s);if(e)return e}let p=c._findNextWordOnLine(i,n,s);return 2===t?p?d=p.end+1:d<g||h===u?d=g:(h++,p=c._findNextWordOnLine(i,n,new a.a(h,1)),d=p?p.start+1:n.getLineMaxColumn(h)):(p&&d>=p.start+1&&(p=c._findNextWordOnLine(i,n,new a.a(h,p.end+1))),p?d=p.start+1:d<g||h===u?d=g:(h++,p=c._findNextWordOnLine(i,n,new a.a(h,1)),d=p?p.start+1:n.getLineMaxColumn(h))),new l.a(h,d,s.lineNumber,s.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=c._moveWordPartRight(e,i);return new l.a(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){const n=new l.a(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){const n=Object(s.a)(t),o=c._findPreviousWordOnLine(n,e,i);if(o&&1===o.wordType&&o.start<=i.column-1&&i.column-1<=o.end)return c._createWordAtPosition(e,i.lineNumber,o);const r=c._findNextWordOnLine(n,e,i);return r&&1===r.wordType&&r.start<=i.column-1&&i.column-1<=r.end?c._createWordAtPosition(e,i.lineNumber,r):null}static word(e,t,i,n,r){const h=Object(s.a)(e.wordSeparators);let d,u,g=c._findPreviousWordOnLine(h,t,r),p=c._findNextWordOnLine(h,t,r);if(!n){let e,i;return g&&1===g.wordType&&g.start<=r.column-1&&r.column-1<=g.end?(e=g.start+1,i=g.end+1):p&&1===p.wordType&&p.start<=r.column-1&&r.column-1<=p.end?(e=p.start+1,i=p.end+1):(e=g?g.end+1:1,i=p?p.start+1:t.getLineMaxColumn(r.lineNumber)),new o.f(new l.a(r.lineNumber,e,r.lineNumber,i),0,new a.a(r.lineNumber,i),0)}g&&1===g.wordType&&g.start<r.column-1&&r.column-1<g.end?(d=g.start+1,u=g.end+1):p&&1===p.wordType&&p.start<r.column-1&&r.column-1<p.end?(d=p.start+1,u=p.end+1):(d=r.column,u=r.column);let m,f=r.lineNumber;if(i.selectionStart.containsPosition(r))m=i.selectionStart.endColumn;else if(r.isBeforeOrEqual(i.selectionStart.getStartPosition())){m=d;let e=new a.a(f,m);i.selectionStart.containsPosition(e)&&(m=i.selectionStart.endColumn)}else{m=u;let e=new a.a(f,m);i.selectionStart.containsPosition(e)&&(m=i.selectionStart.startColumn)}return i.move(!0,f,m,0)}}class h extends c{static deleteWordPartLeft(e){const t=d([c.deleteWordLeft(e,0),c.deleteWordLeft(e,2),c._deleteWordPartLeft(e.model,e.selection)]);return t.sort(l.a.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=d([c.deleteWordRight(e,0),c.deleteWordRight(e,2),c._deleteWordPartRight(e.model,e.selection)]);return t.sort(l.a.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,i){const n=d([c.moveWordLeft(e,t,i,0),c.moveWordLeft(e,t,i,2),c._moveWordPartLeft(t,i)]);return n.sort(a.a.compare),n[2]}static moveWordPartRight(e,t,i){const n=d([c.moveWordRight(e,t,i,0),c.moveWordRight(e,t,i,2),c._moveWordPartRight(t,i)]);return n.sort(a.a.compare),n[0]}}function d(e){return e.filter(e=>Boolean(e))}},"1YUG":function(e,t,i){"use strict";i.d(t,"b",(function(){return L})),i.d(t,"a",(function(){return O}));var n=i("3/fG"),o=i("D3Dy"),r=i("746U"),s=i("OBOq"),a=i("sswD"),l=i("Vxe3"),c=i("Ll0s"),h=i("cGHE"),d=i("aokT");class u{static columnSelect(e,t,i,n,o,r){let s=Math.abs(o-i)+1,a=i>o,l=n>r,u=n<r,g=[];for(let p=0;p<s;p++){let o=i+(a?-p:p),s=c.a.columnFromVisibleColumn2(e,t,o,n),m=c.a.columnFromVisibleColumn2(e,t,o,r),f=c.a.visibleColumnFromColumn2(e,t,new h.a(o,s)),b=c.a.visibleColumnFromColumn2(e,t,new h.a(o,m));if(u){if(f>r)continue;if(b<n)continue}if(l){if(b>n)continue;if(f<r)continue}g.push(new c.f(new d.a(o,s,o,s),0,new h.a(o,m),0))}if(0===g.length)for(let p=0;p<s;p++){const e=i+(a?-p:p),n=t.getLineMaxColumn(e);g.push(new c.f(new d.a(e,n,e,n),0,new h.a(e,n),0))}return{viewStates:g,reversed:a,fromLineNumber:i,fromVisualColumn:n,toLineNumber:o,toVisualColumn:r}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>0&&n--,u.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0;const o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),r=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let a=o;a<=r;a++){const i=t.getLineMaxColumn(a),o=c.a.visibleColumnFromColumn2(e,t,new h.a(a,i));n=Math.max(n,o)}let s=i.toViewVisualColumn;return s<n&&s++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,s)}static columnSelectUp(e,t,i,n){const o=n?e.pageSize:1,r=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,r,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){const o=n?e.pageSize:1,r=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,r,i.toViewVisualColumn)}}var g=i("snIX"),p=i("oAeH"),m=i("GR/f"),f=i("wQH0"),b=i("T8No"),_=i("nrhi");class v extends a.c{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i||{})}}var C,w,y,S,L;(w=C||(C={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!r.j(e))return!1;const t=e;return!(!r.k(t.to)||!r.l(t.by)&&!r.k(t.by)||!r.l(t.value)&&!r.i(t.value)||!r.l(t.revealCursor)&&!r.g(t.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},w.RawDirection={Up:"up",Down:"down"},w.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},w.parse=function(e){let t,i;switch(e.to){case w.RawDirection.Up:t=1;break;case w.RawDirection.Down:t=2;break;default:return null}switch(e.by){case w.RawUnit.Line:i=1;break;case w.RawUnit.WrappedLine:i=2;break;case w.RawUnit.Page:i=3;break;case w.RawUnit.HalfPage:i=4;break;default:i=2}return{direction:t,unit:i,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}},(S=y||(y={})).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!r.j(e))return!1;const t=e;return!(!r.i(t.lineNumber)&&!r.k(t.lineNumber)||!r.l(t.at)&&!r.k(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},S.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class x{constructor(e){e.addImplementation(1e4,"code-editor",(e,t)=>{const i=e.get(l.a).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&this._runEditorCommand(e,i,t)}),e.addImplementation(1e3,"generic-dom-input-textarea",(e,t)=>{const i=document.activeElement;return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),e.addImplementation(0,"generic-dom",(e,t)=>{const i=e.get(l.a).getActiveCodeEditor();return!!i&&(i.focus(),this._runEditorCommand(e,i,t))})}_runEditorCommand(e,t,i){const n=this.runEditorCommand(e,t,i);return n||!0}}!function(e){class t extends v{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[p.b.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!0)}}e.MoveTo=Object(a.k)(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=Object(a.k)(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class i extends v{runCoreEditorCommand(e,t){e.model.pushStackElement();const i=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,i.viewStates.map(e=>c.d.fromViewState(e))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}e.ColumnSelect=Object(a.k)(new class extends i{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,i,n){const o=e.model.validatePosition(n.position),r=e.coordinatesConverter.validateViewPosition(new h.a(n.viewPosition.lineNumber,n.viewPosition.column),o);let s=n.doColumnSelect?i.fromViewLineNumber:r.lineNumber,a=n.doColumnSelect?i.fromViewVisualColumn:n.mouseColumn-1;return u.columnSelect(e.cursorConfig,e,s,a,r.lineNumber,n.mouseColumn-1)}}),e.CursorColumnSelectLeft=Object(a.k)(new class extends i{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return u.columnSelectLeft(e.cursorConfig,e,i)}}),e.CursorColumnSelectRight=Object(a.k)(new class extends i{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return u.columnSelectRight(e.cursorConfig,e,i)}});class r extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return u.columnSelectUp(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectUp=Object(a.k)(new r({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=Object(a.k)(new r({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:3595,linux:{primary:0}}}));class l extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return u.columnSelectDown(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectDown=Object(a.k)(new l({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=Object(a.k)(new l({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:3596,linux:{primary:0}}}));class g extends v{constructor(){super({id:"cursorMove",precondition:void 0,description:p.a.description})}runCoreEditorCommand(e,t){const i=p.a.parse(t);i&&this._runCursorMove(e,t.source,i)}_runCursorMove(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,g._move(e,e.getCursorStates(),i)),e.revealPrimaryCursor(t,!0)}static _move(e,t,i){const n=i.select,o=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return p.b.simpleMove(e,t,i.direction,n,o,i.unit);case 11:case 13:case 12:case 14:return p.b.viewportMove(e,t,i.direction,n,o);default:return null}}}e.CursorMoveImpl=g,e.CursorMove=Object(a.k)(new g);class m extends v{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,p.b.simpleMove(e,e.getCursorStates(),i.direction,i.select,i.value,i.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=Object(a.k)(new m({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=Object(a.k)(new m({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:1039}})),e.CursorRight=Object(a.k)(new m({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=Object(a.k)(new m({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:1041}})),e.CursorUp=Object(a.k)(new m({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=Object(a.k)(new m({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=Object(a.k)(new m({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:11}})),e.CursorPageUpSelect=Object(a.k)(new m({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:1035}})),e.CursorDown=Object(a.k)(new m({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=Object(a.k)(new m({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=Object(a.k)(new m({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:12}})),e.CursorPageDownSelect=Object(a.k)(new m({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:1036}})),e.CreateCursor=Object(a.k)(new class extends v{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){let i;i=t.wholeLine?p.b.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):p.b.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const n=e.getCursorStates();if(n.length>1){const o=i.modelState?i.modelState.position:null,r=i.viewState?i.viewState.position:null;for(let i=0,s=n.length;i<s;i++){const s=n[i];if((!o||s.modelState.selection.containsPosition(o))&&(!r||s.viewState.selection.containsPosition(r)))return n.splice(i,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,n)}}n.push(i),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}}),e.LastCursorMoveToSelect=Object(a.k)(new class extends v{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=p.b.moveTo(e,n[i],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class b extends v{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,p.b.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=Object(a.k)(new b({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=Object(a.k)(new b({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class _ extends v{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i],o=n.modelState.position.lineNumber;t[i]=c.d.fromModelState(n.modelState.move(this._inSelectionMode,o,1,0))}return t}}e.CursorLineStart=Object(a.k)(new _({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=Object(a.k)(new _({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:0,mac:{primary:1311}}}));class w extends v{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,p.b.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=Object(a.k)(new w({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:f.a.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:n.a("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=Object(a.k)(new w({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:f.a.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:n.a("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class S extends v{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],r=o.modelState.position.lineNumber,s=e.model.getLineMaxColumn(r);i[n]=c.d.fromModelState(o.modelState.move(this._inSelectionMode,r,s,0))}return i}}e.CursorLineEnd=Object(a.k)(new S({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=Object(a.k)(new S({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:0,mac:{primary:1315}}}));class L extends v{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,p.b.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=Object(a.k)(new L({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=Object(a.k)(new L({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:3086,mac:{primary:3088}}}));class k extends v{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,p.b.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=Object(a.k)(new k({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=Object(a.k)(new k({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:3085,mac:{primary:3090}}}));class D extends v{constructor(){super({id:"editorScroll",precondition:void 0,description:C.description})}runCoreEditorCommand(e,t){const i=C.parse(t);i&&this._runEditorScroll(e,t.source,i)}_runEditorScroll(e,t,i){const n=this._computeDesiredScrollTop(e,i);if(i.revealCursor){const o=e.getCompletelyVisibleViewRangeAtScrollTop(n);e.setCursorStates(t,3,[p.b.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),o,i.select)])}e.setScrollTop(n,0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const i=e.getCompletelyVisibleViewRange(),n=e.coordinatesConverter.convertViewRangeToModelRange(i);let o;o=1===t.direction?Math.max(1,n.startLineNumber-t.value):Math.min(e.model.getLineCount(),n.startLineNumber+t.value);const r=e.coordinatesConverter.convertModelPositionToViewPosition(new h.a(o,1));return e.getVerticalOffsetForLineNumber(r.lineNumber)}let i;i=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const n=(1===t.direction?-1:1)*i;return e.getScrollTop()+n*e.cursorConfig.lineHeight}}e.EditorScrollImpl=D,e.EditorScroll=Object(a.k)(new D),e.ScrollLineUp=Object(a.k)(new class extends v{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageUp=Object(a.k)(new class extends v{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollLineDown=Object(a.k)(new class extends v{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageDown=Object(a.k)(new class extends v{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class I extends v{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[p.b.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}e.WordSelect=Object(a.k)(new I({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=Object(a.k)(new I({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=Object(a.k)(new class extends v{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0),r=n[i];o[i]=p.b.word(e,r,r.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class O extends v{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[p.b.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}e.LineSelect=Object(a.k)(new O({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=Object(a.k)(new O({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class N extends v{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=p.b.line(e,n[i],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}e.LastCursorLineSelect=Object(a.k)(new N({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=Object(a.k)(new N({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=Object(a.k)(new class extends v{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:2090}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,p.b.expandLineSelection(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}}),e.CancelSelection=Object(a.k)(new class extends v{constructor(){super({id:"cancelSelection",precondition:f.a.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[p.b.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=Object(a.k)(new class extends v{constructor(){super({id:"removeSecondaryCursors",precondition:f.a.hasMultipleSelections,kbOpts:{weight:1,kbExpr:f.a.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0),Object(s.c)(n.a("removedCursor","Removed secondary cursors"))}}),e.RevealLine=Object(a.k)(new class extends v{constructor(){super({id:"revealLine",precondition:void 0,description:y.description})}runCoreEditorCommand(e,t){const i=t,n=i.lineNumber||0;let o="number"==typeof n?n+1:parseInt(n)+1;o<1&&(o=1);const r=e.model.getLineCount();o>r&&(o=r);const s=new d.a(o,1,o,e.model.getLineMaxColumn(o));let a=0;if(i.at)switch(i.at){case y.RawAtArgument.Top:a=3;break;case y.RawAtArgument.Center:a=1;break;case y.RawAtArgument.Bottom:a=4}const l=e.coordinatesConverter.convertModelRangeToViewRange(s);e.revealRange(t.source,!1,l,a,0)}}),e.SelectAll=new class extends x{constructor(){super(a.h)}runDOMCommand(){o.g&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[p.b.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=Object(a.k)(new class extends v{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[c.d.fromModelSelection(t.selection)])}})}(L||(L={}));const k=b.a.and(f.a.textInputFocus,f.a.columnSelection);function D(e,t){_.a.registerKeybindingRule({id:e,primary:t,when:k,weight:1})}function I(e){return e.register(),e}var O;D(L.CursorColumnSelectLeft.id,1039),D(L.CursorColumnSelectRight.id,1041),D(L.CursorColumnSelectUp.id,1040),D(L.CursorColumnSelectPageUp.id,1035),D(L.CursorColumnSelectDown.id,1042),D(L.CursorColumnSelectPageDown.id,1036),function(e){class t extends a.c{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditingCommand(t,n,i||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=Object(a.k)(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:f.a.writable,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,m.a.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection)))}}),e.Outdent=Object(a.k)(new class extends t{constructor(){super({id:"outdent",precondition:f.a.writable,kbOpts:{weight:0,kbExpr:b.a.and(f.a.editorTextFocus,f.a.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,m.a.outdent(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection))),e.pushUndoStop()}}),e.Tab=Object(a.k)(new class extends t{constructor(){super({id:"tab",precondition:f.a.writable,kbOpts:{weight:0,kbExpr:b.a.and(f.a.editorTextFocus,f.a.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,m.a.tab(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection))),e.pushUndoStop()}}),e.DeleteLeft=Object(a.k)(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,i){const[n,o]=g.a.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection),t.getCursorAutoClosedCharacters());n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(2)}}),e.DeleteRight=Object(a.k)(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.a.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,i){const[n,o]=g.a.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection));n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(3)}}),e.Undo=new class extends x{constructor(){super(a.i)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(79))return t.getModel().undo()}},e.Redo=new class extends x{constructor(){super(a.g)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(79))return t.getModel().redo()}}}(O||(O={}));class N extends a.a{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(l.a).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function E(e,t){I(new N("default:"+e,e)),I(new N(e,e,t))}E("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),E("replacePreviousChar"),E("compositionType"),E("compositionStart"),E("compositionEnd"),E("paste"),E("cut")},"1kKj":function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface Array<T> {\r\n    /**\r\n     * Returns the value of the first element in the array where predicate is true, and undefined\r\n     * otherwise.\r\n     * @param predicate find calls predicate once for each element of the array, in ascending\r\n     * order, until it finds one where predicate returns true. If such an element is found, find\r\n     * immediately returns that element value. Otherwise, find returns undefined.\r\n     * @param thisArg If provided, it will be used as the this value for each invocation of\r\n     * predicate. If it is not provided, undefined is used instead.\r\n     */\r\n    find<S extends T>(predicate: (this: void, value: T, index: number, obj: T[]) => value is S, thisArg?: any): S | undefined;\r\n    find(predicate: (value: T, index: number, obj: T[]) => unknown, thisArg?: any): T | undefined;\r\n\r\n    /**\r\n     * Returns the index of the first element in the array where predicate is true, and -1\r\n     * otherwise.\r\n     * @param predicate find calls predicate once for each element of the array, in ascending\r\n     * order, until it finds one where predicate returns true. If such an element is found,\r\n     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r\n     * @param thisArg If provided, it will be used as the this value for each invocation of\r\n     * predicate. If it is not provided, undefined is used instead.\r\n     */\r\n    findIndex(predicate: (value: T, index: number, obj: T[]) => unknown, thisArg?: any): number;\r\n\r\n    /**\r\n     * Returns the this object after filling the section identified by start and end with value\r\n     * @param value value to fill array section with\r\n     * @param start index to start filling the array at. If start is negative, it is treated as\r\n     * length+start where length is the length of the array.\r\n     * @param end index to stop filling the array at. If end is negative, it is treated as\r\n     * length+end.\r\n     */\r\n    fill(value: T, start?: number, end?: number): this;\r\n\r\n    /**\r\n     * Returns the this object after copying a section of the array identified by start and end\r\n     * to the same array starting at position target\r\n     * @param target If target is negative, it is treated as length+target where length is the\r\n     * length of the array.\r\n     * @param start If start is negative, it is treated as length+start. If end is negative, it\r\n     * is treated as length+end.\r\n     * @param end If not specified, length of the this object is used as its default value.\r\n     */\r\n    copyWithin(target: number, start: number, end?: number): this;\r\n}\r\n\r\ninterface ArrayConstructor {\r\n    /**\r\n     * Creates an array from an array-like object.\r\n     * @param arrayLike An array-like object to convert to an array.\r\n     */\r\n    from<T>(arrayLike: ArrayLike<T>): T[];\r\n\r\n    /**\r\n     * Creates an array from an iterable object.\r\n     * @param arrayLike An array-like object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of \'this\' used to invoke the mapfn.\r\n     */\r\n    from<T, U>(arrayLike: ArrayLike<T>, mapfn: (v: T, k: number) => U, thisArg?: any): U[];\r\n\r\n    /**\r\n     * Returns a new array from a set of elements.\r\n     * @param items A set of elements to include in the new array object.\r\n     */\r\n    of<T>(...items: T[]): T[];\r\n}\r\n\r\ninterface DateConstructor {\r\n    new (value: number | string | Date): Date;\r\n}\r\n\r\ninterface Function {\r\n    /**\r\n     * Returns the name of the function. Function names are read-only and can not be changed.\r\n     */\r\n    readonly name: string;\r\n}\r\n\r\ninterface Math {\r\n    /**\r\n     * Returns the number of leading zero bits in the 32-bit binary representation of a number.\r\n     * @param x A numeric expression.\r\n     */\r\n    clz32(x: number): number;\r\n\r\n    /**\r\n     * Returns the result of 32-bit multiplication of two numbers.\r\n     * @param x First number\r\n     * @param y Second number\r\n     */\r\n    imul(x: number, y: number): number;\r\n\r\n    /**\r\n     * Returns the sign of the x, indicating whether x is positive, negative or zero.\r\n     * @param x The numeric expression to test\r\n     */\r\n    sign(x: number): number;\r\n\r\n    /**\r\n     * Returns the base 10 logarithm of a number.\r\n     * @param x A numeric expression.\r\n     */\r\n    log10(x: number): number;\r\n\r\n    /**\r\n     * Returns the base 2 logarithm of a number.\r\n     * @param x A numeric expression.\r\n     */\r\n    log2(x: number): number;\r\n\r\n    /**\r\n     * Returns the natural logarithm of 1 + x.\r\n     * @param x A numeric expression.\r\n     */\r\n    log1p(x: number): number;\r\n\r\n    /**\r\n     * Returns the result of (e^x - 1), which is an implementation-dependent approximation to\r\n     * subtracting 1 from the exponential function of x (e raised to the power of x, where e\r\n     * is the base of the natural logarithms).\r\n     * @param x A numeric expression.\r\n     */\r\n    expm1(x: number): number;\r\n\r\n    /**\r\n     * Returns the hyperbolic cosine of a number.\r\n     * @param x A numeric expression that contains an angle measured in radians.\r\n     */\r\n    cosh(x: number): number;\r\n\r\n    /**\r\n     * Returns the hyperbolic sine of a number.\r\n     * @param x A numeric expression that contains an angle measured in radians.\r\n     */\r\n    sinh(x: number): number;\r\n\r\n    /**\r\n     * Returns the hyperbolic tangent of a number.\r\n     * @param x A numeric expression that contains an angle measured in radians.\r\n     */\r\n    tanh(x: number): number;\r\n\r\n    /**\r\n     * Returns the inverse hyperbolic cosine of a number.\r\n     * @param x A numeric expression that contains an angle measured in radians.\r\n     */\r\n    acosh(x: number): number;\r\n\r\n    /**\r\n     * Returns the inverse hyperbolic sine of a number.\r\n     * @param x A numeric expression that contains an angle measured in radians.\r\n     */\r\n    asinh(x: number): number;\r\n\r\n    /**\r\n     * Returns the inverse hyperbolic tangent of a number.\r\n     * @param x A numeric expression that contains an angle measured in radians.\r\n     */\r\n    atanh(x: number): number;\r\n\r\n    /**\r\n     * Returns the square root of the sum of squares of its arguments.\r\n     * @param values Values to compute the square root for.\r\n     *     If no arguments are passed, the result is +0.\r\n     *     If there is only one argument, the result is the absolute value.\r\n     *     If any argument is +Infinity or -Infinity, the result is +Infinity.\r\n     *     If any argument is NaN, the result is NaN.\r\n     *     If all arguments are either +0 or −0, the result is +0.\r\n     */\r\n    hypot(...values: number[]): number;\r\n\r\n    /**\r\n     * Returns the integral part of the a numeric expression, x, removing any fractional digits.\r\n     * If x is already an integer, the result is x.\r\n     * @param x A numeric expression.\r\n     */\r\n    trunc(x: number): number;\r\n\r\n    /**\r\n     * Returns the nearest single precision float representation of a number.\r\n     * @param x A numeric expression.\r\n     */\r\n    fround(x: number): number;\r\n\r\n    /**\r\n     * Returns an implementation-dependent approximation to the cube root of number.\r\n     * @param x A numeric expression.\r\n     */\r\n    cbrt(x: number): number;\r\n}\r\n\r\ninterface NumberConstructor {\r\n    /**\r\n     * The value of Number.EPSILON is the difference between 1 and the smallest value greater than 1\r\n     * that is representable as a Number value, which is approximately:\r\n     * 2.2204460492503130808472633361816 x 10‍−‍16.\r\n     */\r\n    readonly EPSILON: number;\r\n\r\n    /**\r\n     * Returns true if passed value is finite.\r\n     * Unlike the global isFinite, Number.isFinite doesn\'t forcibly convert the parameter to a\r\n     * number. Only finite values of the type number, result in true.\r\n     * @param number A numeric value.\r\n     */\r\n    isFinite(number: unknown): boolean;\r\n\r\n    /**\r\n     * Returns true if the value passed is an integer, false otherwise.\r\n     * @param number A numeric value.\r\n     */\r\n    isInteger(number: unknown): boolean;\r\n\r\n    /**\r\n     * Returns a Boolean value that indicates whether a value is the reserved value NaN (not a\r\n     * number). Unlike the global isNaN(), Number.isNaN() doesn\'t forcefully convert the parameter\r\n     * to a number. Only values of the type number, that are also NaN, result in true.\r\n     * @param number A numeric value.\r\n     */\r\n    isNaN(number: unknown): boolean;\r\n\r\n    /**\r\n     * Returns true if the value passed is a safe integer.\r\n     * @param number A numeric value.\r\n     */\r\n    isSafeInteger(number: unknown): boolean;\r\n\r\n    /**\r\n     * The value of the largest integer n such that n and n + 1 are both exactly representable as\r\n     * a Number value.\r\n     * The value of Number.MAX_SAFE_INTEGER is 9007199254740991 2^53 − 1.\r\n     */\r\n    readonly MAX_SAFE_INTEGER: number;\r\n\r\n    /**\r\n     * The value of the smallest integer n such that n and n − 1 are both exactly representable as\r\n     * a Number value.\r\n     * The value of Number.MIN_SAFE_INTEGER is −9007199254740991 (−(2^53 − 1)).\r\n     */\r\n    readonly MIN_SAFE_INTEGER: number;\r\n\r\n    /**\r\n     * Converts a string to a floating-point number.\r\n     * @param string A string that contains a floating-point number.\r\n     */\r\n    parseFloat(string: string): number;\r\n\r\n    /**\r\n     * Converts A string to an integer.\r\n     * @param string A string to convert into a number.\r\n     * @param radix A value between 2 and 36 that specifies the base of the number in `string`.\r\n     * If this argument is not supplied, strings with a prefix of \'0x\' are considered hexadecimal.\r\n     * All other strings are considered decimal.\r\n     */\r\n    parseInt(string: string, radix?: number): number;\r\n}\r\n\r\ninterface ObjectConstructor {\r\n    /**\r\n     * Copy the values of all of the enumerable own properties from one or more source objects to a\r\n     * target object. Returns the target object.\r\n     * @param target The target object to copy to.\r\n     * @param source The source object from which to copy properties.\r\n     */\r\n    assign<T, U>(target: T, source: U): T & U;\r\n\r\n    /**\r\n     * Copy the values of all of the enumerable own properties from one or more source objects to a\r\n     * target object. Returns the target object.\r\n     * @param target The target object to copy to.\r\n     * @param source1 The first source object from which to copy properties.\r\n     * @param source2 The second source object from which to copy properties.\r\n     */\r\n    assign<T, U, V>(target: T, source1: U, source2: V): T & U & V;\r\n\r\n    /**\r\n     * Copy the values of all of the enumerable own properties from one or more source objects to a\r\n     * target object. Returns the target object.\r\n     * @param target The target object to copy to.\r\n     * @param source1 The first source object from which to copy properties.\r\n     * @param source2 The second source object from which to copy properties.\r\n     * @param source3 The third source object from which to copy properties.\r\n     */\r\n    assign<T, U, V, W>(target: T, source1: U, source2: V, source3: W): T & U & V & W;\r\n\r\n    /**\r\n     * Copy the values of all of the enumerable own properties from one or more source objects to a\r\n     * target object. Returns the target object.\r\n     * @param target The target object to copy to.\r\n     * @param sources One or more source objects from which to copy properties\r\n     */\r\n    assign(target: object, ...sources: any[]): any;\r\n\r\n    /**\r\n     * Returns an array of all symbol properties found directly on object o.\r\n     * @param o Object to retrieve the symbols from.\r\n     */\r\n    getOwnPropertySymbols(o: any): symbol[];\r\n\r\n    /**\r\n     * Returns the names of the enumerable string properties and methods of an object.\r\n     * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\r\n     */\r\n    keys(o: {}): string[];\r\n\r\n    /**\r\n     * Returns true if the values are the same value, false otherwise.\r\n     * @param value1 The first value.\r\n     * @param value2 The second value.\r\n     */\r\n    is(value1: any, value2: any): boolean;\r\n\r\n    /**\r\n     * Sets the prototype of a specified object o to object proto or null. Returns the object o.\r\n     * @param o The object to change its prototype.\r\n     * @param proto The value of the new prototype or null.\r\n     */\r\n    setPrototypeOf(o: any, proto: object | null): any;\r\n}\r\n\r\ninterface ReadonlyArray<T> {\r\n    /**\r\n     * Returns the value of the first element in the array where predicate is true, and undefined\r\n     * otherwise.\r\n     * @param predicate find calls predicate once for each element of the array, in ascending\r\n     * order, until it finds one where predicate returns true. If such an element is found, find\r\n     * immediately returns that element value. Otherwise, find returns undefined.\r\n     * @param thisArg If provided, it will be used as the this value for each invocation of\r\n     * predicate. If it is not provided, undefined is used instead.\r\n     */\r\n    find<S extends T>(predicate: (this: void, value: T, index: number, obj: readonly T[]) => value is S, thisArg?: any): S | undefined;\r\n    find(predicate: (value: T, index: number, obj: readonly T[]) => unknown, thisArg?: any): T | undefined;\r\n\r\n    /**\r\n     * Returns the index of the first element in the array where predicate is true, and -1\r\n     * otherwise.\r\n     * @param predicate find calls predicate once for each element of the array, in ascending\r\n     * order, until it finds one where predicate returns true. If such an element is found,\r\n     * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r\n     * @param thisArg If provided, it will be used as the this value for each invocation of\r\n     * predicate. If it is not provided, undefined is used instead.\r\n     */\r\n    findIndex(predicate: (value: T, index: number, obj: readonly T[]) => unknown, thisArg?: any): number;\r\n}\r\n\r\ninterface RegExp {\r\n    /**\r\n     * Returns a string indicating the flags of the regular expression in question. This field is read-only.\r\n     * The characters in this string are sequenced and concatenated in the following order:\r\n     *\r\n     *    - "g" for global\r\n     *    - "i" for ignoreCase\r\n     *    - "m" for multiline\r\n     *    - "u" for unicode\r\n     *    - "y" for sticky\r\n     *\r\n     * If no flags are set, the value is the empty string.\r\n     */\r\n    readonly flags: string;\r\n\r\n    /**\r\n     * Returns a Boolean value indicating the state of the sticky flag (y) used with a regular\r\n     * expression. Default is false. Read-only.\r\n     */\r\n    readonly sticky: boolean;\r\n\r\n    /**\r\n     * Returns a Boolean value indicating the state of the Unicode flag (u) used with a regular\r\n     * expression. Default is false. Read-only.\r\n     */\r\n    readonly unicode: boolean;\r\n}\r\n\r\ninterface RegExpConstructor {\r\n    new (pattern: RegExp | string, flags?: string): RegExp;\r\n    (pattern: RegExp | string, flags?: string): RegExp;\r\n}\r\n\r\ninterface String {\r\n    /**\r\n     * Returns a nonnegative integer Number less than 1114112 (0x110000) that is the code point\r\n     * value of the UTF-16 encoded code point starting at the string element at position pos in\r\n     * the String resulting from converting this object to a String.\r\n     * If there is no element at that position, the result is undefined.\r\n     * If a valid UTF-16 surrogate pair does not begin at pos, the result is the code unit at pos.\r\n     */\r\n    codePointAt(pos: number): number | undefined;\r\n\r\n    /**\r\n     * Returns true if searchString appears as a substring of the result of converting this\r\n     * object to a String, at one or more positions that are\r\n     * greater than or equal to position; otherwise, returns false.\r\n     * @param searchString search string\r\n     * @param position If position is undefined, 0 is assumed, so as to search all of the String.\r\n     */\r\n    includes(searchString: string, position?: number): boolean;\r\n\r\n    /**\r\n     * Returns true if the sequence of elements of searchString converted to a String is the\r\n     * same as the corresponding elements of this object (converted to a String) starting at\r\n     * endPosition – length(this). Otherwise returns false.\r\n     */\r\n    endsWith(searchString: string, endPosition?: number): boolean;\r\n\r\n    /**\r\n     * Returns the String value result of normalizing the string into the normalization form\r\n     * named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.\r\n     * @param form Applicable values: "NFC", "NFD", "NFKC", or "NFKD", If not specified default\r\n     * is "NFC"\r\n     */\r\n    normalize(form: "NFC" | "NFD" | "NFKC" | "NFKD"): string;\r\n\r\n    /**\r\n     * Returns the String value result of normalizing the string into the normalization form\r\n     * named by form as specified in Unicode Standard Annex #15, Unicode Normalization Forms.\r\n     * @param form Applicable values: "NFC", "NFD", "NFKC", or "NFKD", If not specified default\r\n     * is "NFC"\r\n     */\r\n    normalize(form?: string): string;\r\n\r\n    /**\r\n     * Returns a String value that is made from count copies appended together. If count is 0,\r\n     * the empty string is returned.\r\n     * @param count number of copies to append\r\n     */\r\n    repeat(count: number): string;\r\n\r\n    /**\r\n     * Returns true if the sequence of elements of searchString converted to a String is the\r\n     * same as the corresponding elements of this object (converted to a String) starting at\r\n     * position. Otherwise returns false.\r\n     */\r\n    startsWith(searchString: string, position?: number): boolean;\r\n\r\n    /**\r\n     * Returns an `<a>` HTML anchor element and sets the name attribute to the text value\r\n     * @param name\r\n     */\r\n    anchor(name: string): string;\r\n\r\n    /** Returns a `<big>` HTML element */\r\n    big(): string;\r\n\r\n    /** Returns a `<blink>` HTML element */\r\n    blink(): string;\r\n\r\n    /** Returns a `<b>` HTML element */\r\n    bold(): string;\r\n\r\n    /** Returns a `<tt>` HTML element */\r\n    fixed(): string;\r\n\r\n    /** Returns a `<font>` HTML element and sets the color attribute value */\r\n    fontcolor(color: string): string;\r\n\r\n    /** Returns a `<font>` HTML element and sets the size attribute value */\r\n    fontsize(size: number): string;\r\n\r\n    /** Returns a `<font>` HTML element and sets the size attribute value */\r\n    fontsize(size: string): string;\r\n\r\n    /** Returns an `<i>` HTML element */\r\n    italics(): string;\r\n\r\n    /** Returns an `<a>` HTML element and sets the href attribute value */\r\n    link(url: string): string;\r\n\r\n    /** Returns a `<small>` HTML element */\r\n    small(): string;\r\n\r\n    /** Returns a `<strike>` HTML element */\r\n    strike(): string;\r\n\r\n    /** Returns a `<sub>` HTML element */\r\n    sub(): string;\r\n\r\n    /** Returns a `<sup>` HTML element */\r\n    sup(): string;\r\n}\r\n\r\ninterface StringConstructor {\r\n    /**\r\n     * Return the String value whose elements are, in order, the elements in the List elements.\r\n     * If length is 0, the empty string is returned.\r\n     */\r\n    fromCodePoint(...codePoints: number[]): string;\r\n\r\n    /**\r\n     * String.raw is intended for use as a tag function of a Tagged Template String. When called\r\n     * as such the first argument will be a well formed template call site object and the rest\r\n     * parameter will contain the substitution values.\r\n     * @param template A well-formed template string call site representation.\r\n     * @param substitutions A set of substitution values.\r\n     */\r\n    raw(template: TemplateStringsArray, ...substitutions: any[]): string;\r\n}\r\n'},"24hK":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));class n{constructor(e){this.element=e,this.next=n.Undefined,this.prev=n.Undefined}}n.Undefined=new n(void 0);class o{constructor(){this._first=n.Undefined,this._last=n.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===n.Undefined}clear(){let e=this._first;for(;e!==n.Undefined;){const t=e.next;e.prev=n.Undefined,e.next=n.Undefined,e=t}this._first=n.Undefined,this._last=n.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new n(e);if(this._first===n.Undefined)this._first=i,this._last=i;else if(t){const e=this._last;this._last=i,i.prev=e,e.next=i}else{const e=this._first;this._first=i,i.next=e,e.prev=i}this._size+=1;let o=!1;return()=>{o||(o=!0,this._remove(i))}}shift(){if(this._first!==n.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==n.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==n.Undefined&&e.next!==n.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===n.Undefined&&e.next===n.Undefined?(this._first=n.Undefined,this._last=n.Undefined):e.next===n.Undefined?(this._last=this._last.prev,this._last.next=n.Undefined):e.prev===n.Undefined&&(this._first=this._first.next,this._first.prev=n.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==n.Undefined;)yield e.element,e=e.next}}},"2MPD":function(e,t,i){},"2Tsy":function(e,t,i){},"2V9f":function(e,t,i){},"2YPd":function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface Map<K, V> {\r\n    clear(): void;\r\n    delete(key: K): boolean;\r\n    forEach(callbackfn: (value: V, key: K, map: Map<K, V>) => void, thisArg?: any): void;\r\n    get(key: K): V | undefined;\r\n    has(key: K): boolean;\r\n    set(key: K, value: V): this;\r\n    readonly size: number;\r\n}\r\n\r\ninterface MapConstructor {\r\n    new(): Map<any, any>;\r\n    new<K, V>(entries?: readonly (readonly [K, V])[] | null): Map<K, V>;\r\n    readonly prototype: Map<any, any>;\r\n}\r\ndeclare var Map: MapConstructor;\r\n\r\ninterface ReadonlyMap<K, V> {\r\n    forEach(callbackfn: (value: V, key: K, map: ReadonlyMap<K, V>) => void, thisArg?: any): void;\r\n    get(key: K): V | undefined;\r\n    has(key: K): boolean;\r\n    readonly size: number;\r\n}\r\n\r\ninterface WeakMap<K extends object, V> {\r\n    delete(key: K): boolean;\r\n    get(key: K): V | undefined;\r\n    has(key: K): boolean;\r\n    set(key: K, value: V): this;\r\n}\r\n\r\ninterface WeakMapConstructor {\r\n    new <K extends object = object, V = any>(entries?: readonly [K, V][] | null): WeakMap<K, V>;\r\n    readonly prototype: WeakMap<object, any>;\r\n}\r\ndeclare var WeakMap: WeakMapConstructor;\r\n\r\ninterface Set<T> {\r\n    add(value: T): this;\r\n    clear(): void;\r\n    delete(value: T): boolean;\r\n    forEach(callbackfn: (value: T, value2: T, set: Set<T>) => void, thisArg?: any): void;\r\n    has(value: T): boolean;\r\n    readonly size: number;\r\n}\r\n\r\ninterface SetConstructor {\r\n    new <T = any>(values?: readonly T[] | null): Set<T>;\r\n    readonly prototype: Set<any>;\r\n}\r\ndeclare var Set: SetConstructor;\r\n\r\ninterface ReadonlySet<T> {\r\n    forEach(callbackfn: (value: T, value2: T, set: ReadonlySet<T>) => void, thisArg?: any): void;\r\n    has(value: T): boolean;\r\n    readonly size: number;\r\n}\r\n\r\ninterface WeakSet<T extends object> {\r\n    add(value: T): this;\r\n    delete(value: T): boolean;\r\n    has(value: T): boolean;\r\n}\r\n\r\ninterface WeakSetConstructor {\r\n    new <T extends object = object>(values?: readonly T[] | null): WeakSet<T>;\r\n    readonly prototype: WeakSet<object>;\r\n}\r\ndeclare var WeakSet: WeakSetConstructor;\r\n'},"2aDi":function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/// <reference lib="es2017" />\r\n/// <reference lib="es2018.asynciterable" />\r\n/// <reference lib="es2018.asyncgenerator" />\r\n/// <reference lib="es2018.promise" />\r\n/// <reference lib="es2018.regexp" />\r\n/// <reference lib="es2018.intl" />\r\n'},"3/fG":function(e,t,i){"use strict";function n(e,t,...i){return function(e,t){let i;return i=0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,i){const n=i[0];return void 0!==t[n]?t[n]:e})),i}(t,i)}i.d(t,"a",(function(){return n}))},"3FTx":function(e,t,i){e.exports=function(){return new Worker(i.p+"compression.worker.js")}},"3Rsk":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ic2d"),o=i("MI8n");const r={JSONContribution:"base.contributions.json"};const s=new class{constructor(){this._onDidChangeSchema=new o.b,this.schemasById={}}registerSchema(e,t){var i;this.schemasById[(i=e,i.length>0&&"#"===i.charAt(i.length-1)?i.substring(0,i.length-1):i)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};n.a.add(r.JSONContribution,s)},"44XX":function(e,t,i){"use strict";i.d(t,"a",(function(){return _})),i.d(t,"b",(function(){return v}));i("51B1");var n=i("pmY6"),o=i("MI8n"),r=i("746U"),s=i("Sdnv"),a=i("6OMU"),l=i("cMOf"),c=i("zrhQ"),h=i("EffR"),d=i("GJhM"),u=i("QuOb");const g={separatorBorder:c.a.transparent};class p{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){e!==this.visible&&(e?(this.size=Object(s.b)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class m extends p{layoutContainer(e){this.container.style.top=e+"px",this.container.style.height=this.size+"px"}}class f extends p{layoutContainer(e){this.container.style.left=e+"px",this.container.style.width=this.size+"px"}}var b,_;!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(b||(b={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(_||(_={}));class v extends n.a{constructor(e,t={}){var i,n;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=b.Idle,this._onDidSashChange=this._register(new o.b),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new o.b),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=r.l(t.orientation)?0:t.orientation,this.inverseAltBehavior=!!t.inverseAltBehavior,this.proportionalLayout=!!r.l(t.proportionalLayout)||!!t.proportionalLayout,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=Object(h.q)(this.el,Object(h.a)(".sash-container")),this.viewContainer=Object(h.a)(".split-view-container"),this.scrollable=new u.a(125,h.V),this.scrollableElement=this._register(new d.c(this.viewContainer,{vertical:0===this.orientation?null!==(i=t.scrollbarVisibility)&&void 0!==i?i:1:2,horizontal:1===this.orientation?null!==(n=t.scrollbarVisibility)&&void 0!==n?n:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(e=>{this.viewContainer.scrollTop=e.scrollTop,this.viewContainer.scrollLeft=e.scrollLeft})),Object(h.q)(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||g),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((e,t)=>{const i=r.l(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;this.doAddView(n,i,t,!0)}),this.contentSize=this.viewItems.reduce((e,t)=>e+t.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let n=0;n<this.viewItems.length;n++){const t=this.viewItems[n];t.size=Object(s.b)(Math.round(this.proportions[n]*e),t.minimumSize,t.maximumSize)}else{const t=Object(a.r)(this.viewItems.length),n=t.filter(e=>1===this.viewItems[e].priority),o=t.filter(e=>2===this.viewItems[e].priority);this.resize(this.viewItems.length-1,e-i,void 0,n,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:i}){for(const n of this.viewItems)n.enabled=!1;const o=this.sashItems.findIndex(t=>t.sash===e),r=Object(n.e)(Object(h.i)(document.body,"keydown",e=>s(this.sashDragState.current,e.altKey)),Object(h.i)(document.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(e,t)=>{const i=this.viewItems.map(e=>e.size);let n,s,l=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(o===this.sashItems.length-1){const e=this.viewItems[o];l=(e.minimumSize-e.size)/2,c=(e.maximumSize-e.size)/2}else{const e=this.viewItems[o+1];l=(e.size-e.maximumSize)/2,c=(e.size-e.minimumSize)/2}}if(!t){const e=Object(a.r)(o,-1),t=Object(a.r)(o+1,this.viewItems.length),r=e.reduce((e,t)=>e+(this.viewItems[t].minimumSize-i[t]),0),l=e.reduce((e,t)=>e+(this.viewItems[t].viewMaximumSize-i[t]),0),c=0===t.length?Number.POSITIVE_INFINITY:t.reduce((e,t)=>e+(i[t]-this.viewItems[t].minimumSize),0),h=0===t.length?Number.NEGATIVE_INFINITY:t.reduce((e,t)=>e+(i[t]-this.viewItems[t].viewMaximumSize),0),d=Math.max(r,h),u=Math.min(c,l),g=this.findFirstSnapIndex(e),p=this.findFirstSnapIndex(t);if("number"==typeof g){const e=this.viewItems[g],t=Math.floor(e.viewMinimumSize/2);n={index:g,limitDelta:e.visible?d-t:d+t,size:e.size}}if("number"==typeof p){const e=this.viewItems[p],t=Math.floor(e.viewMinimumSize/2);s={index:p,limitDelta:e.visible?u+t:u-t,size:e.size}}}this.sashDragState={start:e,current:e,index:o,sizes:i,minDelta:l,maxDelta:c,alt:t,snapBefore:n,snapAfter:s,disposable:r}};s(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:n,alt:o,minDelta:r,maxDelta:s,snapBefore:a,snapAfter:l}=this.sashDragState;this.sashDragState.current=e;const c=e-i,h=this.resize(t,c,n,void 0,void 0,r,s,a,l);if(o){const e=t===this.sashItems.length-1,i=this.viewItems.map(e=>e.size),n=e?t:t+1,o=this.viewItems[n],r=o.size-o.maximumSize,s=o.size-o.minimumSize,a=e?t-1:t+1;this.resize(a,-h,i,void 0,void 0,r,s)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t="number"==typeof t?t:e.size,t=Object(s.b)(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==b.Idle)throw new Error("Cant modify splitview");if(this.state=b.Busy,e<0||e>=this.viewItems.length)return;const i=Object(a.r)(this.viewItems.length).filter(t=>t!==e),n=[...i.filter(e=>1===this.viewItems[e].priority),e],o=i.filter(e=>2===this.viewItems[e].priority),r=this.viewItems[e];t=Math.round(t),t=Object(s.b)(t,r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=t,this.relayout(n,o),this.state=b.Idle}distributeViewSizes(){const e=[];let t=0;for(const s of this.viewItems)s.maximumSize-s.minimumSize>0&&(e.push(s),t+=s.size);const i=Math.floor(t/e.length);for(const a of e)a.size=Object(s.b)(i,a.minimumSize,a.maximumSize);const n=Object(a.r)(this.viewItems.length),o=n.filter(e=>1===this.viewItems[e].priority),r=n.filter(e=>2===this.viewItems[e].priority);this.relayout(o,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,r){if(this.state!==b.Idle)throw new Error("Cant modify splitview");this.state=b.Busy;const s=Object(h.a)(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(i));const c=e.onDidChange(e=>this.onViewChange(p,e)),d=Object(n.i)(()=>this.viewContainer.removeChild(s)),u=Object(n.e)(c,d);let g;g="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const p=0===this.orientation?new m(s,e,g,u):new f(s,e,g,u);if(this.viewItems.splice(i,0,p),this.viewItems.length>1){let e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const t=0===this.orientation?new l.b(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:1})):new l.b(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:0})),r=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),s=o.c.map(t.onDidStart,r)(this.onSashStart,this),c=o.c.map(t.onDidChange,r)(this.onSashChange,this),h=o.c.map(t.onDidEnd,()=>this.sashItems.findIndex(e=>e.sash===t))(this.onSashEnd,this),d=t.onDidReset(()=>{const e=this.sashItems.findIndex(e=>e.sash===t),i=Object(a.r)(e,-1),n=Object(a.r)(e+1,this.viewItems.length),o=this.findFirstSnapIndex(i),r=this.findFirstSnapIndex(n);("number"!=typeof o||this.viewItems[o].visible)&&("number"!=typeof r||this.viewItems[r].visible)&&this._onDidSashReset.fire(e)}),u=Object(n.e)(s,c,h,d,t),g={sash:t,disposable:u};this.sashItems.splice(i-1,0,g)}let _;s.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(_=[t.index]),r||this.relayout([i],_),this.state=b.Idle,r||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce((e,t)=>e+t.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(e=>e.size),n,o,r=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,c,h){if(e<0||e>=this.viewItems.length)return 0;const d=Object(a.r)(e,-1),u=Object(a.r)(e+1,this.viewItems.length);if(o)for(const s of o)Object(a.p)(d,s),Object(a.p)(u,s);if(n)for(const s of n)Object(a.o)(d,s),Object(a.o)(u,s);const g=d.map(e=>this.viewItems[e]),p=d.map(e=>i[e]),m=u.map(e=>this.viewItems[e]),f=u.map(e=>i[e]),b=d.reduce((e,t)=>e+(this.viewItems[t].minimumSize-i[t]),0),_=d.reduce((e,t)=>e+(this.viewItems[t].maximumSize-i[t]),0),v=0===u.length?Number.POSITIVE_INFINITY:u.reduce((e,t)=>e+(i[t]-this.viewItems[t].minimumSize),0),C=0===u.length?Number.NEGATIVE_INFINITY:u.reduce((e,t)=>e+(i[t]-this.viewItems[t].maximumSize),0),w=Math.max(b,C,r),y=Math.min(v,_,l);let S=!1;if(c){const e=this.viewItems[c.index],i=t>=c.limitDelta;S=i!==e.visible,e.setVisible(i,c.size)}if(!S&&h){const e=this.viewItems[h.index],i=t<h.limitDelta;S=i!==e.visible,e.setVisible(i,h.size)}if(S)return this.resize(e,t,i,n,o,r,l);for(let a=0,L=t=Object(s.b)(t,w,y);a<g.length;a++){const e=g[a],t=Object(s.b)(p[a]+L,e.minimumSize,e.maximumSize);L-=t-p[a],e.size=t}for(let a=0,L=t;a<m.length;a++){const e=m[a],t=Object(s.b)(f[a]-L,e.minimumSize,e.maximumSize);L+=t-f[a],e.size=t}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((e,t)=>e+t.size,0);let i=this.size-t;const n=Object(a.r)(this.viewItems.length-1,-1),o=n.filter(e=>1===this.viewItems[e].priority),r=n.filter(e=>2===this.viewItems[e].priority);for(const s of r)Object(a.p)(n,s);for(const s of o)Object(a.o)(n,s);"number"==typeof e&&Object(a.o)(n,e);for(let a=0;0!==i&&a<n.length;a++){const e=this.viewItems[n[a]],t=Object(s.b)(e.size+i,e.minimumSize,e.maximumSize);i-=t-e.size,e.size=t}}layoutViews(){this.contentSize=this.viewItems.reduce((e,t)=>e+t.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(e=>e.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(t=>e=t.size-t.minimumSize>0||e);e=!1;const i=this.viewItems.map(t=>e=t.maximumSize-t.size>0||e),n=[...this.viewItems].reverse();e=!1;const o=n.map(t=>e=t.size-t.minimumSize>0||e).reverse();e=!1;const r=n.map(t=>e=t.maximumSize-t.size>0||e).reverse();let s=0;for(let l=0;l<this.sashItems.length;l++){const{sash:e}=this.sashItems[l];s+=this.viewItems[l].size;const n=!(t[l]&&r[l+1]),c=!(i[l]&&o[l+1]);if(n&&c){const i=Object(a.r)(l,-1),n=Object(a.r)(l+1,this.viewItems.length),r=this.findFirstSnapIndex(i),c=this.findFirstSnapIndex(n),h="number"==typeof r&&!this.viewItems[r].visible,d="number"==typeof c&&!this.viewItems[c].visible;h&&o[l]&&(s>0||this.startSnappingEnabled)?e.state=1:d&&t[l]&&(s<this.contentSize||this.endSnappingEnabled)?e.state=2:e.state=0}else e.state=n&&!c?1:!n&&c?2:3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach(e=>e.dispose()),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}}},"4bUh":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("twdY");class o{constructor(e,t){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t}static createEmpty(e){const t=o.defaultTokenMetadata,i=new Uint32Array(2);return i[0]=e.length,i[1]=t,new o(i,e)}equals(e){return e instanceof o&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,i){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const n=t<<1,o=n+(i<<1);for(let r=n;r<o;r++)if(this._tokens[r]!==e._tokens[r])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)];return n.E.getLanguageId(t)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return n.E.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return n.E.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return n.E.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[1+(e<<1)];return n.E.getInlineStyleFromMetadata(i,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return o.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new r(this,e,t,i)}static convertToEndOffset(e,t){const i=(e.length>>>1)-1;for(let n=0;n<i;n++)e[n<<1]=e[n+1<<1];e[i<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){const o=i+Math.floor((n-i)/2),r=e[o<<1];if(r===t)return o+1;r<t?i=o+1:r>t&&(n=o)}return i}withInserted(e){if(0===e.length)return this;let t=0,i=0,n="";const r=new Array;let s=0;for(;;){let o=t<this._tokensCount?this._tokens[t<<1]:-1,a=i<e.length?e[i]:null;if(-1!==o&&(null===a||o<=a.offset)){n+=this._text.substring(s,o);const e=this._tokens[1+(t<<1)];r.push(n.length,e),t++,s=o}else{if(!a)break;if(a.offset>s){n+=this._text.substring(s,a.offset);const e=this._tokens[1+(t<<1)];r.push(n.length,e),s=a.offset}n+=a.text,r.push(n.length,a.tokenMetadata),i++}}return new o(new Uint32Array(r),n)}}o.defaultTokenMetadata=16793600;class r{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,r=e.getCount();o<r;o++){if(e.getStartOffset(o)>=i)break;this._tokensCount++}}equals(e){return e instanceof r&&(this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},"4rho":function(e,t,i){},"4y0V":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));var n=i("MI8n");class o{constructor(e,t,i){const o=e=>this.emitter.fire(e);this.emitter=new n.b({onFirstListenerAdd:()=>e.addEventListener(t,o,i),onLastListenerRemove:()=>e.removeEventListener(t,o,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function r(e){return e.preventDefault(),e.stopPropagation(),e}},"51B1":function(e,t,i){},"51f4":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));let n=!1,o=null;function r(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,i=e.parent.location;if("null"!==t.origin&&"null"!==i.origin&&(t.protocol!==i.protocol||t.hostname!==i.hostname||t.port!==i.port))return n=!0,null}catch(t){return n=!0,null}return e.parent}class s{static getSameOriginWindowChain(){if(!o){o=[];let e,t=window;do{e=r(t),e?o.push({window:t,iframeElement:t.frameElement||null}):o.push({window:t,iframeElement:null}),t=e}while(t)}return o.slice(0)}static hasDifferentOriginAncestor(){return o||this.getSameOriginWindowChain(),n}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0,o=this.getSameOriginWindowChain();for(const r of o){if(i+=r.window.scrollY,n+=r.window.scrollX,r.window===t)break;if(!r.iframeElement)break;let e=r.iframeElement.getBoundingClientRect();i+=e.top,n+=e.left}return{top:i,left:n}}}},"51su":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("8LL/");const n="monaco-mouse-cursor-text"},"5TxY":function(e,t,i){"use strict";i.d(t,"d",(function(){return n})),i.d(t,"a",(function(){return m})),i.d(t,"b",(function(){return f})),i.d(t,"c",(function(){return b}));var n,o=i("D3Dy"),r=i("EffR"),s=i("X+cX"),a=i("MI8n"),l=i("pmY6"),c=i("ubTv"),h=i("MNsG"),d=i("N0LK"),u=i("Comh"),g=i("cGHE"),p=i("gCVg");!function(e){e.Tap="-monaco-textarea-synthetic-tap"}(n||(n={}));const m={forceCopyWithSyntaxHighlighting:!1};class f{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}f.INSTANCE=new f;class b extends l.a{constructor(e,t){super(),this.textArea=t,this._onFocus=this._register(new a.b),this.onFocus=this._onFocus.event,this._onBlur=this._register(new a.b),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new a.b),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new a.b),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new a.b),this.onCut=this._onCut.event,this._onPaste=this._register(new a.b),this.onPaste=this._onPaste.event,this._onType=this._register(new a.b),this.onType=this._onType.event,this._onCompositionStart=this._register(new a.b),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new a.b),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new a.b),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new a.b),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new v(t)),this._asyncTriggerCut=this._register(new s.e(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new s.e(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=u.b.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let i=null;this._register(r.o(t.domNode,"keydown",e=>{(109===e.keyCode||this._isDoingComposition&&1===e.keyCode)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),i=e,this._onKeyDown.fire(e)})),this._register(r.o(t.domNode,"keyup",e=>{this._onKeyUp.fire(e)})),this._register(r.i(t.domNode,"compositionstart",e=>{if(u.c&&console.log("[compositionstart]",e),!this._isDoingComposition){if(this._isDoingComposition=!0,h.f&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data){if(i&&i.equals(109)&&("ArrowRight"===i.code||"ArrowLeft"===i.code)||o.g)return u.c&&console.log("[compositionstart] Handling long press case on macOS + arrow key or Firefox",e),this._textAreaState=new u.b(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new g.a(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),void this._onCompositionStart.fire({revealDeltaColumns:-1})}o.e?this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart}):(this._setAndWriteTextAreaState("compositionstart",u.b.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0}))}}));const l=e=>{const t=this._textAreaState,i=u.b.readFromTextArea(this._textArea);return[i,u.b.deduceInput(t,i,e)]},c=()=>{const e=this._textAreaState,t=u.b.readFromTextArea(this._textArea);return[t,u.b.deduceAndroidCompositionInput(e,t)]},p=e=>{const t=this._textAreaState,i=u.b.selectedText(e);return[i,{text:i.value,replacePrevCharCnt:t.selectionEnd-t.selectionStart,replaceNextCharCnt:0,positionDelta:0}]};this._register(r.i(t.domNode,"compositionupdate",e=>{if(u.c&&console.log("[compositionupdate]",e),o.e){const[t,i]=c();return this._textAreaState=t,this._onType.fire(i),void this._onCompositionUpdate.fire(e)}const[t,i]=p(e.data||"");this._textAreaState=t,this._onType.fire(i),this._onCompositionUpdate.fire(e)})),this._register(r.i(t.domNode,"compositionend",e=>{if(u.c&&console.log("[compositionend]",e),!this._isDoingComposition)return;if(this._isDoingComposition=!1,o.e){const[e,t]=c();return this._textAreaState=e,this._onType.fire(t),void this._onCompositionEnd.fire()}const[t,i]=p(e.data||"");this._textAreaState=t,this._onType.fire(i),(o.f||o.g)&&(this._textAreaState=u.b.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(r.i(t.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[e,t]=l(h.f);0===t.replacePrevCharCnt&&1===t.text.length&&d.F(t.text.charCodeAt(0))||(this._textAreaState=e,0===this._nextCommand?""===t.text&&0===t.replacePrevCharCnt||this._onType.fire(t):(""===t.text&&0===t.replacePrevCharCnt||this._firePaste(t.text,null),this._nextCommand=0))})),this._register(r.i(t.domNode,"cut",e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()})),this._register(r.i(t.domNode,"copy",e=>{this._ensureClipboardGetsEditorSelection(e)})),this._register(r.i(t.domNode,"paste",e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),_.canUseTextData(e)){const[t,i]=_.getTextData(e);""!==t&&this._firePaste(t,i)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",u.b.EMPTY),this._nextCommand=1})),this._register(r.i(t.domNode,"focus",()=>{const e=this._hasFocus;this._setHasFocus(!0),o.h&&!e&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(r.i(t.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(r.i(t.domNode,n.Tap,()=>{o.e&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return r.i(document,"selectionchange",t=>{if(!this._hasFocus)return;if(this._isDoingComposition)return;if(!o.f)return;const i=Date.now(),n=i-e;if(e=i,n<5)return;const r=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),r<100)return;if(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const s=this._textArea.getValue();if(this._textAreaState.value!==s)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const c=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(c[0],c[1],c[2]),d=this._textAreaState.deduceEditorPosition(l),u=this._host.deduceModelPosition(d[0],d[1],d[2]),g=new p.a(h.lineNumber,h.column,u.lineNumber,u.column);this._onSelectionChangeRequest.fire(g)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=r.F(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):r.N(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(_.canUseTextData(e)),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};f.INSTANCE.set(o.g?t.text.replace(/\r\n/g,"\n"):t.text,i),_.canUseTextData(e)?_.setTextData(e,t.text,t.html,i):this._setAndWriteTextAreaState("copy or cut",u.b.selectedText(t.text))}_firePaste(e,t){t||(t=f.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})}}class _{static canUseTextData(e){return!!e.clipboardData||!!window.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const i=e.clipboardData.getData(c.a.text);let n=null;const o=e.clipboardData.getData("vscode-editor-data");if("string"==typeof o)try{n=JSON.parse(o),1!==n.version&&(n=null)}catch(t){}return[i,n]}if(window.clipboardData){e.preventDefault();return[window.clipboardData.getData("Text"),null]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,i,n){if(e.clipboardData)return e.clipboardData.setData(c.a.text,t),"string"==typeof i&&e.clipboardData.setData("text/html",i),e.clipboardData.setData("vscode-editor-data",JSON.stringify(n)),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",t),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class v extends l.a{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,t){const i=this._actual.domNode;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return"backward"===this._actual.domNode.selectionDirection?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(e,t,i){const n=this._actual.domNode;let s=null;const a=r.F(n);s=a?a.activeElement:document.activeElement;const l=s===n,c=n.selectionStart,h=n.selectionEnd;if(l&&c===t&&h===i)o.g&&window.parent!==window&&n.focus();else{if(l)return this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),void(o.g&&window.parent!==window&&n.focus());try{const e=r.U(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),r.S(n,e)}catch(d){}}}}},"5Y4S":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("MNsG");const o=n.b.performance&&"function"==typeof n.b.performance.now;class r{constructor(e){this._highResolution=o&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new r(e)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?n.b.performance.now():Date.now()}}},"5Yg1":function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/// <reference lib="es2015.iterable" />\r\n\r\ninterface ObjectConstructor {\r\n    /**\r\n     * Returns an object created by key-value entries for properties and methods\r\n     * @param entries An iterable object that contains key-value entries for properties and methods.\r\n     */\r\n    fromEntries<T = any>(entries: Iterable<readonly [PropertyKey, T]>): { [k: string]: T };\r\n\r\n    /**\r\n     * Returns an object created by key-value entries for properties and methods\r\n     * @param entries An iterable object that contains key-value entries for properties and methods.\r\n     */\r\n    fromEntries(entries: Iterable<readonly any[]>): any;\r\n}\r\n'},"5gtm":function(e,t,i){var n;self,e.exports=(n=i("q1tI"),(()=>{var e={589:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>U,findAllTargetPathByProp:()=>a.findAllTargetPathByProp,findTargetNode:()=>a.findTargetNode,findTargetPathByProp:()=>a.findTargetPathByProp,testData:()=>a.testData});var n=i(297),o=i.n(n),r=i(697),s=i.n(r),a=i(880),l=i.n(a),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h=o().createContext&&o().createContext(c),d=function(){return(d=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e){return function(t){return o().createElement(g,d({attr:d({},e.attr)},t),function e(t){return t&&t.map((function(t,i){return o().createElement(t.tag,d({key:i},t.attr),e(t.child))}))}(e.child))}}function g(e){var t=function(t){var i,n=e.attr,r=e.size,s=e.title,a=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i}(e,["attr","size","title"]),l=r||t.size||"1em";return t.className&&(i=t.className),e.className&&(i=(i?i+" ":"")+e.className),o().createElement("svg",d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,a,{className:i,style:d(d({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&o().createElement("title",null,s),e.children)};return void 0!==h?o().createElement(h.Consumer,null,(function(e){return t(e)})):t(c)}function p(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]})(e)}function m(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]})(e)}function f(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]})(e)}function b(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]})(e)}function _(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]})(e)}function v(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]})(e)}function C(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"}}]})(e)}function w(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494z"}}]})(e)}function y(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1zm396-144.7H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]})(e)}function S(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 0 0-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]})(e)}function L(e){return u({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]})(e)}var x=function(e){var t=e.status,i=e.onChange,r=1===t,s=.5===t,a=(0,n.useRef)(null);return(0,n.useLayoutEffect)((function(){var e=null==a?void 0:a.current;e&&(e.indeterminate=s)})),o().createElement("div",{className:"CheckBox"},o().createElement("input",{className:"checkboxDOM",type:"checkbox",checked:r,onChange:i,ref:a}))};x.propTypes={status:s().number.isRequired,onChange:s().func.isRequired};const k=x,D=(0,n.createContext)(null);var I=function(e){return"iconContainer ".concat(e)},O=function(e){return"icon ".concat(e)},N=function(e){return function(t){var i=t.className,n=t.onClick;return o().createElement(e,{className:i,onClick:n})}};function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var T=function(e){var t,i=e.isEditing,r=e.setIsEditing,s=e.onNameChange,a=e.OKIcon,l=e.CancelIcon,c=e.nodeData,h=c.name,d=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(h))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),2!==i.length);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i}}(t)||function(e,t){if(e){if("string"==typeof e)return E(e,2);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?E(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=d[0],g=d[1],p=o().createElement("span",{className:"editingName"},o().createElement("input",{type:"text",value:u,onChange:function(e){return g(e.target.value)}}),o().createElement("span",{className:I("editableNameToolbar")},o().createElement(a,{className:O("OKIcon"),onClick:function(){s(u),r(!1)},nodeData:c}),o().createElement(l,{className:O("CancelIcon"),onClick:function(){g(h),r(!1)},nodeData:c}))),m=o().createElement("span",{className:"displayName"},h);return o().createElement("span",{className:"EditableName"},i?p:m)};T.propTypes={isEditing:s().bool.isRequired,setIsEditing:s().func.isRequired,onNameChange:s().func.isRequired,OKIcon:s().func.isRequired,CancelIcon:s().func.isRequired,nodeData:s().object.isRequired};const M=T;function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return i}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return F(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function B(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var W=function e(t){var i=t.path,r=t.name,s=t.checked,a=t.isOpen,l=t.children,c=function(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}(t,["path","name","checked","isOpen","children"]),h=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){B(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({path:i,name:r,checked:s,isOpen:a},c),d=(0,n.useContext)(D),u=d.handleCheck,g=d.handleRename,x=d.handleDelete,E=d.handleAddNode,T=d.handleToggleOpen,W=d.iconComponents,V=d.indentPixels,H=d.onNameClick,z=d.showCheckbox,U=d.readOnly,K=!!l,q={marginLeft:i.length*V},$=R((0,n.useState)(!1),2),G=$[0],Y=$[1],Z=R((0,n.useState)(!1),2),X=Z[0],Q=Z[1],J=W.FileIcon,ee=void 0===J?N(w):J,te=W.FolderIcon,ie=void 0===te?N(L):te,ne=W.FolderOpenIcon,oe=void 0===ne?N(S):ne,re=W.EditIcon,se=void 0===re?N(v):re,ae=W.DeleteIcon,le=void 0===ae?N(_):ae,ce=W.CancelIcon,he=void 0===ce?N(b):ce,de=W.AddFileIcon,ue=void 0===de?N(C):de,ge=W.AddFolderIcon,pe=void 0===ge?N(y):ge,me=W.CaretRightIcon,fe=void 0===me?N(m):me,be=W.CaretDownIcon,_e=void 0===be?N(p):be,ve=W.OKIcon,Ce=void 0===ve?N(f):ve,we=ee,ye="FileIcon";K&&(we=a?oe:ie,ye=a?"FolderOpenIcon":"FolderIcon");var Se=function(){return!X&&!U&&Y(!0)},Le=o().createElement("span",{className:I("TreeNodeToolBar")},o().createElement(se,{className:O("EditIcon"),onClick:function(){Q(!0),Y(!1)},nodeData:h}),o().createElement(le,{className:O("DeleteIcon"),onClick:function(){return x(i)},nodeData:h}),K&&o().createElement(o().Fragment,null,o().createElement(ue,{className:O("AddFileIcon"),onClick:function(){return E(i,!1)},nodeData:h}),o().createElement(pe,{className:O("AddFolderIcon"),onClick:function(){return E(i,!0)},nodeData:h})),o().createElement(he,{className:O("CancelIcon"),onClick:function(){return Y(!1)},nodeData:h})),xe=o().createElement("span",{className:I("caretContainer")},a?o().createElement(_e,{className:O("CaretDownIcon"),onClick:function(){return T(i,!1)},nodeData:h}):o().createElement(fe,{className:O("CaretRightIcon"),onClick:function(){return T(i,!0)},nodeData:h}));return o().createElement(o().Fragment,null,o().createElement("div",{className:"TreeNode",style:q},z&&o().createElement(k,{status:s,onChange:function(e){if(!U){var t=+e.target.checked;u(i,t)}}}),K&&xe,o().createElement("span",{className:I("typeIconContainer")},o().createElement(we,{className:O(ye),onClick:Se,nodeData:h})),o().createElement("span",{className:I("editableNameContainer"),onClick:function(){var e=Se;H&&"function"==typeof H?!X&&H({defaultOnClick:e,nodeData:h}):e()}},o().createElement(M,{isEditing:X,setIsEditing:Q,onNameChange:function(e){return g(i,e)},OKIcon:Ce,CancelIcon:he,nodeData:h})),G&&Le),K&&a&&l.map((function(t,n){return o().createElement(e,A({key:t._id,path:[].concat((r=i,function(e){if(Array.isArray(e))return F(e)}(r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||P(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[n])},t));var r})))};W.propTypes={path:s().array.isRequired,name:s().string.isRequired,checked:s().number.isRequired,isOpen:s().bool,children:s().array};const V=W;function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var z=function(e){var t=e.data,i=e.onChange,n=void 0===i?console.log:i,r=e.initCheckedStatus,s=void 0===r?"unchecked":r,a=e.initOpenStatus,c=void 0===a?"open":a,h=e.iconComponents,d=void 0===h?{}:h,u=e.showCheckbox,g=void 0===u||u,p=e.indentPixels,m=void 0===p?30:p,f=e.onNameClick,b=void 0===f?null:f,_=e.readOnly,v=void 0!==_&&_,C={initCheckedStatus:s,initOpenStatus:c},w=l()({data:t,options:C,onChange:n}),y=w.treeState,S=w.reducers,L=S.checkNode,x=S.renameNode,k=S.deleteNode,I=S.addNode,O=S.toggleOpen;if(!y)return null;var N={handleCheck:L,handleRename:x,handleDelete:k,handleAddNode:I,handleToggleOpen:O,onNameClick:b,iconComponents:d,indentPixels:m,showCheckbox:g,readOnly:v};return o().createElement("div",{className:"FolderTree"},o().createElement(D.Provider,{value:N},o().createElement(V,H({key:y._id,path:[]},y))))};z.propTypes={data:s().object.isRequired,onChange:s().func,initCheckedStatus:s().string,initOpenStatus:s().string,iconComponents:s().shape({FileIcon:s().func,FolderIcon:s().func,FolderOpenIcon:s().func,EditIcon:s().func,DeleteIcon:s().func,CancelIcon:s().func,AddFileIcon:s().func,AddFolderIcon:s().func,CaretRightIcon:s().func,CaretDownIcon:s().func}),indentPixels:s().number,onNameClick:s().func,showCheckbox:s().bool,readOnly:s().bool};const U=z},703:(e,t,i)=>{"use strict";var n=i(414);function o(){}function r(){}r.resetWarningCache=o,e.exports=function(){function e(e,t,i,o,r,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:o};return i.PropTypes=i,i}},697:(e,t,i)=>{e.exports=i(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},880:(e,t,i)=>{var n;self,e.exports=(n=i(297),(()=>{"use strict";var e={297:e=>{e.exports=n}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{default:()=>A,findAllTargetPathByProp:()=>x,findTargetNode:()=>d,findTargetPathByProp:()=>k,testData:()=>D});var e=i(297);function t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function n(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=l(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){a=!0,r=e},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var h=function(e){return JSON.parse(JSON.stringify(e))},d=function(e,t){var i,n=e,o=a(t);try{for(o.s();!(i=o.n()).done;){var r=i.value,s=n.children;if(r>=s.length||r<0)throw new Error("finding node failed: invalid path!!");n=s[r]}}catch(e){o.e(e)}finally{o.f()}return n},u=function e(t){var i=t.children,n=t._id;return i?Math.max.apply(Math,[n].concat(s(i.map(e)))):n},g=function(e){var t=0;return function e(i){i._id=t,t+=1;var n=i.children;if(n){var o,r=a(n);try{for(r.s();!(o=r.n()).done;)e(o.value)}catch(e){r.e(e)}finally{r.f()}}return i}(h(e))},p=function e(t,i){t.checked=i;var o=t.children;if(o){var r,s=a(o);try{for(s.s();!(r=s.n()).done;)e(r.value,i)}catch(e){s.e(e)}finally{s.f()}}return n({},t)},m=p,f=function e(t){if(0!==t.length){var i=t.pop();i.checked=function(e){var t=e.children;if(!(null!=t&&t.length)>0)return e.checked;var i,n=0,o=a(t);try{for(o.s();!(i=o.n()).done;)n+=i.value.checked}catch(e){o.e(e)}finally{o.f()}var r=.5;return n===t.length?r=1:0===n&&(r=0),r}(i),e(t)}},b=function(e,t,i){var o,r=e,s=[r],l=a(t);try{for(l.s();!(o=l.n()).done;){var c=o.value;r=r.children[c],s.push(r)}}catch(e){l.e(e)}finally{l.f()}return p(r,i),s.pop(),f(s),n({},e)},_=function(e,t,i){return d(e,t).name=i,n({},e)},v=function(e,t){var i=e;if(0===t.length)return i.children=[],i.checked=0,i;var o,r=[i],s=t.pop(),l=a(t);try{for(l.s();!(o=l.n()).done;){var c=o.value;i=i.children[c],r.push(i)}}catch(e){l.e(e)}finally{l.f()}return i.children.splice(s,1),f(r),n({},e)},C=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=u(e)+1,r=d(e,t),s=r.children;if(!s)throw new Error("can't add node to a file!!");return i?s.push({_id:o,name:"new folder",checked:Math.floor(r.checked),children:[]}):s.unshift({_id:o,name:"new file",checked:Math.floor(r.checked)}),n({},e)},w=function(e,t,i){var o=d(e,t);if(!o.children)throw new Error("only parent node (folder) can be opened!!");return o.isOpen=i,n({},e)},y=function e(t,i){var o=n({},t),r=o.children;return r&&(o.isOpen=i,o.children=r.map((function(t){return e(t,i)}))),o},S=function e(t){var i=t.children,n=t.isOpen;if(i&&void 0===n)return!1;if(!i&&void 0!==n)return!1;if(i){var o,r=a(i);try{for(r.s();!(o=r.n()).done;)if(!e(o.value))return!1}catch(e){r.e(e)}finally{r.f()}}return!0},L=function(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];return{type:e,path:t,params:n}},x=function(e,t,i){var n=[];return function e(o,r){o[t]===i&&n.push(h(r));var a=o.children;a&&a.forEach((function(t,i){return e(t,[].concat(s(r),[i]))}))}(e,[]),n},k=function(e,t,i){var n=x(e,t,i);return n.length>0?n[0]:null},D={name:"All Cryptos",children:[{name:"Bitcoin"},{name:"Etherium"},{name:"Polkadot"},{name:"POW",children:[{name:"Bitcoin"},{name:"Litecoin"},{name:"Bitcoin Cash"}]},{name:"Public Chains",children:[{name:"Ripple"},{name:"Chainlink"},{name:"POW",children:[{name:"Bitcoin"},{name:"Litecoin"},{name:"Bitcoin Cash"}]},{name:"POS",children:[{name:"Etherium"},{name:"EOS"},{name:"Crosschain",children:[{name:"Polkadot"},{name:"Cosmos"}]}]}]}]};function I(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function N(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=i){var n,o,r=[],s=!0,a=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==i.return||i.return()}finally{if(a)throw o}}return r}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return M(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}const A=function(t){var i=t.data,n=t.onChange,o=t.options,r=void 0===o?{}:o,s=t.customReducers,a=void 0===s?{}:s,l=E((0,e.useState)(null),2),c=l[0],h=l[1],d=E((0,e.useState)({type:"initialization",path:null,params:[]}),2),u=d[0],p=d[1],f=r.initCheckedStatus,x=r.initOpenStatus;(0,e.useEffect)((function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unchecked",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"open",n=g(e);switch(t){case"unchecked":n=m(n,0);break;case"checked":n=m(n,1)}switch(i){case"open":n=y(n,!0);break;case"closed":n=y(n,!1);break;default:S(n)||(console.log("custom open status is invalid! Fell back to all opened."),n=y(n,!0))}return n}(i,f,x);h(e)}),[i,f,x]),(0,e.useEffect)((function(){"function"==typeof n&&c&&u&&n(c,u)}),[c,u]);var k=function(e,t){return function(i){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];var s=L.apply(void 0,[t,N(i)].concat(o)),a=e.apply(void 0,[c,N(i)].concat(o));p(s),h(a)}},D=Object.fromEntries(Object.entries(a).map((function(e){var t=E(e,2),i=t[0],n=t[1];return[i,k(n,i)]}))),T=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?I(Object(i),!0).forEach((function(t){O(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({setTreeState:function(e){var t=L("setTreeState",null,e);p(t),h(e)},checkNode:k(b,"checkNode"),renameNode:k(_,"renameNode"),deleteNode:k(v,"deleteNode"),addNode:k(C,"addNode"),toggleOpen:k(w,"toggleOpen")},D);return{treeState:c,reducers:T}}})(),o})())},297:e=>{"use strict";e.exports=n}},t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}return i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(589)})())},"5nk5":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i("HpOR"),o=i("erNZ");function r(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class s{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${r(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${r(this.oldText)}")`:`(replace@${this.oldPosition} "${r(this.oldText)}" with "${r(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const o=t.length;n.f(e,o,i),i+=4;for(let r=0;r<o;r++)n.e(e,t.charCodeAt(r),i),i+=2;return i}static _readString(e,t){const i=n.c(e,t);return t+=4,Object(o.b)(e,t,i)}writeSize(){return 8+s._writeStringSize(this.oldText)+s._writeStringSize(this.newText)}write(e,t){return n.f(e,this.oldPosition,t),t+=4,n.f(e,this.newPosition,t),t+=4,t=s._writeString(e,this.oldText,t),t=s._writeString(e,this.newText,t)}static read(e,t,i){const o=n.c(e,t);t+=4;const r=n.c(e,t);t+=4;const a=s._readString(e,t);t+=s._writeStringSize(a);const l=s._readString(e,t);return t+=s._writeStringSize(l),i.push(new s(o,a,r,l)),t}}function a(e,t){if(null===e||0===e.length)return t;return new l(e,t).compress()}class l{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===i){this._acceptCurr(n),n=this._getCurr(++t);continue}if(null===n){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){const[e,t]=l._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(e),n=t;continue}if(i.newPosition<n.oldPosition){const[e,t]=l._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(e),i=t;continue}let o,r;if(n.oldEnd===i.newEnd)o=i,r=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){const[e,s]=l._splitPrev(i,n.oldLength);o=e,r=n,i=s,n=this._getCurr(++t)}else{const[t,s]=l._splitCurr(n,i.newLength);o=i,r=t,i=this._getPrev(++e),n=s}this._result[this._resultLen++]=new s(o.oldPosition,o.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=o.newLength-o.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const o=l._merge(this._result);return l._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=l._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=l._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new s(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new s(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),n=e.newText.substr(t);return[new s(e.oldPosition,e.oldText,e.newPosition,i),new s(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new s(e.oldPosition,i,e.newPosition,e.newText),new s(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;let t=[],i=0,n=e[0];for(let o=1;o<e.length;o++){const r=e[o];n.oldEnd===r.oldPosition?n=new s(n.oldPosition,n.oldText+r.oldText,n.newPosition,n.newText+r.newText):(t[i++]=n,n=r)}return t[i++]=n,t}static _removeNoOps(e){if(0===e.length)return e;let t=[],i=0;for(let n=0;n<e.length;n++){const o=e[n];o.oldText!==o.newText&&(t[i++]=o)}return t}}},"5v8Y":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("MXAL");class o extends n.a{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const r=function(e){let t={};return i=>(t.hasOwnProperty(i)||(t[i]=e(i)),t[i])}(e=>new o(e))},"62hx":function(e,t,i){},"6OMU":function(e,t,i){"use strict";function n(e,t=0){return e[e.length-(1+t)]}function o(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function r(e,t,i=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(!i(e[n],t[n]))return!1;return!0}function s(e,t,i){let n=0,o=e.length-1;for(;n<=o;){const r=(n+o)/2|0,s=i(e[r],t);if(s<0)n=r+1;else{if(!(s>0))return r;o=r-1}}return-(n+1)}function a(e,t){let i=0,n=e.length;if(0===n)return 0;for(;i<n;){const o=Math.floor((i+n)/2);t(e[o])?n=o:i=o+1}return i}function l(e,t,i){if((e|=0)>=t.length)throw new TypeError("invalid index");let n=t[Math.floor(t.length*Math.random())],o=[],r=[],s=[];for(let a of t){const e=i(a,n);e<0?o.push(a):e>0?r.push(a):s.push(a)}return e<o.length?l(e,o,i):e<o.length+s.length?s[0]:l(e-(o.length+s.length),r,i)}function c(e,t){const i=[];let n=void 0;for(const o of e.slice(0).sort(t))n&&0===t(n[0],o)?n.push(o):(n=[o],i.push(n));return i}function h(e){return e.filter(e=>!!e)}function d(e){return!Array.isArray(e)||0===e.length}function u(e){return Array.isArray(e)&&e.length>0}function g(e,t){if(!t)return e.filter((t,i)=>e.indexOf(t)===i);const i=Object.create(null);return e.filter(e=>{const n=t(e);return!i[n]&&(i[n]=!0,!0)})}function p(e){const t=new Set;return e.filter(e=>!t.has(e)&&(t.add(e),!0))}function m(e,t){return e.length>0?e[0]:t}function f(e){return[].concat(...e)}function b(e,t){let i="number"==typeof t?e:0;"number"==typeof t?i=e:(i=0,t=e);const n=[];if(i<=t)for(let o=i;o<t;o++)n.push(o);else for(let o=i;o>t;o--)n.push(o);return n}function _(e,t,i){const n=e.slice(0,t),o=e.slice(t);return n.concat(i,o)}function v(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function C(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}function w(e){return Array.isArray(e)?e:[e]}function y(e,t,i,n){const o=S(e,t),r=e.splice(o,i);return function(e,t,i){const n=S(e,t),o=e.length,r=i.length;e.length=o+r;for(let s=o-1;s>=n;s--)e[s+r]=e[s];for(let s=0;s<r;s++)e[s+n]=i[s]}(e,o,n),r}function S(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}i.d(t,"t",(function(){return n})),i.d(t,"u",(function(){return o})),i.d(t,"h",(function(){return r})),i.d(t,"d",(function(){return s})),i.d(t,"i",(function(){return a})),i.d(t,"q",(function(){return l})),i.d(t,"l",(function(){return c})),i.d(t,"e",(function(){return h})),i.d(t,"m",(function(){return d})),i.d(t,"n",(function(){return u})),i.d(t,"f",(function(){return g})),i.d(t,"g",(function(){return p})),i.d(t,"j",(function(){return m})),i.d(t,"k",(function(){return f})),i.d(t,"r",(function(){return b})),i.d(t,"b",(function(){return _})),i.d(t,"p",(function(){return v})),i.d(t,"o",(function(){return C})),i.d(t,"c",(function(){return w})),i.d(t,"s",(function(){return y})),i.d(t,"a",(function(){return L}));class L{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}}},"6vuP":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("dialogService")},"7/Ik":function(e,t,i){"use strict";i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return g}));i("yEoX");var n=i("MNsG"),o=i("3/fG"),r=i("pmY6"),s=i("8HAY"),a=i("746U"),l=i("pg8w"),c=i("ZQ78"),h=i("D3Dy"),d=i("EffR");class u extends r.a{constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof s.a&&this._register(t.onDidChange(e=>{this.element&&this.handleActionChangeEvent(e)}))}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new s.b)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(l.b.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,h.g&&this._register(Object(d.i)(e,d.d.DRAG_START,e=>{var t;return null===(t=e.dataTransfer)||void 0===t?void 0:t.setData(c.a.TEXT,this._action.label)}))),this._register(Object(d.i)(t,l.a.Tap,e=>this.onClick(e,!0))),this._register(Object(d.i)(t,d.d.MOUSE_DOWN,e=>{i||d.c.stop(e,!0),this._action.enabled&&0===e.button&&t.classList.add("active")})),n.f&&this._register(Object(d.i)(t,d.d.CONTEXT_MENU,e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)})),this._register(Object(d.i)(t,d.d.CLICK,e=>{d.c.stop(e,!0),this.options&&this.options.isMenu||n.k(()=>this.onClick(e))})),this._register(Object(d.i)(t,d.d.DBLCLICK,e=>{d.c.stop(e,!0)})),[d.d.MOUSE_UP,d.d.MOUSE_OUT].forEach(e=>{this._register(Object(d.i)(t,e,e=>{d.c.stop(e),t.classList.remove("active")}))})}onClick(e,t=!1){var i;d.c.stop(e,!0);const n=a.m(this._context)?(null===(i=this.options)||void 0===i?void 0:i.useEventAsContext)?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,n)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class g extends u{constructor(e,t,i={}){super(e,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=Object(d.q)(this.element,Object(d.a)("a.action-label"))),this.label&&(this._action.id===s.d.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(Object(d.q)(this.element,Object(d.a)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=o.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},"746U":function(e,t,i){"use strict";function n(e){return Array.isArray(e)}function o(e){return"string"==typeof e}function r(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function s(e){return"number"==typeof e&&!isNaN(e)}function a(e){return!0===e||!1===e}function l(e){return void 0===e}function c(e){return l(e)||null===e}function h(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}function d(e){if(c(e))throw new Error("Assertion Failed: argument is undefined or null");return e}function u(e){return"function"==typeof e}function g(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++)p(e[n],t[n])}function p(e,t){if(o(t)){if(typeof e!==t)throw new Error("argument does not match constraint: typeof "+t)}else if(u(t)){try{if(e instanceof t)return}catch(i){}if(!c(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function m(e){const t=[];for(const i of function(e){let t=[],i=Object.getPrototypeOf(e);for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}(e))"function"==typeof e[i]&&t.push(i);return t}function f(e,t){const i=e=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)};let n={};for(const o of e)n[o]=i(o);return n}function b(e){return null===e?void 0:e}function _(e,t="Unreachable"){throw new Error(t)}i.d(t,"f",(function(){return n})),i.d(t,"k",(function(){return o})),i.d(t,"j",(function(){return r})),i.d(t,"i",(function(){return s})),i.d(t,"g",(function(){return a})),i.d(t,"l",(function(){return l})),i.d(t,"m",(function(){return c})),i.d(t,"c",(function(){return h})),i.d(t,"a",(function(){return d})),i.d(t,"h",(function(){return u})),i.d(t,"n",(function(){return g})),i.d(t,"e",(function(){return m})),i.d(t,"d",(function(){return f})),i.d(t,"o",(function(){return b})),i.d(t,"b",(function(){return _}))},"79sc":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("markerDecorationsService")},"7GBL":function(e,t,i){},"7afs":function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return d}));var n=i("N0LK");function o(e){return r(e,0)}function r(e,t){switch(typeof e){case"object":return null===e?s(349,t):Array.isArray(e)?(i=e,n=s(104579,n=t),i.reduce((e,t)=>r(t,e),n)):function(e,t){return t=s(181387,t),Object.keys(e).sort().reduce((t,i)=>(t=a(i,t),r(e[i],t)),t)}(e,t);case"string":return a(e,t);case"boolean":return function(e,t){return s(e?433:863,t)}(e,t);case"number":return s(e,t);case"undefined":return s(937,t);default:return s(617,t)}var i,n}function s(e,t){return(t<<5)-t+e|0}function a(e,t){t=s(149417,t);for(let i=0,n=e.length;i<n;i++)t=s(e.charCodeAt(i),t);return t}function l(e,t,i=32){const n=i-t;return(e<<t|(~((1<<n)-1)&e)>>>n)>>>0}function c(e,t=0,i=e.byteLength,n=0){for(let o=0;o<i;o++)e[t+o]=n}function h(e,t=32){return e instanceof ArrayBuffer?Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join(""):function(e,t,i="0"){for(;e.length<t;)e=i+e;return e}((e>>>0).toString(16),t/4)}class d{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(0===t)return;const i=this._buff;let o,r,s=this._buffLen,a=this._leftoverHighSurrogate;for(0!==a?(o=a,r=-1,a=0):(o=e.charCodeAt(0),r=0);;){let l=o;if(n.F(o)){if(!(r+1<t)){a=o;break}{const t=e.charCodeAt(r+1);n.G(t)?(r++,l=n.j(o,t)):l=65533}}else n.G(o)&&(l=65533);if(s=this._push(i,s,l),r++,!(r<t))break;o=e.charCodeAt(r)}this._buffLen=s,this._leftoverHighSurrogate=a}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(1984&i)>>>6,e[t++]=128|(63&i)>>>0):i<65536?(e[t++]=224|(61440&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0):(e[t++]=240|(1835008&i)>>>18,e[t++]=128|(258048&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),h(this._h0)+h(this._h1)+h(this._h2)+h(this._h3)+h(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,c(this._buff,this._buffLen),this._buffLen>56&&(this._step(),c(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=d._bigBlock32,t=this._buffDV;for(let l=0;l<64;l+=4)e.setUint32(l,t.getUint32(l,!1),!1);for(let d=64;d<320;d+=4)e.setUint32(d,l(e.getUint32(d-12,!1)^e.getUint32(d-32,!1)^e.getUint32(d-56,!1)^e.getUint32(d-64,!1),1),!1);let i,n,o,r=this._h0,s=this._h1,a=this._h2,c=this._h3,h=this._h4;for(let d=0;d<80;d++)d<20?(i=s&a|~s&c,n=1518500249):d<40?(i=s^a^c,n=1859775393):d<60?(i=s&a|s&c|a&c,n=2400959708):(i=s^a^c,n=3395469782),o=l(r,5)+i+h+n+e.getUint32(4*d,!1)&4294967295,h=c,c=a,a=l(s,30),s=r,r=o;this._h0=this._h0+r&4294967295,this._h1=this._h1+s&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+c&4294967295,this._h4=this._h4+h&4294967295}}d._bigBlock32=new DataView(new ArrayBuffer(320))},"7lZ/":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("qj0h"),o=i("EffR"),r=i("fdyd");class s{constructor(e,t){this.supportIcons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t=[],i="",o){e||(e=""),o&&(e=s.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===i&&n.d(this.highlights,t)||(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const n=this.text.substring(t,i.start);e.push(o.a("span",void 0,...this.supportIcons?Object(r.a)(n):[n])),t=i.end}const n=this.text.substring(i.start,i.end),s=o.a("span.highlight",void 0,...this.supportIcons?Object(r.a)(n):[n]);i.extraClasses&&s.classList.add(i.extraClasses),e.push(s),t=i.end}if(t<this.text.length){const i=this.text.substring(t);e.push(o.a("span",void 0,...this.supportIcons?Object(r.a)(i):[i]))}o.R(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,(e,o)=>{n="\r\n"===e?-1:0,o+=i;for(const i of t)i.end<=o||(i.start>=o&&(i.start+=n),i.end>=o&&(i.end+=n));return i+=n,"⏎"})}}},"7zd4":function(e,t,i){},"8ATB":function(e,t,i){},"8HAY":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return l})),i.d(t,"d",(function(){return c})),i.d(t,"e",(function(){return h})),i.d(t,"c",(function(){return d}));var n=i("3/fG"),o=i("pmY6"),r=i("MI8n"),s=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class a extends o.a{constructor(e,t="",i="",n=!0,o){super(),this._onDidChange=this._register(new r.b),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return s(this,void 0,void 0,(function*(){this._actionCallback&&(yield this._actionCallback(e))}))}}class l extends o.a{constructor(){super(...arguments),this._onBeforeRun=this._register(new r.b),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new r.b),this.onDidRun=this._onDidRun.event}run(e,t){return s(this,void 0,void 0,(function*(){if(!e.enabled)return;this._onBeforeRun.fire({action:e});let i=void 0;try{yield this.runAction(e,t)}catch(n){i=n}this._onDidRun.fire({action:e,error:i})}))}runAction(e,t){return s(this,void 0,void 0,(function*(){yield e.run(t)}))}}class c extends a{constructor(e){super(c.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}c.ID="vs.actions.separator";class h{constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=e,this.label=t,this.class=n,this._actions=i}get actions(){return this._actions}dispose(){}run(){return s(this,void 0,void 0,(function*(){}))}}class d extends a{constructor(){super(d.ID,n.a("submenu.empty","(empty)"),void 0,!1)}}d.ID="vs.actions.empty"},"8HsV":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}},"8LL/":function(e,t,i){},"8gvo":function(e,t,i){},"8tI9":function(e,t,i){},"8uJE":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return $e}));var n=i("rePB"),o=i("q1tI"),r=i.n(o),s=i("pVnL"),a=i.n(s),l=i("MVZn"),c=i.n(l),h=i("lSNA"),d=i.n(h);class u{static isBrowser(){return"undefined"!=typeof window}static isOpera(){return u.isBrowser()&&(!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0)}static isFirefox(){return u.isBrowser()&&"undefined"!=typeof InstallTrigger}static isSafari(){return!!u.isBrowser()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}static isIE(){return u.isBrowser()&&!!document.documentMode}static isEdge(){return u.isBrowser()&&!u.isIE()&&!!window.StyleMedia}static isChrome(){return u.isBrowser()&&!!window.chrome&&!!window.chrome.webstore}static isBlink(){return u.isBrowser()&&(u.isChrome()||u.isOpera())&&!!window.CSS}static getUserAgent(){return"undefined"==typeof navigator?"":navigator.userAgent}static isAndroid(){return u.isBrowser()&&u.getUserAgent().match(/Android/i)}static isBlackBerry(){return u.isBrowser()&&u.getUserAgent().match(/BlackBerry/i)}static isIOS(){return u.isBrowser()&&u.getUserAgent().match(/iPhone|iPad|iPod/i)}static isOpera(){return u.isBrowser()&&u.getUserAgent().match(/Opera Mini/i)}static isWindows(){return u.isBrowser()&&u.isWindowsDesktop()||u.isWindowsMobile()}static isWindowsMobile(){return u.isBrowser()&&u.getUserAgent().match(/IEMobile/i)}static isWindowsDesktop(){return u.isBrowser()&&u.getUserAgent().match(/WPDesktop/i)}static isMobile(){return u.isBrowser()&&(u.isWindowsMobile()||u.isBlackBerry()||u.isAndroid()||u.isIOS())}}const g=e=>Object.keys(e).reduce((t,i)=>"data-"===i.substr(0,5)?c()({},t,{[i]:e[i]}):t,{});var p=i("17x9"),m=i.n(p);class f extends r.a.Component{static isA(e){return!!e&&e.type===f}constructor(e){super(e),d()(this,"ref",r.a.createRef()),d()(this,"onMouseMove",e=>{if(this.state.active){const t=this.ref.current;this.props.events.emit("resize",{index:this.props.index,domElement:t,event:e}),this.props.onResize&&this.props.onResize({component:this,domElement:t}),e.stopPropagation(),e.preventDefault()}}),d()(this,"onMouseDown",e=>{this.setState({active:!0}),this.props.onStartResize&&this.props.onStartResize({domElement:this.ref.current,component:this})||this.props.events.emit("startResize",{index:this.props.index,event:e})}),d()(this,"onMouseUp",e=>{this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:this.ref.current,component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:e}))}),this.state={active:!1},this.document=e.document}componentDidMount(){this.document&&(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}componentWillUnmount(){this.document&&(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}render(){const e=[u.isMobile()?"reflex-thin":"",...this.props.className.split(" "),this.state.active?"active":"","reflex-splitter"].join(" ").trim();return r.a.createElement("div",a()({},g(this.props),{onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,className:e,id:this.props.id,ref:this.ref}),this.props.children)}}d()(f,"propTypes",{children:m.a.oneOfType([m.a.arrayOf(m.a.node),m.a.node]),onStartResize:m.a.func,onStopResize:m.a.func,className:m.a.string,propagate:m.a.bool,onResize:m.a.func,style:m.a.object}),d()(f,"defaultProps",{document:"undefined"!=typeof document?document:null,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}});var b=class{constructor(){this._events={}}on(e,t){return e.split(" ").forEach(e=>{this._events[e]=this._events[e]||[],this._events[e].push(t)}),this}off(e,t){if(null!=e)return e.split(" ").forEach(e=>{e in this._events!=!1&&(t?this._events[e].splice(this._events[e].indexOf(t),1):this._events[e]=[])}),this;this._events={}}emit(e){if(void 0!==this._events[e])for(var t=this._events[e].slice(),i=0;i<t.length;++i){var n=t[i].apply(this,Array.prototype.slice.call(arguments,1));if(void 0!==n)return n}}};i("RpmQ");class _ extends r.a.Component{constructor(e){super(e),d()(this,"onWindowResize",()=>{this.setState({flexData:this.computeFlexData()})}),d()(this,"onStartResize",e=>{const t=e.event.changedTouches?e.event.changedTouches[0]:e.event;switch(this.props.orientation){case"horizontal":document.body.classList.add("reflex-row-resize"),this.previousPos=t.clientY;break;case"vertical":default:document.body.classList.add("reflex-col-resize"),this.previousPos=t.clientX}this.elements=[this.children[e.index-1],this.children[e.index+1]],this.emitElementsEvent(this.elements,"onStartResize")}),d()(this,"onResize",e=>{const t=e.event.changedTouches?e.event.changedTouches[0]:e.event,i=this.getOffset(t,e.domElement);switch(this.props.orientation){case"horizontal":this.previousPos=t.clientY;break;case"vertical":default:this.previousPos=t.clientX}if(i){const t=this.computeAvailableOffset(e.index,i);t&&(this.elements=this.dispatchOffset(e.index,t),this.adjustFlex(this.elements),this.setState({resizing:!0},()=>{this.emitElementsEvent(this.elements,"onResize")}))}}),d()(this,"onStopResize",e=>{document.body.classList.remove("reflex-row-resize"),document.body.classList.remove("reflex-col-resize");const t=this.elements?this.elements.map(e=>e.ref):[],i=this.children.filter(e=>!f.isA(e)&&t.includes(e.ref));this.emitElementsEvent(i,"onStopResize"),this.setState({resizing:!1})}),d()(this,"onElementSize",e=>new Promise(t=>{try{const i=e.index,n=this.getSize(this.children[i]),o=e.size-n,r=e.direction,s=i+r,a=this.computeAvailableOffset(s,r*o);this.elements=null,a&&(this.elements=this.dispatchOffset(s,a),this.adjustFlex(this.elements)),this.setState(this.state,()=>{this.emitElementsEvent(this.elements,"onResize"),t()})}catch(i){console.log(i)}})),this.events=new b,this.children=[],this.state={flexData:[]},this.ref=r.a.createRef()}componentDidMount(){const e=this.computeFlexData(),{windowResizeAware:t}=this.props;t&&window.addEventListener("resize",this.onWindowResize),this.setState({windowResizeAware:t,flexData:e}),this.events.on("element.size",this.onElementSize),this.events.on("startResize",this.onStartResize),this.events.on("stopResize",this.onStopResize),this.events.on("resize",this.onResize)}componentWillUnmount(){this.events.off(),window.removeEventListener("resize",this.onWindowResize)}getValidChildren(e=this.props){return this.toArray(e.children).filter(e=>!!e)}componentDidUpdate(e,t){const i=this.getValidChildren(this.props);if(i.length!==this.state.flexData.length||e.orientation!==this.props.orientation||this.flexHasChanged(e)){const e=this.computeFlexData(i,this.props);this.setState({flexData:e})}this.props.windowResizeAware!==this.state.windowResizeAware&&(this.props.windowResizeAware?window.addEventListener("resize",this.onWindowResize):window.removeEventListener("resize",this.onWindowResize),this.setState({windowResizeAware:this.props.windowResizeAware}))}flexHasChanged(e){const t=this.getValidChildren(e).map(e=>e.props.flex||0);return!this.getValidChildren().map(e=>e.props.flex||0).every((e,i)=>e===t[i])}getSize(e){const t=e.ref.current;switch(this.props.orientation){case"horizontal":return t.offsetHeight;case"vertical":default:return t.offsetWidth}}getOffset(e,t){const{top:i,bottom:n,left:o,right:r}=t.getBoundingClientRect();switch(this.props.orientation){case"horizontal":{const t=e.clientY-this.previousPos;if(t>0){if(e.clientY>=i)return t}else if(e.clientY<=n)return t;break}case"vertical":default:{const t=e.clientX-this.previousPos;if(t>0){if(e.clientX>o)return t}else if(e.clientX<r)return t}}return 0}adjustFlex(e){const t=e.reduce((t,i)=>{const n=i.props.index;return t+(i.props.flex-this.state.flexData[n].flex)/e.length},0);e.forEach(e=>{this.state.flexData[e.props.index].flex+=t})}computeAvailableOffset(e,t){const i=this.computeAvailableStretch(e,t),n=this.computeAvailableShrink(e,t);return Math.min(i,n)*Math.sign(t)}checkPropagate(e,t){if(t>0){if(e<this.children.length-2){const t=this.children[e+2];return f.isA(t)&&t.props.propagate}}else if(e>2){const t=this.children[e-2];return f.isA(t)&&t.props.propagate}return!1}computeAvailableStretch(e,t){const i=t<0?e+1:e-1,n=this.children[i],o=this.getSize(n),r=n.props.maxSize-o;if(r<Math.abs(t)&&this.checkPropagate(e,-1*t)){const i=Math.sign(t)*(Math.abs(t)-r);return r+this.computeAvailableStretch(t<0?e+2:e-2,i)}return Math.min(r,Math.abs(t))}computeAvailableShrink(e,t){const i=t>0?e+1:e-1,n=this.children[i],o=this.getSize(n)-Math.max(n.props.minSize,0);if(o<Math.abs(t)&&this.checkPropagate(e,t)){const i=Math.sign(t)*(Math.abs(t)-o);return o+this.computeAvailableShrink(t>0?e+2:e-2,i)}return Math.min(o,Math.abs(t))}computePixelFlex(e=this.props.orientation){if(!this.ref.current)return console.warn("Unable to locate ReflexContainer dom node"),0;switch(e){case"horizontal":return 0===this.ref.current.offsetHeight?(console.warn("Found ReflexContainer with height=0, this will cause invalid behavior..."),console.warn(this.ref.current),0):1/this.ref.current.offsetHeight;case"vertical":default:return 0===this.ref.current.offsetWidth?(console.warn("Found ReflexContainer with width=0, this will cause invalid behavior..."),console.warn(this.ref.current),0):1/this.ref.current.offsetWidth}}addOffset(e,t){const i=this.getSize(e),n=e.props.index,o=Math.max(i+t,0),r=this.state.flexData[n].flex,s=r>0?r*o/i:this.computePixelFlex()*o;this.state.flexData[n].flex=!isFinite(s)||isNaN(s)?0:s}dispatchStretch(e,t){const i=t<0?e+1:e-1;if(i<0||i>this.children.length-1)return[];const n=this.children[i],o=this.getSize(n),r=Math.min(n.props.maxSize,o+Math.abs(t))-o;if(this.addOffset(n,r),r<Math.abs(t)){const i=e-2*Math.sign(t),o=Math.sign(t)*(Math.abs(t)-r);return[n,...this.dispatchStretch(i,o)]}return[n]}dispatchShrink(e,t){const i=t>0?e+1:e-1;if(i<0||i>this.children.length-1)return[];const n=this.children[i],o=this.getSize(n),r=Math.max(n.props.minSize,o-Math.abs(t))-o;if(this.addOffset(n,r),Math.abs(r)<Math.abs(t)){const i=e+2*Math.sign(t),o=Math.sign(t)*(Math.abs(t)+r);return[n,...this.dispatchShrink(i,o)]}return[n]}dispatchOffset(e,t){return[...this.dispatchStretch(e,t),...this.dispatchShrink(e,t)]}emitElementsEvent(e,t){this.toArray(e).forEach(e=>{e.props[t]&&e.props[t]({domElement:e.ref.current,component:e})})}computeFlexData(e=this.getValidChildren(),t=this.props){const i=this.computePixelFlex(t.orientation),n=e.map(e=>{const t=e.props;return{maxFlex:(t.maxSize||Number.MAX_VALUE)*i,sizeFlex:(t.size||Number.MAX_VALUE)*i,minFlex:(t.minSize||1)*i,constrained:void 0!==t.flex,flex:t.flex||0,type:e.type}}),o=(e,t=0)=>{let i=!1;const n=(e=>e.reduce((e,t)=>f.isA(t)||t.constrained?e:e+1,0))(e),r=(e=>e.reduce((e,t)=>!f.isA(t)&&t.constrained?e-t.flex:e,1))(e),s=e.map(e=>{if(f.isA(e))return e;const t=e.constrained?e.flex:r/n,o=Math.min(e.sizeFlex,Math.min(e.maxFlex,Math.max(e.minFlex,t))),s=e.constrained||o!==t;return i=i||s,c()({},e,{flex:o,constrained:s})});return i&&t<this.props.maxRecDepth?o(s,t+1):s};return o(n).map(e=>({flex:f.isA(e)?0:e.flex,ref:r.a.createRef()}))}toArray(e){return e?Array.isArray(e)?e:[e]:[]}render(){const e=[this.state.resizing?"reflex-resizing":"",...this.props.className.split(" "),this.props.orientation,"reflex-container"].join(" ").trim();return this.children=r.a.Children.map(this.getValidChildren(),(e,t)=>{if(t>this.state.flexData.length-1)return r.a.createElement("div",null);const i=this.state.flexData[t],n=c()({},e.props,{maxSize:e.props.maxSize||Number.MAX_VALUE,orientation:this.props.orientation,minSize:e.props.minSize||1,events:this.events,flex:i.flex,ref:i.ref,index:t});return r.a.cloneElement(e,n)}),r.a.createElement("div",a()({},g(this.props),{style:this.props.style,className:e,ref:this.ref}),this.children)}}d()(_,"propTypes",{windowResizeAware:m.a.bool,orientation:m.a.oneOf(["horizontal","vertical"]),maxRecDepth:m.a.number,className:m.a.string,style:m.a.object}),d()(_,"defaultProps",{orientation:"horizontal",windowResizeAware:!1,maxRecDepth:100,className:"",style:{}});class v extends r.a.Component{static isA(e){return!!e&&e.type===v}constructor(e){super(e),d()(this,"ref",r.a.createRef()),d()(this,"onMouseMove",e=>{if(this.state.active){const t=this.ref.current;this.props.events.emit("resize",{index:this.props.index,domElement:t,event:e}),this.props.onResize&&this.props.onResize({component:this,domElement:t}),e.stopPropagation(),e.preventDefault()}}),d()(this,"onMouseDown",e=>{this.setState({active:!0}),this.props.onStartResize&&this.props.onStartResize({domElement:this.ref.current,component:this})||this.props.events.emit("startResize",{index:this.props.index,event:e})}),d()(this,"onMouseUp",e=>{this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:this.ref.current,component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:e}))}),this.state={active:!1},this.document=e.document}componentDidMount(){this.document&&(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}componentWillUnmount(){this.document&&(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}render(){const e=[...this.props.className.split(" "),this.state.active?"active":"","reflex-handle"].join(" ").trim();return r.a.createElement("div",a()({},g(this.props),{onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,className:e,id:this.props.id,ref:this.ref}),this.props.children)}}d()(v,"propTypes",{children:m.a.oneOfType([m.a.arrayOf(m.a.node),m.a.node]),onStartResize:m.a.func,onStopResize:m.a.func,className:m.a.string,propagate:m.a.bool,onResize:m.a.func,style:m.a.object}),d()(v,"defaultProps",{document:"undefined"==typeof document?null:document,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}});var C=i("hKI/"),w=i.n(C),y=i("wx14"),S=i("zLVn"),L=i("dI71"),x=i("bdgK"),k=["client","offset","scroll","bounds","margin"];function D(e){var t=[];return k.forEach((function(i){e[i]&&t.push(i)})),t}function I(e,t){var i={};if(t.indexOf("client")>-1&&(i.client={top:e.clientTop,left:e.clientLeft,width:e.clientWidth,height:e.clientHeight}),t.indexOf("offset")>-1&&(i.offset={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),t.indexOf("scroll")>-1&&(i.scroll={top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}),t.indexOf("bounds")>-1){var n=e.getBoundingClientRect();i.bounds={top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height}}if(t.indexOf("margin")>-1){var o=getComputedStyle(e);i.margin={top:o?parseInt(o.marginTop):0,right:o?parseInt(o.marginRight):0,bottom:o?parseInt(o.marginBottom):0,left:o?parseInt(o.marginLeft):0}}return i}function O(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||window}var N,E,T,M,A=(N=function(e){var t=e.measure,i=e.measureRef,n=e.contentRect;return(0,e.children)({measure:t,measureRef:i,contentRect:n})},T=E=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},t._animationFrameID=null,t._resizeObserver=null,t._node=null,t._window=null,t.measure=function(e){var i=I(t._node,M||D(t.props));e&&(i.entry=e[0].contentRect),t._animationFrameID=t._window.requestAnimationFrame((function(){null!==t._resizeObserver&&(t.setState({contentRect:i}),"function"==typeof t.props.onResize&&t.props.onResize(i))}))},t._handleRef=function(e){null!==t._resizeObserver&&null!==t._node&&t._resizeObserver.unobserve(t._node),t._node=e,t._window=O(t._node);var i=t.props.innerRef;i&&("function"==typeof i?i(t._node):i.current=t._node),null!==t._resizeObserver&&null!==t._node&&t._resizeObserver.observe(t._node)},t}Object(L.a)(t,e);var i=t.prototype;return i.componentDidMount=function(){this._resizeObserver=null!==this._window&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new x.a(this.measure),null!==this._node&&(this._resizeObserver.observe(this._node),"function"==typeof this.props.onResize&&this.props.onResize(I(this._node,M||D(this.props))))},i.componentWillUnmount=function(){null!==this._window&&this._window.cancelAnimationFrame(this._animationFrameID),null!==this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},i.render=function(){var e=this.props,t=(e.innerRef,e.onResize,Object(S.a)(e,["innerRef","onResize"]));return Object(o.createElement)(N,Object(y.a)({},t,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},t}(o.Component),E.propTypes={client:m.a.bool,offset:m.a.bool,scroll:m.a.bool,bounds:m.a.bool,margin:m.a.bool,innerRef:m.a.oneOfType([m.a.object,m.a.func]),onResize:m.a.func},T);A.displayName="Measure",A.propTypes.children=m.a.func;var R=A;class P extends r.a.Component{constructor(e){super(e),d()(this,"onResize",e=>{const{resizeHeight:t,resizeWidth:i}=this.props,{height:n,width:o}=e.bounds;this.setDimensions(c()({},t&&{height:n},i&&{width:o}))}),this.setDimensions=w()(e=>{this.setState(e)},this.props.propagateDimensionsRate/1e3),this.state={height:"100%",width:"100%"}}renderChildren(){const{propagateDimensions:e}=this.props;return r.a.Children.map(this.props.children,t=>this.props.withHandle||v.isA(t)?r.a.cloneElement(t,c()({dimensions:e&&this.state},t.props,{index:this.props.index-1,events:this.props.events})):e?r.a.cloneElement(t,c()({},t.props,{dimensions:this.state})):t)}render(){return r.a.createElement(R,{bounds:!0,onResize:this.onResize},({measureRef:e})=>r.a.createElement("div",{ref:e,className:"reflex-size-aware"},r.a.createElement("div",{style:this.state},this.renderChildren())))}}class F extends r.a.Component{constructor(e){super(e),this.state={size:e.size}}static getDerivedStateFromProps(e,t){return e.size!==t.size?c()({},t,{size:e.size}):null}async componentDidUpdate(e,t,i){if(t.size!==this.state.size){const e=this.toArray(this.props.direction);for(let t of e)await this.props.events.emit("element.size",{index:this.props.index,size:this.props.size,direction:t})}}toArray(e){return e?Array.isArray(e)?e:[e]:[]}renderChildren(){return r.a.Children.map(this.props.children,e=>this.props.withHandle||v.isA(e)?r.a.cloneElement(e,c()({},e.props,{index:this.props.index-1,events:this.props.events})):e)}render(){const e=[...this.props.className.split(" "),this.props.orientation,"reflex-element"].join(" ").trim(),t=c()({},this.props.style,{flexGrow:this.props.flex,flexShrink:1,flexBasis:"0%"});return r.a.createElement("div",a()({},g(this.props),{ref:this.props.innerRef,className:e,style:t}),this.props.propagateDimensions?r.a.createElement(P,this.props):this.renderChildren())}}d()(F,"propTypes",{renderOnResizeRate:m.a.number,propagateDimensions:m.a.bool,resizeHeight:m.a.bool,resizeWidth:m.a.bool,className:m.a.string,size:m.a.number}),d()(F,"defaultProps",{propagateDimensionsRate:100,propagateDimensions:!1,resizeHeight:!0,resizeWidth:!0,direction:[1],className:""});var j=r.a.forwardRef((e,t)=>r.a.createElement(F,a()({innerRef:t},e))),B=i("JHhp"),W=i("E7wC"),V=i("pNd/"),H=i.n(V),z=i("INok"),U=i.n(z),K=i("qKvR");function q({log:e}){const t=Object(o.useRef)();return Object(o.useEffect)(()=>{t.current&&e&&(t.current.innerHTML=e)},[t,e]),Object(K.c)("div",{ref:t,style:{width:"100%",height:"100%",overflow:"auto",backgroundColor:"#111",color:"#fff",fontFamily:"monospace",fontSize:"12px",padding:" 4px 8px"}})}var $=i("qhky"),G=i("t0Gg");function Y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const X={outline:"none",border:"none"};function Q({dimensions:e}){const{width:t,height:i}=e;Object(o.useEffect)(()=>{document.getElementById("canvas").width=t,document.getElementById("canvas").height=i},[t,i]);const n=r.a.memo((function(){return Object(K.c)($.a,null,Object(K.c)("script",{id:"engine-loader",type:"text/javascript",src:"/codepad/dmloader.js"}),Object(K.c)("script",{id:"engine-api",type:"text/javascript",src:"/codepad/api.js"}),Object(K.c)("script",{id:"engine-setup",type:"text/javascript"},'\n          function loadDefold() {\n            if (window.Module && window.$_codepad_$ && window.$_codepad_$.params.ready) {\n              var Module = window.Module;\n              var extra_params = {\n                  archive_location_filter: function( path ) {\n                      return ("/codepad/archive" + path + "");\n                  },\n                  engine_arguments: [],\n                  custom_heap_size: 268435456,\n                  disable_context_menu: true\n              }\n\n              Module[\'onRuntimeInitialized\'] = function() {\n                  Module.runApp("canvas", extra_params);\n              };\n\n              Module["locateFile"] = function(path, scriptDirectory)\n              {\n                  // dmengine*.wasm is hardcoded in the built JS loader for WASM,\n                  // we need to replace it here with the correct project name.\n                  if (path == "dmengine.wasm" || path == "dmengine_release.wasm" || path == "dmengine_headless.wasm") {\n                      path = "DefoldCodePad.wasm";\n                  }\n                  return scriptDirectory + path;\n              };\n              EngineLoader.load("canvas", "/codepad/DefoldCodePad");\n            }\n            else {\n              setTimeout(loadDefold, 100);\n            }\n          }\n          loadDefold();\n      '))}));return Object(K.c)("div",{style:{alignItems:"center",justifyContent:"center",overflow:"hidden",position:"relative"}},Object(K.c)("canvas",{id:"canvas",tabIndex:-1,style:Z(Z({},X),{},{backgroundColor:"#333333",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"70%",backgroundImage:"url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='300px' height='64px' viewBox='-2467.5 2469 300 64' style='enable-background:new -2467.5 2469 300 64;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%2315244A;%7D .st1%7Bfill:url(%23SVGID_1_);%7D .st2%7Bfill:url(%23SVGID_2_);%7D%0A%3C/style%3E%3Ctitle%3Edefold-logo-html5-splash%3C/title%3E%3Cpolygon class='st0' points='-2177,2482.9 -2175.5,2482.9 -2175.5,2486.7 -2174.4,2486.7 -2174.4,2482.9 -2173.2,2482.9 -2173.2,2481.9 -2177,2481.9 '/%3E%3Cpolygon class='st0' points='-2169.8,2484.1 -2171,2482.1 -2172.1,2482.1 -2172.1,2486.7 -2171,2486.7 -2171,2483.5 -2169.7,2485.6 -2169.7,2485.6 -2168.5,2483.5 -2168.5,2486.7 -2167.5,2486.7 -2167.5,2482.1 -2168.6,2482.1 '/%3E%3Cpath class='st0' d='M-2376,2482h-13.8v38h13.6c6.6,0,12.2-1.9,16.1-5.5c3.8-3.5,5.8-8.5,5.7-13.7v-0.1 C-2354.5,2489.3-2362.9,2482-2376,2482z M-2364,2501.2c0,6.7-4.5,10.9-11.8,10.9h-4.7v-22h4.7c7.3,0,11.8,4.2,11.8,10.9 L-2364,2501.2z'/%3E%3Cpolygon class='st0' points='-2340.9,2505 -2325.1,2505 -2325.1,2497.4 -2340.9,2497.4 -2340.9,2489.6 -2322.4,2489.6 -2322.4,2481.9 -2350.1,2481.9 -2350.1,2520 -2322.2,2520 -2322.2,2512.4 -2340.9,2512.4 '/%3E%3Cpolygon class='st0' points='-2317.1,2481.9 -2317.1,2520 -2307.9,2520 -2307.9,2505.9 -2293,2505.9 -2293,2498.4 -2307.9,2498.4 -2307.9,2489.9 -2289.6,2489.9 -2289.6,2481.9 '/%3E%3Cpolygon class='st0' points='-2233,2482.1 -2242.2,2482.1 -2242.2,2520 -2216.3,2520 -2216.3,2512.2 -2233,2512.2 '/%3E%3Cpath class='st0' d='M-2197.1,2482h-13.7v38h13.5c6.7,0,12.2-1.9,16.1-5.5c3.8-3.5,5.8-8.5,5.7-13.7v-0.1 C-2175.5,2489.3-2184,2482-2197.1,2482z M-2185.1,2501.2c0,6.7-4.5,10.9-11.8,10.9h-4.7v-22h4.7c7.3,0,11.8,4.2,11.8,10.9V2501.2z' /%3E%3Cpath class='st0' d='M-2267.5,2481.7c-10.8,0-19.6,8.8-19.6,19.7c0,10.8,8.8,19.6,19.7,19.6c10.8,0,19.6-8.8,19.6-19.6l0,0 C-2247.8,2490.5-2256.6,2481.7-2267.5,2481.7C-2267.5,2481.7-2267.5,2481.7-2267.5,2481.7z M-2258,2507.9l-8.8,5.1 c-0.5,0.3-1.2,0.3-1.8,0l-8.8-5.1c-0.5-0.3-0.9-0.9-0.9-1.5v-10.2c0-0.6,0.3-1.2,0.9-1.5l8.8-5.1c0.5-0.3,1.2-0.3,1.8,0l8.8,5.1 c0.5,0.3,0.9,0.9,0.9,1.5v10.2C-2257.1,2507-2257.4,2507.6-2258,2507.9z'/%3E%3Cpath class='st0' d='M-2423.2,2494.6l-11.1,6.4l-11.1-6.4l11.1-6.4L-2423.2,2494.6z M-2412.1,2501v12.8l11.1-6.4L-2412.1,2501z M-2467.5,2507.4l11.1,6.4V2501L-2467.5,2507.4z M-2434.3,2526.6l11.1,6.4l11.1-6.4l-11.1-6.4l11.1-6.4l-11.1-6.4l-11.1,6.4 l-11.1-6.4l-11.1,6.4l11.1,6.4l-11.1,6.4l11.1,6.4L-2434.3,2526.6z'/%3E%3ClinearGradient id='SVGID_1_' gradientUnits='userSpaceOnUse' x1='-2451.2178' y1='2525.4604' x2='-2406.2178' y2='2499.6304' gradientTransform='matrix(1 0 0 -1 0 5004)'%3E%3Cstop offset='0' style='stop-color:%231C68EC'/%3E%3Cstop offset='1' style='stop-color:%2300E9DF'/%3E%3C/linearGradient%3E%3Cpath class='st1' d='M-2412.1,2513.8v12.8l-11.1-6.4L-2412.1,2513.8z M-2434.3,2513.8V2501l-11.1-6.4v12.8L-2434.3,2513.8z M-2445.4,2469v12.8l11.1-6.4L-2445.4,2469z M-2412.1,2488.2L-2412.1,2488.2 M-2423.2,2507.4l11.1,6.4V2501l11.1,6.4v-12.8 l-11.1-6.4v-12.8l0,0l-11.1-6.4v12.8l-11.1-6.4v12.8l11.1,6.4V2507.4z'/%3E%3ClinearGradient id='SVGID_2_' gradientUnits='userSpaceOnUse' x1='-2465.9385' y1='2521.2493' x2='-2423.5085' y2='2496.7893' gradientTransform='matrix(1 0 0 -1 0 5004)'%3E%3Cstop offset='0' style='stop-color:%23FF3C2A'/%3E%3Cstop offset='1' style='stop-color:%23FFD215'/%3E%3C/linearGradient%3E%3Cpath class='st2' d='M-2434.3,2513.8V2501l11.1-6.4v12.8L-2434.3,2513.8z M-2434.3,2475.4l11.1,6.4V2469L-2434.3,2475.4z M-2456.5,2488.2L-2456.5,2488.2 M-2445.4,2494.6l11.1-6.4v-12.8l-11.1,6.4V2469l-11.1,6.4l0,0v12.8l-11.1,6.4v12.8l11.1-6.4v12.8 l11.1-6.4V2494.6z M-2456.5,2513.8v12.8l11.1-6.4L-2456.5,2513.8z'/%3E%3C/svg%3E%0A\")"})}),Object(K.c)("div",{style:{position:"absolute",top:"16px",left:"16px",width:"32px",height:"32px",cursor:"pointer",backgroundColor:"#111",borderRadius:"8px",opacity:"60%",display:"flex",justifyContent:"center",alignItems:"center",padding:"4px",outline:"none"},onClick:()=>window.$_codepad_$.restart(),role:"button",alt:"Restart",tabIndex:-2},G.a.render({width:"20px",height:"20px",color:"#ffffffaa"})),Object(K.c)(n,null))}var J=i("8z58");function ee(e){return/^\d+$/.test(e)?e+"px":e}function te(){}var ie,ne=(ie=function(e,t){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}ie(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),oe=function(){return(oe=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},re=(function(e){function t(t){var i=e.call(this,t)||this;return i.assignRef=function(e){i.containerElement=e},i.containerElement=void 0,i}ne(t,e),t.prototype.componentDidMount=function(){this.initMonaco()},t.prototype.componentDidUpdate=function(e){var t=this.props,i=t.language,n=t.theme,o=t.height,r=t.options,s=t.width,a=t.className,l=this.editor.getModel(),c=l.original,h=l.modified;this.props.original!==c.getValue()&&c.setValue(this.props.original),null!=this.props.value&&this.props.value!==h.getValue()&&(this.__prevent_trigger_change_event=!0,this.editor.getModifiedEditor().pushUndoStop(),h.pushEditOperations([],[{range:h.getFullModelRange(),text:this.props.value}]),this.editor.getModifiedEditor().pushUndoStop(),this.__prevent_trigger_change_event=!1),e.language!==i&&(J.editor.setModelLanguage(c,i),J.editor.setModelLanguage(h,i)),e.theme!==n&&J.editor.setTheme(n),!this.editor||s===e.width&&o===e.height||this.editor.layout(),e.options!==r&&this.editor.updateOptions(oe(oe({},a?{extraEditorClassName:a}:{}),r))},t.prototype.componentWillUnmount=function(){this.destroyMonaco()},t.prototype.editorWillMount=function(){return(0,this.props.editorWillMount)(J)||{}},t.prototype.editorDidMount=function(e){var t=this;this.props.editorDidMount(e,J);var i=e.getModel().modified;this._subscription=i.onDidChangeContent((function(e){t.__prevent_trigger_change_event||t.props.onChange(i.getValue(),e)}))},t.prototype.initModels=function(e,t){var i=this.props.language,n=J.editor.createModel(t,i),o=J.editor.createModel(e,i);this.editor.setModel({original:n,modified:o})},t.prototype.initMonaco=function(){var e=null!=this.props.value?this.props.value:this.props.defaultValue,t=this.props,i=t.original,n=t.theme,o=t.options,r=t.overrideServices,s=t.className;this.containerElement&&(this.editorWillMount(),this.editor=J.editor.createDiffEditor(this.containerElement,oe(oe(oe({},s?{extraEditorClassName:s}:{}),o),n?{theme:n}:{}),r),this.initModels(e,i),this.editorDidMount(this.editor))},t.prototype.destroyMonaco=function(){if(this.editor){this.editor.dispose();var e=this.editor.getModel(),t=e.original,i=e.modified;t&&t.dispose(),i&&i.dispose()}this._subscription&&this._subscription.dispose()},t.prototype.render=function(){var e=this.props,t=e.width,i=e.height,n={width:ee(t),height:ee(i)};return o.createElement("div",{ref:this.assignRef,style:n,className:"react-monaco-editor-container"})},t.propTypes={width:p.oneOfType([p.string,p.number]),height:p.oneOfType([p.string,p.number]),original:p.string,value:p.string,defaultValue:p.string,language:p.string,theme:p.string,options:p.object,overrideServices:p.object,editorDidMount:p.func,editorWillMount:p.func,onChange:p.func,className:p.string},t.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorDidMount:te,editorWillMount:te,onChange:te,className:null}}(o.Component),function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),se=function(){return(se=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ae=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i},le=function(e){function t(t){var i=e.call(this,t)||this;return i.assignRef=function(e){i.containerElement=e},i.containerElement=void 0,i}return re(t,e),t.prototype.componentDidMount=function(){this.initMonaco()},t.prototype.componentDidUpdate=function(e){var t=this.props,i=t.value,n=t.language,o=t.theme,r=t.height,s=t.options,a=t.width,l=t.className,c=this.editor,h=c.getModel();if(null!=this.props.value&&this.props.value!==h.getValue()&&(this.__prevent_trigger_change_event=!0,this.editor.pushUndoStop(),h.pushEditOperations([],[{range:h.getFullModelRange(),text:i}]),this.editor.pushUndoStop(),this.__prevent_trigger_change_event=!1),e.language!==n&&J.editor.setModelLanguage(h,n),e.theme!==o&&J.editor.setTheme(o),!c||a===e.width&&r===e.height||c.layout(),e.options!==s){s.model;var d=ae(s,["model"]);c.updateOptions(se(se({},l?{extraEditorClassName:l}:{}),d))}},t.prototype.componentWillUnmount=function(){this.destroyMonaco()},t.prototype.destroyMonaco=function(){if(this.editor){this.editor.dispose();var e=this.editor.getModel();e&&e.dispose()}this._subscription&&this._subscription.dispose()},t.prototype.initMonaco=function(){var e=null!=this.props.value?this.props.value:this.props.defaultValue,t=this.props,i=t.language,n=t.theme,o=t.overrideServices,r=t.className;if(this.containerElement){var s=se(se({},this.props.options),this.editorWillMount());this.editor=J.editor.create(this.containerElement,se(se(se({value:e,language:i},r?{extraEditorClassName:r}:{}),s),n?{theme:n}:{}),o),this.editorDidMount(this.editor)}},t.prototype.editorWillMount=function(){return(0,this.props.editorWillMount)(J)||{}},t.prototype.editorDidMount=function(e){var t=this;this.props.editorDidMount(e,J),this._subscription=e.onDidChangeModelContent((function(i){t.__prevent_trigger_change_event||t.props.onChange(e.getValue(),i)}))},t.prototype.render=function(){var e=this.props,t=e.width,i=e.height,n={width:ee(t),height:ee(i)};return o.createElement("div",{ref:this.assignRef,style:n,className:"react-monaco-editor-container"})},t.propTypes={width:p.oneOfType([p.string,p.number]),height:p.oneOfType([p.string,p.number]),value:p.string,defaultValue:p.string,language:p.string,theme:p.string,options:p.object,overrideServices:p.object,editorDidMount:p.func,editorWillMount:p.func,onChange:p.func,className:p.string},t.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorDidMount:te,editorWillMount:te,onChange:te,className:null},t}(o.Component),ce=i("snKK");function he({dimensions:e,src:t}){const i=Object(o.useRef)(null);Object(o.useEffect)(()=>{i.current&&t&&i.current.editor.getModel().setValue(t)},[i,t]);const{width:n,height:r}=e,s=Object(ce.a)(!0);return Object(K.c)(le,{height:r,width:n,theme:Object(ce.b)(),language:"lua",options:s,ref:i})}var de=i("KQm4");var ue=e=>{const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),t};const ge=(e,t=100,i=!1)=>{const n=ue(e),r=o.useRef(),s=[t,i,n];function a(){r.current&&clearTimeout(r.current),r.current=void 0}function l(){r.current=void 0}return o.useEffect(()=>a,s),o.useCallback((function(){const e=arguments,{current:o}=r;if(void 0===o&&i)return r.current=setTimeout(l,t),n.current.apply(null,e);o&&clearTimeout(o),r.current=setTimeout(()=>{r.current=void 0,n.current.apply(null,e)},t)}),s)};function pe({dimensions:e,src:t,onChange:i}){const n=Object(o.useRef)(null),r=ge(async e=>{const t=await ce.c.languages.typescript.getTypeScriptWorker(),n=await t(e.uri),o=await n.getSemanticDiagnostics(e.uri.toString()),r=await n.getSyntacticDiagnostics(e.uri.toString()),s=[].concat(Object(de.a)(o),Object(de.a)(r)),{lua:a,sourceMap:l}=await n.getTranspileOutput(e.uri.toString()),c=e.getValue();i&&i({src:c,lua:a,diagnostics:s,sourceMap:l})},250);Object(o.useEffect)(()=>{if(n.current){const e=n.current.editor.getModel();t&&e.setValue(t),r(e)}},[n,t,r]);const{width:s,height:a}=e,l=Object(ce.a)();return Object(K.c)(le,{height:a,width:s,theme:Object(ce.b)(),language:"typescript",ref:n,options:l,onChange:()=>r(n.current.editor.getModel())})}var me=i("wTIg"),fe=i("5gtm"),be=i.n(fe),_e=i("KNMp"),ve=i("51ha"),Ce=i("LQSX"),we=i("vTaS"),ye=i("xI/X"),Se=i("EAKA"),Le=i("j7o3");function xe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ke(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const De=e=>{switch(e){case"collectionc":return W.a;case"collectionproxyc":return _e.a;case"goc":return ve.a;case"scriptc":return Ce.a;case"spritec":return we.a;default:return ye.a}},Ie=e=>{const t=e.payload.type,i=!["collectionc","collectionproxyc"].includes(t),n={name:e.name,isOpen:["collectionc","goc"].includes(t),type:t,children:i?Object.keys(e.payload).map(t=>({name:`${t}: ${e.payload[t].toString()}`})):[]};return e.children.forEach(e=>{const{name:i,payload:o,children:r}=e;n.children.push({name:i,type:o.type,isOpen:["collectionc","goc"].includes(t),children:r.map(Ie)})}),n};function Oe({graph:e}){const{0:t,1:i}=Object(o.useState)(null);Object(o.useEffect)(()=>{e&&i(Ie(e))},[e]);const n={verticalAlign:"middle",padding:"2px",paddingRight:"6px"},s=({onClick:e,nodeData:t})=>Object(K.c)("span",{style:n},De(t.type).render({size:16,onClick:e})),a={FileIcon:({onClick:e,nodeData:t})=>Object(K.c)("span",{style:n},De(t.type).render({size:16,onClick:e})),FolderIcon:s,FolderOpenIcon:s,CaretRightIcon:({onClick:e})=>Object(K.c)("span",{style:ke(ke({},n),{},{paddingRight:"2px"})},Object(K.c)(Se.a,{size:16,onClick:e})),CaretDownIcon:({onClick:e})=>Object(K.c)("span",{style:ke(ke({},n),{},{paddingRight:"2px"})},Object(K.c)(Le.a,{size:16,onClick:e}))};return Object(K.c)(r.a.Fragment,null,t&&Object(K.c)(be.a,{iconComponents:a,initOpenStatus:"custom",indentPixels:8,data:t,showCheckbox:!1,readOnly:!0,onChange:()=>{}}))}var Ne=i("WYfc"),Ee=i("3cSm");function Te({onShareClick:e,onDownloadClick:t,onDetailsChange:i,onSceneChange:n,project:s,scenes:a,graph:l}){const{0:c,1:h}=Object(o.useState)(s?s.name:""),{0:d,1:u}=Object(o.useState)(s?s.description:""),{0:g,1:p}=Object(o.useState)(s?s.scene:""),m=ge(Object(o.useCallback)(({name:e,description:t})=>{i&&i({name:e,description:t})},[i]),250);return Object(o.useEffect)(()=>{s&&(h(s.name),u(s.description),p(s.scene))},[s]),Object(o.useEffect)(()=>{s&&g&&g!==s.scene&&n&&n({scene:g})},[s,g,n]),Object(o.useEffect)(()=>{m({name:c,description:d})},[c,d,m]),Object(K.c)(Me,null,Object(K.c)(Re,null,Object(K.c)(Pe,null,"Project: "),Object(K.c)(Fe,{name:"project-name",type:"text",placeholder:"Project Name",value:c,onChange:e=>h(e.target.value)})),Object(K.c)(Re,null,Object(K.c)(Pe,null,"Description: "),Object(K.c)(je,{cols:20,rows:5,placeholder:"Project Description",value:d,onChange:e=>u(e.target.value)})),Object(K.c)(Re,null,Object(K.c)(Pe,null,"Scene: "),Object(K.c)(We,null,Object(K.c)(Be,{value:g,onChange:e=>p(e.target.value)},a.map(e=>Object(K.c)("option",{key:e.id,value:e.id},e.name))))),Object(K.c)(Re,{style:{justifyContent:"left"}},Object(K.c)(Pe,null,"Graph: "),Object(K.c)(Oe,{graph:l})),Object(K.c)(r.a.Fragment,null)||Object(K.c)(Ae,null,Object(K.c)("div",{style:{minWidth:"100px",padding:"8px",textAlign:"center"}},Object(K.c)("span",{style:{verticalAlign:"middle",paddingRight:"6px"}},Object(K.c)(Ne.a,{size:18})),"Share"),Object(K.c)("div",{style:{minWidth:"100px",padding:"8px",textAlign:"center"}},Object(K.c)("span",{style:{verticalAlign:"middle",paddingRight:"6px"}},Object(K.c)(Ee.a,{size:18})),"Save")))}const Me=Object(me.a)("div",{target:"e1x4hefv0"})({name:"qhwpz3",styles:"padding:12px;width:100%;height:100%;overflow:auto;position:relative;"}),Ae=Object(me.a)("div",{target:"e1x4hefv1"})({name:"cr6zox",styles:"position:absolute;bottom:0;left:0;right:0;height:40px;display:flex;flex-direction:row;align-items:center;justify-content:space-around;margin:0 8px;background-color:#212835;"}),Re=Object(me.a)("div",{target:"e1x4hefv2"})({name:"1b2apei",styles:"display:flex;flex-direction:row;justify-content:space-between;margin-bottom:20px;"}),Pe=Object(me.a)("label",{target:"e1x4hefv3"})({name:"p7bt82",styles:"vertical-align:top;display:inline-flex;min-width:90px;"}),Fe=Object(me.a)("input",{target:"e1x4hefv4"})({name:"17u8rgn",styles:"font-family:'Roboto',sans-serif;font-size:14px;line-height:16px;border:none;background-image:none;background-color:transparent;box-shadow:none;border-bottom:1px solid #a8b5d0;margin:0 8px;color:#a8b5d0;flex-grow:1;min-width:100px;&:focus{outline:none;border-bottom:1px solid #e9b684;color:#e9b684;}"}),je=Object(me.a)("textarea",{target:"e1x4hefv5"})({name:"3juzd7",styles:"font-family:'Roboto',sans-serif;font-size:14px;line-height:16px;border:none;background-image:none;background-color:transparent;box-shadow:none;border-bottom:1px solid #a8b5d0;border-right:1px solid #a8b5d0;margin:0 8px;color:#a8b5d0;flex-grow:1;min-width:100px;&:focus{outline:none;border-bottom:1px solid #e9b684;border-right:1px solid #e9b684;color:#e9b684;}"}),Be=Object(me.a)("select",{target:"e1x4hefv6"})({name:"1tcu5ae",styles:"appearance:none;border:none;background-image:none;background-color:transparent;box-shadow:none;border-radius:0;color:#a8b5d0;font-size:14px;cursor:pointer;width:100%;&:focus{outline:none;color:#e9b684;}"}),We=Object(me.a)("div",{target:"e1x4hefv7"})({name:"qhbwuc",styles:"flex-grow:1;min-width:100px;display:grid;grid-template-areas:'select';align-items:center;margin:0 8px;padding-right:4px;cursor:pointer;border-bottom:1px solid #a8b5d0;&:focus-within{border-bottom:1px solid #e9b684;}select,&::after{grid-area:select;}&::after{content:'';width:0.8em;height:0.5em;background-color:#a8b5d0;clip-path:polygon(100% 0%,0 0%,50% 100%);grid-area:select;justify-self:end;}&:focus-within::after{background-color:#e9b684;}"});var Ve=i("3FTx"),He=i.n(Ve);var ze=function(e){switch(e){case"#cp_factory":return'// Factory\ntype Props = {\n};\n\ntype Action = {\n    released: boolean;\n    x: number;\n    y: number;\n}\n\nexport function init(this:Props) {\n\tmsg.post(".", "acquire_input_focus")\n}\n\nexport function on_input(this:Props, action_id: hash, action: Action) {\n\tif (action_id == hash("mouse_button_left") && action.released) {\n\t\tconst id = factory.create("#factory", vmath.vector3(action.x, action.y, 0));\n\t\tprint(id);\n    }\n}\n';case"#cp_gui_nodes":return'// Gui Nodes\ntype Props = {\n};\n\nexport function init(this: Props) {\n  gui.animate(gui.get_node("box"), gui.PROP_POSITION, vmath.vector3(0), gui.EASING_INOUTQUAD, 2, 0, null, gui.PLAYBACK_LOOP_PINGPONG);\n}\n';case"#cp_sprite":return'// GO + Sprite\ntype Props = {\n  key: string;\n  distance: number;\n  speed: number;\n  theta: number;\n};\n\nexport function init(this: Props) {\n  this.key = "position.y";\n  this.distance = 100;\n  this.speed = 1;\n  this.theta = 0;\n}\n\nexport function update(this: Props, dt: number) {\n  this.theta += this.speed * dt;\n  go.set_position(vmath.vector3(Math.cos(this.theta) * 200, 0, 0));\n}\n\nexport function on_reload(this: Props) {\n  go.set_position(vmath.vector3(0, -this.distance, 0));\n  go.cancel_animations(".", this.key);\n  go.animate(".", this.key, go.PLAYBACK_ONCE_PINGPONG, this.distance, go.EASING_INOUTELASTIC, this.speed);\n}\n';case"#cp_twin_logos":return'// Twin Logos\ntype Action = {\n    pressed: boolean;\n    released: boolean;\n    x: number;\n    y: number;\n}\n\ntype Props = {\n    go: string[];\n    radius: number;\n    targetRadius: number;\n    speed: number;\n    theta: number;\n    drag: {\n        isDragging: boolean,\n        begin: vmath.vector3;\n        end: vmath.vector3;\n    };\n};\n\nexport function init(this: Props) {\n    msg.post(".", "acquire_input_focus");\n    this.go = ["/go1", "/go2"];\n    \n    this.radius = 100;\n    this.theta = 0;\n    this.speed = 100;\n\n    this.drag = {\n        isDragging: false,\n        begin: vmath.vector3(),\n        end: vmath.vector3()\n    }\n}\n\nexport function update(this: Props, dt: number) {\n    this.targetRadius = 100 + vmath.length(this.drag.end - this.drag.begin as vmath.vector3);\n    const step = (this.targetRadius - this.radius) / 8;\n    this.radius += step;\n\n    this.theta += this.speed * dt;\n    const x = this.radius * math.cos(math.rad(this.theta));\n    const y = this.radius * math.sin(math.rad(this.theta));\n\n    go.set_position(vmath.vector3(x, y, 0), "/go1");\n    go.set_position(vmath.vector3(-x, -y, 0), "/go2");\n\n    go.set_rotation(vmath.quat_rotation_z(math.rad(this.theta * 2)), "/go1")\n    go.set_rotation(vmath.quat_rotation_z(math.rad(this.theta * -2)), "/go2")\n}\n\nexport function on_input(this: Props, action_id: hash, action: Action) {\n    switch (action_id) {\n        case hash("mouse_button_left"): {\n            if (action.pressed) {\n                this.drag.isDragging = true;\n                this.drag.end.x = this.drag.begin.x = action.x;\n                this.drag.end.y = this.drag.begin.y = action.y;\n            } else if (action.released) {\n                this.drag.isDragging = false;\n                this.drag.end.x = this.drag.begin.x = 0;\n                this.drag.end.y = this.drag.begin.y = 0;\n            }\n        } break;\n        case null: {\n            if (this.drag.isDragging) {\n                this.drag.end.x = action.x\n                this.drag.end.y = action.y;\n            }\n        }\n    }\n}\n';default:return"// Default\ntype Props = {\n};\n\nexport function init(this: Props) {\n\n}\n\nexport function update(this: Props, dt: number) {\n  \n}\n\nexport function final(this: Props) {\n\n}\n\nexport function on_input(this: Props, action_id: hash, action: unknown) {\n\n}\n\nexport function on_message(this: Props, message: any) {\n\n}\n\nexport function on_reload(this: Props) {\n  \n}\n"}};i("CNCP");function Ue(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ke(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ue(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const qe={borderColor:"#000",zIndex:"unset"};function $e({location:e}){const{0:t,1:i}=Object(o.useState)(""),{0:n,1:r}=Object(o.useState)(""),{0:s,1:a}=Object(o.useState)(null),{0:l,1:c}=Object(o.useState)(null),{0:h,1:d}=Object(o.useState)([]),{0:u,1:g}=Object(o.useState)(""),{0:p,1:m}=Object(o.useState)(""),{0:b,1:C}=Object(o.useState)(null),[w,y]=function(){const{0:e,1:t}=Object(o.useState)(null),{0:i,1:n}=Object(o.useState)(null),{0:r,1:s}=Object(o.useState)(null);return Object(o.useEffect)(()=>(t(new He.a),()=>{e&&e.terminate()}),[]),Object(o.useEffect)(()=>{e&&i&&(e.postMessage({type:"compress",data:JSON.stringify(i)}),e.onmessage=e=>{"compressed"===e.data.type&&e.data.data&&s(e.data.data)})},[i,e]),[r,n]}(),[S,L]=function(){const{0:e,1:t}=Object(o.useState)(null),{0:i,1:n}=Object(o.useState)(null),{0:r,1:s}=Object(o.useState)(null);return Object(o.useEffect)(()=>(t(new He.a),()=>{e&&e.terminate()}),[]),Object(o.useEffect)(()=>{e&&i&&(i.project?(e.postMessage({type:"decompress",data:i.project}),e.onmessage=e=>{if("decompressed"===e.data.type){let n=i.fallback;if(!e.data.err&&e.data.data){try{n=JSON.parse(e.data.data)}catch(t){}const o=Object.keys(i.fallback).filter(e=>void 0!==n[e]);Object.keys(n).length!=o.length&&(n=i.fallback),s(n)}}}):s(i.fallback))},[i,e]),[r,(e,t={})=>n({project:e,fallback:t})]}(),x=Object(o.useCallback)((e,t)=>{d(e);const i=e.find(e=>e.id===b.scene);t(i?i.id:e[0].id)},[b]),k=Object(o.useCallback)(e=>{c(e)},[c]),D=Object(o.useCallback)(e=>{g(e)},[g]),[I,O]=function({onReady:e,onGraph:t,onLog:i,onEngineInfo:n}){const{0:r,1:s}=Object(o.useState)(!1),{0:a,1:l}=Object(o.useState)(!1);return Object(o.useEffect)(()=>{const e=setInterval(()=>{window.$_codepad_$&&(s(!0),clearInterval(e))},100);return()=>clearInterval(e)},[]),Object(o.useEffect)(()=>{if(r&&e){const t=window.$_codepad_$.onReady;window.$_codepad_$.onReady=i=>{t(i),e(window.$_codepad_$.data.scenes,window.$_codepad_$.setScene)}}},[r,e]),Object(o.useEffect)(()=>{if(r&&t){const e=window.$_codepad_$.onGraph;window.$_codepad_$.onGraph=i=>{e(i),t(window.$_codepad_$.data.graph)}}},[r,t]),Object(o.useEffect)(()=>{r&&i&&(window.$_codepad_$.onLog=i)},[r,i]),Object(o.useEffect)(()=>{r&&n&&(window.$_codepad_$.onEngineInfo=n)},[r,n]),Object(o.useEffect)(()=>{r&&a&&setTimeout(()=>{window.$_codepad_$.ready()},0)},[a,r]),[a,l]}({onReady:x,onGraph:k,onLog:D});Object(o.useEffect)(()=>{const t=e.hash.split("=")[1];L(t,{name:"",description:"",scene:"#cp_sprite",src:ze("#cp_sprite")})},[]),Object(o.useEffect)(()=>{S&&(i(S.src),C(S))},[S]),Object(o.useEffect)(()=>{n&&(I?s&&0==s.length&&window.$_codepad_$.setCode(n,!0):(window.$_codepad_$.setCode(n,!1),O(!0)))},[n,s,I,O]),Object(o.useEffect)(()=>{if(w){const e=new URL(window.location.href);e.hash="",window.location.replace(e.href+"#project="+w)}},[w]);const N=Object(o.useCallback)(({src:e,lua:t,diagnostics:i})=>{r(t),a(i),b&&y(Ke(Ke({},b),{},{src:e})),p&&(window.$_codepad_$.setCode(t,!1),window.$_codepad_$.setScene(b.scene),m(""))},[b,p,y]),E=Object(o.useCallback)(({name:e,description:t})=>{b&&y(Ke(Ke({},b),{},{name:e,description:t}))},[b,y]),T=Object(o.useCallback)(({scene:e})=>{m(e),L(void 0,{name:"",description:"",scene:e,src:ze(e)})},[L]);return Object(K.c)(_,{orientation:"vertical",style:{height:"calc(100vh - var(--header-height))",marginTop:"var(--header-margin)"}},Object(K.c)(j,{minSize:400,propagateDimensions:!0},Object(K.c)(_,{orientation:"horizontal"},Object(K.c)(j,{minSize:27,propagateDimensions:!0},Object(K.c)("div",{className:"handle",style:{padding:"4px",userSelect:"none"}},Object(K.c)("span",{style:{verticalAlign:"middle"}},Object(K.c)(H.a,{color:"#a8b5d0",style:{marginRight:"8px"}})),"TYPESCRIPT"),Object(K.c)(pe,{src:t,onChange:N})),Object(K.c)(f,{style:qe,propagate:!0}),Object(K.c)(j,{minSize:27,flex:.3,propagateDimensions:!0},Object(K.c)(v,{className:"handle",style:{padding:"4px",cursor:"grab"}},Object(K.c)("span",{style:{verticalAlign:"middle"}},Object(K.c)(U.a,{color:"#a8b5d0",style:{marginRight:"8px"}})),"GENERATED LUA"),Object(K.c)(he,{src:n})),Object(K.c)(f,{style:qe,propagate:!0}),Object(K.c)(j,{minSize:27,size:27,flex:0,style:{overflow:"hidden"}},Object(K.c)(v,{className:"handle",style:{padding:"4px",cursor:"grab"}},Object(K.c)("span",{style:{verticalAlign:"middle"}},B.a.render({width:"16px",height:"16px",color:"#a8b5d0",style:{marginRight:"8px"}})),"LOG"),Object(K.c)(q,{log:u})))),Object(K.c)(f,{style:qe,propagate:!0}),Object(K.c)(j,{minSize:400,flex:.55,style:{overflow:"hidden"},propagateDimensions:!0},Object(K.c)(Q,null)),Object(K.c)(f,{style:Ke(Ke({},qe),{},{writingMode:"vertical-rl",minWidth:"28px",color:"#a8b5d0",backgroundColor:"#212835",padding:"4px",cursor:"grab",borderLeft:"2px solid #000",borderRight:"none"})},Object(K.c)("span",null,W.a.render({width:"16px",height:"16px",color:"#a8b5d0",style:{marginBottom:"8px"}})),"PROJECT"),Object(K.c)(j,{size:0,flex:0,style:{overflow:"hidden"}},Object(K.c)(Te,{project:b,scenes:h,graph:l,onDetailsChange:E,onSceneChange:T})))}},"8z58":function(e,t,i){"use strict";i.r(t),i.d(t,"CancellationTokenSource",(function(){return nl})),i.d(t,"Emitter",(function(){return ol})),i.d(t,"KeyCode",(function(){return rl})),i.d(t,"KeyMod",(function(){return sl})),i.d(t,"Position",(function(){return al})),i.d(t,"Range",(function(){return ll})),i.d(t,"Selection",(function(){return cl})),i.d(t,"SelectionDirection",(function(){return hl})),i.d(t,"MarkerSeverity",(function(){return dl})),i.d(t,"MarkerTag",(function(){return ul})),i.d(t,"Uri",(function(){return gl})),i.d(t,"Token",(function(){return pl})),i.d(t,"editor",(function(){return ml})),i.d(t,"languages",(function(){return fl}));var n,o,r,s,a,l,c,h,d,u,g,p,m,f,b,_,v,C,w,y,S,L,x,k,D,I,O,N,E,T,M,A,R,P,F,j=i("/UlZ"),B=i("JQT/"),W=i("MI8n"),V=i("/kV6"),H=i("bY76"),z=i("cGHE"),U=i("aokT"),K=i("gCVg"),q=i("Tcc1");!function(e){e[e.Unknown=0]="Unknown",e[e.Disabled=1]="Disabled",e[e.Enabled=2]="Enabled"}(n||(n={})),function(e){e[e.KeepWhitespace=1]="KeepWhitespace",e[e.InsertAsSnippet=4]="InsertAsSnippet"}(o||(o={})),function(e){e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.User=25]="User",e[e.Issue=26]="Issue",e[e.Snippet=27]="Snippet"}(r||(r={})),function(e){e[e.Deprecated=1]="Deprecated"}(s||(s={})),function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(a||(a={})),function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(l||(l={})),function(e){e[e.NotSet=0]="NotSet",e[e.ContentFlush=1]="ContentFlush",e[e.RecoverFromMarkers=2]="RecoverFromMarkers",e[e.Explicit=3]="Explicit",e[e.Paste=4]="Paste",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo"}(c||(c={})),function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(h||(h={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(d||(d={})),function(e){e[e.None=0]="None",e[e.Keep=1]="Keep",e[e.Brackets=2]="Brackets",e[e.Advanced=3]="Advanced",e[e.Full=4]="Full"}(u||(u={})),function(e){e[e.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",e[e.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",e[e.accessibilitySupport=2]="accessibilitySupport",e[e.accessibilityPageSize=3]="accessibilityPageSize",e[e.ariaLabel=4]="ariaLabel",e[e.autoClosingBrackets=5]="autoClosingBrackets",e[e.autoClosingDelete=6]="autoClosingDelete",e[e.autoClosingOvertype=7]="autoClosingOvertype",e[e.autoClosingQuotes=8]="autoClosingQuotes",e[e.autoIndent=9]="autoIndent",e[e.automaticLayout=10]="automaticLayout",e[e.autoSurround=11]="autoSurround",e[e.codeLens=12]="codeLens",e[e.codeLensFontFamily=13]="codeLensFontFamily",e[e.codeLensFontSize=14]="codeLensFontSize",e[e.colorDecorators=15]="colorDecorators",e[e.columnSelection=16]="columnSelection",e[e.comments=17]="comments",e[e.contextmenu=18]="contextmenu",e[e.copyWithSyntaxHighlighting=19]="copyWithSyntaxHighlighting",e[e.cursorBlinking=20]="cursorBlinking",e[e.cursorSmoothCaretAnimation=21]="cursorSmoothCaretAnimation",e[e.cursorStyle=22]="cursorStyle",e[e.cursorSurroundingLines=23]="cursorSurroundingLines",e[e.cursorSurroundingLinesStyle=24]="cursorSurroundingLinesStyle",e[e.cursorWidth=25]="cursorWidth",e[e.disableLayerHinting=26]="disableLayerHinting",e[e.disableMonospaceOptimizations=27]="disableMonospaceOptimizations",e[e.domReadOnly=28]="domReadOnly",e[e.dragAndDrop=29]="dragAndDrop",e[e.emptySelectionClipboard=30]="emptySelectionClipboard",e[e.extraEditorClassName=31]="extraEditorClassName",e[e.fastScrollSensitivity=32]="fastScrollSensitivity",e[e.find=33]="find",e[e.fixedOverflowWidgets=34]="fixedOverflowWidgets",e[e.folding=35]="folding",e[e.foldingStrategy=36]="foldingStrategy",e[e.foldingHighlight=37]="foldingHighlight",e[e.foldingImportsByDefault=38]="foldingImportsByDefault",e[e.unfoldOnClickAfterEndOfLine=39]="unfoldOnClickAfterEndOfLine",e[e.fontFamily=40]="fontFamily",e[e.fontInfo=41]="fontInfo",e[e.fontLigatures=42]="fontLigatures",e[e.fontSize=43]="fontSize",e[e.fontWeight=44]="fontWeight",e[e.formatOnPaste=45]="formatOnPaste",e[e.formatOnType=46]="formatOnType",e[e.glyphMargin=47]="glyphMargin",e[e.gotoLocation=48]="gotoLocation",e[e.hideCursorInOverviewRuler=49]="hideCursorInOverviewRuler",e[e.highlightActiveIndentGuide=50]="highlightActiveIndentGuide",e[e.hover=51]="hover",e[e.inDiffEditor=52]="inDiffEditor",e[e.inlineSuggest=53]="inlineSuggest",e[e.letterSpacing=54]="letterSpacing",e[e.lightbulb=55]="lightbulb",e[e.lineDecorationsWidth=56]="lineDecorationsWidth",e[e.lineHeight=57]="lineHeight",e[e.lineNumbers=58]="lineNumbers",e[e.lineNumbersMinChars=59]="lineNumbersMinChars",e[e.linkedEditing=60]="linkedEditing",e[e.links=61]="links",e[e.matchBrackets=62]="matchBrackets",e[e.minimap=63]="minimap",e[e.mouseStyle=64]="mouseStyle",e[e.mouseWheelScrollSensitivity=65]="mouseWheelScrollSensitivity",e[e.mouseWheelZoom=66]="mouseWheelZoom",e[e.multiCursorMergeOverlapping=67]="multiCursorMergeOverlapping",e[e.multiCursorModifier=68]="multiCursorModifier",e[e.multiCursorPaste=69]="multiCursorPaste",e[e.occurrencesHighlight=70]="occurrencesHighlight",e[e.overviewRulerBorder=71]="overviewRulerBorder",e[e.overviewRulerLanes=72]="overviewRulerLanes",e[e.padding=73]="padding",e[e.parameterHints=74]="parameterHints",e[e.peekWidgetDefaultFocus=75]="peekWidgetDefaultFocus",e[e.definitionLinkOpensInPeek=76]="definitionLinkOpensInPeek",e[e.quickSuggestions=77]="quickSuggestions",e[e.quickSuggestionsDelay=78]="quickSuggestionsDelay",e[e.readOnly=79]="readOnly",e[e.renameOnType=80]="renameOnType",e[e.renderControlCharacters=81]="renderControlCharacters",e[e.renderIndentGuides=82]="renderIndentGuides",e[e.renderFinalNewline=83]="renderFinalNewline",e[e.renderLineHighlight=84]="renderLineHighlight",e[e.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",e[e.renderValidationDecorations=86]="renderValidationDecorations",e[e.renderWhitespace=87]="renderWhitespace",e[e.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",e[e.roundedSelection=89]="roundedSelection",e[e.rulers=90]="rulers",e[e.scrollbar=91]="scrollbar",e[e.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",e[e.scrollBeyondLastLine=93]="scrollBeyondLastLine",e[e.scrollPredominantAxis=94]="scrollPredominantAxis",e[e.selectionClipboard=95]="selectionClipboard",e[e.selectionHighlight=96]="selectionHighlight",e[e.selectOnLineNumbers=97]="selectOnLineNumbers",e[e.showFoldingControls=98]="showFoldingControls",e[e.showUnused=99]="showUnused",e[e.snippetSuggestions=100]="snippetSuggestions",e[e.smartSelect=101]="smartSelect",e[e.smoothScrolling=102]="smoothScrolling",e[e.stickyTabStops=103]="stickyTabStops",e[e.stopRenderingLineAfter=104]="stopRenderingLineAfter",e[e.suggest=105]="suggest",e[e.suggestFontSize=106]="suggestFontSize",e[e.suggestLineHeight=107]="suggestLineHeight",e[e.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",e[e.suggestSelection=109]="suggestSelection",e[e.tabCompletion=110]="tabCompletion",e[e.tabIndex=111]="tabIndex",e[e.unusualLineTerminators=112]="unusualLineTerminators",e[e.useShadowDOM=113]="useShadowDOM",e[e.useTabStops=114]="useTabStops",e[e.wordSeparators=115]="wordSeparators",e[e.wordWrap=116]="wordWrap",e[e.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",e[e.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",e[e.wordWrapColumn=119]="wordWrapColumn",e[e.wordWrapOverride1=120]="wordWrapOverride1",e[e.wordWrapOverride2=121]="wordWrapOverride2",e[e.wrappingIndent=122]="wrappingIndent",e[e.wrappingStrategy=123]="wrappingStrategy",e[e.showDeprecated=124]="showDeprecated",e[e.inlayHints=125]="inlayHints",e[e.editorClassName=126]="editorClassName",e[e.pixelRatio=127]="pixelRatio",e[e.tabFocusMode=128]="tabFocusMode",e[e.layoutInfo=129]="layoutInfo",e[e.wrappingInfo=130]="wrappingInfo"}(g||(g={})),function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(p||(p={})),function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(m||(m={})),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(f||(f={})),function(e){e[e.Other=0]="Other",e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(b||(b={})),function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(_||(_={})),function(e){e[e.DependsOnKbLayout=-1]="DependsOnKbLayout",e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(v||(v={})),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(C||(C={})),function(e){e[e.Unnecessary=1]="Unnecessary",e[e.Deprecated=2]="Deprecated"}(w||(w={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(y||(y={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",e[e.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(S||(S={})),function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(L||(L={})),function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(x||(x={})),function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative",e[e.Interval=3]="Interval",e[e.Custom=4]="Custom"}(k||(k={})),function(e){e[e.None=0]="None",e[e.Text=1]="Text",e[e.Blocks=2]="Blocks"}(D||(D={})),function(e){e[e.Smooth=0]="Smooth",e[e.Immediate=1]="Immediate"}(I||(I={})),function(e){e[e.Auto=1]="Auto",e[e.Hidden=2]="Hidden",e[e.Visible=3]="Visible"}(O||(O={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(N||(N={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(E||(E={})),function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(T||(T={})),function(e){e[e.Deprecated=1]="Deprecated"}(M||(M={})),function(e){e[e.Hidden=0]="Hidden",e[e.Blink=1]="Blink",e[e.Smooth=2]="Smooth",e[e.Phase=3]="Phase",e[e.Expand=4]="Expand",e[e.Solid=5]="Solid"}(A||(A={})),function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(R||(R={})),function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(P||(P={})),function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent",e[e.DeepIndent=3]="DeepIndent"}(F||(F={}));class ${static chord(e,t){return Object(V.a)(e,t)}}function G(){return{editor:void 0,languages:void 0,CancellationTokenSource:B.b,Emitter:W.b,KeyCode:v,KeyMod:$,Position:z.a,Range:U.a,Selection:K.a,SelectionDirection:N,MarkerSeverity:C,MarkerTag:w,Uri:H.a,Token:q.a}}$.CtrlCmd=2048,$.Shift=1024,$.Alt=512,$.WinCtrl=256;i("siPX");var Y,Z=i("Vxe3"),X=i("EffR"),Q=i("24hK"),J=i("QDVR"),ee=i("Q4rV"),te=i("tYmi"),ie=i("gslv"),ne=i("nnTU");!function(e){e[e.API=0]="API",e[e.USER=1]="USER"}(Y||(Y={}));var oe=i("W9cx"),re=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},se=function(e,t){return function(i,n){t(i,n,e)}},ae=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};let le=class{constructor(e){this._commandService=e}open(e,t){return ae(this,void 0,void 0,(function*(){if(!Object(oe.c)(e,te.c.command))return!1;if(!(null==t?void 0:t.allowCommands))return!0;"string"==typeof e&&(e=H.a.parse(e));let i=[];try{i=Object(ee.a)(decodeURIComponent(e.query))}catch(n){try{i=Object(ee.a)(e.query)}catch(o){}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0}))}};le=re([se(0,ne.b)],le);let ce=class{constructor(e){this._editorService=e}open(e,t){return ae(this,void 0,void 0,(function*(){"string"==typeof e&&(e=H.a.parse(e));let i=void 0;const n=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return n&&(i={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1},e=e.with({fragment:""})),e.scheme===te.c.file&&(e=Object(ie.h)(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,context:(null==t?void 0:t.fromUserGesture)?Y.USER:Y.API},null==t?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}))}};ce=re([se(0,Z.a)],ce);let he=class{constructor(e,t){this._openers=new Q.a,this._validators=new Q.a,this._resolvers=new Q.a,this._resolvedUriTargets=new J.b(e=>e.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Q.a,this._defaultExternalOpener={openExternal:e=>ae(this,void 0,void 0,(function*(){return Object(oe.c)(e,te.c.http)||Object(oe.c)(e,te.c.https)?X.Z(e):window.location.href=e,!0}))},this._openers.push({open:(e,t)=>ae(this,void 0,void 0,(function*(){return!!((null==t?void 0:t.openExternal)||Object(oe.c)(e,te.c.mailto)||Object(oe.c)(e,te.c.http)||Object(oe.c)(e,te.c.https))&&(yield this._doOpenExternal(e,t),!0)}))}),this._openers.push(new le(t)),this._openers.push(new ce(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return ae(this,void 0,void 0,(function*(){const n="string"==typeof e?H.a.parse(e):e,o=null!==(i=this._resolvedUriTargets.get(n))&&void 0!==i?i:e;for(const e of this._validators)if(!(yield e.shouldOpen(o)))return!1;for(const i of this._openers){if(yield i.open(e,t))return!0}return!1}))}resolveExternalUri(e,t){return ae(this,void 0,void 0,(function*(){for(const n of this._resolvers)try{const i=yield n.resolveExternalUri(e,t);if(i)return this._resolvedUriTargets.has(i.resolved)||this._resolvedUriTargets.set(i.resolved,e),i}catch(i){}throw new Error("Could not resolve external URI: "+e.toString())}))}_doOpenExternal(e,t){return ae(this,void 0,void 0,(function*(){const i="string"==typeof e?H.a.parse(e):e;let n,o;try{n=(yield this.resolveExternalUri(i,t)).resolved}catch(r){n=i}if(o="string"==typeof e&&i.toString()===n.toString()?e:encodeURI(n.toString(!0)),null==t?void 0:t.allowContributedOpeners){const e="string"==typeof(null==t?void 0:t.allowContributedOpeners)?null==t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners){if(yield t.openExternal(o,{sourceUri:i,preferredOpenerId:e},B.a.None))return!0}}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},B.a.None)}))}dispose(){this._validators.clear()}};he=re([se(0,Z.a),se(1,ne.b)],he);var de=i("0Lb2"),ue=i("+3Gp"),ge=i("iuje"),pe=i("M1Kb"),me=i("twdY"),fe=i("i/Ef"),be=i("pAvP"),_e=i("WBhO"),ve=i("t49l"),Ce=i("X+cX"),we=i("pmY6"),ye=i("/cxE"),Se=i("MNsG"),Le=i("746U");let xe=!1;function ke(e){Se.i&&(xe||(xe=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message))}class De{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(e){this._workerId=e}sendMessage(e,t){let i=String(++this._lastSentReq);return new Promise((n,o)=>{this._pendingReplies[i]={resolve:n,reject:o},this._send({vsWorker:this._workerId,req:i,method:e,args:t})})}handleMessage(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}_handleMessage(e){if(e.seq){let t=e;if(!this._pendingReplies[t.seq])return void console.warn("Got reply to unknown seq");let i=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let e=t.err;return t.err.$isError&&(e=new Error,e.name=t.err.name,e.message=t.err.message,e.stack=t.err.stack),void i.reject(e)}return void i.resolve(t.res)}let t=e,i=t.req;this._handler.handleMessage(t.method,t.args).then(e=>{this._send({vsWorker:this._workerId,seq:i,res:e,err:void 0})},e=>{e.detail instanceof Error&&(e.detail=Object(ye.g)(e.detail)),this._send({vsWorker:this._workerId,seq:i,res:void 0,err:Object(ye.g)(e)})})}_send(e){let t=[];if(e.req){const i=e;for(let e=0;e<i.args.length;e++)i.args[e]instanceof ArrayBuffer&&t.push(i.args[e])}else{const i=e;i.res instanceof ArrayBuffer&&t.push(i.res)}this._handler.sendMessage(e,t)}}class Ie extends we.a{constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",e=>{this._protocol.handleMessage(e)},e=>{n&&n(e)})),this._protocol=new De({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t)=>{if("function"!=typeof i[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(i[e].apply(i,t))}catch(n){return Promise.reject(n)}}}),this._protocol.setWorkerId(this._worker.getId());let o=null;void 0!==self.require&&"function"==typeof self.require.getConfig?o=self.require.getConfig():void 0!==self.requirejs&&(o=self.requirejs.s.contexts._.config);const r=Le.e(i);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,r]);const s=(e,t)=>this._request(e,t);this._lazyProxy=new Promise((e,i)=>{n=i,this._onModuleLoaded.then(t=>{e(Le.d(t,s))},e=>{i(e),this._onError("Worker failed to load "+t,e)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,n)},n)})}_onError(e,t){console.error(e),console.info(t)}}var Oe;const Ne=null===(Oe=window.trustedTypes)||void 0===Oe?void 0:Oe.createPolicy("defaultWorkerFactory",{createScriptURL:e=>e});class Ee{constructor(e,t,i,n,o){this.id=t;const r=function(e,t){if(Se.b.MonacoEnvironment){if("function"==typeof Se.b.MonacoEnvironment.getWorker)return Se.b.MonacoEnvironment.getWorker(e,t);if("function"==typeof Se.b.MonacoEnvironment.getWorkerUrl){const i=Se.b.MonacoEnvironment.getWorkerUrl(e,t);return new Worker(Ne?Ne.createScriptURL(i):i,{name:t})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",i);"function"==typeof r.then?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(e,[]),this.worker.then(e=>{e.onmessage=function(e){n(e.data)},e.onmessageerror=o,"function"==typeof e.addEventListener&&e.addEventListener("error",o)})}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then(i=>i.postMessage(e,t))}dispose(){this.worker&&this.worker.then(e=>e.terminate()),this.worker=null}}class Te{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let n=++Te.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Ee(e,n,this._label||"anonymous"+n,t,e=>{ke(e),this._webWorkerFailedBeforeError=e,i(e)})}}Te.LAST_WORKER_ID=0;var Me=i("cMvZ"),Ae=i("Gw4z"),Re=i("N0LK");function Pe(e,t,i,n){return new Ae.a(e,t,i).ComputeDiff(n)}class Fe{constructor(e){const t=[],i=[];for(let n=0,o=e.length;n<o;n++)t[n]=He(e[n],1),i[n]=ze(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const n=[],o=[],r=[];let s=0;for(let a=t;a<=i;a++){const t=this.lines[a],i=e?this._startColumns[a]:1,l=e?this._endColumns[a]:t.length+1;for(let e=i;e<l;e++)n[s]=t.charCodeAt(e-1),o[s]=a+1,r[s]=e,s++}return new je(n,o,r)}}class je{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class Be{constructor(e,t,i,n,o,r,s,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=r,this.modifiedEndLineNumber=s,this.modifiedEndColumn=a}static createFromDiffChange(e,t,i){let n,o,r,s,a,l,c,h;return 0===e.originalLength?(n=0,o=0,r=0,s=0):(n=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),r=t.getEndLineNumber(e.originalStart+e.originalLength-1),s=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(a=0,l=0,c=0,h=0):(a=i.getStartLineNumber(e.modifiedStart),l=i.getStartColumn(e.modifiedStart),c=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),h=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new Be(n,o,r,s,a,l,c,h)}}class We{constructor(e,t,i,n,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}static createFromDiffResult(e,t,i,n,o,r,s){let a,l,c,h,d=void 0;if(0===t.originalLength?(a=i.getStartLineNumber(t.originalStart)-1,l=0):(a=i.getStartLineNumber(t.originalStart),l=i.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(c=n.getStartLineNumber(t.modifiedStart)-1,h=0):(c=n.getStartLineNumber(t.modifiedStart),h=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),r&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const r=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let l=Pe(r,a,o,!0).changes;s&&(l=function(e){if(e.length<=1)return e;const t=[e[0]];let i=t[0];for(let n=1,o=e.length;n<o;n++){const o=e[n],r=o.originalStart-(i.originalStart+i.originalLength),s=o.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(r,s)<3?(i.originalLength=o.originalStart+o.originalLength-i.originalStart,i.modifiedLength=o.modifiedStart+o.modifiedLength-i.modifiedStart):(t.push(o),i=o)}return t}(l)),d=[];for(let e=0,t=l.length;e<t;e++)d.push(Be.createFromDiffChange(l[e],r,a))}return new We(a,l,c,h,d)}}class Ve{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new Fe(e),this.modified=new Fe(t),this.continueLineDiff=Ue(i.maxComputationTime),this.continueCharDiff=Ue(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=Pe(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let i=0,n=t.length;i<n;i++)e.push(We.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[i],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:e}}const n=[];let o=0,r=0;for(let s=-1,a=t.length;s<a;s++){const e=s+1<a?t[s+1]:null,i=e?e.originalStart:this.originalLines.length,l=e?e.modifiedStart:this.modifiedLines.length;for(;o<i&&r<l;){const e=this.originalLines[o],t=this.modifiedLines[r];if(e!==t){{let i=He(e,1),s=He(t,1);for(;i>1&&s>1;){if(e.charCodeAt(i-2)!==t.charCodeAt(s-2))break;i--,s--}(i>1||s>1)&&this._pushTrimWhitespaceCharChange(n,o+1,1,i,r+1,1,s)}{let i=ze(e,1),s=ze(t,1);const a=e.length+1,l=t.length+1;for(;i<a&&s<l;){if(e.charCodeAt(i-1)!==e.charCodeAt(s-1))break;i++,s++}(i<a||s<l)&&this._pushTrimWhitespaceCharChange(n,o+1,i,a,r+1,s,l)}}o++,r++}e&&(n.push(We.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=e.originalLength,r+=e.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,o,r,s){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,o,r,s))return;let a=void 0;this.shouldComputeCharChanges&&(a=[new Be(t,i,t,n,o,r,o,s)]),e.push(new We(t,t,o,o,a))}_mergeTrimWhitespaceCharChange(e,t,i,n,o,r,s){const a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new Be(t,i,t,n,o,r,o,s)),!0))}}function He(e,t){const i=Re.v(e);return-1===i?t:i+1}function ze(e,t){const i=Re.J(e);return-1===i?t:i+2}function Ue(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}var Ke=i("LeU+");var qe=i("0JNc"),$e=i("MXAL");class Ge{constructor(e,t,i){const n=new Uint8Array(e*t);for(let o=0,r=e*t;o<r;o++)n[o]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class Ye{constructor(e){let t=0,i=0;for(let o=0,r=e.length;o<r;o++){let[n,r,s]=e[o];r>t&&(t=r),n>i&&(i=n),s>i&&(i=s)}t++,i++;let n=new Ge(i,t,0);for(let o=0,r=e.length;o<r;o++){let[t,i,r]=e[o];n.set(t,i,r)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let Ze=null;let Xe=null;class Qe{static _createLink(e,t,i,n,o){let r=o-1;do{const i=t.charCodeAt(r);if(2!==e.get(i))break;r--}while(r>n);if(n>0){const e=t.charCodeAt(n-1),i=t.charCodeAt(r);(40===e&&41===i||91===e&&93===i||123===e&&125===i)&&r--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:r+2},url:t.substring(n,r+1)}}static computeLinks(e,t=function(){return null===Ze&&(Ze=new Ye([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Ze}()){const i=function(){if(null===Xe){Xe=new $e.a(0);const e=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let i=0;i<e.length;i++)Xe.set(e.charCodeAt(i),1);const t=".,;";for(let i=0;i<t.length;i++)Xe.set(t.charCodeAt(i),2)}return Xe}();let n=[];for(let o=1,r=e.getLineCount();o<=r;o++){const r=e.getLineContent(o),s=r.length;let a=0,l=0,c=0,h=1,d=!1,u=!1,g=!1,p=!1;for(;a<s;){let e=!1;const s=r.charCodeAt(a);if(13===h){let t;switch(s){case 40:d=!0,t=0;break;case 41:t=d?0:1;break;case 91:g=!0,u=!0,t=0;break;case 93:g=!1,t=u?0:1;break;case 123:p=!0,t=0;break;case 125:t=p?0:1;break;case 39:t=34===c||96===c?0:1;break;case 34:t=39===c||96===c?0:1;break;case 96:t=39===c||34===c?0:1;break;case 42:t=42===c?1:0;break;case 124:t=124===c?1:0;break;case 32:t=g?0:1;break;default:t=i.get(s)}1===t&&(n.push(Qe._createLink(i,r,o,l,a)),e=!0)}else if(12===h){let t;91===s?(u=!0,t=0):t=i.get(s),1===t?e=!0:h=13}else h=t.nextState(h,s),0===h&&(e=!0);e&&(h=1,d=!1,u=!1,p=!1,l=a+1,c=s),a++}13===h&&n.push(Qe._createLink(i,r,o,l,s))}return n}}class Je{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,o){if(e&&t){let i=this.doNavigateValueSet(t,o);if(i)return{range:e,value:i}}if(i&&n){let e=this.doNavigateValueSet(n,o);if(e)return{range:i,value:e}}return null}doNavigateValueSet(e,t){let i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)}numberReplace(e,t){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),n=Number(e),o=parseFloat(e);return isNaN(n)||isNaN(o)||n!==o?null:0!==n||t?(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let o=0,r=e.length;null===n&&o<r;o++)n=this.valueSetReplace(e[o],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}}Je.INSTANCE=new Je;var et=i("5Y4S"),tt=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class it extends class{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new z.a(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new Ke.a(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;let i=Object(Re.R)(t);if(1===i.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let n=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),n[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=Object(qe.d)(e.column,Object(qe.c)(t),this._lines[e.lineNumber-1],0);return i?new U.a(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,o="",r=0,s=[];return{*[Symbol.iterator](){for(;;)if(r<s.length){const e=o.substring(s[r].start,s[r].end);r+=1,yield e}else{if(!(n<t.length))break;o=t[n],s=i(o,e),r=0,n+=1}}}}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),o=[];for(const r of n)o.push({word:i.substring(r.start,r.end),startColumn:r.start+1,endColumn:r.end+1});return o}_wordenize(e,t){const i=[];let n;for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let r=i+1;r<n;r++)o.push(this._lines[r]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!z.a.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let e=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>e&&(i=e,n=!0)}return n?{lineNumber:t,column:i}:e}}class nt{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new it(H.a.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,i,n){return tt(this,void 0,void 0,(function*(){const o=this._getModel(e),r=this._getModel(t);if(!o||!r)return null;const s=o.getLinesContent(),a=r.getLinesContent(),l=new Ve(s,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff(),c=!(l.changes.length>0)&&this._modelsAreIdentical(o,r);return{quitEarly:l.quitEarly,identical:c,changes:l.changes}}))}_modelsAreIdentical(e,t){const i=e.getLineCount();if(i!==t.getLineCount())return!1;for(let n=1;n<=i;n++){if(e.getLineContent(n)!==t.getLineContent(n))return!1}return!0}computeMoreMinimalEdits(e,t){return tt(this,void 0,void 0,(function*(){const i=this._getModel(e);if(!i)return t;const n=[];let o=void 0;t=t.slice(0).sort((e,t)=>{if(e.range&&t.range)return U.a.compareRangesUsingStarts(e.range,t.range);return(e.range?0:1)-(t.range?0:1)});for(let{range:e,text:r,eol:s}of t){if("number"==typeof s&&(o=s),U.a.isEmpty(e)&&!r)continue;const t=i.getValueInRange(e);if(r=r.replace(/\r\n|\n|\r/g,i.eol),t===r)continue;if(Math.max(r.length,t.length)>nt._diffLimit){n.push({range:e,text:r});continue}const a=Object(Ae.b)(t,r,!1),l=i.offsetAt(U.a.lift(e).getStartPosition());for(const e of a){const t=i.positionAt(l+e.originalStart),o=i.positionAt(l+e.originalStart+e.originalLength),s={text:r.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:o.lineNumber,endColumn:o.column}};i.getValueInRange(s.range)!==s.text&&n.push(s)}}return"number"==typeof o&&n.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n}))}computeLinks(e){return tt(this,void 0,void 0,(function*(){let t=this._getModel(e);return t?function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?Qe.computeLinks(e):[]}(t):null}))}textualSuggest(e,t,i,n){return tt(this,void 0,void 0,(function*(){const o=new et.a(!0),r=new RegExp(i,n),s=new Set;e:for(let i of e){const e=this._getModel(i);if(e)for(let i of e.words(r))if(i!==t&&isNaN(Number(i))&&(s.add(i),s.size>nt._suggestionsLimit))break e}return{words:Array.from(s),duration:o.elapsed()}}))}computeWordRanges(e,t,i,n){return tt(this,void 0,void 0,(function*(){let o=this._getModel(e);if(!o)return Object.create(null);const r=new RegExp(i,n),s=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){let t=o.getLineWords(e,r);for(const i of t){if(!isNaN(Number(i.word)))continue;let t=s[i.word];t||(t=[],s[i.word]=t),t.push({startLineNumber:e,startColumn:i.startColumn,endLineNumber:e,endColumn:i.endColumn})}}return s}))}navigateValueSet(e,t,i,n,o){return tt(this,void 0,void 0,(function*(){let r=this._getModel(e);if(!r)return null;let s=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=r.getValueInRange(t),l=r.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s);if(!l)return null;let c=r.getValueInRange(l);return Je.INSTANCE.navigateValueSet(t,a,l,c,i)}))}loadForeignModule(e,t,i){let n={host:Le.d(i,(e,t)=>this._host.fhr(e,t)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(n,t),Promise.resolve(Le.e(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}nt._diffLimit=1e5,nt._suggestionsLimit=1e4,"function"==typeof importScripts&&(Se.b.monaco=G());var ot=i("G2kB"),rt=i("e0rL"),st=i("6OMU"),at=i("09fa"),lt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ct=function(e,t){return function(i,n){t(i,n,e)}},ht=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function dt(e,t){let i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let ut=class extends we.a{constructor(e,t,i){super(),this._modelService=e,this._workerManager=this._register(new pt(this._modelService)),this._logService=i,this._register(me.v.register("*",{provideLinks:(e,t)=>dt(this._modelService,e.uri)?this._workerManager.withWorker().then(t=>t.computeLinks(e.uri)).then(e=>e&&{links:e}):Promise.resolve({links:[]})})),this._register(me.d.register("*",new gt(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}canComputeDiff(e,t){return dt(this._modelService,e)&&dt(this._modelService,t)}computeDiff(e,t,i,n){return this._workerManager.withWorker().then(o=>o.computeDiff(e,t,i,n))}computeMoreMinimalEdits(e,t){if(Object(st.n)(t)){if(!dt(this._modelService,e))return Promise.resolve(t);const i=et.a.create(!0),n=this._workerManager.withWorker().then(i=>i.computeMoreMinimalEdits(e,t));return n.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),Promise.race([n,Object(Ce.n)(1e3).then(()=>t)])}return Promise.resolve(void 0)}canNavigateValueSet(e){return dt(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(n=>n.navigateValueSet(e,t,i))}canComputeWordRanges(e){return dt(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};ut=lt([ct(0,ot.a),ct(1,rt.a),ct(2,at.b)],ut);class gt{constructor(e,t,i){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return ht(this,void 0,void 0,(function*(){const i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;const n=[];if("currentDocument"===i.wordBasedSuggestionsMode)dt(this._modelService,e.uri)&&n.push(e.uri);else for(const t of this._modelService.getModels())dt(this._modelService,t.uri)&&(t===e?n.unshift(t.uri):"allDocuments"!==i.wordBasedSuggestionsMode&&t.getLanguageIdentifier().id!==e.getLanguageIdentifier().id||n.push(t.uri));if(0===n.length)return;const o=Me.a.getWordDefinition(e.getLanguageIdentifier().id),r=e.getWordAtPosition(t),s=r?new U.a(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):U.a.fromPositions(t),a=s.setEndPosition(t.lineNumber,t.column),l=yield this._workerManager.withWorker(),c=yield l.textualSuggest(n,null==r?void 0:r.word,o);return c?{duration:c.duration,suggestions:c.words.map(e=>({kind:18,label:e,insertText:e,range:{insert:a,replace:s}}))}:void 0}))}}class pt extends we.a{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new Ce.c).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(e=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new _t(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class mt extends we.a{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let e=new Ce.c;e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(e)}}dispose(){for(let e in this._syncedModels)Object(we.f)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e){for(const t of e){let e=t.toString();this._syncedModels[e]||this._beginModelSync(t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let i in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[i]>6e4&&t.push(i)}for(const i of t)this._stopModelSync(i)}_beginModelSync(e){let t=this._modelService.getModel(e);if(!t)return;if(t.isTooLargeForSyncing())return;let i=e.toString();this._proxy.acceptNewModel({url:t.uri.toString(),lines:t.getLinesContent(),EOL:t.getEOL(),versionId:t.getVersionId()});const n=new we.b;n.add(t.onDidChangeContent(e=>{this._proxy.acceptModelChanged(i.toString(),e)})),n.add(t.onWillDispose(()=>{this._stopModelSync(i)})),n.add(Object(we.i)(()=>{this._proxy.acceptRemovedModel(i)})),this._syncedModels[i]=n}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Object(we.f)(t)}}class ft{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class bt{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class _t extends we.a{constructor(e,t,i){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new Te(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Ie(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new bt(this)))}catch(e){ke(e),this._worker=new ft(new nt(new bt(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(ke(e),this._worker=new ft(new nt(new bt(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new mt(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e){return this._disposed?Promise.reject(Object(ye.a)()):this._getProxy().then(t=>(this._getOrCreateModelManager(t).ensureSyncedResources(e),t))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t]).then(o=>o.computeDiff(e.toString(),t.toString(),i,n))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,i){return ht(this,void 0,void 0,(function*(){const n=yield this._withSyncedResources(e),o=i.source,r=Object(Re.N)(i);return n.textualSuggest(e.map(e=>e.toString()),t,o,r)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{let n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);let o=Me.a.getWordDefinition(n.getLanguageIdentifier().id),r=o.source,s=Object(Re.N)(o);return i.computeWordRanges(e.toString(),t,r,s)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(n=>{let o=this._modelService.getModel(e);if(!o)return null;let r=Me.a.getWordDefinition(o.getLanguageIdentifier().id),s=r.source,a=Object(Re.N)(r);return n.navigateValueSet(e.toString(),t,i,s,a)})}dispose(){super.dispose(),this._disposed=!0}}class vt extends _t{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?Le.e(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(t=>{this._foreignModuleCreateData=null;const i=(t,i)=>e.fmr(t,i),n=(e,t)=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)};let o={};for(const e of t)o[e]=n(e,i);return o})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(e=>this.getProxy())}}var Ct=i("4bUh"),wt=i("baJR"),yt=i("qNAo");function St(e){return!function(e){return Array.isArray(e)}(e)}function Lt(e){return"string"==typeof e}function xt(e){return!Lt(e)}function kt(e){return!e}function Dt(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function It(e){return e.replace(/[&<>'"_]/g,"-")}function Ot(e,t){return new Error(`${e.languageId}: ${t}`)}function Nt(e,t,i,n,o){let r=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,s,a,l,c,h,d,u,g){return kt(a)?kt(l)?!kt(c)&&c<n.length?Dt(e,n[c]):!kt(d)&&e&&"string"==typeof e[d]?e[d]:(null===r&&(r=o.split("."),r.unshift(o)),!kt(h)&&h<r.length?Dt(e,r[h]):""):Dt(e,i):"$"}))}function Et(e,t){let i=t;for(;i&&i.length>0;){const t=e.tokenizer[i];if(t)return t;const n=i.lastIndexOf(".");i=n<0?null:i.substr(0,n)}return null}class Tt{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new Mt(e,t);let i=Mt.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new Mt(e,t),this._entries[i]=n,n)}}Tt._INSTANCE=new Tt(5);class Mt{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return Mt._equals(this,e)}push(e){return Tt.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return Tt.create(this.parent,e)}}class At{constructor(e,t){this.modeId=e,this.state=t}equals(e){return this.modeId===e.modeId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new At(this.modeId,this.state)}}class Rt{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new Pt(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new Pt(e,t);let i=Mt.getStackElementId(e),n=this._entries[i];return n||(n=new Pt(e,null),this._entries[i]=n,n)}}Rt._INSTANCE=new Rt(5);class Pt{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:Rt.create(this.stack,this.embeddedModeData)}equals(e){return e instanceof Pt&&(!!this.stack.equals(e.stack)&&(null===this.embeddedModeData&&null===e.embeddedModeData||null!==this.embeddedModeData&&null!==e.embeddedModeData&&this.embeddedModeData.equals(e.embeddedModeData)))}}class Ft{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._language=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new q.a(e,t,this._language)))}nestedModeTokenize(e,t,i,n){const o=i.modeId,r=i.state,s=me.F.get(o);if(!s)return this.enterMode(n,o),this.emit(n,""),r;let a=s.tokenize(e,t,r,n);return this._tokens=this._tokens.concat(a.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,a.endState}finalize(e){return new q.b(this._tokens,e)}}class jt{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(e,t){let i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){let n=null!==e?e.length:0,o=t.length,r=null!==i?i.length:0;if(0===n&&0===o&&0===r)return new Uint32Array(0);if(0===n&&0===o)return i;if(0===o&&0===r)return e;let s=new Uint32Array(n+o+r);null!==e&&s.set(e);for(let a=0;a<o;a++)s[n+a]=t[a];return null!==i&&s.set(i,n+o),s}nestedModeTokenize(e,t,i,n){const o=i.modeId,r=i.state,s=me.F.get(o);if(!s)return this.enterMode(n,o),this.emit(n,""),r;let a=s.tokenize2(e,t,r,n);return this._prependTokens=jt._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState}finalize(e){return new q.c(jt._merge(this._prependTokens,this._tokens,null),e)}}class Bt{constructor(e,t,i,n){this._modeService=e,this._standaloneThemeService=t,this._modeId=i,this._lexer=n,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._tokenizationRegistryListener=me.F.onDidChange(e=>{if(o)return;let t=!1;for(let i=0,n=e.changedLanguages.length;i<n;i++){let n=e.changedLanguages[i];if(this._embeddedModes[n]){t=!0;break}}t&&(o=!0,me.F.fire([this._modeId]),o=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){const i=me.F.get(t);if(i){if(i instanceof Bt){const t=i.getLoadStatus();!1===t.loaded&&e.push(t.promise)}continue}const n=me.F.getPromise(t);n&&e.push(n)}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(e=>{})}}getInitialState(){let e=Tt.create(null,this._lexer.start);return Rt.create(e,null)}tokenize(e,t,i,n){let o=new Ft,r=this._tokenize(e,t,i,n,o);return o.finalize(r)}tokenize2(e,t,i,n){let o=new jt(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),r=this._tokenize(e,t,i,n,o);return o.finalize(r)}_tokenize(e,t,i,n,o){return i.embeddedModeData?this._nestedTokenize(e,t,i,n,o):this._myTokenize(e,t,i,n,o)}_findLeavingNestedModeOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=Et(this._lexer,t.stack.state),!i))throw Ot(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(const r of i){if(!xt(r.action)||"@pop"!==r.action.nextEmbedded)continue;o=!0;let t=r.regex,i=r.regex.source;if("^(?:"===i.substr(0,4)&&")"===i.substr(i.length-1,1)){let e=(t.ignoreCase?"i":"")+(t.unicode?"u":"");t=new RegExp(i.substr(4,i.length-5),e)}let s=e.search(t);-1===s||0!==s&&r.matchOnlyAtLineStart||(-1===n||s<n)&&(n=s)}if(!o)throw Ot(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,o){let r=this._findLeavingNestedModeOffset(e,i);if(-1===r){let r=o.nestedModeTokenize(e,t,i.embeddedModeData,n);return Rt.create(i.stack,new At(i.embeddedModeData.modeId,r))}let s=e.substring(0,r);s.length>0&&o.nestedModeTokenize(s,!1,i.embeddedModeData,n);let a=e.substring(r);return this._myTokenize(a,t,i,n+r,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,o){o.enterMode(n,this._modeId);const r=e.length,s=t&&this._lexer.includeLF?e+"\n":e,a=s.length;let l=i.embeddedModeData,c=i.stack,h=0,d=null,u=!0;for(;u||h<a;){const i=h,m=c.depth,f=d?d.groups.length:0,b=c.state;let _=null,v=null,C=null,w=null,y=null;if(d){_=d.matches;const e=d.groups.shift();v=e.matched,C=e.action,w=d.rule,0===d.groups.length&&(d=null)}else{if(!u&&h>=a)break;u=!1;let e=this._lexer.tokenizer[b];if(!e&&(e=Et(this._lexer,b),!e))throw Ot(this._lexer,"tokenizer state is not defined: "+b);let t=s.substr(h);for(const i of e)if((0===h||!i.matchOnlyAtLineStart)&&(_=t.match(i.regex),_)){v=_[0],C=i.action;break}}if(_||(_=[""],v=""),C||(h<a&&(_=[s.charAt(h)],v=_[0]),C=this._lexer.defaultToken),null===v)break;for(h+=v.length;St(C)&&xt(C)&&C.test;)C=C.test(v,_,b,h===a);let S=null;if("string"==typeof C||Array.isArray(C))S=C;else if(C.group)S=C.group;else if(null!==C.token&&void 0!==C.token){if(S=C.tokenSubst?Nt(this._lexer,C.token,v,_,b):C.token,C.nextEmbedded)if("@pop"===C.nextEmbedded){if(!l)throw Ot(this._lexer,"cannot pop embedded mode if not inside one");l=null}else{if(l)throw Ot(this._lexer,"cannot enter embedded mode from within an embedded mode");y=Nt(this._lexer,C.nextEmbedded,v,_,b)}if(C.goBack&&(h=Math.max(0,h-C.goBack)),C.switchTo&&"string"==typeof C.switchTo){let e=Nt(this._lexer,C.switchTo,v,_,b);if("@"===e[0]&&(e=e.substr(1)),!Et(this._lexer,e))throw Ot(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));c=c.switchTo(e)}else{if(C.transform&&"function"==typeof C.transform)throw Ot(this._lexer,"action.transform not supported");if(C.next)if("@push"===C.next){if(c.depth>=this._lexer.maxStack)throw Ot(this._lexer,"maximum tokenizer stack size reached: ["+c.state+","+c.parent.state+",...]");c=c.push(b)}else if("@pop"===C.next){if(c.depth<=1)throw Ot(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(w));c=c.pop()}else if("@popall"===C.next)c=c.popall();else{let e=Nt(this._lexer,C.next,v,_,b);if("@"===e[0]&&(e=e.substr(1)),!Et(this._lexer,e))throw Ot(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));c=c.push(e)}}C.log&&"string"==typeof C.log&&(g=this._lexer,p=this._lexer.languageId+": "+Nt(this._lexer,C.log,v,_,b),console.log(`${g.languageId}: ${p}`))}if(null===S)throw Ot(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(w));const L=i=>{let r=this._modeService.getModeIdForLanguageName(i);r&&(i=r);const s=this._getNestedEmbeddedModeData(i);if(h<a){const i=e.substr(h);return this._nestedTokenize(i,t,Rt.create(c,s),n+h,o)}return Rt.create(c,s)};if(Array.isArray(S)){if(d&&d.groups.length>0)throw Ot(this._lexer,"groups cannot be nested: "+this._safeRuleName(w));if(_.length!==S.length+1)throw Ot(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(w));let e=0;for(let t=1;t<_.length;t++)e+=_[t].length;if(e!==v.length)throw Ot(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(w));d={rule:w,matches:_,groups:[]};for(let t=0;t<S.length;t++)d.groups[t]={action:S[t],matched:_[t+1]};h-=v.length}else{{if("@rematch"===S&&(h-=v.length,v="",_=null,S="",null!==y))return L(y);if(0===v.length){if(0===a||m!==c.depth||b!==c.state||(d?d.groups.length:0)!==f)continue;throw Ot(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(w))}let e=null;if(Lt(S)&&0===S.indexOf("@brackets")){let t=S.substr("@brackets".length),i=Wt(this._lexer,v);if(!i)throw Ot(this._lexer,"@brackets token returned but no bracket defined as: "+v);e=It(i.token+t)}else{e=It(""===S?"":S+this._lexer.tokenPostfix)}i<r&&o.emit(i+n,e)}if(null!==y)return L(y)}}var g,p;return Rt.create(c,l)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let e=me.F.get(t);if(e)return new At(t,e.getInitialState())}return new At(t||fe.b,fe.c)}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._modeId)return e;let t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}function Wt(e,t){if(!t)return null;t=Dt(e,t);let i=e.brackets;for(const n of i){if(n.open===t)return{token:n.token,bracketType:1};if(n.close===t)return{token:n.token,bracketType:-1}}return null}var Vt;const Ht=null===(Vt=window.trustedTypes)||void 0===Vt?void 0:Vt.createPolicy("standaloneColorizer",{createHTML:e=>e});class zt{static colorizeElement(e,t,i,n){let o=(n=n||{}).theme||"vs",r=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();e.setTheme(o);let s=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;return this.colorize(t,s||"",r,n).then(e=>{var t;const n=null!==(t=null==Ht?void 0:Ht.createHTML(e))&&void 0!==t?t:e;i.innerHTML=n},e=>console.error(e))}static colorize(e,t,i,n){let o=4;n&&"number"==typeof n.tabSize&&(o=n.tabSize),Re.T(t)&&(t=t.substr(1));let r=Re.R(t),s=e.getModeId(i);if(!s)return Promise.resolve(Kt(r,o));e.triggerMode(s);const a=me.F.get(s);if(a)return Ut(r,o,a);const l=me.F.getPromise(s);return new Promise(l?(e,t)=>{l.then(i=>{Ut(r,o,i).then(e,t)},t)}:(e,t)=>{let i=null,n=null;const a=()=>{i&&(i.dispose(),i=null),n&&(n.dispose(),n=null);const a=me.F.get(s);a?Ut(r,o,a).then(e,t):e(Kt(r,o))};n=new Ce.g,n.cancelAndSet(a,500),i=me.F.onDidChange(e=>{e.changedLanguages.indexOf(s)>=0&&a()})})}static colorizeLine(e,t,i,n,o=4){const r=yt.f.isBasicASCII(e,t),s=yt.f.containsRTL(e,r,i);return Object(wt.e)(new wt.c(!1,!0,e,!1,r,s,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){let n=e.getLineContent(t);e.forceTokenization(t);let o=e.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}function Ut(e,t,i){return new Promise((n,o)=>{const r=()=>{const s=function(e,t,i){let n=[],o=i.getInitialState();for(let r=0,s=e.length;r<s;r++){let s=e[r],a=i.tokenize2(s,!0,o,0);Ct.a.convertToEndOffset(a.tokens,s.length);let l=new Ct.a(a.tokens,s);const c=yt.f.isBasicASCII(s,!0),h=yt.f.containsRTL(s,c,!0);let d=Object(wt.e)(new wt.c(!1,!0,s,!1,c,h,0,l.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(d.html),n.push("<br/>"),o=a.endState}return n.join("")}(e,t,i);if(i instanceof Bt){const e=i.getLoadStatus();if(!1===e.loaded)return void e.promise.then(r,o)}n(s)};r()})}function Kt(e,t){let i=[];const n=new Uint32Array(2);n[0]=0,n[1]=16793600;for(let o=0,r=e.length;o<r;o++){let r=e[o];n[0]=r.length;const s=new Ct.a(n,r),a=yt.f.isBasicASCII(r,!0),l=yt.f.containsRTL(r,a,!0);let c=Object(wt.e)(new wt.c(!1,!0,r,!1,a,l,0,s,[],t,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(c.html),i.push("<br/>")}return i.join("")}var qt=i("uDWl"),$t=i("S3by"),Gt=i("sFUC"),Yt=i("x/UI"),Zt=i("iDAx"),Xt=i("0/Sa"),Qt=i("+7oY"),Jt=i("qj0h"),ei=i("CRAX");class ti{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?Object(Qt.d)(this.contents,e):this.contents}override(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;let i={};for(const n of st.f([...Object.keys(this.contents),...Object.keys(t)])){let e=this.contents[n],o=t[n];o&&("object"==typeof e&&"object"==typeof o?(e=Jt.b(e),this.mergeContents(e,o)):e=o),i[n]=e}return new ti(i,this.keys,this.overrides)}merge(...e){const t=Jt.b(this.contents),i=Jt.b(this.overrides),n=[...this.keys];for(const o of e){this.mergeContents(t,o.contents);for(const e of o.overrides){const[t]=i.filter(t=>st.h(t.identifiers,e.identifiers));t?this.mergeContents(t.contents,e.contents):i.push(Jt.b(e))}for(const e of o.keys)-1===n.indexOf(e)&&n.push(e)}return new ti(t,n,i)}freeze(){return this.isFrozen=!0,this}mergeContents(e,t){for(const i of Object.keys(t))i in e&&Le.j(e[i])&&Le.j(t[i])?this.mergeContents(e[i],t[i]):e[i]=Jt.b(t[i])}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?Jt.c(e):e}getContentsForOverrideIdentifer(e){for(const t of this.overrides)if(-1!==t.identifiers.indexOf(e))return t.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),Object(Qt.b)(this.contents,e,t,e=>{throw new Error(e)})}removeValue(e){this.removeKey(e)&&Object(Qt.f)(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)0===e.indexOf(this.keys[i])&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}class ii extends ti{constructor(){const e=Object(Qt.e)(),t=Object(Qt.c)(),i=[];for(const n of Object.keys(e))ei.b.test(n)&&i.push({identifiers:[Object(ei.c)(n).trim()],keys:Object.keys(e[n]),contents:Object(Qt.g)(e[n],e=>console.error("Conflict in default settings file: "+e))});super(e,t,i)}}class ni{constructor(e,t,i=new ti,n=new ti,o=new J.b,r=new ti,s=new J.b,a=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=n,this._folderConfigurations=o,this._memoryConfiguration=r,this._memoryConfigurationByResource=s,this._freeze=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new J.b,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new ti,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e},[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),n=this.parseConfigurationModel(e.workspace),o=e.folders.reduce((e,t)=>(e.set(H.a.revive(t[0]),this.parseConfigurationModel(t[1])),e),new J.b);return new ni(t,i,new ti,n,o,new ti,new J.b,!1)}static parseConfigurationModel(e){return new ti(e.contents,e.keys,e.overrides).freeze()}}class oi{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;const o=new Set;e.keys.forEach(e=>o.add(e)),e.overrides.forEach(([,e])=>e.forEach(e=>o.add(e))),this.affectedKeys=[...o.values()];const r=new ti;this.affectedKeys.forEach(e=>r.setValue(e,{})),this.affectedKeysTree=r.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=ni.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){const n=this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,o=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!Jt.d(n,o)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i,n=Object(Qt.g)({[t]:!0},()=>{});for(;"object"==typeof n&&(i=Object.keys(n)[0]);){if(!(e=e[i]))return!1;n=n[i]}return!0}}var ri=i("3/fG");class si extends we.a{constructor(e,t,i,n,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new W.b),this._currentChord=null,this._currentChordChecker=new Ce.c,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Ce.g,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:W.c.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info("[KeybindingService]: "+e)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(null===n)return null;const o=this._contextKeyService.getContext(t),r=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,r,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(ri.a("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-i>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchParts();return null!==n&&null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):null!==n&&n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(e,t,i=!1){let n=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,r=null;if(i){const[t]=e.getSingleModifierDispatchParts();o=t,r=t}else[o]=e.getDispatchParts(),r=this._currentChord?this._currentChord.keypress:null;if(null===o)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;const s=this._contextKeyService.getContext(t),a=e.getLabel(),l=this._getResolver().resolve(s,r,o);return this._logService.trace("KeybindingService#dispatch",a,null==l?void 0:l.commandId),l&&l.enterChord?(n=!0,this._enterChordMode(o,a),n):(this._currentChord&&(l&&l.commandId||(this._notificationService.status(ri.a("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,a),{hideAfter:1e4}),n=!0)),this._leaveChordMode(),l&&l.commandId&&(l.bubble||(n=!0),void 0===l.commandArgs?this._commandService.executeCommand(l.commandId).then(void 0,e=>this._notificationService.warn(e)):this._commandService.executeCommand(l.commandId,l.commandArgs).then(void 0,e=>this._notificationService.warn(e)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class ai{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let n=0,o=e.length;n<o;n++){const t=e[n].command;t&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=ai.combine(e,t);for(let n=0,o=this._keybindings.length;n<o;n++){let e=this._keybindings[n];0!==e.keypressParts.length&&(e.when&&0===e.when.type||this._addKeyPress(e.keypressParts[0],e))}}static _isTargetedForRemoval(e,t,i,n,o){if(e.command!==n)return!1;if(t&&e.keypressParts[0]!==t)return!1;if(i&&e.keypressParts[1]!==i)return!1;if(o){if(!e.when)return!1;if(!o.equals(e.when))return!1}return!0}static combine(e,t){e=e.slice(0);let i=[];for(const n of t){if(!n.command||0===n.command.length||"-"!==n.command.charAt(0)){i.push(n);continue}const t=n.command.substr(1),o=n.keypressParts[0],r=n.keypressParts[1],s=n.when;for(let i=e.length-1;i>=0;i--)this._isTargetedForRemoval(e[i],o,r,t,s)&&e.splice(i,1)}return e.concat(i)}_addKeyPress(e,t){const i=this._map.get(e);if(void 0===i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let n=i.length-1;n>=0;n--){let e=i[n];if(e.command===t.command)continue;const o=e.keypressParts.length>1,r=t.keypressParts.length>1;o&&r&&e.keypressParts[1]!==t.keypressParts[1]||ai.whenIsEntirelyIncluded(e.when,t.when)&&this._removeFromLookupMap(e)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(void 0!==t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&this._implies(e,t)}static _implies(e,t){const i=e=>9===e.type?e.expr:[e];let n=i(e.negate()).concat(i(t));for(let o=0;o<n.length;o++){const e=n[o].negate();for(let t=o+1;t<n.length;t++){const i=n[t];if(e.equals(i))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(void 0===i||0===i.length)return null;if(1===i.length)return i[0];for(let n=i.length-1;n>=0;n--){const e=i[n];if(t.contextMatchesRules(e.when))return e}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?" chorded from "+t:""}`);let n=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=[];for(let t=0,o=e.length;t<o;t++){let o=e[t];o.keypressParts[1]===i&&n.push(o)}}else{const e=this._map.get(i);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=e}let o=this._findCommand(e,n);return o?null===t&&o.keypressParts.length>1&&null!==o.keypressParts[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${li(o.when)}, source: ${ci(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${o.command}, when: ${li(o.when)}, source: ${ci(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let n=t[i];if(ai.contextMatchesRules(e,n.when))return n}return null}static contextMatchesRules(e,t){return!t||t.evaluate(e)}}function li(e){return e?""+e.serialize():"no when condition"}function ci(e){return e.extensionId?e.isBuiltinExtension?"built-in extension "+e.extensionId:"user extension "+e.extensionId:e.isDefault?"built-in":"user"}var hi=i("nrhi");class di{constructor(e,t,i,n,o,r,s){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?ui(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=ui(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=r,this.isBuiltinExtension=s}}function ui(e){let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n)return t;t.push(n)}return t}var gi=i("i04g");class pi extends V.c{constructor(e,t){if(super(),0===t.length)throw Object(ye.b)("parts");this._os=e,this._parts=t}getLabel(){return gi.b.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return gi.a.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new V.d(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}getSingleModifierDispatchParts(){return this._parts.map(e=>this._getSingleModifierDispatchPart(e))}}class mi extends pi{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return V.b.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":V.b.toString(e.keyCode)}_getDispatchPart(e){return mi.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=V.b.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}}var fi=i("sM1p"),bi=i("EWX2"),_i=i("A9l+"),vi=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ci=function(e,t){return function(i,n){t(i,n,e)}},wi=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class yi{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new W.b}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Si=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;var i,n,o;return this.editor&&(i=this.editor,n=t=>this.findModel(t,e),o=t=>this.findModel(t.getOriginalEditor(),e)||this.findModel(t.getModifiedEditor(),e),t=Object(Gt.b)(i)?n(i):o(i)),t?Promise.resolve(new we.c(new yi(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let i=this.modelService.getModel(t);return i&&i.uri.toString()!==t.toString()?null:i}};Si=vi([Ci(0,ot.a)],Si);class Li{show(){return Li.NULL_PROGRESS_RUNNER}showWhile(e,t){return wi(this,void 0,void 0,(function*(){yield e}))}}Li.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class xi{confirm(e){return this.doConfirm(e).then(e=>({confirmed:e,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}}class ki{info(e){return this.notify({severity:$t.a.Info,message:e})}warn(e){return this.notify({severity:$t.a.Warning,message:e})}error(e){return this.notify({severity:$t.a.Error,message:e})}notify(e){switch(e.severity){case $t.a.Error:console.error(e.message);break;case $t.a.Warning:console.warn(e.message);break;default:console.log(e.message)}return ki.NO_OP}status(e,t){return we.a.None}}ki.NO_OP=new fi.b;class Di{constructor(e){this._onWillExecuteCommand=new W.b,this._onDidExecuteCommand=new W.b,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=ne.a.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(n){return Promise.reject(n)}}}class Ii extends si{constructor(e,t,i,n,o,r){super(e,t,i,n,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(X.i(r,X.d.KEY_DOWN,e=>{const t=new qt.a(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())})),this._register(X.i(window,X.d.KEY_UP,e=>{const t=new qt.a(e);this._singleModifierDispatch(t,t.target)&&t.preventDefault()}))}addDynamicKeybinding(e,t,i,n){const o=Object(V.f)(t,Se.a),r=new we.b;return o&&(this._dynamicKeybindings.push({keybinding:o,command:e,when:n,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),r.add(Object(we.i)(()=>{for(let t=0;t<this._dynamicKeybindings.length;t++){if(this._dynamicKeybindings[t].command===e)return this._dynamicKeybindings.splice(t,1),void this.updateResolver({source:1})}}))),r.add(ne.a.registerCommand(e,i)),this.updateResolver({source:1}),r}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(hi.a.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new ai(e,t,e=>this._log(e))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let i=[],n=0;for(const o of e){const e=o.when||void 0,r=o.keybinding;if(r){const s=this.resolveKeybinding(r);for(const r of s)i[n++]=new di(r,o.command,o.commandArgs,e,t,null,!1)}else i[n++]=new di(void 0,o.command,o.commandArgs,e,t,null,!1)}return i}resolveKeybinding(e){return[new mi(e,Se.a)]}resolveKeyboardEvent(e){let t=new V.e(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new mi(t,Se.a)}}function Oi(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof H.a)}class Ni{constructor(){this._onDidChangeConfiguration=new W.b,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new ni(new ii,new ti)}getValue(e,t){const i="string"==typeof e?e:void 0,n=Oi(e)?e:Oi(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){const t={data:this._configuration.toData()};let i=[];for(const n of e){const[e,t]=n;this.getValue(e)!==t&&(this._configuration.updateValue(e,t),i.push(e))}if(i.length>0){const e=new oi({keys:i,overrides:[]},t,this._configuration);e.source=7,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}}class Ei{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new W.b,this.configurationService.onDidChangeConfiguration(e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,i)=>e.affectsConfiguration(i)})})}getValue(e,t,i){const n=(z.a.isIPosition(t)?t:null)?"string"==typeof i?i:void 0:"string"==typeof t?t:void 0;return void 0===n?this.configurationService.getValue():this.configurationService.getValue(n)}}let Ti=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&"string"==typeof i&&"auto"!==i?i:Se.d||Se.f?"\n":"\r\n"}};Ti=vi([Ci(0,Qt.a)],Ti);class Mi{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class Ai{constructor(){const e=H.a.from({scheme:Ai.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new bi.b({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}}function Ri(e,t,i){if(!t)return;if(!(e instanceof Ni))return;let n=[];Object.keys(t).forEach(e=>{Object(Zt.d)(e)&&n.push(["editor."+e,t[e]]),i&&Object(Zt.c)(e)&&n.push(["diffEditor."+e,t[e]])}),n.length>0&&e.updateValues(n)}Ai.SCHEME="inmemory";class Pi{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return wi(this,void 0,void 0,(function*(){const t=new Map;for(let o of e){if(!(o instanceof Yt.c))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(o.resource);if(!e)throw new Error("bad edit - model not found");if("number"==typeof o.versionId&&e.getVersionId()!==o.versionId)throw new Error("bad state - model changed in the meantime");let i=t.get(e);i||(i=[],t.set(e,i)),i.push(Xt.a.replaceMove(U.a.lift(o.textEdit.range),o.textEdit.text))}let i=0,n=0;for(const[e,o]of t)e.pushStackElement(),e.pushEditOperations([],o,()=>[]),e.pushStackElement(),n+=1,i+=o.length;return{ariaSummary:Re.w(_i.g.bulkEditServiceSummary,i,n)}}))}}class Fi{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}}class ji{constructor(e,t){this._codeEditorService=e,this._container=t,this.onDidLayout=W.c.None}get dimension(){return this._dimension||(this._dimension=X.z(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}}var Bi=i("OBOq"),Wi=i("nB0o"),Vi=i("SmQN"),Hi=i("9Y+e"),zi=i("scqD"),Ui=i("fjLI"),Ki=i("T8No"),qi=i("Uzvx"),$i=i("Cg/j"),Gi=i("bexQ"),Yi=i("t9D7"),Zi=i("R3nR"),Xi=i("9XeP"),Qi=i("tTk5");class Ji extends we.a{constructor(){super(),this._onCodeEditorAdd=this._register(new W.b),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new W.b),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new W.b),this._onDiffEditorRemove=this._register(new W.b),this._onDecorationTypeRegistered=this._register(new W.b),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}setModelProperty(e,t,i){const n=e.toString();let o;this._modelProperties.has(n)?o=this._modelProperties.get(n):(o=new Map,this._modelProperties.set(n,o)),o.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i)){return this._modelProperties.get(i).get(t)}}}var en=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},tn=function(e,t){return function(i,n){t(i,n,e)}};class nn{constructor(e,t,i){this._parent=e,this._editorId=t,this._styleSheet=i,this._refCount=0}ref(){this._refCount++}unref(){var e;this._refCount--,0===this._refCount&&(null===(e=this._styleSheet.parentNode)||void 0===e||e.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){X.Q(e,this._styleSheet)}}class on{constructor(e){this._styleSheet=e}ref(){}unref(){}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){X.Q(e,this._styleSheet)}}let rn=class extends Ji{constructor(e,t){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=e||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new on(X.w())),this._globalStyleSheet}_getOrCreateStyleSheet(e){if(!e)return this._getOrCreateGlobalStyleSheet();const t=e.getContainerDomNode();if(!X.O(t))return this._getOrCreateGlobalStyleSheet();const i=e.getId();if(!this._editorStyleSheets.has(i)){const e=new nn(this,i,X.w(t));this._editorStyleSheets.set(i,e)}return this._editorStyleSheets.get(i)}_removeEditorStyleSheets(e){this._editorStyleSheets.delete(e)}registerDecorationType(e,t,i,n,o){let r=this._decorationOptionProviders.get(t);if(!r){const s=this._getOrCreateStyleSheet(o),a={styleSheet:s,key:t,parentTypeKey:n,options:i||Object.create(null)};r=n?new sn(this._themeService,s,a):new an(e,this._themeService,s,a),this._decorationOptionProviders.set(t,r),this._onDecorationTypeRegistered.fire(t)}r.refCount++}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(t=>t.removeDecorations(e))))}resolveDecorationOptions(e,t){const i=this._decorationOptionProviders.get(e);if(!i)throw new Error("Unknown decoration type key: "+e);return i.getOptions(this,t)}};rn=en([tn(1,Yi.b)],rn);class sn{constructor(e,t,i){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=i.parentTypeKey,this.refCount=0,this._beforeContentRules=new cn(3,i,e),this._afterContentRules=new cn(4,i,e)}getOptions(e,t){const i=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(i.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(i.afterContentClassName=this._afterContentRules.className),i}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class an{constructor(e,t,i,n){this._disposables=new we.b,this.description=e,this._styleSheet=i,this._styleSheet.ref(),this.refCount=0;const o=e=>{const i=new cn(e,n,t);if(this._disposables.add(i),i.hasContent)return i.className},r=e=>{const i=new cn(e,n,t);return this._disposables.add(i),i.hasContent?{className:i.className,hasLetterSpacing:i.hasLetterSpacing}:null};this.className=o(0);const s=r(1);if(s&&(this.inlineClassName=s.className,this.inlineClassNameAffectsLetterSpacing=s.hasLetterSpacing),this.beforeContentClassName=o(3),this.afterContentClassName=o(4),n.options.beforeInjectedText&&n.options.beforeInjectedText.contentText){const e=r(5);this.beforeInjectedText={content:n.options.beforeInjectedText.contentText,inlineClassName:null==e?void 0:e.className,inlineClassNameAffectsLetterSpacing:(null==e?void 0:e.hasLetterSpacing)||n.options.beforeInjectedText.affectsLetterSpacing}}if(n.options.afterInjectedText&&n.options.afterInjectedText.contentText){const e=r(6);this.afterInjectedText={content:n.options.afterInjectedText.contentText,inlineClassName:null==e?void 0:e.className,inlineClassNameAffectsLetterSpacing:(null==e?void 0:e.hasLetterSpacing)||n.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=o(2);const a=n.options;this.isWholeLine=Boolean(a.isWholeLine),this.stickiness=a.rangeBehavior;const l=a.light&&a.light.overviewRulerColor||a.overviewRulerColor,c=a.dark&&a.dark.overviewRulerColor||a.overviewRulerColor;void 0===l&&void 0===c||(this.overviewRuler={color:l||c,darkColor:c||l,position:a.overviewRulerLane||pe.d.Center})}getOptions(e,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const ln={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};"};class cn{constructor(e,t,i){this._theme=i.getColorTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let n=hn.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(n=n+" "+hn.getClassName(this._providerArgs.parentTypeKey,e)),this._className=n,this._unThemedSelector=hn.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=i.onDidColorThemeChange(e=>{this._theme=i.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const e=this._providerArgs.options;let t,i,n;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),i=this.getCSSTextForModelDecorationClassName(e.light),n=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),i=this.getCSSTextForModelDecorationInlineClassName(e.light),n=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),n=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;case 5:t=this.getCSSTextForModelDecorationContentClassName(e.beforeInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.beforeInjectedText),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.beforeInjectedText);break;case 6:t=this.getCSSTextForModelDecorationContentClassName(e.afterInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.afterInjectedText),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const o=this._providerArgs.styleSheet;let r=!1;t.length>0&&(o.insertRule(`${this._unThemedSelector} {${t}}`,0),r=!0),i.length>0&&(o.insertRule(`.vs${this._unThemedSelector} {${i}}`,0),r=!0),n.length>0&&(o.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${n}}`,0),r=!0),this._hasContent=r}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")}getCSSTextForModelDecorationInlineClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(e){if(!e)return"";const t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push(Re.w(ln.contentIconPath,X.s(H.a.revive(e.contentIconPath)))),"string"==typeof e.contentText){const i=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(Re.w(ln.contentText,i))}this.collectCSSText(e,["fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(e){if(!e)return"";const t=[];return void 0!==e.gutterIconPath&&(t.push(Re.w(ln.gutterIconPath,X.s(H.a.revive(e.gutterIconPath)))),void 0!==e.gutterIconSize&&t.push(Re.w(ln.gutterIconSize,e.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(Re.w("box-sizing: border-box;")),!0)}collectCSSText(e,t,i){const n=i.length;for(let o of t){const t=this.resolveValue(e[o]);"string"==typeof t&&i.push(Re.w(ln[o],t))}return i.length!==n}resolveValue(e){if(Object(ge.b)(e)){this._usesThemeColors=!0;const t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e}}class hn{static getClassName(e,t){return"ced-"+e+"-"+t}static getSelector(e,t,i){let n=".monaco-editor ."+this.getClassName(e,i);return t&&(n=n+"."+this.getClassName(t,i)),3===i?n+="::before":4===i&&(n+="::after"),n}}var dn=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},un=function(e,t){return function(i,n){t(i,n,e)}};let gn=class extends rn{constructor(e,t,i){super(e,i),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,i){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const i=t.resource.scheme;if(i===te.c.http||i===te.c.https)return Object(X.Z)(t.resource.toString()),e}return null}const i=t.options?t.options.selection:null;if(i)if("number"==typeof i.endLineNumber&&"number"==typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i,1);else{const t={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};gn=dn([un(1,Ki.b),un(2,Yi.b)],gn);var pn=i("ubTv"),mn=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},fn=function(e,t){return function(i,n){t(i,n,e)}};let bn=0,_n=!1;let vn=class extends Wi.a{constructor(e,t,i,n,o,r,s,a,l,c){const h=Object.assign({},t);h.ariaLabel=h.ariaLabel||_i.h.editorViewAccessibleLabel,h.ariaLabel=h.ariaLabel+";"+_i.h.accessibilityHelpMessage,super(e,h,{},i,n,o,r,a,l,c),this._standaloneKeybindingService=s instanceof Ii?s:null,_n||(_n=!0,Bi.b(document.body))}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let n="DYNAMIC_"+ ++bn,o=Ki.a.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,o),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),we.a.None;const t=e.id,i=e.label,n=Ki.a.and(Ki.a.equals("editorId",this.getId()),Ki.a.deserialize(e.precondition)),o=e.keybindings,r=Ki.a.and(n,Ki.a.deserialize(e.keybindingContext)),s=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...i)=>Promise.resolve(e.run(this,...i)),c=new we.b,h=this.getId()+":"+t;if(c.add(ne.a.registerCommand(h,l)),s){let e={command:{id:h,title:i},when:n,group:s,order:a};c.add(Ui.d.appendMenuItem(Ui.b.EditorContext,e))}if(Array.isArray(o))for(const u of o)c.add(this._standaloneKeybindingService.addDynamicKeybinding(h,u,l,r));let d=new Hi.a(h,i,i,n,l,this._contextKeyService);return this._actions[t]=d,c.add(Object(we.i)(()=>{delete this._actions[t]})),c}_triggerCommand(e,t){if(this._codeEditorService instanceof gn)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};vn=mn([fn(2,$i.a),fn(3,Z.a),fn(4,ne.b),fn(5,Ki.b),fn(6,Gi.a),fn(7,Yi.b),fn(8,fi.a),fn(9,Zi.b)],vn);let Cn=class extends vn{constructor(e,t,i,n,o,r,s,a,l,c,h,d,u,g,p){const m=Object.assign({},t);Ri(d,m,!1);const f=c.registerEditorContainer(e);"string"==typeof m.theme&&c.setTheme(m.theme),void 0!==m.autoDetectHighContrast&&c.setAutoDetectHighContrast(Boolean(m.autoDetectHighContrast));let b,_=m.model;if(delete m.model,super(e,m,n,o,r,s,a,c,h,u),this._contextViewService=l,this._configurationService=d,this._standaloneThemeService=c,this._register(i),this._register(f),void 0===_?(b=yn(g,p,m.value||"",m.language||pn.a.text,void 0),this._ownsModel=!0):(b=_,this._ownsModel=!1),this._attachModel(b),b){let e={oldModelUrl:null,newModelUrl:b.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){Ri(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};Cn=mn([fn(3,$i.a),fn(4,Z.a),fn(5,ne.b),fn(6,Ki.b),fn(7,Gi.a),fn(8,qi.b),fn(9,zi.a),fn(10,fi.a),fn(11,Qt.a),fn(12,Zi.b),fn(13,ot.a),fn(14,_e.a)],Cn);let wn=class extends Vi.a{constructor(e,t,i,n,o,r,s,a,l,c,h,d,u,g,p){const m=Object.assign({},t);Ri(d,m,!0);const f=c.registerEditorContainer(e);"string"==typeof m.theme&&c.setTheme(m.theme),void 0!==m.autoDetectHighContrast&&c.setAutoDetectHighContrast(Boolean(m.autoDetectHighContrast)),super(e,m,{},p,a,o,n,l,c,h,u,g),this._contextViewService=s,this._configurationService=d,this._standaloneThemeService=c,this._register(i),this._register(f),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){Ri(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(vn,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function yn(e,t,i,n,o){if(i=i||"",!n){const n=i.indexOf("\n");let r=i;return-1!==n&&(r=i.substring(0,n)),Sn(e,i,t.createByFilepathOrFirstLine(o||null,r),o)}return Sn(e,i,t.create(n),o)}function Sn(e,t,i,n){return e.createModel(t,i,n)}wn=mn([fn(3,$i.a),fn(4,Ki.b),fn(5,Gi.a),fn(6,qi.b),fn(7,be.a),fn(8,Z.a),fn(9,zi.a),fn(10,fi.a),fn(11,Qt.a),fn(12,qi.a),fn(13,Qi.a),fn(14,Xi.a)],wn);class Ln{constructor(e){this._languageIdentifier=e}getId(){return this._languageIdentifier.language}}var xn=i("MqQJ"),kn=i("ic2d");const Dn=Object.prototype.hasOwnProperty;class In extends we.a{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new W.b),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=t,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(xn.a.onDidChangeLanguages(e=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const e=xn.a.getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier}),t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier})}),kn.a.as(ei.a.Configuration).registerOverrideIdentifiers(xn.a.getLanguages().map(e=>e.id)),this._onDidChange.fire()}_getLanguageId(e){if(this._languageToLanguageId[e])return this._languageToLanguageId[e];const t=this._nextLanguageId2++;return this._languageIdToLanguage[t]=e,this._languageToLanguageId[e]=t,t}_registerLanguage(e){const t=e.id;let i;if(Dn.call(this._languages,t))i=this._languages[t];else{const e=this._getLanguageId(t);i={identifier:new me.u(t,e),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=i}this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n="text/x-"+i,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)pn.c({id:i,mime:n,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let a of t.filenames)pn.c({id:i,mime:n,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(let a of t.filenamePatterns)pn.c({id:i,mime:n,filepattern:a},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);Re.O(t)||pn.c({id:i,mime:n,firstline:t},this._warnOnOverwrite)}catch(s){Object(ye.e)(s)}}e.aliases.push(i);let o=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(o=0===t.aliases.length?[null]:t.aliases),null!==o)for(const a of o)a&&0!==a.length&&e.aliases.push(a);let r=null!==o&&o.length>0;if(r&&null===o[0]);else{let t=(r?o[0]:null)||i;!r&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!Dn.call(this._mimeTypesMap,e)||Dn.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return Dn.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null}extractModeIds(e){return e?e.split(",").map(e=>e.trim()).map(e=>Dn.call(this._mimeTypesMap,e)?this._mimeTypesMap[e].language:e).filter(e=>Dn.call(this._languages,e)):[]}getLanguageIdentifier(e){if(e===fe.b||0===e)return fe.a;let t;if("string"==typeof e)t=e;else if(t=this._languageIdToLanguage[e],!t)return null;return Dn.call(this._languages,t)?this._languages[t].identifier:null}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let i=pn.b(e,t);return this.extractModeIds(i.join(","))}}class On{constructor(e,t){let i;this._selector=t,this.languageIdentifier=this._selector(),this._onDidChange=new W.b({onFirstListenerAdd:()=>{i=e(()=>this._evaluate())},onLastListenerRemove:()=>{i.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let e=this._selector();e.id!==this.languageIdentifier.id&&(this.languageIdentifier=e,this._onDidChange.fire(this.languageIdentifier))}}class Nn extends we.a{constructor(e=!1){super(),this._onDidCreateMode=this._register(new W.b),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new W.b({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new In(!0,e)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){const i=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return Object(st.j)(i,null)}getModeId(e){const t=this._registry.extractModeIds(e);return Object(st.j)(t,null)}getLanguageIdentifier(e){return this._registry.getLanguageIdentifier(e)}create(e){return new On(this.onLanguagesMaybeChanged,()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)})}createByFilepathOrFirstLine(e,t){return new On(this.onLanguagesMaybeChanged,()=>{const i=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(i)})}_createModeAndGetLanguageIdentifier(e){const t=this.getLanguageIdentifier(e||"plaintext")||fe.a;return this._getOrCreateMode(t.language),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._instantiatedModes.hasOwnProperty(e)){let t=this.getLanguageIdentifier(e)||fe.a;this._instantiatedModes[e]=new Ln(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]}}var En=i("0af2"),Tn=i("zrhQ");class Mn{constructor(e,t,i,n,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=o}}const An=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class Rn{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(An);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=Tn.a.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class Pn{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];let t=[],i=0;for(let n=0,o=e.length;n<o;n++){let o=e[n],r=-1;if("string"==typeof o.fontStyle){r=0;let e=o.fontStyle.split(" ");for(let t=0,i=e.length;t<i;t++){switch(e[t]){case"italic":r|=1;break;case"bold":r|=2;break;case"underline":r|=4}}}let s=null;"string"==typeof o.foreground&&(s=o.foreground);let a=null;"string"==typeof o.background&&(a=o.background),t[i++]=new Mn(o.token||"",n,r,s,a)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort((e,t)=>{let i=function(e,t){if(e<t)return-1;if(e>t)return 1;return 0}(e.token,t.token);return 0!==i?i:e.index-t.index});let i=0,n="000000",o="ffffff";for(;e.length>=1&&""===e[0].token;){let t=e.shift();-1!==t.fontStyle&&(i=t.fontStyle),null!==t.foreground&&(n=t.foreground),null!==t.background&&(o=t.background)}let r=new Rn;for(let h of t)r.getId(h);let s=r.getId(n),a=r.getId(o),l=new jn(i,s,a),c=new Bn(l);for(let h=0,d=e.length;h<d;h++){let t=e[h];c.insert(t.token,t.fontStyle,r.getId(t.foreground),r.getId(t.background))}return new Pn(r,c)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(void 0===i){let e=this._match(t),n=function(e){let t=e.match(Fn);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(t);i=(e.metadata|n<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const Fn=/\b(comment|string|regex|regexp)\b/;class jn{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new jn(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class Bn{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,i,n=e.indexOf(".");-1===n?(t=e,i=""):(t=e.substring(0,n),i=e.substring(n+1));let o=this._children.get(t);return void 0!==o?o.match(i):this._mainRule}insert(e,t,i,n){if(""===e)return void this._mainRule.acceptOverwrite(t,i,n);let o,r,s=e.indexOf(".");-1===s?(o=e,r=""):(o=e.substring(0,s),r=e.substring(s+1));let a=this._children.get(o);void 0===a&&(a=new Bn(this._mainRule.clone()),this._children.set(o,a)),a.insert(r,t,i,n)}}var Wn=i("kYye"),Vn=i("MD5Z");const Hn={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[Vn.r]:"#FFFFFE",[Vn.B]:"#000000",[Vn.J]:"#E5EBF1",[Wn.h]:"#D3D3D3",[Wn.a]:"#939393",[Vn.T]:"#ADD6FF4D"}},zn={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Vn.r]:"#1E1E1E",[Vn.B]:"#D4D4D4",[Vn.J]:"#3A3D41",[Wn.h]:"#404040",[Wn.a]:"#707070",[Vn.T]:"#ADD6FF26"}},Un={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[Vn.r]:"#000000",[Vn.B]:"#FFFFFF",[Wn.h]:"#FFFFFF",[Wn.a]:"#FFFFFF"}};var Kn=i("nEHx"),qn=i("v1vZ");const $n=kn.a.as(Vn.a.ColorContribution),Gn=kn.a.as(Yi.a.ThemingContribution);class Yn{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let i=t.base;e.length>0?(Zn(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,Tn.a.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=Xn(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,Tn.a.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);return i||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=$n.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case"vs":return Kn.a.LIGHT;case"hc-black":return Kn.a.HIGH_CONTRAST;default:return Kn.a.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let i=Xn(this.themeData.base);e=i.rules,i.encodedTokensColors&&(t=i.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=Pn.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const n=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=me.E.getForeground(n),r=me.E.getFontStyle(n);return{foreground:o,italic:Boolean(1&r),bold:Boolean(2&r),underline:Boolean(4&r)}}}function Zn(e){return"vs"===e||"vs-dark"===e||"hc-black"===e}function Xn(e){switch(e){case"vs":return Hn;case"vs-dark":return zn;case"hc-black":return Un}}function Qn(e){let t=Xn(e);return new Yn(e,t)}class Jn extends we.a{constructor(){super(),this._onColorThemeChange=this._register(new W.b),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set("vs",Qn("vs")),this._knownThemes.set("vs-dark",Qn("vs-dark")),this._knownThemes.set("hc-black",Qn("hc-black"));const e=function(){const e=new W.b,t=Object(qn.a)();return t.onDidChange(()=>e.fire()),{onDidChange:e.event,getCSS(){const e={},i=i=>{let n=i.defaults;for(;Yi.d.isThemeIcon(n);){const e=t.getIcon(n.id);if(!e)return;n=e.defaults}const o=n.fontId;if(o){const r=t.getIconFont(o);if(r)return e[o]=r,`.codicon-${i.id}:before { content: '${n.fontCharacter}'; font-family: ${Object(X.r)(o)}; }`}return`.codicon-${i.id}:before { content: '${n.fontCharacter}'; }`},n=[];for(let o of t.getIcons()){const e=i(o);e&&n.push(e)}for(let t in e){const i=e[t].definition.src.map(e=>`${Object(X.s)(e.location)} format('${e.format}')`).join(", ");n.push(`@font-face { src: ${i}; font-family: ${Object(X.r)(t)}; }`)}return n.join("\n")}}}();this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme("vs"),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),X.m("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(e){return X.O(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=X.w(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),we.a.None}_registerShadowDomContainer(e){const t=X.w(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!Zn(t.base)&&!Zn(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Yn(e,t)),Zn(e)&&this._knownThemes.forEach(t=>{t.base===e&&t.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get("vs"),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){const e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get("hc-black"):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},i={addRule:i=>{t[i]||(e.push(i),t[i]=!0)}};Gn.getThemingParticipants().forEach(e=>e(this._theme,i,this._environment));const n=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(function(e){let t=[];for(let i=1,n=e.length;i<n;i++){let n=e[i];t[i]=`.mtk${i} { color: ${n}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}(n)),this._themeCSS=e.join("\n"),this._updateCSS(),me.F.setColorMap(n),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var eo=i("JYp7"),to=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},io=function(e,t){return function(i,n){t(i,n,e)}};class no{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class oo extends no{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}oo.INSTANCE=new oo;class ro extends no{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=J.c.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(e=>{if(6===e.source){const e=Array.from(eo.a.map(this._values,([e])=>e));this._values.clear(),i.fire(new lo(e))}else{const t=[];for(const i of e.affectedKeys){const e="config."+i,n=this._values.findSuperstr(e);void 0!==n&&(t.push(...eo.a.map(n,([e])=>e)),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}i.fire(new lo(t))}})}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(ro._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(ro._keyPrefix.length),i=this._configurationService.getValue(t);let n=void 0;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:n=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}ro._keyPrefix="config.";class so{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class ao{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class lo{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class co{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class ho{constructor(e){this._onDidChangeContext=new W.e({merge:e=>new co(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new so(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new go(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return ai.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new ao(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new ao(e))}getContext(e){return this._isDisposed?oo.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute("data-keybinding-context")){const t=e.getAttribute("data-keybinding-context");return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let uo=class extends ho{constructor(e){super(0),this._contexts=new Map,this._toDispose=new we.b,this._lastContextId=0;const t=new ro(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?oo.INSTANCE:this._contexts.get(e)||oo.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new no(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};uo=to([io(0,Qt.a)],uo);class go extends ho{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new we.d,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute("data-keybinding-context")){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute("data-keybinding-context",String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute("data-keybinding-context"),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?oo.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}ne.a.registerCommand(Ki.d,(function(e,t,i){e.get(Ki.b).createKey(String(t),i)})),ne.a.registerCommand({id:"getContextKeyInfo",handler:()=>[...Ki.c.all()].sort((e,t)=>e.key.localeCompare(t.key)),description:{description:Object(ri.a)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),ne.a.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(let i of Ki.c.all())t.has(i.key)||(t.add(i.key),e.push(i));e.sort((e,t)=>e.key.localeCompare(t.key)),console.log(JSON.stringify(e,void 0,2))}));i("eizg");var po,mo=i("8HAY"),fo=i("WqXY"),bo=i("GJhM"),_o=(i("TT2d"),i("nuFA")),vo=i("CjF5");function Co(e,t,i){const n=i.mode===po.ALIGN?i.offset:i.offset+i.size,o=i.mode===po.ALIGN?i.offset+i.size:i.offset;return 0===i.position?t<=e-n?n:t<=o?o-t:Math.max(e-t,0):t<=o?o-t:t<=e-n?n:0}!function(e){e[e.AVOID=0]="AVOID",e[e.ALIGN=1]="ALIGN"}(po||(po={}));class wo extends we.a{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=we.a.None,this.toDisposeOnSetContainer=we.a.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=X.a(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,X.K(this.view),this.setContainer(e,t),this._register(Object(we.i)(()=>this.setContainer(null,1)))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(i=this.shadowRootHostElement)||void 0===i||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM){this.shadowRootHostElement=X.a(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=yo,this.shadowRoot.appendChild(e),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(X.a("slot"))}else this.container.appendChild(this.view);const i=new we.b;wo.BUBBLE_UP_EVENTS.forEach(e=>{i.add(X.o(this.container,e,e=>{this.onDOMEvent(e,!1)}))}),wo.BUBBLE_DOWN_EVENTS.forEach(e=>{i.add(X.o(this.container,e,e=>{this.onDOMEvent(e,!0)},!0))}),this.toDisposeOnSetContainer=i}}show(e){this.isVisible()&&this.hide(),X.t(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",X.W(this.view),this.toDisposeOnClean=e.render(this.view)||we.a.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||Se.c&&vo.a.pointerEvents?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;let e,t=this.delegate.getAnchor();if(X.M(t)){let i=X.D(t);e={top:i.top,left:i.left,width:i.width,height:i.height}}else e={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const i=X.I(this.view),n=X.H(this.view),o=this.delegate.anchorPosition||0,r=this.delegate.anchorAlignment||0;let s,a;if(0===(this.delegate.anchorAxisAlignment||0)){const t={offset:e.top-window.pageYOffset,size:e.height,position:0===o?0:1},l={offset:e.left,size:e.width,position:0===r?0:1,mode:po.ALIGN};s=Co(window.innerHeight,n,t)+window.pageYOffset,_o.a.intersects({start:s,end:s+n},{start:t.offset,end:t.offset+t.size})&&(l.mode=po.AVOID),a=Co(window.innerWidth,i,l)}else{const t={offset:e.left,size:e.width,position:0===r?0:1},l={offset:e.top,size:e.height,position:0===o?0:1,mode:po.ALIGN};a=Co(window.innerWidth,i,t),_o.a.intersects({start:a,end:a+i},{start:t.offset,end:t.offset+t.size})&&(l.mode=po.AVOID),s=Co(window.innerHeight,n,l)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===o?"bottom":"top"),this.view.classList.add(0===r?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const l=X.D(this.container);this.view.style.top=s-(this.useFixedPosition?X.D(this.view).top:l.top)+"px",this.view.style.left=a-(this.useFixedPosition?X.D(this.view).left:l.left)+"px",this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(null==t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),X.K(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!X.L(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}wo.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],wo.BUBBLE_DOWN_EVENTS=["click"];let yo='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';var So=i("Vhoy"),Lo=i("7/Ik"),xo=i("udvx"),ko=i("D3Dy"),Do=i("XSiN"),Io=i("EJc0");const Oo=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,No=/(&amp;)?(&amp;)([^\s&])/g,Eo=Object(So.e)("menu-selection",So.b.check),To=Object(So.e)("menu-submenu",So.b.chevronRight);var Mo;!function(e){e[e.Right=0]="Right",e[e.Left=1]="Left"}(Mo||(Mo={}));class Ao extends fo.a{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const n=document.createElement("div");n.classList.add("monaco-menu"),n.setAttribute("role","presentation"),super(n,{orientation:1,actionViewItemProvider:e=>this.doGetActionViewItem(e,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Se.f||Se.d?[10]:[]],keyDown:!0}}),this.menuElement=n,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new we.b),this.initializeStyleSheet(e),Object(X.i)(n,X.d.KEY_DOWN,e=>{new qt.a(e).equals(2)&&e.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add(Object(X.i)(n,X.d.KEY_DOWN,e=>{const t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){X.c.stop(e,!0);const i=this.mnemonics.get(t);if(1===i.length&&(i[0]instanceof Po&&i[0].container&&this.focusItemByElement(i[0].container),i[0].onClick(e)),i.length>1){const e=i.shift();e&&e.container&&(this.focusItemByElement(e.container),i.push(e)),this.mnemonics.set(t,i)}}})),Se.d&&this._register(Object(X.i)(n,X.d.KEY_DOWN,e=>{const t=new qt.a(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),X.c.stop(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),X.c.stop(e,!0))})),this._register(Object(X.i)(this.domNode,X.d.MOUSE_OUT,e=>{let t=e.relatedTarget;Object(X.L)(t,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())})),this._register(Object(X.i)(this.actionsList,X.d.MOUSE_OVER,e=>{let t=e.target;if(t&&Object(X.L)(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(t.classList.contains("action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}}));let o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new bo.a(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const r=this.scrollableElement.getDomNode();r.style.position="",this._register(Object(X.i)(r,X.d.MOUSE_UP,e=>{e.preventDefault()})),n.style.maxHeight=Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)+"px",t=t.filter(e=>{var t;return!(null===(t=i.submenuIds)||void 0===t?void 0:t.has(e.id))||(console.warn("Found submenu cycle: "+e.id),!1)}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(e=>!(e instanceof Fo)).forEach((e,t,i)=>{e.updatePositionInSet(t+1,i.length)})}initializeStyleSheet(e){Object(X.O)(e)?(this.styleSheet=Object(X.w)(e),this.styleSheet.textContent=jo):(Ao.globalStyleSheet||(Ao.globalStyleSheet=Object(X.w)(),Ao.globalStyleSheet.textContent=jo),this.styleSheet=Ao.globalStyleSheet)}style(e){const t=this.getContainer(),i=e.foregroundColor?""+e.foregroundColor:"",n=e.backgroundColor?""+e.backgroundColor:"",o=e.borderColor?"1px solid "+e.borderColor:"",r=e.shadowColor?"0 2px 4px "+e.shadowColor:"";t.style.border=o,this.domNode.style.color=i,this.domNode.style.backgroundColor=n,t.style.boxShadow=r,this.viewItems&&this.viewItems.forEach(t=>{(t instanceof Ro||t instanceof Fo)&&t.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof mo.d)return new Fo(t.context,e,{icon:!0});if(e instanceof mo.e){const n=new Po(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}{const i={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const n=t.getKeyBinding(e);if(n){const e=n.getLabel();e&&(i.keybinding=e)}}const n=new Ro(t.context,e,i);if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}}}class Ro extends Lo.b{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass="",this.options.label&&i.enableMnemonics){let e=this.getAction().label;if(e){let t=Oo.exec(e);t&&(this.mnemonic=(t[1]?t[1]:t[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Ce.e(()=>{this.element&&(this._register(Object(X.i)(this.element,X.d.MOUSE_UP,e=>{if(X.c.stop(e,!0),ko.g){if(new Do.a(e).rightButton)return;this.onClick(e)}else setTimeout(()=>{this.onClick(e)},0)})),this._register(Object(X.i)(this.element,X.d.CONTEXT_MENU,e=>{X.c.stop(e,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=Object(X.q)(this.element,Object(X.a)("a.action-menu-item")),this._action.id===mo.d.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",""+this.mnemonic)),this.check=Object(X.q)(this.item,Object(X.a)("span.menu-item-check"+Eo.cssSelector)),this.check.setAttribute("role","none"),this.label=Object(X.q)(this.item,Object(X.a)("span.action-label")),this.options.label&&this.options.keybinding&&(Object(X.q)(this.item,Object(X.a)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",""+e),this.item.setAttribute("aria-setsize",""+t))}updateLabel(){if(this.label&&this.options.label){Object(X.t)(this.label);let e=Object(Io.e)(this.getAction().label);if(e){const t=function(e){const t=Oo,i=t.exec(e);if(!i)return e;const n=!i[1];return e.replace(t,n?"$2$3":"").trim()}(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));const i=Oo.exec(e);if(i){e=Re.t(e),No.lastIndex=0;let t=No.exec(e);for(;t&&t[1];)t=No.exec(e);const n=e=>e.replace(/&amp;&amp;/g,"&amp;");t?this.label.append(Re.K(n(e.substr(0,t.index))," "),Object(X.a)("u",{"aria-hidden":"true"},t[3]),Re.P(n(e.substr(t.index+t[0].length))," ")):this.label.innerText=n(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=ri.a({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){this.item&&(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?"thin solid "+this.menuStyle.selectionBorderColor:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=n)}style(e){this.menuStyle=e,this.applyStyle()}}class Po extends Ro{constructor(e,t,i,n){super(e,e,n),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new we.b),this.mouseOver=!1,this.expandDirection=n&&void 0!==n.expandDirection?n.expandDirection:Mo.Right,this.showScheduler=new Ce.e(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Ce.e(()=>{this.element&&!Object(X.L)(Object(X.y)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Object(X.q)(this.item,Object(X.a)("span.submenu-indicator"+To.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Object(X.i)(this.element,X.d.KEY_UP,e=>{let t=new qt.a(e);(t.equals(17)||t.equals(3))&&(X.c.stop(e,!0),this.createSubmenu(!0))})),this._register(Object(X.i)(this.element,X.d.KEY_DOWN,e=>{let t=new qt.a(e);Object(X.y)()===this.item&&(t.equals(17)||t.equals(3))&&X.c.stop(e,!0)})),this._register(Object(X.i)(this.element,X.d.MOUSE_OVER,e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(Object(X.i)(this.element,X.d.MOUSE_LEAVE,e=>{this.mouseOver=!1})),this._register(Object(X.i)(this.element,X.d.FOCUS_OUT,e=>{this.element&&!Object(X.L)(Object(X.y)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(e){X.c.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const o={top:0,left:0};return o.left=Co(e.width,t.width,{position:n===Mo.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=Co(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Object(X.q)(this.element,Object(X.a)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Ao(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new mo.c],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const n=this.element.getBoundingClientRect(),o={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},r=this.submenuContainer.getBoundingClientRect(),{top:s,left:a}=this.calculateSubmenuMenuLayout(new X.b(window.innerWidth,window.innerHeight),X.b.lift(r),o,this.expandDirection);this.submenuContainer.style.left=a+"px",this.submenuContainer.style.top=s+"px",this.submenuDisposables.add(Object(X.i)(this.submenuContainer,X.d.KEY_UP,e=>{new qt.a(e).equals(15)&&(X.c.stop(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(Object(X.i)(this.submenuContainer,X.d.KEY_DOWN,e=>{new qt.a(e).equals(15)&&X.c.stop(e,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=e?""+e:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Fo extends Lo.a{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?""+e.separatorColor:"")}}let jo=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${Object(xo.a)(Eo)}\n${Object(xo.a)(To)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n`;var Bo=i("ptcw");class Wo{constructor(e,t,i,n,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=document.activeElement;let n=Object(X.M)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:n=>{let o=e.getMenuClassName?e.getMenuClassName():"";o&&(n.className+=" "+o),this.options.blockMouse&&(this.block=n.appendChild(Object(X.a)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",Object(X.i)(this.block,X.d.MOUSE_DOWN,e=>e.stopPropagation()));const r=new we.b,s=e.actionRunner||new mo.b;return s.onBeforeRun(this.onActionRun,this,r),s.onDidRun(this.onDidActionRun,this,r),i=new Ao(n,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:s,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),r.add(Object(Bo.c)(i,this.themeService)),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,r),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,r),r.add(Object(X.i)(window,X.d.BLUR,()=>this.contextViewService.hideContextView(!0))),r.add(Object(X.i)(window,X.d.MOUSE_DOWN,e=>{if(e.defaultPrevented)return;let t=new Do.a(e),i=t.target;if(!t.rightButton){for(;i;){if(i===n)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}})),Object(we.e)(r,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:t=>{e.onHide&&e.onHide(!!t),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!Object(ye.d)(e.error)&&this.notificationService.error(e.error)}}var Vo=i("XXUj"),Ho=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},zo=function(e,t){return function(i,n){t(i,n,e)}};let Uo=class extends we.a{constructor(e,t,i,n,o){super(),this.contextMenuHandler=new Wo(i,e,t,n,o)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(e),X.e.getInstance().resetKeyStatus()}};Uo=Ho([zo(0,Vo.a),zo(1,fi.a),zo(2,qi.b),zo(3,Gi.a),zo(4,Yi.b)],Uo);const Ko=Object($i.c)("layoutService");var qo=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},$o=function(e,t){return function(i,n){t(i,n,e)}};let Go=class extends we.a{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=we.a.None,this.container=e.container,this.contextView=this._register(new wo(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const n=Object(we.i)(()=>{this.currentViewDisposable===n&&this.hideContextView()});return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};Go=qo([$o(0,Ko)],Go);var Yo=i("6vuP");class Zo{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class Xo{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new Zo(e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join("\n")}findCycleSlow(){for(let[e,t]of this._nodes){const i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(let[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const e=this._findCycle(n,t);if(e)return e;t.delete(i)}}}var Qo=i("r0BQ"),Jo=i("8HsV");class er extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:"UNABLE to detect cycle, dumping graph: \n"+e.toString()}}class tr{constructor(e=new Jo.a,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set($i.a,this)}createChild(e){return new tr(e,this._strict,this)}invokeFunction(e,...t){let i=ir.traceInvocation(e),n=!1;try{return e({get:(e,t)=>{if(n)throw Object(ye.c)("service accessor is only valid during the invocation of its target method");const o=this._getOrCreateServiceInstance(e,i);if(!o&&t!==$i.d)throw new Error(`[invokeFunction] unknown service '${e}'`);return o}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof Qo.a?(i=ir.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=ir.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){let n=$i.b.getServiceDependencies(e).sort((e,t)=>e.index-t.index),o=[];for(const s of n){let t=this._getOrCreateServiceInstance(s.id,i);if(!t&&this._strict&&!s.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${s.id}.`);o.push(t)}let r=n.length>0?n[0].index:t.length;if(t.length!==r){console.warn(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${t.length} static arguments`);let i=r-t.length;t=i>0?t.concat(new Array(i)):t.slice(0,r)}return new e(...[...t,...o])}_setServiceInstance(e,t){if(this._services.get(e)instanceof Qo.a)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof Qo.a?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const n=new Xo(e=>e.id.toString());let o=0;const r=[{id:e,desc:t,_trace:i}];for(;r.length;){const t=r.pop();if(n.lookupOrInsertNode(t),o++>1e3)throw new er(n);for(let i of $i.b.getServiceDependencies(t.desc.ctor)){let o=this._getServiceInstanceOrDescriptor(i.id);if(o||i.optional||console.warn(`[createInstance] ${e} depends on ${i.id} which is NOT registered.`),o instanceof Qo.a){const e={id:i.id,desc:o,_trace:t._trace.branch(i.id,!0)};n.insertEdge(t,e),r.push(e)}}}for(;;){const e=n.roots();if(0===e.length){if(!n.isEmpty())throw new er(n);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof Qo.a){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}n.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,o){if(this._services.get(e)instanceof Qo.a)return this._createServiceInstance(t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error("illegalState - creating UNKNOWN service instance "+t.name)}_createServiceInstance(e,t=[],i,n){if(i){const i=new Ce.b(()=>this._createInstance(e,t,n));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];let n=i.value,o=n[t];return"function"!=typeof o||(o=o.bind(n),e[t]=o),o},set:(e,t,n)=>(i.value[t]=n,!0)})}return this._createInstance(e,t,n)}}class ir{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return ir._None}static traceCreation(e){return ir._None}branch(e,t){let i=new ir(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;ir._totals+=e;let t=!1;let i=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,""+function e(i,n){let o=[],r=new Array(i+1).join("\t");for(const[s,a,l]of n._dep)if(a&&l){t=!0,o.push(`${r}CREATES -> ${s}`);let n=e(i+1,l);n&&o.push(n)}else o.push(`${r}uses -> ${s}`);return o.join("\n")}(1,this),`DONE, took ${e.toFixed(2)}ms (grand total ${ir._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(i.join("\n"))}}ir._None=new class extends ir{constructor(){super(-1,null)}stop(){}branch(){return this}},ir._totals=0;var nr=i("R8sh"),or=i("k9mg"),rr=i("tADe");class sr{constructor(){this._byResource=new J.b,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new J.b,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){let i=this._byResource.get(e);return null==i?void 0:i.get(t)}delete(e,t){let i=!1,n=!1,o=this._byResource.get(e);o&&(i=o.delete(t));let r=this._byOwner.get(t);if(r&&(n=r.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,o;return"string"==typeof e?null!==(i=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==i?i:eo.a.empty():H.a.isUri(e)?null!==(o=null===(n=this._byResource.get(e))||void 0===n?void 0:n.values())&&void 0!==o?o:eo.a.empty():eo.a.map(eo.a.concat(...this._byOwner.values()),e=>e[1])}}class ar{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new J.b,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const i=this._resourceStats(t);this._add(i),this._data.set(t,i)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===te.c.inMemory||e.scheme===te.c.walkThrough||e.scheme===te.c.walkThroughSnippet)return t;for(const{severity:i}of this._service.read({resource:e}))i===rr.c.Error?t.errors+=1:i===rr.c.Warning?t.warnings+=1:i===rr.c.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class lr{constructor(){this._onMarkerChanged=new W.a({delay:0,merge:lr._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new sr,this._stats=new ar(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(Object(st.m)(i)){this._data.delete(t,e)&&this._onMarkerChanged.fire([t])}else{const n=[];for(const o of i){const i=lr._toMarker(e,t,o);i&&n.push(i)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:o,message:r,source:s,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:h,relatedInformation:d,tags:u}=i;if(r)return a=a>0?a:1,l=l>0?l:1,c=c>=a?c:a,h=h>0?h:l,{resource:t,owner:e,code:n,severity:o,message:r,source:s,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:h,relatedInformation:d,tags:u}}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const e=this._data.get(i,t);if(e){const t=[];for(const i of e)if(lr._accept(i,n)){const e=t.push(i);if(o>0&&e===o)break}return t}return[]}if(t||i){const e=this._data.values(null!=i?i:t),r=[];for(const t of e)for(const e of t)if(lr._accept(e,n)){const t=r.push(e);if(o>0&&t===o)return r}return r}{const e=[];for(let t of this._data.values())for(let i of t)if(lr._accept(i,n)){const t=e.push(i);if(o>0&&t===o)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _merge(e){const t=new J.b;for(let i of e)for(let e of i)t.set(e,!0);return Array.from(t.keys())}}var cr=i("A+jI"),hr=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},dr=function(e,t){return function(i,n){t(i,n,e)}};let ur=class{constructor(e){this._commandService=e}createMenu(e,t,i=!1){return new gr(e,i,this._commandService,t,this)}};ur=hr([dr(0,ne.b)],ur);let gr=class e{constructor(e,t,i,n,o){this._id=e,this._fireEventsForSubmenuChanges=t,this._commandService=i,this._contextKeyService=n,this._menuService=o,this._disposables=new we.b,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new Ce.e(()=>{this._build(),this._onDidChange.fire(this)},50);this._disposables.add(r),this._disposables.add(Ui.d.onDidChangeMenu(t=>{t.has(e)&&r.schedule()}));const s=this._disposables.add(new we.b);this._onDidChange=new W.b({onFirstListenerAdd:()=>{const e=new Ce.e(()=>this._onDidChange.fire(this),50);s.add(e),s.add(n.onDidChangeContext(t=>{t.affectsSome(this._contextKeys)&&e.schedule()}))},onLastListenerRemove:s.clear.bind(s)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=Ui.d.getMenuItems(this._id);let i;t.sort(e._compareMenuItems);for(const e of t){const t=e.group||"";i&&i[0]===t||(i=[t,[]],this._menuGroups.push(i)),i[1].push(e),this._collectContextKeys(e)}}_collectContextKeys(t){if(e._fillInKbExprKeys(t.when,this._contextKeys),Object(Ui.f)(t)){if(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;e._fillInKbExprKeys(i,this._contextKeys)}}else this._fireEventsForSubmenuChanges&&Ui.d.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(let i of this._menuGroups){const[n,o]=i,r=[];for(const t of o)if(this._contextKeyService.contextMatchesRules(t.when)){const i=Object(Ui.f)(t)?new Ui.c(t.command,t.alt,e,this._contextKeyService,this._commandService):new Ui.e(t,this._menuService,this._contextKeyService,e);r.push(i)}r.length>0&&t.push([n,r])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(t,i){let n=t.group,o=i.group;if(n!==o){if(!n)return 1;if(!o)return-1;if("navigation"===n)return-1;if("navigation"===o)return 1;let e=n.localeCompare(o);if(0!==e)return e}let r=t.order||0,s=i.order||0;return r<s?-1:r>s?1:e._compareTitles(Object(Ui.f)(t)?t.command.title:t.title,Object(Ui.f)(i)?i.command.title:i.title)}static _compareTitles(e,t){const i="string"==typeof e?e:e.original,n="string"==typeof t?t:t.original;return i.localeCompare(n)}};gr=hr([dr(2,ne.b),dr(3,Ki.b),dr(4,Ui.a)],gr);var pr=i("79sc"),mr=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},fr=function(e,t){return function(i,n){t(i,n,e)}};class br extends we.a{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(Object(we.i)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const n=this.model.deltaDecorations(i,t);for(let o=0;o<n.length;o++)this._markersData.set(n[o],e[o]);return 0!==i.length||0!==n.length}getMarker(e){return this._markersData.get(e.id)}}let _r=class extends we.a{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new W.b),this._markerDecorations=new J.b,e.getModels().forEach(e=>this._onModelAdded(e)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)})}_onModelAdded(e){const t=new br(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==te.c.inMemory&&e.uri.scheme!==te.c.internal&&e.uri.scheme!==te.c.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(e=>e.owner).forEach(t=>this._markerService.remove(t,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let i=t.map(t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=U.a.lift(t);if(t.severity!==rr.c.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){let t=e.getWordAtPosition(i.getStartPosition());if(t)i=new U.a(i.startLineNumber,t.startColumn,i.endLineNumber,t.endColumn);else{let t=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);1===t||(i=i.endColumn>=t?new U.a(i.startLineNumber,t-1,i.endLineNumber,t):new U.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&i.startLineNumber===i.endLineNumber){let n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new U.a(i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n)}return i}_createDecorationOption(e){let t,i,n,o=void 0,r=void 0;switch(e.severity){case rr.c.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",i=0;break;case rr.c.Warning:t="squiggly-warning",o=Object(Yi.g)(Wn.v),i=20,n={color:Object(Yi.g)(Vn.gc),position:pe.c.Inline};break;case rr.c.Info:t="squiggly-info",o=Object(Yi.g)(Wn.t),i=10;break;case rr.c.Error:default:t="squiggly-error",o=Object(Yi.g)(Wn.s),i=30,n={color:Object(Yi.g)(Vn.ac),position:pe.c.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(r="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(r="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:o,position:pe.d.Right},minimap:n,zIndex:i,inlineClassName:r}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};_r=mr([fr(0,ot.a),fr(1,rr.b)],_r);var vr=i("9fML"),Cr=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},wr=function(e,t){return function(i,n){t(i,n,e)}};let yr=class extends we.a{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new W.b,this._accessibilityModeEnabledContext=Zi.a.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())})),i(),this.onDidChangeScreenReaderOptimized(()=>i())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};yr=Cr([wr(0,Ki.b),wr(1,Qt.a)],yr);var Sr=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Lr{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return Sr(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}const i=document.activeElement,n=document.body.appendChild(Object(X.a)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)}))}readText(e){return Sr(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}}))}readFindText(){return Sr(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return Sr(this,void 0,void 0,(function*(){this.findText=e}))}}var xr=i("OAO6"),kr=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Dr=function(e,t){return function(i,n){t(i,n,e)}},Ir=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function Or(e){return e.scheme===te.c.file?e.fsPath:e.path}let Nr=0;class Er{constructor(e,t,i,n,o,r,s){this.id=++Nr,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=o,this.sourceId=r,this.sourceOrder=s,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Tr{constructor(e,t){this.resourceLabel=e,this.reason=t}}class Mr{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,n]of this.elements){(0===n.reason?e:t).push(n.resourceLabel)}let i=[];return e.length>0&&i.push(ri.a({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(ri.a({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class Ar{constructor(e,t,i,n,o,r,s){this.id=++Nr,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=o,this.sourceId=r,this.sourceOrder=s,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,i){this.removedResources||(this.removedResources=new Mr),this.removedResources.has(t)||this.removedResources.set(t,new Tr(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new Mr),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new Tr(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Rr{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push("   * [UNDO] "+this._past[t]);for(let t=this._future.length-1;t>=0;t--)e.push("   * [REDO] "+this._future[t]);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)1===t.type&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new xr.b(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,o=-1;for(let s=0,a=this._past.length;s<a;s++,n++){const r=this._past[s];i&&(n>=t||r.id!==e.elements[n])&&(i=!1,o=0),i||1!==r.type||r.removeResource(this.resourceLabel,this.strResource,0)}let r=-1;for(let s=this._future.length-1;s>=0;s--,n++){const o=this._future[s];i&&(n>=t||o.id!==e.elements[n])&&(i=!1,r=s),i||1!==o.type||o.removeResource(this.resourceLabel,this.strResource,0)}-1!==o&&(this._past=this._past.slice(0,o)),-1!==r&&(this._future=this._future.slice(r+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class Pr{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const Fr=new Rr("","");Fr.locked=!0;let jr=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join("\n"))}pushElement(e,t=xr.c.None,i=xr.d.None){if(0===e.type){const n=Or(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new Er(e,n,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const n=new Set,o=[],r=[];for(const t of e.resources){const e=Or(t),i=this.getUriComparisonKey(t);n.has(i)||(n.add(i),o.push(e),r.push(i))}1===o.length?this._pushElement(new Er(e,o[0],r[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new Ar(e,o,r,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const i=e.resourceLabels[t],n=e.strResources[t];let o;this._editStacks.has(n)?o=this._editStacks.get(n):(o=new Rr(i,n),this._editStacks.set(n,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const i=e.getClosestPastElement();return i?i.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const e=Or(o.resource),t=this.getUriComparisonKey(o.resource),i=new Er(o,e,t,0,0,0,0);n.set(i.strResource,i)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const e=Or(o.resource),t=this.getUriComparisonKey(o.resource),i=new Er(o,e,t,0,0,0,0);n.set(i.strResource,i)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,n)}}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(this._editStacks.has(t)){this._editStacks.get(t).dispose(),this._editStacks.delete(t)}}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);if(this._editStacks.has(n)){this._editStacks.get(n).setElementsValidFlag(t,i)}}createSnapshot(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).createSnapshot(e)}return new xr.b(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),i.hasPastElements()||i.hasFutureElements()||(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).getElements()}return{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestPastElement();r&&(r.sourceId===e&&(!t||r.sourceOrder>t.sourceOrder)&&(t=r,i=n))}return[t,i]}canUndo(e){if(e instanceof xr.d){const[,t]=this._findClosestUndoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasPastElements()}return!1}_onError(e,t){Object(ye.e)(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,o){const r=this._acquireLocks(i);let s;try{s=t()}catch(a){return r(),n.dispose(),this._onError(a,e)}return s?s.then(()=>(r(),n.dispose(),o()),t=>(r(),n.dispose(),this._onError(t,e))):(r(),n.dispose(),o())}_invokeWorkspacePrepare(e){return Ir(this,void 0,void 0,(function*(){if(void 0===e.actual.prepareUndoRedo)return we.a.None;const t=e.actual.prepareUndoRedo();return void 0===t?we.a.None:t}))}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return t(we.a.None);const i=e.actual.prepareUndoRedo();return i?Object(we.g)(i)?t(i):i.then(e=>t(e)):t(we.a.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||Fr);return new Pr(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new Br(this._undo(e,0,!0));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new Br}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,ri.a({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,ri.a({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const s of i.editStacks)s.getClosestPastElement()!==t&&o.push(s.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,ri.a({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const s of i.editStacks)s.locked&&r.push(s.resourceLabel);return r.length>0?this._tryToSplitAndUndo(e,t,null,ri.a({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,ri.a({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const n=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,n,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const i=t.getSecondClosestPastElement();if(i&&i.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,n){return Ir(this,void 0,void 0,(function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const o=yield this._dialogService.show($t.a.Info,ri.a("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[ri.a({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),ri.a("nok","Undo this File"),ri.a("cancel","Cancel")],{cancelId:2});if(2===o.choice)return;if(1===o.choice)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const r=this._checkWorkspaceUndo(e,t,i,!1);if(r)return r.returnValue;n=!0}let o;try{o=yield this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}const r=this._checkWorkspaceUndo(e,t,i,!0);if(r)return o.dispose(),r.returnValue;for(const e of i.editStacks)e.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,o,()=>this._continueUndoInGroup(t.groupId,n))}))}_resourceUndo(e,t,i){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new Pr([e]),n,()=>this._continueUndoInGroup(t.groupId,i))));{const e=ri.a({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestPastElement();r&&(r.groupId===e&&(!t||r.groupOrder>t.groupOrder)&&(t=r,i=n))}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);return i?this._undo(i,0,t):void 0}undo(e){if(e instanceof xr.d){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return"string"==typeof e?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const n=this._editStacks.get(e),o=n.getClosestPastElement();if(!o)return;if(o.groupId){const[e,n]=this._findClosestUndoElementInGroup(o.groupId);if(o!==e&&n)return this._undo(n,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return 1===o.type?this._workspaceUndo(e,o,i):this._resourceUndo(n,o,i)}finally{0}}_confirmAndContinueUndo(e,t,i){return Ir(this,void 0,void 0,(function*(){if(1!==(yield this._dialogService.show($t.a.Info,ri.a("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[ri.a("confirmDifferentSource.yes","Yes"),ri.a("cancel","Cancel")],{cancelId:1})).choice)return this._undo(e,t,!0)}))}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestFutureElement();r&&(r.sourceId===e&&(!t||r.sourceOrder<t.sourceOrder)&&(t=r,i=n))}return[t,i]}canRedo(e){if(e instanceof xr.d){const[,t]=this._findClosestRedoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasFutureElements()}return!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new Br(this._redo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(n),new Br}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,ri.a({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,ri.a({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const s of i.editStacks)s.getClosestFutureElement()!==t&&o.push(s.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,ri.a({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const s of i.editStacks)s.locked&&r.push(s.resourceLabel);return r.length>0?this._tryToSplitAndRedo(e,t,null,ri.a({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,ri.a({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return Ir(this,void 0,void 0,(function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(r){return this._onError(r,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(const e of i.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,n,()=>this._continueRedoInGroup(t.groupId))}))}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new Pr([e]),i,()=>this._continueRedoInGroup(t.groupId))));{const e=ri.a({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestFutureElement();r&&(r.groupId===e&&(!t||r.groupOrder<t.groupOrder)&&(t=r,i=n))}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);return t?this._redo(t):void 0}redo(e){if(e instanceof xr.d){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return"string"==typeof e?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[e,t]=this._findClosestRedoElementInGroup(i.groupId);if(i!==e&&t)return this._redo(t)}try{return 1===i.type?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{0}}}};jr=kr([Dr(0,Yo.a),Dr(1,fi.a)],jr);class Br{constructor(e){this.returnValue=e}}Object(vr.b)(xr.a,jr);i("Z1pP");var Wr=i("sswD"),Vr=(i("CDaH"),i("zdb4"));const Hr=new Ce.b(()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}});function zr(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),r=function(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),r=n.startsWith(i),s=o.startsWith(i);if(r!==s)return r?-1:1;if(r&&s){if(n.length<o.length)return-1;if(n.length>o.length)return 1}return 0}(e,t,i);if(r)return r;const s=n.endsWith(i);if(s!==o.endsWith(i))return s?-1:1;const a=function(e,t,i=!1){const n=e||"",o=t||"",r=Hr.value.collator.compare(n,o);return Hr.value.collatorIsNumeric&&0===r&&n!==o?n<o?-1:1:r}(n,o);return 0!==a?a:n.localeCompare(o)}var Ur=i("xONI"),Kr=i("7lZ/"),qr=i("ZCR3"),$r=i("nD70");const Gr={},Yr=new $r.a("quick-input-button-icon-");function Zr(e){if(!e)return;let t;const i=e.dark.toString();return Gr[i]?t=Gr[i]:(t=Yr.nextId(),X.v("."+t,"background-image: "+X.s(e.light||e.dark)),X.v(`.vs-dark .${t}, .hc-black .${t}`,"background-image: "+X.s(e.dark)),Gr[i]=t),t}i("q/I2");const Xr=X.a;class Qr{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=X.q(e,Xr(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&Qr.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(X.q(this.domNode,Xr("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){X.t(this.domNode),this.keyElements.clear()}renderPart(e,t,i){const n=gi.b.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(null==i?void 0:i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(null==i?void 0:i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(null==i?void 0:i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(null==i?void 0:i.metaKey),n.separator);const o=t.keyLabel;o&&this.renderKey(e,o,Boolean(null==i?void 0:i.keyCode),"")}renderKey(e,t,i,n){X.q(e,this.createKeyElement(t,i?".highlight":"")),n&&X.q(e,Xr("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){X.q(e,this.createKeyElement(Object(ri.a)("unbound","Unbound")))}createKeyElement(e,t=""){const i=Xr("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=null===(e=this.labelBackground)||void 0===e?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow="inset 0 -1px 0 "+this.labelShadow);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&Object(Jt.d)(e.firstPart,t.firstPart)&&Object(Jt.d)(e.chordPart,t.chordPart)}}var Jr=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},es=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const ts=X.a;class is{constructor(e){this.hidden=!1,this._onChecked=new W.b,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class ns{get templateId(){return ns.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=X.q(e,ts(".quick-input-list-entry"));const i=X.q(t.entry,ts("label.quick-input-list-label"));t.toDisposeTemplate.push(X.o(i,X.d.CLICK,e=>{t.checkbox.offsetParent||e.preventDefault()})),t.checkbox=X.q(i,ts("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(X.o(t.checkbox,X.d.CHANGE,e=>{t.element.checked=t.checkbox.checked}));const n=X.q(i,ts(".quick-input-list-rows")),o=X.q(n,ts(".quick-input-list-row")),r=X.q(n,ts(".quick-input-list-row"));t.label=new Ur.a(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const s=X.q(o,ts(".quick-input-list-entry-keybinding"));t.keybinding=new Qr(s,Se.a);const a=X.q(r,ts(".quick-input-list-label-meta"));return t.detail=new Kr.a(a,!0),t.separator=X.q(t.entry,ts(".quick-input-list-separator")),t.actionBar=new fo.a(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=Object(we.f)(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(e=>i.checkbox.checked=e));const{labelHighlights:n,descriptionHighlights:o,detailHighlights:r}=e,s=Object.create(null);s.matches=n||[],s.descriptionTitle=e.saneDescription,s.descriptionMatches=o||[],s.extraClasses=e.item.iconClasses,s.italic=e.item.italic,s.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,s),i.keybinding.set(e.item.keybinding),i.detail.set(e.saneDetail,r),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();const a=e.item.buttons;a&&a.length?(i.actionBar.push(a.map((t,i)=>{let n=t.iconClass||(t.iconPath?Zr(t.iconPath):void 0);t.alwaysVisible&&(n=n?n+" always-visible":"always-visible");const o=new mo.a("id-"+i,"",n,!0,()=>es(this,void 0,void 0,(function*(){e.fireButtonTriggered({button:t,item:e.item})})));return o.tooltip=t.tooltip||"",o}),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=Object(we.f)(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=Object(we.f)(e.toDisposeElement),e.toDisposeTemplate=Object(we.f)(e.toDisposeTemplate)}}ns.ID="listelement";class os{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return ns.ID}}var rs;!function(e){e[e.First=1]="First",e[e.Second=2]="Second",e[e.Last=3]="Last",e[e.Next=4]="Next",e[e.Previous=5]="Previous",e[e.NextPage=6]="NextPage",e[e.PreviousPage=7]="PreviousPage"}(rs||(rs={}));class ss{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new W.b,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new W.b,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new W.b,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new W.b,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new W.b,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new W.b,this.onKeyDown=this._onKeyDown.event,this._onLeave=new W.b,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=X.q(this.parent,ts(".quick-input-list"));const n=new os,o=new as;this.list=i.createList("QuickInput",this.container,n,[new ns],{identityProvider:{getId:e=>e.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:o}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(e=>{const t=new qt.a(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(Se.f?e.metaKey:e.ctrlKey)&&this.list.setFocus(Object(st.r)(this.list.length));break;case 16:const t=this.list.getFocus();1===t.length&&0===t[0]&&this._onLeave.fire();break;case 18:const i=this.list.getFocus();1===i.length&&i[0]===this.list.length-1&&this._onLeave.fire()}this._onKeyDown.fire(t)})),this.disposables.push(this.list.onMouseDown(e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()})),this.disposables.push(X.i(this.container,X.d.CLICK,e=>{(e.x||e.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(e=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return W.c.map(this.list.onDidChangeFocus,e=>e.elements.map(e=>e.item))}get onDidChangeSelection(){return W.c.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(e=>e.item),event:e.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.hidden){if(!n.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=Object(we.f)(this.elementDisposables);const t=e=>this.fireButtonTriggered(e);this.inputElements=e,this.elements=e.reduce((i,n,o)=>{var r,s,a;if("separator"!==n.type){const l=o&&e[o-1],c=n.label&&n.label.replace(/\r?\n/g," "),h=n.meta&&n.meta.replace(/\r?\n/g," "),d=n.description&&n.description.replace(/\r?\n/g," "),u=n.detail&&n.detail.replace(/\r?\n/g," "),g=n.ariaLabel||[c,d,u].map(e=>Object(So.c)(e)).filter(e=>!!e).join(", ");i.push(new is({index:o,item:n,saneLabel:c,saneMeta:h,saneAriaLabel:g,saneDescription:d,saneDetail:u,labelHighlights:null===(r=n.highlights)||void 0===r?void 0:r.label,descriptionHighlights:null===(s=n.highlights)||void 0===s?void 0:s.description,detailHighlights:null===(a=n.highlights)||void 0===a?void 0:a.detail,checked:!1,separator:l&&"separator"===l.type?l:void 0,fireButtonTriggered:t}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(e=>e.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((e,t,i)=>(e.set(t.item,i),e),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(e=>this.elementsToIndexes.has(e)).map(e=>this.elementsToIndexes.get(e))),e.length>0){const e=this.list.getFocus()[0];"number"==typeof e&&this.list.reveal(e)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(e=>this.elementsToIndexes.has(e)).map(e=>this.elementsToIndexes.get(e)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===rs.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=rs.First),e===rs.Previous&&0===this.list.getFocus()[0]&&(e=rs.Last),e===rs.Second&&this.list.length<2&&(e=rs.First),e){case rs.First:this.list.focusFirst();break;case rs.Second:this.list.focusNth(1);break;case rs.Last:this.list.focusLast();break;case rs.Next:this.list.focusNext();break;case rs.Previous:this.list.focusPrevious();break;case rs.NextPage:this.list.focusNextPage();break;case rs.PreviousPage:this.list.focusPreviousPage()}const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${44*Math.floor(e/44)}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let t;this.elements.forEach(i=>{const n=this.matchOnLabel?Object(Le.o)(Object(Io.c)(e,Object(Io.d)(i.saneLabel))):void 0,o=this.matchOnDescription?Object(Le.o)(Object(Io.c)(e,Object(Io.d)(i.saneDescription||""))):void 0,r=this.matchOnDetail?Object(Le.o)(Object(Io.c)(e,Object(Io.d)(i.saneDetail||""))):void 0,s=this.matchOnMeta?Object(Le.o)(Object(Io.c)(e,Object(Io.d)(i.saneMeta||""))):void 0;if(n||o||r||s?(i.labelHighlights=n,i.descriptionHighlights=o,i.detailHighlights=r,i.hidden=!1):(i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!i.item.alwaysShow),i.separator=void 0,!this.sortByLabel){const e=i.index&&this.inputElements[i.index-1];t=e&&"separator"===e.type?e:t,t&&!i.hidden&&(i.separator=t,t=void 0)}})}else this.elements.forEach(e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this.inputElements[e.index-1];e.separator=t&&"separator"===t.type?t:void 0});const t=this.elements.filter(e=>!e.hidden);if(this.sortByLabel&&e){const i=e.toLowerCase();t.sort((e,t)=>function(e,t,i){const n=e.labelHighlights||[],o=t.labelHighlights||[];if(n.length&&!o.length)return-1;if(!n.length&&o.length)return 1;if(0===n.length&&0===o.length)return 0;return zr(e.saneLabel,t.saneLabel,i)}(e,t,i))}return this.elementsToIndexes=t.reduce((e,t,i)=>(e.set(t.item,i),e),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=Object(we.f)(this.elementDisposables),this.disposables=Object(we.f)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}Jr([qr.a],ss.prototype,"onDidChangeFocus",null),Jr([qr.a],ss.prototype,"onDidChangeSelection",null);class as{getWidgetAriaLabel(){return Object(ri.a)("quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var ls=i("0+8E");const cs=X.a;class hs extends we.a{constructor(e){super(),this.parent=e,this.onKeyDown=e=>X.i(this.inputBox.inputElement,X.d.KEY_DOWN,t=>{e(new qt.a(t))}),this.onMouseDown=e=>X.i(this.inputBox.inputElement,X.d.MOUSE_DOWN,t=>{e(new Do.a(t))}),this.onDidChange=e=>this.inputBox.onDidChange(e),this.container=X.q(this.parent,cs(".quick-input-box")),this.inputBox=this._register(new ls.b(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return"password"===this.inputBox.inputElement.type}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===$t.a.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===$t.a.Info?1:e===$t.a.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===$t.a.Info?1:e===$t.a.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}var ds=i("O/se");i("HyZH");const us={progressBarBackground:Tn.a.fromHex("#0E70C0")};class gs extends we.a{constructor(e,t){super(),this.options=t||Object.create(null),Object(Jt.f)(this.options,us,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new Ce.e(()=>Object(X.W)(this.element),0)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active","infinite","discrete"),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add("done"),this.element.classList.contains("infinite")?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove("discrete","done"),this.element.classList.add("active","infinite"),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}i("/6w4");var ps=i("pg8w"),ms=i("fdyd");const fs={buttonBackground:Tn.a.fromHex("#0E639C"),buttonHoverBackground:Tn.a.fromHex("#006BB3"),buttonForeground:Tn.a.white};class bs extends we.a{constructor(e,t){super(),this._onDidClick=this._register(new W.b),this.options=t||Object.create(null),Object(Jt.f)(this.options,fs,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(ps.b.addTarget(this._element)),[X.d.CLICK,ps.a.Tap].forEach(e=>{this._register(Object(X.i)(this._element,e,e=>{this.enabled?this._onDidClick.fire(e):X.c.stop(e)}))}),this._register(Object(X.i)(this._element,X.d.KEY_DOWN,e=>{const t=new qt.a(e);let i=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),i=!0):t.equals(9)&&(this._element.blur(),i=!0),i&&X.c.stop(t,!0)})),this._register(Object(X.i)(this._element,X.d.MOUSE_OVER,e=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(Object(X.i)(this._element,X.d.MOUSE_OUT,e=>{this.applyStyles()})),this.focusTracker=this._register(Object(X.Y)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;e=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?Object(X.R)(this._element,...Object(ms.a)(e)):this._element.textContent=e,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var _s=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const vs=X.a,Cs={iconClass:Object(So.e)("quick-input-back",So.b.arrowLeft).classNames,tooltip:Object(ri.a)("quickInput.back","Back"),handle:-1};class ws extends we.a{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=ws.noPromptMessage,this._severity=$t.a.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new W.b),this.onDidHideEmitter=this._register(new W.b),this.onDisposeEmitter=this._register(new W.b),this.visibleDisposables=this._register(new we.b),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!Se.c;this._ignoreFocusOut=e&&!Se.c,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=Vr.c.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:e||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText=" ;");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new Ce.g,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter(e=>e===Cs);this.ui.leftActionBar.push(e.map((e,t)=>{const i=new mo.a("id-"+t,"",e.iconClass||Zr(e.iconPath),!0,()=>_s(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)})));return i.tooltip=e.tooltip||"",i}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter(e=>e!==Cs);this.ui.rightActionBar.push(t.map((e,t)=>{const i=new mo.a("id-"+t,"",e.iconClass||Zr(e.iconPath),!0,()=>_s(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)})));return i.tooltip=e.tooltip||"",i}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,X.R(this.ui.message,...Object(ms.a)(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?Object(ri.a)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==$t.a.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?""+t.foreground:"",this.ui.message.style.backgroundColor=t.background?""+t.background:"",this.ui.message.style.border=t.border?"1px solid "+t.border:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}ws.noPromptMessage=Object(ri.a)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class ys extends ws{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new W.b),this.onWillAcceptEmitter=this._register(new W.b),this.onDidAcceptEmitter=this._register(new W.b),this.onDidCustomEmitter=this._register(new W.b),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?Vr.a.NONE:Vr.a.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new W.b),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new W.b),this.onDidTriggerItemButtonEmitter=this._register(new W.b),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Vr.b:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(rs.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{if(e===this.value)return;this._value=e;this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(rs.Next),this.canSelectMany&&this.ui.list.domFocus(),X.c.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(rs.Previous):this.ui.list.focus(rs.Last),this.canSelectMany&&this.ui.list.domFocus(),X.c.stop(e,!0);break;case 12:this.ui.list.focus(rs.NextPage),this.canSelectMany&&this.ui.list.domFocus(),X.c.stop(e,!0);break;case 11:this.ui.list.focus(rs.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),X.c.stop(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(rs.First),X.c.stop(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(rs.Last),X.c.stop(e,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&Object(st.h)(e,this._activeItems,(e,t)=>e===t)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&Object(st.h)(e,this._selectedItems,(e,t)=>e===t)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&1===t.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&Object(st.h)(e,this._selectedItems,(e,t)=>e===t)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return X.i(this.ui.container,X.d.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new qt.a(e),i=t.keyCode;this._quickNavigate.keybindings.some(e=>{const[n,o]=e.getParts();return!o&&(n.shiftKey&&4===i?!(t.ctrlKey||t.altKey||t.metaKey):!(!n.altKey||6!==i)||(!(!n.ctrlKey||5!==i)||!(!n.metaKey||57!==i)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",e&&!this.description);const t={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!e,progressBar:!e,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(t),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const i=this.ariaLabel||this.placeholder||ys.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==i&&(this.ui.inputBox.ariaLabel=i),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Vr.a.NONE:this._itemActivation=Vr.a.FIRST;break;case Vr.a.SECOND:this.ui.list.focus(rs.Second),this._itemActivation=Vr.a.FIRST;break;case Vr.a.LAST:this.ui.list.focus(rs.Last),this._itemActivation=Vr.a.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),t.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(rs.First))}}ys.DEFAULT_ARIA_LABEL=Object(ri.a)("quickInputBox.ariaLabel","Type to narrow down results.");class Ss extends we.a{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new W.b),this.onDidCustomEmitter=this._register(new W.b),this.onDidTriggerButtonEmitter=this._register(new W.b),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new W.b),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new W.b),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(X.i(window,X.d.KEY_DOWN,e,!0)),this._register(X.i(window,X.d.KEY_UP,e,!0)),this._register(X.i(window,X.d.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=X.q(this.parentElement,vs(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=X.w(e),i=X.q(e,vs(".quick-input-titlebar")),n=this._register(new fo.a(i));n.domNode.classList.add("quick-input-left-action-bar");const o=X.q(i,vs(".quick-input-title")),r=this._register(new fo.a(i));r.domNode.classList.add("quick-input-right-action-bar");const s=X.q(e,vs(".quick-input-description")),a=X.q(e,vs(".quick-input-header")),l=X.q(a,vs("input.quick-input-check-all"));l.type="checkbox",this._register(X.o(l,X.d.CHANGE,e=>{const t=l.checked;y.setAllVisibleChecked(t)})),this._register(X.i(l,X.d.CLICK,e=>{(e.x||e.y)&&u.setFocus()}));const c=X.q(a,vs(".quick-input-description")),h=X.q(a,vs(".quick-input-and-message")),d=X.q(h,vs(".quick-input-filter")),u=this._register(new hs(d));u.setAttribute("aria-describedby",this.idPrefix+"message");const g=X.q(d,vs(".quick-input-visible-count"));g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true");const p=new ds.a(g,{countFormat:Object(ri.a)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),m=X.q(d,vs(".quick-input-count"));m.setAttribute("aria-live","polite");const f=new ds.a(m,{countFormat:Object(ri.a)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),b=X.q(a,vs(".quick-input-action")),_=new bs(b);_.label=Object(ri.a)("ok","OK"),this._register(_.onDidClick(e=>{this.onDidAcceptEmitter.fire()}));const v=X.q(a,vs(".quick-input-action")),C=new bs(v);C.label=Object(ri.a)("custom","Custom"),this._register(C.onDidClick(e=>{this.onDidCustomEmitter.fire()}));const w=X.q(h,vs(`#${this.idPrefix}message.quick-input-message`)),y=this._register(new ss(e,this.idPrefix+"list",this.options));this._register(y.onChangedAllVisibleChecked(e=>{l.checked=e})),this._register(y.onChangedVisibleCount(e=>{p.setCount(e)})),this._register(y.onChangedCheckedCount(e=>{f.setCount(e)})),this._register(y.onLeave(()=>{setTimeout(()=>{u.setFocus(),this.controller instanceof ys&&this.controller.canSelectMany&&y.clearFocus()},0)})),this._register(y.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const S=new gs(e);S.getContainer().classList.add("quick-input-progress");const L=X.Y(e);return this._register(L),this._register(X.i(e,X.d.FOCUS,e=>{this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0},!0)),this._register(L.onDidBlur(()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(Vr.c.Blur),this.previousFocusElement=void 0})),this._register(X.i(e,X.d.FOCUS,e=>{u.setFocus()})),this._register(X.i(e,X.d.KEY_DOWN,t=>{const i=new qt.a(t);switch(i.keyCode){case 3:X.c.stop(t,!0),this.onDidAcceptEmitter.fire();break;case 9:X.c.stop(t,!0),this.hide(Vr.c.Gesture);break;case 2:if(!i.altKey&&!i.ctrlKey&&!i.metaKey){const n=[".action-label.codicon"];e.classList.contains("show-checkboxes")?n.push("input"):n.push("input[type=text]"),this.getUI().list.isDisplayed()&&n.push(".monaco-list");const o=e.querySelectorAll(n.join(", "));i.shiftKey&&i.target===o[0]?(X.c.stop(t,!0),o[o.length-1].focus()):i.shiftKey||i.target!==o[o.length-1]||(X.c.stop(t,!0),o[0].focus())}}})),this.ui={container:e,styleSheet:t,leftActionBar:n,titleBar:i,title:o,description1:s,description2:c,rightActionBar:r,checkAll:l,filterContainer:d,inputBox:u,visibleCountContainer:g,visibleCount:p,countContainer:m,count:f,okContainer:b,ok:_,message:w,customButtonContainer:v,customButton:C,list:y,progressBar:S,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setComboboxAccessibility:e=>this.setComboboxAccessibility(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e)},this.updateStyles(),this.ui}pick(e,t={},i=B.a.None){return new Promise((n,o)=>{let r=e=>{r=n,t.onKeyMods&&t.onKeyMods(s.keyMods),n(e)};if(i.isCancellationRequested)return void r(void 0);const s=this.createQuickPick();let a;const l=[s,s.onDidAccept(()=>{if(s.canSelectMany)r(s.selectedItems.slice()),s.hide();else{const e=s.activeItems[0];e&&(r(e),s.hide())}}),s.onDidChangeActive(e=>{const i=e[0];i&&t.onDidFocus&&t.onDidFocus(i)}),s.onDidChangeSelection(e=>{if(!s.canSelectMany){const t=e[0];t&&(r(t),s.hide())}}),s.onDidTriggerItemButton(e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:()=>{const t=s.items.indexOf(e.item);if(-1!==t){const e=s.items.slice(),i=e.splice(t,1),n=s.activeItems.filter(e=>e!==i[0]);s.items=e,n&&(s.activeItems=n)}}}))),s.onDidChangeValue(e=>{!a||e||1===s.activeItems.length&&s.activeItems[0]===a||(s.activeItems=[a])}),i.onCancellationRequested(()=>{s.hide()}),s.onDidHide(()=>{Object(we.f)(l),r(void 0)})];s.title=t.title,s.canSelectMany=!!t.canPickMany,s.placeholder=t.placeHolder,s.ignoreFocusOut=!!t.ignoreFocusLost,s.matchOnDescription=!!t.matchOnDescription,s.matchOnDetail=!!t.matchOnDetail,s.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,s.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,s.quickNavigate=t.quickNavigate,s.contextKey=t.contextKey,s.busy=!0,Promise.all([e,t.activeItem]).then(([e,t])=>{a=t,s.busy=!1,s.items=e,s.canSelectMany&&(s.selectedItems=e.filter(e=>"separator"!==e.type&&e.picked)),a&&(s.activeItems=[a])}),s.show(),Promise.resolve(e).then(void 0,e=>{o(e),s.hide()})})}createQuickPick(){const e=this.getUI();return new ys(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration($t.a.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),X.R(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const n=this.options.backKeybindingLabel();Cs.tooltip=n?Object(ri.a)("quickInput.backWithKeybinding","Back ({0})",n):Object(ri.a)("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=!e.description||e.inputBox||e.checkAll?"none":"",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const i=this.controller;if(i){const n=!(null===(t=this.ui)||void 0===t?void 0:t.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",n||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),i.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=this.titleBarOffset+"px";const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,Ss.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:n,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=n?"1px solid "+n:"",this.ui.container.style.boxShadow=o?"0 0 8px 2px "+o:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const r=[];this.styles.list.pickerGroupBorder&&r.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&r.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(r.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&r.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&r.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&r.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&r.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&r.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),r.push("}"));const s=r.join("\n");s!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=s)}}}Ss.MAX_WIDTH=600;var Ls=i("Zr1c"),xs=i("Lx4V"),ks=i("C/vA"),Ds=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Is=function(e,t){return function(i,n){t(i,n,e)}};let Os=class extends we.a{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=kn.a.as(xs.b.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;const[o,r]=this.getOrInstantiateProvider(e),s=this.visibleQuickAccess,a=null==s?void 0:s.descriptor;if(s&&r&&a===r)return e===r.prefix||(null==i?void 0:i.preserveValue)||(s.picker.value=e),void this.adjustValueSelection(s.picker,r,i);if(r&&!(null==i?void 0:i.preserveValue)){let t=void 0;if(s&&a&&a!==r){const e=s.value.substr(a.prefix.length);e&&(t=`${r.prefix}${e}`)}if(!t){const e=null==o?void 0:o.defaultFilterValue;e===xs.a.LAST?t=this.lastAcceptedPickerValues.get(r):"string"==typeof e&&(t=`${r.prefix}${e}`)}"string"==typeof t&&(e=t)}const l=new we.b,c=l.add(this.quickInputService.createQuickPick());c.value=e,this.adjustValueSelection(c,r,i),c.placeholder=null==r?void 0:r.placeholder,c.quickNavigate=null==i?void 0:i.quickNavigateConfiguration,c.hideInput=!!c.quickNavigate&&!s,("number"==typeof(null==i?void 0:i.itemActivation)||(null==i?void 0:i.quickNavigateConfiguration))&&(c.itemActivation=null!==(n=null==i?void 0:i.itemActivation)&&void 0!==n?n:Ls.b.SECOND),c.contextKey=null==r?void 0:r.contextKey,c.filterValue=e=>e.substring(r?r.prefix.length:0),(null==r?void 0:r.placeholder)&&(c.ariaLabel=null==r?void 0:r.placeholder);let h=void 0,d=void 0;t&&(h=new Promise(e=>d=e),l.add(Object(ks.a)(c.onWillAccept)(e=>{e.veto(),c.hide()}))),l.add(this.registerPickerListeners(c,o,r,e));const u=l.add(new B.b);return o&&l.add(o.provide(c,u.token)),Object(ks.a)(c.onDidHide)(()=>{0===c.selectedItems.length&&u.cancel(),l.dispose(),null==d||d(c.selectedItems)}),c.show(),t?h:void 0}adjustValueSelection(e,t,i){var n;let o;o=(null==i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(n=null==t?void 0:t.prefix.length)&&void 0!==n?n:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,n){const o=new we.b,r=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return o.add(Object(we.i)(()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(e.onDidChangeValue(e=>{const[i]=this.getOrInstantiateProvider(e);i!==t?this.show(e,{preserveValue:!0}):r.value=e})),i&&o.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),o}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};Os=Ds([Is(0,Ls.a),Is(1,$i.a)],Os);var Ns=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Es=function(e,t){return function(i,n){t(i,n,e)}};let Ts=class extends Yi.c{constructor(e,t,i,n,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Os))),this._quickAccess}createController(e=this.layoutService,t){var i,n;const o={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),returnFocus:()=>e.focus(),createList:(e,t,i,n,o)=>this.instantiationService.createInstance(or.d,e,t,i,n,o),styles:this.computeStyles()},r=this._register(new Ss(Object.assign(Object.assign({},o),t)));return r.layout(e.dimension,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0),this._register(e.onDidLayout(t=>{var i,n;return r.layout(t,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0)})),this._register(r.onShow(()=>this.resetContextKeys())),this._register(r.onHide(()=>this.resetContextKeys())),r}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new Ki.c(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=B.a.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},Object(Bo.d)(this.theme,{quickInputBackground:Vn.qc,quickInputForeground:Vn.rc,quickInputTitleBackground:Vn.vc,contrastBorder:Vn.h,widgetShadow:Vn.Mc})),inputBox:Object(Bo.d)(this.theme,{inputForeground:Vn.lb,inputBackground:Vn.jb,inputBorder:Vn.kb,inputValidationInfoBackground:Vn.pb,inputValidationInfoForeground:Vn.rb,inputValidationInfoBorder:Vn.qb,inputValidationWarningBackground:Vn.sb,inputValidationWarningForeground:Vn.ub,inputValidationWarningBorder:Vn.tb,inputValidationErrorBackground:Vn.mb,inputValidationErrorForeground:Vn.ob,inputValidationErrorBorder:Vn.nb}),countBadge:Object(Bo.d)(this.theme,{badgeBackground:Vn.c,badgeForeground:Vn.d,badgeBorder:Vn.h}),button:Object(Bo.d)(this.theme,{buttonForeground:Vn.f,buttonBackground:Vn.e,buttonHoverBackground:Vn.g,buttonBorder:Vn.h}),progressBar:Object(Bo.d)(this.theme,{progressBarBackground:Vn.pc}),keybindingLabel:Object(Bo.d)(this.theme,{keybindingLabelBackground:Vn.vb,keybindingLabelForeground:Vn.yb,keybindingLabelBorder:Vn.wb,keybindingLabelBottomBorder:Vn.xb,keybindingLabelShadow:Vn.Mc}),list:Object(Bo.d)(this.theme,{listBackground:Vn.qc,listInactiveFocusForeground:Vn.tc,listInactiveSelectionIconForeground:Vn.uc,listInactiveFocusBackground:Vn.sc,listFocusOutline:Vn.b,listInactiveFocusOutline:Vn.b,pickerGroupBorder:Vn.kc,pickerGroupForeground:Vn.lc})}}};Ts=Ns([Es(0,$i.a),Es(1,Ki.b),Es(2,Yi.b),Es(3,Zi.b),Es(4,Ko)],Ts);var Ms=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},As=function(e,t){return function(i,n){t(i,n,e)}};let Rs=class extends Ts{constructor(e,t,i,n,o,r){super(t,i,n,o,r),this.host=void 0;const s=Fs.get(e);this.host={_serviceBrand:void 0,get container(){return s.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};Rs=Ms([As(1,$i.a),As(2,Ki.b),As(3,Yi.b),As(4,Zi.b),As(5,Ko)],Rs);let Ps=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(Rs,e);this.mapEditorToService.set(e,t),Object(ks.a)(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=B.a.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};Ps=Ms([As(0,$i.a),As(1,Z.a)],Ps);class Fs{constructor(e){this.editor=e,this.widget=new js(this.editor)}static get(e){return e.getContribution(Fs.ID)}dispose(){this.widget.dispose()}}Fs.ID="editor.controller.quickInput";class js{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return js.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}var Bs;js.ID="editor.contrib.quickInputWidget",Object(Wr.l)(Fs.ID,Fs),function(e){const t=new Jo.a;class i{constructor(e,t){this._serviceId=e,this._factory=t,this._value=null}get id(){return this._serviceId}get(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}e.LazyStaticService=i;let n=[];function o(e,t){let o=new i(e,t);return n.push(o),o}e.init=function(e){let t=new Jo.a;for(const[n,o]of Object(vr.a)())t.set(n,o);for(let n in e)e.hasOwnProperty(n)&&t.set(Object($i.c)(n),e[n]);n.forEach(i=>t.set(i.id,i.get(e)));let i=new tr(t,!0);return t.set($i.a,i),[t,i]},e.instantiationService=o($i.a,()=>new tr(t,!0));const r=new Ni;e.configurationService=o(Qt.a,()=>r),e.resourceConfigurationService=o(rt.a,()=>new Ei(r)),e.resourcePropertiesService=o(rt.b,()=>new Ti(r)),e.contextService=o(bi.a,()=>new Ai),e.labelService=o(nr.a,()=>new Fi),e.telemetryService=o(Vo.a,()=>new Mi),e.dialogService=o(Yo.a,()=>new xi),e.notificationService=o(fi.a,()=>new ki),e.markerService=o(rr.b,()=>new lr),e.modeService=o(_e.a,e=>new Nn),e.standaloneThemeService=o(zi.a,()=>new Jn),e.logService=o(at.b,()=>new at.d(new at.a)),e.undoRedoService=o(xr.a,t=>new jr(e.dialogService.get(t),e.notificationService.get(t))),e.modelService=o(ot.a,t=>new En.a(e.configurationService.get(t),e.resourcePropertiesService.get(t),e.standaloneThemeService.get(t),e.logService.get(t),e.undoRedoService.get(t))),e.markerDecorationsService=o(pr.a,t=>new _r(e.modelService.get(t),e.markerService.get(t))),e.contextKeyService=o(Ki.b,t=>new uo(e.configurationService.get(t))),e.codeEditorService=o(Z.a,t=>new gn(null,e.contextKeyService.get(t),e.standaloneThemeService.get(t))),e.editorProgressService=o(Qi.a,()=>new Li),e.storageService=o(cr.a,()=>new cr.b),e.editorWorkerService=o(be.a,t=>new ut(e.modelService.get(t),e.resourceConfigurationService.get(t),e.logService.get(t)))}(Bs||(Bs={}));class Ws extends we.a{constructor(e,t){super();const[i,n]=Bs.init(t);this._serviceCollection=i,this._instantiationService=n;const o=this.get(Qt.a),r=this.get(fi.a),s=this.get(Vo.a),a=this.get(Yi.b),l=this.get(at.b),c=this.get(Ki.b);let h=(e,i)=>{let n=null;return t&&(n=t[e.toString()]),n||(n=i()),this._serviceCollection.set(e,n),n};h(Zi.b,()=>new yr(c,o)),h(or.a,()=>new or.b(a));let d=h(ne.b,()=>new Di(this._instantiationService)),u=h(Gi.a,()=>this._register(new Ii(c,d,s,r,l,e))),g=h(Ko,()=>new ji(Bs.codeEditorService.get(Z.a),e));h(Ls.a,()=>new Ps(n,Bs.codeEditorService.get(Z.a)));let p=h(qi.b,()=>this._register(new Go(g)));h(Xi.a,()=>new Lr),h(qi.a,()=>{const e=new Uo(s,r,p,u,a);return e.configure({blockMouse:!1}),this._register(e)}),h(Ui.a,()=>new ur(d)),h(Yt.a,()=>new Pi(Bs.modelService.get(ot.a)))}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}var Vs=i("HdwC");function Hs(e,t,i){let n=new Ws(e,t),o=null;n.has(ve.a)||(o=new Si(Bs.modelService.get()),n.set(ve.a,o)),n.has(oe.a)||n.set(oe.a,new he(n.get(Z.a),n.get(ne.b)));let r=i(n);return o&&o.setEditor(r),r}function zs(e,t,i){return Hs(e,i||{},i=>new Cn(e,t,i,i.get($i.a),i.get(Z.a),i.get(ne.b),i.get(Ki.b),i.get(Gi.a),i.get(qi.b),i.get(zi.a),i.get(fi.a),i.get(Qt.a),i.get(Zi.b),i.get(ot.a),i.get(_e.a)))}function Us(e){return Bs.codeEditorService.get().onCodeEditorAdd(t=>{e(t)})}function Ks(e,t,i){return Hs(e,i||{},i=>new wn(e,t,i,i.get($i.a),i.get(Ki.b),i.get(Gi.a),i.get(qi.b),i.get(be.a),i.get(Z.a),i.get(zi.a),i.get(fi.a),i.get(Qt.a),i.get(qi.a),i.get(Qi.a),i.get(Xi.a)))}function qs(e,t){return new de.a(e,t)}function $s(e,t,i){return yn(Bs.modelService.get(),Bs.modeService.get(),e,t,i)}function Gs(e,t){Bs.modelService.get().setMode(e,Bs.modeService.get().create(t))}function Ys(e,t,i){e&&Bs.markerService.get().changeOne(t,e.uri,i)}function Zs(e){return Bs.markerService.get().read(e)}function Xs(e){return Bs.markerService.get().onMarkerChanged(e)}function Qs(e){return Bs.modelService.get().getModel(e)}function Js(){return Bs.modelService.get().getModels()}function ea(e){return Bs.modelService.get().onModelAdded(e)}function ta(e){return Bs.modelService.get().onModelRemoved(e)}function ia(e){return Bs.modelService.get().onModelModeChanged(t=>{e({model:t.model,oldLanguage:t.oldModeId})})}function na(e){return function(e,t){return new vt(e,t)}(Bs.modelService.get(),e)}function oa(e,t){const i=Bs.standaloneThemeService.get();return i.registerEditorContainer(e),zt.colorizeElement(i,Bs.modeService.get(),e,t)}function ra(e,t,i){return Bs.standaloneThemeService.get().registerEditorContainer(document.body),zt.colorize(Bs.modeService.get(),e,t,i)}function sa(e,t,i=4){return Bs.standaloneThemeService.get().registerEditorContainer(document.body),zt.colorizeModelLine(e,t,i)}function aa(e,t){Bs.modeService.get().triggerMode(t);let i=function(e){let t=me.F.get(e);return t||{getInitialState:()=>fe.c,tokenize:(t,i,n,o)=>Object(fe.d)(e,t,n,o)}}(t),n=Object(Re.R)(e),o=[],r=i.getInitialState();for(let s=0,a=n.length;s<a;s++){let e=n[s],t=i.tokenize(e,!0,r,0);o[s]=t.tokens,r=t.endState}return o}function la(e,t){Bs.standaloneThemeService.get().defineTheme(e,t)}function ca(e){Bs.standaloneThemeService.get().setTheme(e)}function ha(){Object(Vs.b)()}function da(e,t){return ne.a.registerCommand({id:e,handler:t})}function ua(e,t){return"boolean"==typeof e?e:t}function ga(e,t){return"string"==typeof e?e:t}function pa(e,t=!1){t&&(e=e.map((function(e){return e.toLowerCase()})));const i=function(e){const t={};for(const i of e)t[i]=!0;return t}(e);return t?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function ma(e,t){t=t.replace(/@@/g,"");let i,n=0;do{i=!1,t=t.replace(/@(\w+)/g,(function(n,o){i=!0;let r="";if("string"==typeof e[o])r=e[o];else{if(!(e[o]&&e[o]instanceof RegExp))throw void 0===e[o]?Ot(e,"language definition does not contain attribute '"+o+"', used at: "+t):Ot(e,"attribute reference '"+o+"' must be a string, used at: "+t);r=e[o].source}return kt(r)?"":"(?:"+r+")"})),n++}while(i&&n<5);t=t.replace(/\x01/g,"@");let o=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,o)}function fa(e,t,i,n){let o=-1,r=i,s=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(o=parseInt(s[3]),s[2]&&(o+=100)),r=s[4]);let a,l="~",c=r;if(r&&0!==r.length?/^\w*$/.test(c)?l="==":(s=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(l=s[1],c=s[2])):(l="!=",c=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(c))if("@"===l||"!@"===l){let i=e[c];if(!i)throw Ot(e,"the @ match target '"+c+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const i of t)if(!e(i))return!1;return!0}((function(e){return"string"==typeof e}),i))throw Ot(e,"the @ match target '"+c+"' must be an array of strings, in rule: "+t);let n=pa(i,e.ignoreCase);a=function(e){return"@"===l?n(e):!n(e)}}else if("~"===l||"!~"===l)if(c.indexOf("$")<0){let t=ma(e,"^"+c+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,i,n,o){return ma(e,"^"+Nt(e,c,i,n,o)+"$").test(t)};else if(c.indexOf("$")<0){let t=Dt(e,c);a=function(e){return"=="===l?e===t:e!==t}}else{let t=Dt(e,c);a=function(i,n,o,r,s){let a=Nt(e,t,n,o,r);return"=="===l?i===a:i!==a}}else{let t=pa(c.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===o?{name:i,value:n,test:function(e,t,i,n){return a(e,e,t,i,n)}}:{name:i,value:n,test:function(e,t,i,n){let r=function(e,t,i,n){if(n<0)return e;if(n<t.length)return t[n];if(n>=100){n-=100;let e=i.split(".");if(e.unshift(i),n<e.length)return e[n]}return null}(e,t,i,o);return a(r||"",e,t,i,n)}}}class ba{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if("string"==typeof t)i=t;else{if(!(t instanceof RegExp))throw Ot(e,"rules must start with a match string or regular expression: "+this.name);i=t.source}this.matchOnlyAtLineStart=i.length>0&&"^"===i[0],this.name=this.name+": "+i,this.regex=ma(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=function e(t,i,n){if(n){if("string"==typeof n)return n;if(n.token||""===n.token){if("string"!=typeof n.token)throw Ot(t,"a 'token' attribute must be of type string, in rule: "+i);{let e={token:n.token};if(n.token.indexOf("$")>=0&&(e.tokenSubst=!0),"string"==typeof n.bracket)if("@open"===n.bracket)e.bracket=1;else{if("@close"!==n.bracket)throw Ot(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+i);e.bracket=-1}if(n.next){if("string"!=typeof n.next)throw Ot(t,"the next state must be a string value in rule: "+i);{let o=n.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!function(e,t){let i=t;for(;i&&i.length>0;){if(e.stateNames[i])return!0;const t=i.lastIndexOf(".");i=t<0?null:i.substr(0,t)}return!1}(t,Nt(t,o,"",[],""))))throw Ot(t,"the next state '"+n.next+"' is not defined in rule: "+i);e.next=o}}return"number"==typeof n.goBack&&(e.goBack=n.goBack),"string"==typeof n.switchTo&&(e.switchTo=n.switchTo),"string"==typeof n.log&&(e.log=n.log),"string"==typeof n.nextEmbedded&&(e.nextEmbedded=n.nextEmbedded,t.usesEmbedded=!0),e}}if(Array.isArray(n)){let o=[];for(let r=0,s=n.length;r<s;r++)o[r]=e(t,i,n[r]);return{group:o}}if(n.cases){let o=[];for(let s in n.cases)if(n.cases.hasOwnProperty(s)){const r=e(t,i,n.cases[s]);"@default"===s||"@"===s||""===s?o.push({test:void 0,value:r,name:s}):"@eos"===s?o.push({test:function(e,t,i,n){return n},value:r,name:s}):o.push(fa(t,i,s,r))}const r=t.defaultToken;return{test:function(e,t,i,n){for(const r of o){if(!r.test||r.test(e,t,i,n))return r.value}return r}}}throw Ot(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+i)}return{token:""}}(e,this.name,t)}}function _a(e){xn.a.registerLanguage(e)}function va(){let e=[];return e=e.concat(xn.a.getLanguages()),e}function Ca(e){let t=Bs.modeService.get().getLanguageIdentifier(e);return t?t.id:0}function wa(e,t){let i=Bs.modeService.get().onDidCreateMode(n=>{n.getId()===e&&(i.dispose(),t())});return i}function ya(e,t){let i=Bs.modeService.get().getLanguageIdentifier(e);if(!i)throw new Error("Cannot set configuration for unknown language "+e);return Me.a.register(i,t,100)}class Sa{constructor(e,t){this._languageIdentifier=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i,n){if("function"==typeof this._actual.tokenize)return La.adaptTokenize(this._languageIdentifier.language,this._actual,e,i,n);throw new Error("Not supported!")}tokenize2(e,t,i){let n=this._actual.tokenizeEncoded(e,i);return new q.c(n.tokens,n.endState)}}class La{constructor(e,t,i){this._standaloneThemeService=e,this._languageIdentifier=t,this._actual=i}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t,i){let n=[],o=0;for(let r=0,s=e.length;r<s;r++){const s=e[r];let a=s.startIndex;0===r?a=0:a<o&&(a=o),n[r]=new q.a(a+i,s.scopes,t),o=a}return n}static adaptTokenize(e,t,i,n,o){let r,s=t.tokenize(i,n),a=La._toClassicTokens(s.tokens,e,o);return r=s.endState.equals(n)?n:s.endState,new q.b(a,r)}tokenize(e,t,i,n){return La.adaptTokenize(this._languageIdentifier.language,this._actual,e,i,n)}_toBinaryTokens(e,t){const i=this._languageIdentifier.id,n=this._standaloneThemeService.getColorTheme().tokenTheme;let o=[],r=0,s=0;for(let l=0,c=e.length;l<c;l++){const a=e[l],c=n.match(i,a.scopes);if(r>0&&o[r-1]===c)continue;let h=a.startIndex;0===l?h=0:h<s&&(h=s),o[r++]=h+t,o[r++]=c,s=h}let a=new Uint32Array(r);for(let l=0;l<r;l++)a[l]=o[l];return a}tokenize2(e,t,i,n){let o,r=this._actual.tokenize(e,i),s=this._toBinaryTokens(r.tokens,n);return o=r.endState.equals(i)?i:r.endState,new q.c(s,o)}}function xa(e){return e&&"function"==typeof e.then}function ka(e){if(e){const t=[null];for(let i=1,n=e.length;i<n;i++)t[i]=Tn.a.fromHex(e[i]);Bs.standaloneThemeService.get().setColorMapOverride(t)}else Bs.standaloneThemeService.get().setColorMapOverride(null)}function Da(e,t){let i=Bs.modeService.get().getLanguageIdentifier(e);if(!i)throw new Error("Cannot set tokens provider for unknown language "+e);const n=e=>function(e){return"tokenizeEncoded"in e}(e)?new Sa(i,e):new La(Bs.standaloneThemeService.get(),i,e);return xa(t)?me.F.registerPromise(e,t.then(e=>n(e))):me.F.register(e,n(t))}function Ia(e,t){const i=t=>function(e,t,i,n){return new Bt(e,t,i,n)}(Bs.modeService.get(),Bs.standaloneThemeService.get(),e,function(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");let i={};i.languageId=e,i.includeLF=ua(t.includeLF,!1),i.noThrow=!1,i.maxStack=100,i.start="string"==typeof t.start?t.start:null,i.ignoreCase=ua(t.ignoreCase,!1),i.unicode=ua(t.unicode,!1),i.tokenPostfix=ga(t.tokenPostfix,"."+i.languageId),i.defaultToken=ga(t.defaultToken,"source"),i.usesEmbedded=!1;let n=t;function o(e,r,s){for(const a of s){let s=a.include;if(s){if("string"!=typeof s)throw Ot(i,"an 'include' attribute must be a string at: "+e);if("@"===s[0]&&(s=s.substr(1)),!t.tokenizer[s])throw Ot(i,"include target '"+s+"' is not defined at: "+e);o(e+"."+s,r,t.tokenizer[s])}else{const t=new ba(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(n,a[0]),a.length>=3)if("string"==typeof a[1])t.setAction(n,{token:a[1],next:a[2]});else{if("object"!=typeof a[1])throw Ot(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(n,e)}}else t.setAction(n,a[1]);else{if(!a.regex)throw Ot(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"==typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=ua(a.matchOnlyAtLineStart,!1)),t.setRegex(n,a.regex),t.setAction(n,a.action)}r.push(t)}}}if(n.languageId=e,n.includeLF=i.includeLF,n.ignoreCase=i.ignoreCase,n.unicode=i.unicode,n.noThrow=i.noThrow,n.usesEmbedded=i.usesEmbedded,n.stateNames=t.tokenizer,n.defaultToken=i.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw Ot(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(let s in t.tokenizer)if(t.tokenizer.hasOwnProperty(s)){i.start||(i.start=s);const e=t.tokenizer[s];i.tokenizer[s]=new Array,o("tokenizer."+s,i.tokenizer[s],e)}if(i.usesEmbedded=n.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw Ot(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let r=[];for(let s of t.brackets){let e=s;if(e&&Array.isArray(e)&&3===e.length&&(e={token:e[2],open:e[0],close:e[1]}),e.open===e.close)throw Ot(i,"open and close brackets in a 'brackets' attribute must be different: "+e.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof e.open||"string"!=typeof e.token||"string"!=typeof e.close)throw Ot(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array");r.push({token:e.token+i.tokenPostfix,open:Dt(i,e.open),close:Dt(i,e.close)})}return i.brackets=r,i.noThrow=!0,i}(e,t));return xa(t)?me.F.registerPromise(e,t.then(e=>i(e))):me.F.register(e,i(t))}function Oa(e,t){return me.y.register(e,t)}function Na(e,t){return me.z.register(e,t)}function Ea(e,t){return me.B.register(e,t)}function Ta(e,t){return me.p.register(e,{provideHover:(e,i,n)=>{let o=e.getWordAtPosition(i);return Promise.resolve(t.provideHover(e,i,n)).then(e=>{if(e)return!e.range&&o&&(e.range=new U.a(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)),e.range||(e.range=new U.a(i.lineNumber,i.column,i.lineNumber,i.column)),e})}})}function Ma(e,t){return me.m.register(e,t)}function Aa(e,t){return me.i.register(e,t)}function Ra(e,t){return me.w.register(e,t)}function Pa(e,t){return me.f.register(e,t)}function Fa(e,t){return me.q.register(e,t)}function ja(e,t){return me.G.register(e,t)}function Ba(e,t){return me.b.register(e,t)}function Wa(e,t){return me.a.register(e,{provideCodeActions:(e,i,n,o)=>{let r=Bs.markerService.get().read({resource:e.uri}).filter(e=>U.a.areIntersectingOrTouching(e,i));return t.provideCodeActions(e,i,{markers:r,only:n.only},o)}})}function Va(e,t){return me.g.register(e,t)}function Ha(e,t){return me.j.register(e,t)}function za(e,t){return me.x.register(e,t)}function Ua(e,t){return me.v.register(e,t)}function Ka(e,t){return me.d.register(e,t)}function qa(e,t){return me.c.register(e,t)}function $a(e,t){return me.o.register(e,t)}function Ga(e,t){return me.e.register(e,t)}function Ya(e,t){return me.A.register(e,t)}function Za(e,t){return me.l.register(e,t)}function Xa(e,t){return me.k.register(e,t)}function Qa(e,t){return me.t.register(e,t)}function Ja(e,t){return me.r.register(e,t)}var el,tl=i("hN88");j.g.wrappingIndent.defaultValue=0,j.g.glyphMargin.defaultValue=!1,j.g.autoIndent.defaultValue=3,j.g.overviewRulerLanes.defaultValue=2,tl.a.setFormatterSelector((e,t,i)=>Promise.resolve(e[0]));const il=G();il.editor={create:zs,onDidCreateEditor:Us,createDiffEditor:Ks,createDiffNavigator:qs,createModel:$s,setModelLanguage:Gs,setModelMarkers:Ys,getModelMarkers:Zs,onDidChangeMarkers:Xs,getModels:Js,getModel:Qs,onDidCreateModel:ea,onWillDisposeModel:ta,onDidChangeModelLanguage:ia,createWebWorker:na,colorizeElement:oa,colorize:ra,colorizeModelLine:sa,tokenize:aa,defineTheme:la,setTheme:ca,remeasureFonts:ha,registerCommand:da,AccessibilitySupport:n,ContentWidgetPositionPreference:l,CursorChangeReason:c,DefaultEndOfLine:h,EditorAutoIndentStrategy:u,EditorOption:g,EndOfLinePreference:p,EndOfLineSequence:m,MinimapPosition:y,MouseTargetType:S,OverlayWidgetPositionPreference:L,OverviewRulerLane:x,RenderLineNumbersType:k,RenderMinimap:D,ScrollbarVisibility:O,ScrollType:I,TextEditorCursorBlinkingStyle:A,TextEditorCursorStyle:R,TrackedRangeStickiness:P,WrappingIndent:F,ConfigurationChangedEvent:j.b,BareFontInfo:ue.a,FontInfo:ue.b,TextModelResolvedOptions:pe.e,FindMatch:pe.b,EditorType:ge.a,EditorOptions:j.g},il.languages={register:_a,getLanguages:va,onLanguage:wa,getEncodedLanguageId:Ca,setLanguageConfiguration:ya,setColorMap:ka,setTokensProvider:Da,setMonarchTokensProvider:Ia,registerReferenceProvider:Oa,registerRenameProvider:Na,registerCompletionItemProvider:Ka,registerSignatureHelpProvider:Ea,registerHoverProvider:Ta,registerDocumentSymbolProvider:Ma,registerDocumentHighlightProvider:Aa,registerLinkedEditingRangeProvider:Ra,registerDefinitionProvider:Pa,registerImplementationProvider:Fa,registerTypeDefinitionProvider:ja,registerCodeLensProvider:Ba,registerCodeActionProvider:Wa,registerDocumentFormattingEditProvider:Va,registerDocumentRangeFormattingEditProvider:Ha,registerOnTypeFormattingEditProvider:za,registerLinkProvider:Ua,registerColorProvider:qa,registerFoldingRangeProvider:$a,registerDeclarationProvider:Ga,registerSelectionRangeProvider:Ya,registerDocumentSemanticTokensProvider:Za,registerDocumentRangeSemanticTokensProvider:Xa,registerInlineCompletionsProvider:Qa,registerInlayHintsProvider:Ja,DocumentHighlightKind:d,CompletionItemKind:r,CompletionItemTag:s,CompletionItemInsertTextRule:o,SymbolKind:T,SymbolTag:M,IndentAction:f,CompletionTriggerKind:a,SignatureHelpTriggerKind:E,InlayHintKind:b,InlineCompletionTriggerKind:_,FoldingRangeKind:me.n};const nl=il.CancellationTokenSource,ol=il.Emitter,rl=il.KeyCode,sl=il.KeyMod,al=il.Position,ll=il.Range,cl=il.Selection,hl=il.SelectionDirection,dl=il.MarkerSeverity,ul=il.MarkerTag,gl=il.Uri,pl=il.Token,ml=il.editor,fl=il.languages;((null===(el=Se.b.MonacoEnvironment)||void 0===el?void 0:el.globalAPI)||"function"==typeof define&&i("PDX0"))&&(self.monaco=il),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},"9MJN":function(e,t,i){"use strict";i.r(t),t.default='// Based on https://www.lua.org/manual/5.3/manual.html#6.2\n\n/** @noSelfInFile */\n\n/**\n * This library comprises the operations to manipulate coroutines, which come\n * inside the table coroutine.\n */\ndeclare namespace coroutine {\n    /**\n     * Creates a new coroutine, with body f. f must be a function. Returns this\n     * new coroutine, an object with type "thread".\n     */\n    function create(f: (...args: any[]) => any): LuaThread;\n\n    /**\n     * Starts or continues the execution of coroutine co. The first time you\n     * resume a coroutine, it starts running its body. The values val1, ... are\n     * passed as the arguments to the body function. If the coroutine has yielded,\n     * resume restarts it; the values val1, ... are passed as the results from the\n     * yield.\n     *\n     * If the coroutine runs without any errors, resume returns true plus any\n     * values passed to yield (when the coroutine yields) or any values returned\n     * by the body function (when the coroutine terminates). If there is any\n     * error, resume returns false plus the error message.\n     */\n    function resume(\n        co: LuaThread,\n        ...val: any[]\n    ): LuaMultiReturn<[true, ...any[]] | [false, string]>;\n\n    /**\n     * Returns the status of coroutine co, as a string: "running", if the\n     * coroutine is running (that is, it called status); "suspended", if the\n     * coroutine is suspended in a call to yield, or if it has not started running\n     * yet; "normal" if the coroutine is active but not running (that is, it has\n     * resumed another coroutine); and "dead" if the coroutine has finished its\n     * body function, or if it has stopped with an error.\n     */\n    function status(co: LuaThread): \'running\' | \'suspended\' | \'normal\' | \'dead\';\n\n    /**\n     * Creates a new coroutine, with body f. f must be a function. Returns a\n     * function that resumes the coroutine each time it is called. Any arguments\n     * passed to the function behave as the extra arguments to resume. Returns the\n     * same values returned by resume, except the first boolean. In case of error,\n     * propagates the error.\n     */\n    function wrap(f: (...args: any[]) => any): (...args: any[]) => LuaMultiReturn<any[]>;\n\n    /**\n     * Suspends the execution of the calling coroutine. Any arguments to yield are\n     * passed as extra results to resume.\n     */\n    function yield(...args: any[]): LuaMultiReturn<any[]>;\n}\n'},"9XeP":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("clipboardService")},"9Y+e":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t,i,n,o,r){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=o,this._contextKeyService=r}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},"9fML":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return s}));var n=i("r0BQ");const o=[];function r(e,t,i){t instanceof n.a||(t=new n.a(t,[],i)),o.push([e,t])}function s(){return o}},"A+jI":function(e,t,i){"use strict";i.d(t,"a",(function(){return g})),i.d(t,"c",(function(){return p})),i.d(t,"b",(function(){return f}));var n,o=i("Cg/j"),r=i("MI8n"),s=i("pmY6"),a=i("746U"),l=i("X+cX"),c=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){e[e.None=0]="None",e[e.Initialized=1]="Initialized",e[e.Closed=2]="Closed"}(n||(n={}));class h extends s.a{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new r.b),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=n.None,this.cache=new Map,this.flushDelayer=new l.f(h.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;null===(t=e.changed)||void 0===t||t.forEach((e,t)=>this.accept(t,e)),null===(i=e.deleted)||void 0===i||i.forEach(e=>this.accept(e,void 0))}accept(e,t){if(this.state===n.Closed)return;let i=!1;if(Object(a.m)(t))i=this.cache.delete(e);else{this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0)}i&&this._onDidChangeStorage.fire(e)}get(e,t){const i=this.cache.get(e);return Object(a.m)(i)?t:i}getBoolean(e,t){const i=this.get(e);return Object(a.m)(i)?t:"true"===i}getNumber(e,t){const i=this.get(e);return Object(a.m)(i)?t:parseInt(i,10)}set(e,t){return c(this,void 0,void 0,(function*(){if(this.state===n.Closed)return;if(Object(a.m)(t))return this.delete(e);const i=String(t);return this.cache.get(e)!==i?(this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger(()=>this.flushPending())):void 0}))}delete(e){return c(this,void 0,void 0,(function*(){if(this.state===n.Closed)return;return this.cache.delete(e)?(this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger(()=>this.flushPending())):void 0}))}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return c(this,void 0,void 0,(function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var e;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(e=this.whenFlushedCallbacks.pop())||void 0===e||e()})}))}dispose(){this.flushDelayer.dispose(),super.dispose()}}h.DEFAULT_FLUSH_DELAY=100;class d{constructor(){this.onDidChangeItemsExternal=r.c.None,this.items=new Map}updateItems(e){return c(this,void 0,void 0,(function*(){e.insert&&e.insert.forEach((e,t)=>this.items.set(t,e)),e.delete&&e.delete.forEach(e=>this.items.delete(e))}))}}const u="__$__targetStorageMarker",g=Object(o.c)("storageService");var p;!function(e){e[e.NONE=0]="NONE",e[e.SHUTDOWN=1]="SHUTDOWN"}(p||(p={}));class m extends s.a{constructor(e={flushInterval:m.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new r.e),this._onDidChangeTarget=this._register(new r.e),this._onWillSaveState=this._register(new r.b),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===u?(0===e?this._globalKeyTargets=void 0:1===e&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getNumber(e,i)}store(e,t,i,n){Object(a.m)(t)?this.remove(e,i):this.withPausedEmitters(()=>{var o;this.updateKeyTarget(e,i,n),null===(o=this.getStorage(i))||void 0===o||o.set(e,t)})}remove(e,t){this.withPausedEmitters(()=>{var i;this.updateKeyTarget(e,t,void 0),null===(i=this.getStorage(t))||void 0===i||i.delete(e)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){var n,o;const r=this.getKeyTargets(t);"number"==typeof i?r[e]!==i&&(r[e]=i,null===(n=this.getStorage(t))||void 0===n||n.set(u,JSON.stringify(r))):"number"==typeof r[e]&&(delete r[e],null===(o=this.getStorage(t))||void 0===o||o.set(u,JSON.stringify(r)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return 0===e?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){const t=this.get(u,e);if(t)try{return JSON.parse(t)}catch(i){}return Object.create(null)}}m.DEFAULT_FLUSH_INTERVAL=6e4;class f extends m{constructor(){super(),this.globalStorage=this._register(new h(new d)),this.workspaceStorage=this._register(new h(new d)),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.globalStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e)))}getStorage(e){return 0===e?this.globalStorage:this.workspaceStorage}}},"A9l+":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"e",(function(){return s})),i.d(t,"d",(function(){return a})),i.d(t,"f",(function(){return l})),i.d(t,"h",(function(){return c})),i.d(t,"i",(function(){return h})),i.d(t,"g",(function(){return d}));var n,o,r,s,a,l,c,h,d,u=i("3/fG");!function(e){e.noSelection=u.a("noSelection","No selection"),e.singleSelectionRange=u.a("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),e.singleSelection=u.a("singleSelection","Line {0}, Column {1}"),e.multiSelectionRange=u.a("multiSelectionRange","{0} selections ({1} characters selected)"),e.multiSelection=u.a("multiSelection","{0} selections"),e.emergencyConfOn=u.a("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),e.openingDocs=u.a("openingDocs","Now opening the Editor Accessibility documentation page."),e.readonlyDiffEditor=u.a("readonlyDiffEditor"," in a read-only pane of a diff editor."),e.editableDiffEditor=u.a("editableDiffEditor"," in a pane of a diff editor."),e.readonlyEditor=u.a("readonlyEditor"," in a read-only code editor"),e.editableEditor=u.a("editableEditor"," in a code editor"),e.changeConfigToOnMac=u.a("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),e.changeConfigToOnWinLinux=u.a("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),e.auto_on=u.a("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),e.auto_off=u.a("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),e.tabFocusModeOnMsg=u.a("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),e.tabFocusModeOnMsgNoKb=u.a("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),e.tabFocusModeOffMsg=u.a("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),e.tabFocusModeOffMsgNoKb=u.a("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),e.openDocMac=u.a("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),e.openDocWinLinux=u.a("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),e.outroMsg=u.a("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),e.showAccessibilityHelpAction=u.a("showAccessibilityHelpAction","Show Accessibility Help")}(n||(n={})),function(e){e.inspectTokensAction=u.a("inspectTokens","Developer: Inspect Tokens")}(o||(o={})),function(e){e.gotoLineActionLabel=u.a("gotoLineActionLabel","Go to Line/Column...")}(r||(r={})),function(e){e.helpQuickAccessActionLabel=u.a("helpQuickAccess","Show all Quick Access Providers")}(s||(s={})),function(e){e.quickCommandActionLabel=u.a("quickCommandActionLabel","Command Palette"),e.quickCommandHelp=u.a("quickCommandActionHelp","Show And Run Commands")}(a||(a={})),function(e){e.quickOutlineActionLabel=u.a("quickOutlineActionLabel","Go to Symbol..."),e.quickOutlineByCategoryActionLabel=u.a("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(l||(l={})),function(e){e.editorViewAccessibleLabel=u.a("editorViewAccessibleLabel","Editor content"),e.accessibilityHelpMessage=u.a("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(c||(c={})),function(e){e.toggleHighContrast=u.a("toggleHighContrast","Toggle High Contrast Theme")}(h||(h={})),function(e){e.bulkEditServiceSummary=u.a("bulkEditServiceSummary","Made {0} edits in {1} files")}(d||(d={}))},AKMP:function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));var n=i("EffR"),o=i("51f4"),r=i("XSiN"),s=i("pmY6"),a=i("MNsG");function l(e,t){let i=new r.a(t);return i.preventDefault(),{leftButton:i.leftButton,buttons:i.buttons,posx:i.posx,posy:i.posy}}class c{constructor(){this._hooks=new s.b,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,i,s,l){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=s,this._onStopCallback=l;const c=o.a.getSameOriginWindowChain(),h=a.c?"pointermove":"mousemove",d=c.map(e=>e.window.document),u=n.F(e);u&&d.unshift(u);for(const o of d)this._hooks.add(n.l(o,h,e=>{e.buttons===t?this._mouseMoveCallback(e):this.stopMonitoring(!0)},(e,t)=>this._mouseMoveEventMerger(e,t))),this._hooks.add(n.i(o,"mouseup",e=>this.stopMonitoring(!0)));if(o.a.hasDifferentOriginAncestor()){let e=c[c.length-1];this._hooks.add(n.i(e.window.document,"mouseout",e=>{"html"===new r.a(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(n.i(e.window.document,"mouseover",e=>{"html"===new r.a(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(n.i(e.window.document.body,"mouseleave",e=>{this.stopMonitoring(!0)}))}}}},AbCa:function(e,t,i){},BFtn:function(e,t,i){"use strict";function n(e,t){let i=e.getCount(),n=e.findTokenIndexAtOffset(t),r=e.getLanguageId(n),s=n;for(;s+1<i&&e.getLanguageId(s+1)===r;)s++;let a=n;for(;a>0&&e.getLanguageId(a-1)===r;)a--;return new o(e,r,a,s+1,e.getStartOffset(a),e.getEndOffset(s))}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}));class o{constructor(e,t,i,n,o,r){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=r}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function r(e){return 0!=(7&e)}},BjKj:function(e,t,i){},"C/vA":function(e,t,i){"use strict";function n(e){const t=this;let i,n=!1;return function(){return n||(n=!0,i=e.apply(t,arguments)),i}}i.d(t,"a",(function(){return n}))},C6rC:function(e,t,i){},CClx:function(e,t,i){},CDaH:function(e,t,i){},CNCP:function(e,t,i){},CRAX:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return f})),i.d(t,"c",(function(){return b}));var n=i("3/fG"),o=i("MI8n"),r=i("ic2d"),s=i("746U"),a=i("3Rsk");const l={Configuration:"base.contributions.configuration"},c={properties:{},patternProperties:{}},h={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},u={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},m=r.a.as(a.a.JSONContribution);const f=new RegExp("\\[.*\\]$");function b(e){return e.substring(1,e.length-1)}const _=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new o.b,this._onDidUpdateConfiguration=new o.b,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:n.a("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},m.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema)}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=[];e.forEach(e=>{i.push(...this.validateAndRegisterProperties(e,t,e.extensionInfo)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)}),m.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(e,t=!0,i,n=3){var o;n=s.m(e.scope)?n:e.scope;let r=[],a=e.properties;if(a)for(let c in a){if(t&&v(c)){delete a[c];continue}const e=a[c];this.updatePropertyDefaultValue(c,e),f.test(c)?e.scope=void 0:(e.scope=s.m(e.scope)?n:e.scope,e.restricted=s.m(e.restricted)?!!(null===(o=null==i?void 0:i.restrictedConfigurations)||void 0===o?void 0:o.includes(c)):e.restricted),!a[c].hasOwnProperty("included")||a[c].included?(this.configurationProperties[c]=a[c],!a[c].deprecationMessage&&a[c].markdownDeprecationMessage&&(a[c].deprecationMessage=a[c].markdownDeprecationMessage),r.push(c)):(this.excludedConfigurationProperties[c]=a[c],delete a[c])}let l=e.allOf;if(l)for(let s of l)r.push(...this.validateAndRegisterProperties(s,t,i,n));return r}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=e=>{let i=e.properties;if(i)for(const t in i)this.updateSchema(t,i[t]);let n=e.allOf;n&&n.forEach(t)};t(e)}updateSchema(e,t){switch(c.properties[e]=t,t.scope){case 1:h.properties[e]=t;break;case 2:d.properties[e]=t;break;case 6:u.properties[e]=t;break;case 3:g.properties[e]=t;break;case 4:p.properties[e]=t;break;case 5:p.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:n.a("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:n.a("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:"vscode://schemas/settings/resourceLanguage"};this.updatePropertyDefaultValue(t,i),c.properties[t]=i,h.properties[t]=i,d.properties[t]=i,u.properties[t]=i,g.properties[t]=i,p.properties[t]=i}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.defaultValues[e];s.l(i)&&(i=t.default),s.l(i)&&(i=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=i}};function v(e){return e.trim()?f.test(e)?n.a("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==_.getConfigurationProperties()[e]?n.a("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):null:n.a("config.property.empty","Cannot register an empty property")}r.a.add(l.Configuration,_)},CZ1j:function(e,t,i){"use strict";function n(e){return e<0?0:e>255?255:0|e}function o(e){return e<0?0:e>4294967295?4294967295:0|e}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}))},Cduo:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("0/Sa"),o=i("aokT");class r{static _handleEolEdits(e,t){let i=void 0,n=[];for(let o of t)"number"==typeof o.eol&&(i=o.eol),o.range&&"string"==typeof o.text&&n.push(o);return"number"==typeof i&&e.hasModel()&&e.getModel().pushEOL(i),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel(),n=i.validateRange(t.range);return i.getFullModelRange().equalsRange(n)}static execute(e,t,i){i&&e.pushUndoStop();const s=r._handleEolEdits(e,t);1===s.length&&r._isFullModelReplaceEdit(e,s[0])?e.executeEdits("formatEditsCommand",s.map(e=>n.a.replace(o.a.lift(e.range),e.text))):e.executeEdits("formatEditsCommand",s.map(e=>n.a.replaceMove(o.a.lift(e.range),e.text))),i&&e.pushUndoStop()}}},"Cg/j":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return a})),function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(n||(n={}));const o=s("instantiationService");function r(e,t,i,o){t[n.DI_TARGET]===t?t[n.DI_DEPENDENCIES].push({id:e,index:i,optional:o}):(t[n.DI_DEPENDENCIES]=[{id:e,index:i,optional:o}],t[n.DI_TARGET]=t)}function s(e){if(n.serviceIds.has(e))return n.serviceIds.get(e);const t=function(e,i,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r(t,e,n,!1)};return t.toString=()=>e,n.serviceIds.set(e,t),t}function a(e){return function(t,i,n){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");r(e,t,n,!0)}}},CjF5:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("D3Dy"),o=i("MNsG");const r={clipboard:{writeText:o.g||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:o.g||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:o.g||n.i?0:navigator.keyboard||n.h?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},CjOT:function(e,t,i){},Comh:function(e,t,i){"use strict";i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return l}));var n=i("N0LK"),o=i("cGHE"),r=i("aokT");const s=!1;class a{constructor(e,t,i,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=o}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new a(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new a(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){s&&console.log("writeToTextArea "+e+": "+this.toString()),t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const t=this.value.substring(this.selectionStart,e);if(-1===t.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,o=-1;for(;-1!==(o=t.indexOf("\n",o+1));)n++;return[e,i*t.length,n]}static selectedText(e){return new a(e,0,e.length,null,null)}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};s&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+t.toString()));let o=e.value,r=e.selectionStart,a=e.selectionEnd,l=t.value,c=t.selectionStart,h=t.selectionEnd;const d=o.substring(a),u=l.substring(h),g=n.e(d,u);l=l.substring(0,l.length-g),o=o.substring(0,o.length-g);const p=o.substring(0,r),m=l.substring(0,c),f=n.d(p,m);if(l=l.substring(f),o=o.substring(f),c-=f,r-=f,h-=f,a-=f,s&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+o+">, selectionStart: "+r+", selectionEnd: "+a),console.log("AFTER DIFFING CURRENT STATE: <"+l+">, selectionStart: "+c+", selectionEnd: "+h)),i&&c===h&&o.length>0){let e=null;if(c===l.length?l.startsWith(o)&&(e=l.substring(o.length)):l.endsWith(o)&&(e=l.substring(0,l.length-o.length)),null!==e&&e.length>0&&(/\uFE0F/.test(e)||n.k(e)))return{text:e,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(c===h){if(o===l&&0===r&&a===o.length&&c===l.length&&-1===l.indexOf("\n")&&n.l(l))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const e=p.length-f;return s&&console.log("REMOVE PREVIOUS: "+(p.length-f)+" chars"),{text:l,replacePrevCharCnt:e,replaceNextCharCnt:0,positionDelta:0}}return{text:l,replacePrevCharCnt:a-r,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(s&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: "+e.toString()),console.log("CURRENT STATE: "+t.toString())),e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(n.d(e.value,t.value),e.selectionEnd),o=Math.min(n.e(e.value,t.value),e.value.length-e.selectionEnd),r=e.value.substring(i,e.value.length-o),a=t.value.substring(i,t.value.length-o),l=e.selectionStart-i,c=e.selectionEnd-i,h=t.selectionStart-i,d=t.selectionEnd-i;return s&&(console.log("AFTER DIFFING PREVIOUS STATE: <"+r+">, selectionStart: "+l+", selectionEnd: "+c),console.log("AFTER DIFFING CURRENT STATE: <"+a+">, selectionStart: "+h+", selectionEnd: "+d)),{text:a,replacePrevCharCnt:c,replaceNextCharCnt:r.length-c,positionDelta:d-a.length}}}a.EMPTY=new a("",0,0,null,null);class l{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,n=i+1,o=i+t;return new r.a(n,1,o+1,1)}static fromEditorSelection(e,t,i,n,s){const c=l._getPageOfLine(i.startLineNumber,n),h=l._getRangeForPage(c,n),d=l._getPageOfLine(i.endLineNumber,n),u=l._getRangeForPage(d,n),g=h.intersectRanges(new r.a(1,1,i.startLineNumber,i.startColumn));let p=t.getValueInRange(g,1);const m=t.getLineCount(),f=t.getLineMaxColumn(m),b=u.intersectRanges(new r.a(i.endLineNumber,i.endColumn,m,f));let _,v=t.getValueInRange(b,1);if(c===d||c+1===d)_=t.getValueInRange(i,1);else{const e=h.intersectRanges(i),n=u.intersectRanges(i);_=t.getValueInRange(e,1)+String.fromCharCode(8230)+t.getValueInRange(n,1)}if(s){const e=500;p.length>e&&(p=p.substring(p.length-e,p.length)),v.length>e&&(v=v.substring(0,e)),_.length>2*e&&(_=_.substring(0,e)+String.fromCharCode(8230)+_.substring(_.length-e,_.length))}return new a(p+_+v,p.length,p.length+_.length,new o.a(i.startLineNumber,i.startColumn),new o.a(i.endLineNumber,i.endColumn))}}},D3Dy:function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"l",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"g",(function(){return d})),i.d(t,"j",(function(){return u})),i.d(t,"f",(function(){return g})),i.d(t,"h",(function(){return p})),i.d(t,"k",(function(){return m})),i.d(t,"e",(function(){return f})),i.d(t,"i",(function(){return b}));var n=i("MI8n");class o{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new n.b,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function r(){return o.INSTANCE.getZoomLevel()}function s(){return o.INSTANCE.getTimeSinceLastZoomLevelChanged()}function a(e){return o.INSTANCE.onDidChangeZoomLevel(e)}function l(){return o.INSTANCE.getZoomFactor()}function c(){return o.INSTANCE.getPixelRatio()}o.INSTANCE=new o;const h=navigator.userAgent,d=h.indexOf("Firefox")>=0,u=h.indexOf("AppleWebKit")>=0,g=h.indexOf("Chrome")>=0,p=!g&&h.indexOf("Safari")>=0,m=!g&&!p&&u,f=h.indexOf("Android")>=0,b=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},DTDp:function(e,t,i){},DexR:function(e,t,i){"use strict";i.r(t),t.default='// Based on https://www.lua.org/manual/5.3/manual.html#6.7\n\n/** @noSelfInFile */\n\n/**\n * This library provides basic mathematical functions. It provides all its\n * functions and constants inside the table math. Functions with the annotation\n * "integer/float" give integer results for integer arguments and float results\n * for float (or mixed) arguments. Rounding functions (math.ceil, math.floor,\n * and math.modf) return an integer when the result fits in the range of an\n * integer, or a float otherwise.\n */\ndeclare namespace math {\n    /**\n     * Returns the absolute value of x. (integer/float)\n     */\n    function abs(x: number): number;\n\n    /**\n     * Returns the arc cosine of x (in radians).\n     */\n    function acos(x: number): number;\n\n    /**\n     * Returns the arc sine of x (in radians).\n     */\n    function asin(x: number): number;\n\n    /**\n     * Returns the smallest integral value larger than or equal to x.\n     */\n    function ceil(x: number): number;\n\n    /**\n     * Returns the cosine of x (assumed to be in radians).\n     */\n    function cos(x: number): number;\n\n    /**\n     * Converts the angle x from radians to degrees.\n     */\n    function deg(x: number): number;\n\n    /**\n     * Returns the value ex (where e is the base of natural logarithms).\n     */\n    function exp(x: number): number;\n\n    /**\n     * Returns the largest integral value smaller than or equal to x.\n     */\n    function floor(x: number): number;\n\n    /**\n     * Returns the remainder of the division of x by y that rounds the quotient\n     * towards zero. (integer/float)\n     */\n    function fmod(x: number, y: number): number;\n\n    /**\n     * The float value HUGE_VAL, a value larger than any other numeric value.\n     */\n    const huge: number;\n\n    /**\n     * Returns the argument with the maximum value, according to the Lua operator\n     * <. (integer/float)\n     */\n    function max(x: number, ...numbers: number[]): number;\n\n    /**\n     * Returns the argument with the minimum value, according to the Lua operator\n     * <. (integer/float)\n     */\n    function min(x: number, ...numbers: number[]): number;\n\n    /**\n     * Returns the integral part of x and the fractional part of x. Its second\n     * result is always a float.\n     */\n    function modf(x: number): LuaMultiReturn<[number, number]>;\n\n    /**\n     * The value of π.\n     */\n    const pi: number;\n\n    /**\n     * Converts the angle x from degrees to radians.\n     */\n    function rad(x: number): number;\n\n    /**\n     * Returns the sine of x (assumed to be in radians).\n     */\n    function sin(x: number): number;\n\n    /**\n     * Returns the square root of x. (You can also use the expression x^0.5 to\n     * compute this value.)\n     */\n    function sqrt(x: number): number;\n\n    /**\n     * Returns the tangent of x (assumed to be in radians).\n     */\n    function tan(x: number): number;\n}\n'},EIAu:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return p}));var n=i("N0LK"),o=i("erNZ"),r=i("aokT");class s{constructor(e,t,i,n,o,r){this._richEditBracketBrand=void 0,this.languageIdentifier=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=o,this.reversedRegex=r,this._openSet=s._toSet(this.open),this._closeSet=s._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}class a{constructor(e,t){this._richEditBracketsBrand=void 0;const i=function(e){const t=e.length;e=e.map(e=>[e[0].toLowerCase(),e[1].toLowerCase()]);const i=[];for(let s=0;s<t;s++)i[s]=s;const n=(e,t)=>{const[i,n]=e,[o,r]=t;return i===o||i===r||n===o||n===r},o=(e,n)=>{const o=Math.min(e,n),r=Math.max(e,n);for(let s=0;s<t;s++)i[s]===r&&(i[s]=o)};for(let s=0;s<t;s++){const r=e[s];for(let a=s+1;a<t;a++){n(r,e[a])&&o(i[s],i[a])}}const r=[];for(let s=0;s<t;s++){let n=[],o=[];for(let r=0;r<t;r++)if(i[r]===s){const[t,i]=e[r];n.push(t),o.push(i)}n.length>0&&r.push({open:n,close:o})}return r}(t);this.brackets=i.map((t,n)=>new s(e,n,t.open,t.close,function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let r=0,s=o.length;r<s;r++)l(o[r],i,n,o);return o=h(o),o.sort(c),o.reverse(),u(o)}(t.open,t.close,i,n),function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let r=0,s=o.length;r<s;r++)l(o[r],i,n,o);return o=h(o),o.sort(c),o.reverse(),u(o.map(g))}(t.open,t.close,i,n))),this.forwardRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=h(t),u(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=h(t),u(t.map(g))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const n of this.brackets){for(const e of n.open)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of n.close)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function l(e,t,i,n){for(let o=0,r=t.length;o<r;o++){if(o===i)continue;const r=t[o];for(const t of r.open)t.indexOf(e)>=0&&n.push(t);for(const t of r.close)t.indexOf(e)>=0&&n.push(t)}}function c(e,t){return e.length-t.length}function h(e){if(e.length<=1)return e;const t=[],i=new Set;for(const n of e)i.has(n)||(t.push(n),i.add(n));return t}function d(e){const t=/^[\w ]+$/.test(e);return e=n.u(e),t?`\\b${e}\\b`:e}function u(e){let t=`(${e.map(d).join(")|(")})`;return n.q(t,!0)}const g=function(){let e=null,t=null;return function(i){return e!==i&&(e=i,t=function(e){if(o.d){const t=new Uint16Array(e.length);let i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charCodeAt(n);return o.c().decode(t)}{let t=[],i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charAt(n);return t.join("")}}(e)),t}}();class p{static _findPrevBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let s=i.length-(o.index||0),a=o[0].length,l=n+s;return new r.a(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,n,o){const r=g(i).substring(i.length-o,i.length-n);return this._findPrevBracketInText(e,t,r,n)}static findNextBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let s=o.index||0,a=o[0].length;if(0===a)return null;let l=n+s;return new r.a(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,n,o){const r=i.substring(n,o);return this.findNextBracketInText(e,t,r,n)}}},EJc0:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return h})),i.d(t,"e",(function(){return u})),i.d(t,"d",(function(){return g})),i.d(t,"c",(function(){return p}));var n=i("Vhoy"),o=i("fpMC"),r=i("N0LK");const s=new RegExp(`\\$\\(${n.a.iconNameExpression}(?:${n.a.iconModifierExpression})?\\)`,"g"),a=new RegExp("(\\\\)?"+s.source,"g");function l(e){return e.replace(a,(e,t)=>t?e:"\\"+e)}const c=new RegExp("\\\\"+s.source,"g");function h(e){return e.replace(c,e=>"\\"+e)}const d=new RegExp(`(\\s)?(\\\\)?${s.source}(\\s)?`,"g");function u(e){return-1===e.indexOf("$(")?e:e.replace(d,(e,t,i,n)=>i?e:t||n||"")}function g(e){const t=e.indexOf("$(");return-1===t?{text:e}:function(e,t){const i=[];let n="";function o(e){if(e){n+=e;for(const t of e)i.push(c)}}let r,s,a=-1,l="",c=0,h=t;const d=e.length;o(e.substr(0,t));for(;h<d;){if(r=e[h],s=e[h+1],r==="$("[0]&&s==="$("[1])a=h,o(l),l="$(",h++;else if(")"===r&&-1!==a){c+=h-a+1,a=-1,l=""}else-1!==a?/^[a-z0-9\-]$/i.test(r)?l+=r:(o(l),a=-1,l=""):o(r);h++}return o(l),{text:n,iconOffsets:i}}(e,t)}function p(e,t,i=!1){const{text:n,iconOffsets:s}=t;if(!s||0===s.length)return Object(o.g)(e,n,i);const a=Object(r.K)(n," "),l=n.length-a.length,c=Object(o.g)(e,a,i);if(c)for(const o of c){const e=s[o.start+l]+l;o.start+=e,o.end+=e}return c}},EOst:function(e,t,i){"use strict";var n=i("+hIS");Object(n.a)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return i.e(14).then(i.bind(null,"87dK"))}})},"EPS+":function(e,t,i){},EWX2:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));var n=i("Cg/j");i("QDVR");const o=Object(n.c)("contextService");class r{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},EY2B:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface RegExpMatchArray {\r\n    groups?: {\r\n        [key: string]: string\r\n    }\r\n}\r\n\r\ninterface RegExpExecArray {\r\n    groups?: {\r\n        [key: string]: string\r\n    }\r\n}\r\n\r\ninterface RegExp {\r\n    /**\r\n     * Returns a Boolean value indicating the state of the dotAll flag (s) used with a regular expression.\r\n     * Default is false. Read-only.\r\n     */\r\n    readonly dotAll: boolean;\r\n}'},EffR:function(e,t,i){"use strict";i.d(t,"t",(function(){return g})),i.d(t,"N",(function(){return p})),i.d(t,"i",(function(){return f})),i.d(t,"o",(function(){return _})),i.d(t,"n",(function(){return v})),i.d(t,"g",(function(){return C})),i.d(t,"h",(function(){return w})),i.d(t,"j",(function(){return y})),i.d(t,"k",(function(){return S})),i.d(t,"T",(function(){return L})),i.d(t,"V",(function(){return x})),i.d(t,"l",(function(){return N})),i.d(t,"A",(function(){return E})),i.d(t,"z",(function(){return T})),i.d(t,"b",(function(){return A})),i.d(t,"G",(function(){return R})),i.d(t,"X",(function(){return P})),i.d(t,"D",(function(){return F})),i.d(t,"f",(function(){return j})),i.d(t,"I",(function(){return B})),i.d(t,"C",(function(){return W})),i.d(t,"B",(function(){return V})),i.d(t,"H",(function(){return H})),i.d(t,"L",(function(){return z})),i.d(t,"x",(function(){return U})),i.d(t,"J",(function(){return K})),i.d(t,"O",(function(){return $})),i.d(t,"F",(function(){return G})),i.d(t,"y",(function(){return Y})),i.d(t,"w",(function(){return Z})),i.d(t,"v",(function(){return J})),i.d(t,"Q",(function(){return ee})),i.d(t,"M",(function(){return te})),i.d(t,"d",(function(){return ie})),i.d(t,"c",(function(){return ne})),i.d(t,"U",(function(){return oe})),i.d(t,"S",(function(){return re})),i.d(t,"Y",(function(){return ae})),i.d(t,"q",(function(){return le})),i.d(t,"P",(function(){return ce})),i.d(t,"R",(function(){return he})),i.d(t,"a",(function(){return pe})),i.d(t,"W",(function(){return me})),i.d(t,"K",(function(){return fe})),i.d(t,"E",(function(){return be})),i.d(t,"u",(function(){return _e})),i.d(t,"Z",(function(){return ve})),i.d(t,"p",(function(){return Ce})),i.d(t,"s",(function(){return we})),i.d(t,"r",(function(){return ye})),i.d(t,"e",(function(){return Se})),i.d(t,"m",(function(){return Le}));var n=i("D3Dy"),o=i("uDWl"),r=i("XSiN"),s=i("X+cX"),a=i("/cxE"),l=i("MI8n"),c=i("pmY6"),h=i("MNsG"),d=i("tYmi"),u=i("CjF5");function g(e){for(;e.firstChild;)e.firstChild.remove()}function p(e){var t;return null!==(t=null==e?void 0:e.isConnected)&&void 0!==t&&t}class m{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function f(e,t,i,n){return new m(e,t,i,n)}function b(e){return function(t){return e(new r.a(t))}}let _=function(e,t,i,n){let r=i;return"click"===t||"mousedown"===t?r=b(i):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(r=function(e){return function(t){return e(new o.a(t))}}(i)),f(e,t,r,n)},v=function(e,t,i){return C(e,b(t),i)};function C(e,t,i){return f(e,h.c&&u.a.pointerEvents?ie.POINTER_DOWN:ie.MOUSE_DOWN,t,i)}function w(e,t,i){return f(e,h.c&&u.a.pointerEvents?ie.POINTER_UP:ie.MOUSE_UP,t,i)}function y(e,t){return f(e,"mouseout",i=>{let n=i.relatedTarget;for(;n&&n!==e;)n=n.parentNode;n!==e&&t(i)})}function S(e,t){return f(e,"pointerout",i=>{let n=i.relatedTarget;for(;n&&n!==e;)n=n.parentNode;n!==e&&t(i)})}let L,x,k=null;class D{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Object(a.e)(e)}}static sort(e,t){return t.priority-e.priority}}!function(){let e=[],t=null,i=!1,n=!1,o=()=>{for(i=!1,t=e,e=[],n=!0;t.length>0;){t.sort(D.sort),t.shift().execute()}n=!1};x=(t,n=0)=>{let r=new D(t,n);return e.push(r),i||(i=!0,function(e){if(!k){const e=e=>setTimeout(()=>e((new Date).getTime()),0);k=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}k.call(self,e)}(o)),r},L=(e,i)=>{if(n){let n=new D(e,i);return t.push(n),n}return x(e,i)}}();const I=function(e,t){return t};class O extends c.a{constructor(e,t,i,n=I,o=8){super();let r=null,a=0,l=this._register(new s.g),c=()=>{a=(new Date).getTime(),i(r),r=null};this._register(f(e,t,e=>{r=n(r,e);let t=(new Date).getTime()-a;t>=o?(l.cancel(),c()):l.setIfNotSet(c,o-t)}))}}function N(e,t,i,n,o){return new O(e,t,i,n,o)}function E(e){return document.defaultView.getComputedStyle(e,null)}function T(e){if(e!==document.body)return new A(e.clientWidth,e.clientHeight);if(h.c&&window.visualViewport)return new A(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new A(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new A(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new A(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class M{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let n=E(e),o="0";return n&&(o=n.getPropertyValue?n.getPropertyValue(t):n.getAttribute(i)),M.convertToPixels(e,o)}static getBorderLeftWidth(e){return M.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return M.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return M.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return M.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return M.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return M.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return M.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return M.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return M.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return M.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return M.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return M.getDimension(e,"margin-bottom","marginBottom")}}class A{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new A(e,t):this}static is(e){return"object"==typeof e&&"number"==typeof e.height&&"number"==typeof e.width}static lift(e){return e instanceof A?e:new A(e.width,e.height)}static equals(e,t){return e===t||!(!e||!t)&&(e.width===t.width&&e.height===t.height)}}function R(e){let t=e.offsetParent,i=e.offsetTop,n=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){i-=e.scrollTop;const o=q(e)?null:E(e);o&&(n-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(n+=M.getBorderLeftWidth(e),i+=M.getBorderTopWidth(e),i+=e.offsetTop,n+=e.offsetLeft,t=e.offsetParent)}return{left:n,top:i}}function P(e,t,i){"number"==typeof t&&(e.style.width=t+"px"),"number"==typeof i&&(e.style.height=i+"px")}function F(e){let t=e.getBoundingClientRect();return{left:t.left+j.scrollX,top:t.top+j.scrollY,width:t.width,height:t.height}}const j=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function B(e){let t=M.getMarginLeft(e)+M.getMarginRight(e);return e.offsetWidth+t}function W(e){let t=M.getBorderLeftWidth(e)+M.getBorderRightWidth(e),i=M.getPaddingLeft(e)+M.getPaddingRight(e);return e.offsetWidth-t-i}function V(e){let t=M.getBorderTopWidth(e)+M.getBorderBottomWidth(e),i=M.getPaddingTop(e)+M.getPaddingBottom(e);return e.offsetHeight-t-i}function H(e){let t=M.getMarginTop(e)+M.getMarginBottom(e);return e.offsetHeight+t}function z(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function U(e,t,i){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e.classList.contains(t))return e;if(i)if("string"==typeof i){if(e.classList.contains(i))return null}else if(e===i)return null;e=e.parentNode}return null}function K(e,t,i){return!!U(e,t,i)}function q(e){return e&&!!e.host&&!!e.mode}function $(e){return!!G(e)}function G(e){for(;e.parentNode;){if(e===document.body)return null;e=e.parentNode}return q(e)?e:null}function Y(){let e=document.activeElement;for(;null==e?void 0:e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Z(e=document.getElementsByTagName("head")[0]){let t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}let X=null;function Q(){return X||(X=Z()),X}function J(e,t,i=Q()){i&&t&&i.sheet.insertRule(e+"{"+t+"}",0)}function ee(e,t=Q()){if(!t)return;let i=function(e){var t,i;return(null===(t=null==e?void 0:e.sheet)||void 0===t?void 0:t.rules)?e.sheet.rules:(null===(i=null==e?void 0:e.sheet)||void 0===i?void 0:i.cssRules)?e.sheet.cssRules:[]}(t),n=[];for(let o=0;o<i.length;o++){-1!==i[o].selectorText.indexOf(e)&&n.push(o)}for(let o=n.length-1;o>=0;o--)t.sheet.deleteRule(n[o])}function te(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}const ie={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:n.j?"webkitAnimationStart":"animationstart",ANIMATION_END:n.j?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:n.j?"webkitAnimationIteration":"animationiteration"},ne={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}};function oe(e){let t=[];for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)t[i]=e.scrollTop,e=e.parentNode;return t}function re(e,t){for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)e.scrollTop!==t[i]&&(e.scrollTop=t[i]),e=e.parentNode}class se extends c.a{constructor(e){super(),this._onDidFocus=this._register(new l.b),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new l.b),this.onDidBlur=this._onDidBlur.event;let t=z(document.activeElement,e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{z(document.activeElement,e)!==t&&(t?o():n())},this._register(f(e,ie.FOCUS,n,!0)),this._register(f(e,ie.BLUR,o,!0))}}function ae(e){return new se(e)}function le(e,...t){if(e.append(...t),1===t.length&&"string"!=typeof t[0])return t[0]}function ce(e,t){return e.insertBefore(t,e.firstChild),t}function he(e,...t){e.innerText="",le(e,...t)}const de=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var ue;function ge(e,t,i,...n){let o=de.exec(t);if(!o)throw new Error("Bad use of emmet");i=Object.assign({},i||{});let r,s=o[1]||"div";return r=e!==ue.HTML?document.createElementNS(e,s):document.createElement(s),o[3]&&(r.id=o[3]),o[4]&&(r.className=o[4].replace(/\./g," ").trim()),Object.keys(i).forEach(e=>{const t=i[e];void 0!==t&&(/^on\w+$/.test(e)?r[e]=t:"selected"===e?t&&r.setAttribute(e,"true"):r.setAttribute(e,t))}),r.append(...n),r}function pe(e,t,...i){return ge(ue.HTML,e,t,...i)}function me(...e){for(let t of e)t.style.display="",t.removeAttribute("aria-hidden")}function fe(...e){for(let t of e)t.style.display="none",t.setAttribute("aria-hidden","true")}function be(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function _e(e){const t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function ve(e){window.open(e,"_blank","noopener")}function Ce(e){const t=()=>{e(),i=x(t)};let i=x(t);return Object(c.i)(()=>i.dispose())}function we(e){return e?`url('${d.a.asBrowserUri(e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function ye(e){return`'${e.replace(/'/g,"%27")}'`}!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.SVG="http://www.w3.org/2000/svg"}(ue||(ue={})),pe.SVG=function(e,t,...i){return ge(ue.SVG,e,t,...i)},d.b.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class Se extends l.b{constructor(){super(),this._subscriptions=new c.b,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(f(window,"keydown",e=>{if(e.defaultPrevented)return;const t=new o.a(e);if(6!==t.keyCode||!e.repeat){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===t.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(f(window,"keyup",e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(f(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mousemove",e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(f(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Se.instance||(Se.instance=new Se),Se.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function Le(e,t){const i=window.matchMedia(e);"function"==typeof i.addEventListener?i.addEventListener("change",t):i.addListener(t)}},EzsQ:function(e,t,i){},F1Qx:function(e,t,i){},FD5B:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface String {\r\n    /** Removes the trailing white space and line terminator characters from a string. */\r\n    trimEnd(): string;\r\n\r\n    /** Removes the leading white space and line terminator characters from a string. */\r\n    trimStart(): string;\r\n\r\n    /** Removes the leading white space and line terminator characters from a string. */\r\n    trimLeft(): string;\r\n\r\n    /** Removes the trailing white space and line terminator characters from a string. */\r\n    trimRight(): string;\r\n}\r\n'},FHm5:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface Symbol {\r\n    /**\r\n     * Expose the [[Description]] internal slot of a symbol directly.\r\n     */\r\n    readonly description: string | undefined;\r\n}\r\n'},FWmy:function(e,t,i){"use strict";function n(e,t){if(!e)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}i.d(t,"a",(function(){return n}))},FmXZ:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var n=i("3/fG"),o=i("T8No"),r=i("MNsG");const s=new o.c("isWindows",r.j,Object(n.a)("isWindows","Whether the operating system is Windows")),a="inputFocus"},G2kB:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));var n=i("Cg/j");const o=Object(n.c)("modelService");function r(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},G300:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("EffR"),o=i("uDWl"),r=i("XSiN"),s=i("pmY6"),a=i("pg8w");class l extends s.a{onclick(e,t){this._register(n.i(e,n.d.CLICK,e=>t(new r.a(e))))}onmousedown(e,t){this._register(n.i(e,n.d.MOUSE_DOWN,e=>t(new r.a(e))))}onmouseover(e,t){this._register(n.i(e,n.d.MOUSE_OVER,e=>t(new r.a(e))))}onnonbubblingmouseout(e,t){this._register(n.j(e,e=>t(new r.a(e))))}onkeydown(e,t){this._register(n.i(e,n.d.KEY_DOWN,e=>t(new o.a(e))))}onkeyup(e,t){this._register(n.i(e,n.d.KEY_UP,e=>t(new o.a(e))))}oninput(e,t){this._register(n.i(e,n.d.INPUT,t))}onblur(e,t){this._register(n.i(e,n.d.BLUR,t))}onfocus(e,t){this._register(n.i(e,n.d.FOCUS,t))}ignoreGesture(e){a.b.ignoreTarget(e)}}},GJhM:function(e,t,i){"use strict";i.d(t,"b",(function(){return I})),i.d(t,"c",(function(){return O})),i.d(t,"a",(function(){return N}));i("eq1K");var n=i("EffR"),o=i("ZlPH"),r=i("XSiN"),s=i("AKMP"),a=i("G300"),l=i("X+cX");class c extends a.a{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new s.a),this.onmousedown(this.bgDomNode,e=>this._arrowMouseDown(e)),this.onmousedown(this.domNode,e=>this._arrowMouseDown(e)),this._mousedownRepeatTimer=this._register(new l.c),this._mousedownScheduleRepeatTimer=this._register(new l.g)}_arrowMouseDown(e){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,s.b,e=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()}}var h=i("pmY6");class d extends h.a{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new l.g)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}var u=i("MNsG");class g extends a.a{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new d(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new s.a),this._shouldRender=!0,this.domNode=Object(o.b)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,e=>this._domNodeMouseDown(e))}_createArrow(e){const t=this._register(new c(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=Object(o.b)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof i&&this.slider.setWidth(i),"number"==typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,e=>{e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}),this.onclick(this.slider.domNode,e=>{e.leftButton&&e.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderMousePosition(e);i<=o&&o<=n?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{})):this._onMouseDown(e)}_onMouseDown(e){let t,i;if(e.target===this.domNode.domNode&&"number"==typeof e.browserEvent.offsetX&&"number"==typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,i=e.browserEvent.offsetY;else{const o=n.D(this.domNode.domNode);t=e.posx-o.left,i=e.posy-o.top}const o=this._mouseDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(o):this._scrollbarState.getDesiredScrollPositionFromOffset(o)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}_sliderMouseDown(e,t){const i=this._sliderMousePosition(e),n=this._sliderOrthogonalMousePosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,s.b,e=>{const t=this._sliderOrthogonalMousePosition(e),r=Math.abs(t-n);if(u.j&&r>140)return void this._setDesiredScrollPositionNow(o.getScrollPosition());const s=this._sliderMousePosition(e)-i;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(s))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class p{constructor(e,t,i,n,o,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new p(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,o){const r=Math.max(0,i-e),s=Math.max(0,r-2*t),a=n>0&&n>i;if(!a)return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(20,Math.floor(i*s/n))),c=(s-l)/(n-i),h=o*c;return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){const e=p._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}var m=i("Vhoy");const f=Object(m.e)("scrollbar-button-left",m.b.triangleLeft),b=Object(m.e)("scrollbar-button-right",m.b.triangleRight);class _ extends g{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new p(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const e=(t.arrowSize-11)/2,i=(t.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:f,top:i,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new r.b(null,1,0))}),this._createArrow({className:"scra",icon:b,top:i,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new r.b(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}const v=Object(m.e)("scrollbar-button-up",m.b.triangleUp),C=Object(m.e)("scrollbar-button-down",m.b.triangleDown);class w extends g{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new p(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const e=(t.arrowSize-11)/2,i=(t.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:v,top:e,left:i,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new r.b(null,0,1))}),this._createArrow({className:"scra",icon:C,top:void 0,left:i,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new r.b(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}var y=i("MI8n"),S=i("QuOb"),L=i("D3Dy");class x{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class k{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,i=1,n=this._rear;for(;;){const o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}accept(e,t,i){const n=new x(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}k.INSTANCE=new k;class D extends a.a{constructor(e,t,i){super(),this._onScroll=this._register(new y.b),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new y.b),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:void 0!==e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,u.f&&(t.className+=" mac");return t}(t),this._scrollable=i,this._register(this._scrollable.onScroll(e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)}));const n={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new w(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new _(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Object(o.b)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Object(o.b)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Object(o.b)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,e=>this._onMouseOver(e)),this.onnonbubblingmouseout(this._listenOnDomNode,e=>this._onMouseOut(e)),this._hideTimeout=this._register(new l.g),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=Object(h.f)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,u.f&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontal&&(this._options.horizontal=e.horizontal),void 0!==e.vertical&&(this._options.vertical=e.vertical),void 0!==e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),void 0!==e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),void 0!==e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=Object(h.f)(this._mouseWheelToDispose),e)){const e=e=>{this._onMouseWheel(new r.b(e))};this._mouseWheelToDispose.push(n.i(this._listenOnDomNode,n.d.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){const t=k.INSTANCE;{const i=window.devicePixelRatio/Object(L.c)();u.j||u.d?t.accept(Date.now(),e.deltaX/i,e.deltaY/i):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let n=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(n)>=Math.abs(o)?o=0:n=0),this._options.flipAxes&&([n,o]=[o,n]);const r=!u.f&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!r||o||(o=n,n=0),e.browserEvent&&e.browserEvent.altKey&&(o*=this._options.fastScrollSensitivity,n*=this._options.fastScrollSensitivity);const s=this._scrollable.getFutureScrollPosition();let a={};if(n){const e=s.scrollTop-50*n;this._verticalScrollbar.writeScrollPosition(a,e)}if(o){const e=s.scrollLeft-50*o;this._horizontalScrollbar.writeScrollPosition(a,e)}if(a=this._scrollable.validateScrollPosition(a),s.scrollLeft!==a.scrollLeft||s.scrollTop!==a.scrollTop){this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),i=!0}}let n=i;!n&&this._options.alwaysConsumeMouseWheel&&(n=!0),!n&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(n=!0),n&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",r=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName("shadow"+n),this._topShadowDomNode.setClassName("shadow"+o),this._topLeftShadowDomNode.setClassName(`shadow${r}${o}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class I extends D{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new S.a(0,e=>n.V(e));super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class O extends D{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class N extends I{constructor(e,t){super(e,t),this._element=e,this.onScroll(e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},"GR/f":function(e,t,i){"use strict";i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return m}));var n=i("/cxE"),o=i("N0LK"),r=i("LCkn"),s=i("zN7H"),a=i("aokT"),l=i("gCVg");class c{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new a.a(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new a.a(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let i=t.getInverseEditOperations(),n=i[0].range,o=i[1].range;return new l.a(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}var h=i("Ll0s"),d=i("5v8Y"),u=i("KDc4"),g=i("cMvZ");class p{static indent(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,r=i.length;o<r;o++)n[o]=new s.a(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static outdent(e,t,i){let n=[];for(let o=0,r=i.length;o<r;o++)n[o]=new s.a(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static shiftIndent(e,t,i){return i=i||1,s.a.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,s.a.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){let o=[];for(let s=0,a=i.length;s<a;s++)o[s]=new r.a(i[s],n[s]);return new h.e(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,o){let s=[];for(let l=0,c=i.length;l<c;l++){const e=i[l];let t=e.getPosition();if(o&&!e.isEmpty()&&(o=!1),o&&n.indexOf("\n")!==n.length-1&&(o=!1),o){let i=new a.a(t.lineNumber,1,t.lineNumber,1);s[l]=new r.b(i,n,e,!0)}else s[l]=new r.a(e,n)}return new h.e(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,r){if(n)return null;if(1===t.length)return null;if(r&&r.length===t.length)return r;if("spread"===e.multiCursorPaste){10===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1)),13===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1));let e=o.R(i);if(e.length===t.length)return e}return null}static paste(e,t,i,n,o,r){const s=this._distributePasteToCursors(e,i,n,o,r);return s?(i=i.sort(a.a.compareRangesUsingStarts),this._distributedPaste(e,t,i,s)):this._simplePaste(e,t,i,n,o)}static _goodIndentForLine(e,t,i){let n=null,r="";const s=g.a.getInheritIndentForLine(e.autoIndent,t,i,!1);if(s)n=s.action,r=s.indentation;else if(i>1){let n;for(n=i-1;n>=1;n--){const e=t.getLineContent(n);if(o.J(e)>=0)break}if(n<1)return null;const s=t.getLineMaxColumn(n),l=g.a.getEnterAction(e.autoIndent,t,new a.a(n,s,n,s));l&&(r=l.indentation+l.appendText)}return n&&(n===u.b.Indent&&(r=p.shiftIndent(e,r)),n===u.b.Outdent&&(r=p.unshiftIndent(e,r)),r=e.normalizeIndentation(r)),r||null}static _replaceJumpToNextIndent(e,t,i,n){let o="",s=i.getStartPosition();if(e.insertSpaces){let i=h.a.visibleColumnFromColumn2(e,t,s),n=e.indentSize,r=n-i%n;for(let e=0;e<r;e++)o+=" "}else o="\t";return new r.a(i,o,n)}static tab(e,t,i){let n=[];for(let o=0,l=i.length;o<l;o++){const l=i[o];if(l.isEmpty()){let i=t.getLineContent(l.startLineNumber);if(/^\s*$/.test(i)&&t.isCheapToTokenize(l.startLineNumber)){let s=this._goodIndentForLine(e,t,l.startLineNumber);s=s||"\t";let c=e.normalizeIndentation(s);if(!i.startsWith(c)){n[o]=new r.a(new a.a(l.startLineNumber,1,l.startLineNumber,i.length+1),c,!0);continue}}n[o]=this._replaceJumpToNextIndent(e,t,l,!0)}else{if(l.startLineNumber===l.endLineNumber){let i=t.getLineMaxColumn(l.startLineNumber);if(1!==l.startColumn||l.endColumn!==i){n[o]=this._replaceJumpToNextIndent(e,t,l,!1);continue}}n[o]=new s.a(l,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return n}static compositionType(e,t,i,n,o,r,s,a){const l=n.map(e=>this._compositionType(i,e,o,r,s,a));return new h.e(4,l,{shouldPushStackElementBefore:b(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,n,o,s){if(!t.isEmpty())return null;const l=t.getPosition(),c=Math.max(1,l.column-n),h=Math.min(e.getLineMaxColumn(l.lineNumber),l.column+o),d=new a.a(l.lineNumber,c,l.lineNumber,h);return e.getValueInRange(d)===i&&0===s?null:new r.d(d,i,0,s)}static _typeCommand(e,t,i){return i?new r.e(e,t,!0):new r.a(e,t,!0)}static _enter(e,t,i,n){if(0===e.autoIndent)return p._typeCommand(n,"\n",i);if(!t.isCheapToTokenize(n.getStartPosition().lineNumber)||1===e.autoIndent){let r=t.getLineContent(n.startLineNumber),s=o.y(r).substring(0,n.startColumn-1);return p._typeCommand(n,"\n"+e.normalizeIndentation(s),i)}const s=g.a.getEnterAction(e.autoIndent,t,n);if(s){if(s.indentAction===u.b.None)return p._typeCommand(n,"\n"+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===u.b.Indent)return p._typeCommand(n,"\n"+e.normalizeIndentation(s.indentation+s.appendText),i);if(s.indentAction===u.b.IndentOutdent){const t=e.normalizeIndentation(s.indentation),o=e.normalizeIndentation(s.indentation+s.appendText),a="\n"+o+"\n"+t;return i?new r.e(n,a,!0):new r.d(n,a,-1,o.length-t.length,!0)}if(s.indentAction===u.b.Outdent){const t=p.unshiftIndent(e,s.indentation);return p._typeCommand(n,"\n"+e.normalizeIndentation(t+s.appendText),i)}}const a=t.getLineContent(n.startLineNumber),l=o.y(a).substring(0,n.startColumn-1);if(e.autoIndent>=4){const s=g.a.getIndentForEnter(e.autoIndent,t,n,{unshiftIndent:t=>p.unshiftIndent(e,t),shiftIndent:t=>p.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)});if(s){let a=h.a.visibleColumnFromColumn2(e,t,n.getEndPosition());const l=n.endColumn,c=t.getLineContent(n.endLineNumber),d=o.v(c);if(n=d>=0?n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,d+1)):n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new r.e(n,"\n"+e.normalizeIndentation(s.afterEnter),!0);{let t=0;return l<=d+1&&(e.insertSpaces||(a=Math.ceil(a/e.indentSize)),t=Math.min(a+1-e.normalizeIndentation(s.afterEnter).length-1,0)),new r.d(n,"\n"+e.normalizeIndentation(s.afterEnter),0,t,!0)}}}return p._typeCommand(n,"\n"+e.normalizeIndentation(l),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let n=0,o=i.length;n<o;n++)if(!t.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){const o=g.a.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),r=g.a.getIndentActionForType(e.autoIndent,t,i,n,{shiftIndent:t=>p.shiftIndent(e,t),unshiftIndent:t=>p.unshiftIndent(e,t)});if(null===r)return null;if(r!==e.normalizeIndentation(o)){const o=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return 0===o?p._typeCommand(new a.a(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(r)+n,!1):p._typeCommand(new a.a(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(r)+t.getLineContent(i.startLineNumber).substring(o-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let r=0,s=i.length;r<s;r++){const s=i[r];if(!s.isEmpty())return!1;const a=s.getPosition(),l=t.getLineContent(a.lineNumber);if(l.charAt(a.column-1)!==o)return!1;const c=Object(h.g)(o);if(92===(a.column>2?l.charCodeAt(a.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,i=n.length;t<i;t++){const i=n[t];if(a.lineNumber===i.startLineNumber&&a.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,o){let s=[];for(let l=0,c=n.length;l<c;l++){const e=n[l].getPosition(),t=new a.a(e.lineNumber,e.column,e.lineNumber,e.column+1);s[l]=new r.a(t,o)}return new h.e(4,s,{shouldPushStackElementBefore:b(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),n=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],r=n.some(e=>t.startsWith(e.open)),s=o.some(e=>t.startsWith(e.close));return!r&&s}static _findAutoClosingPairOpen(e,t,i,n){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(n);if(!o)return null;let r=null;for(const s of o)if(null===r||s.open.length>r.open.length){let e=!0;for(const o of i){if(t.getValueInRange(new a.a(o.lineNumber,o.column-s.open.length+1,o.lineNumber,o.column))+n!==s.open){e=!1;break}}e&&(r=s)}return r}static _findSubAutoClosingPairClose(e,t){if(t.open.length<=1)return"";const i=t.close.charAt(t.close.length-1),n=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let o=null;for(const r of n)r.open!==t.open&&t.open.includes(r.open)&&t.close.endsWith(r.close)&&(!o||r.open.length>o.open.length)&&(o=r);return o?o.close:""}static _getAutoClosingPairClose(e,t,i,o,r){const s=Object(h.g)(o),a=s?e.autoClosingQuotes:e.autoClosingBrackets;if("never"===a)return null;const l=this._findAutoClosingPairOpen(e,t,i.map(e=>e.getPosition()),o);if(!l)return null;const c=this._findSubAutoClosingPairClose(e,l);let u=!0;const m=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;for(let h=0,b=i.length;h<b;h++){const o=i[h];if(!o.isEmpty())return null;const b=o.getPosition(),_=t.getLineContent(b.lineNumber),v=_.substring(b.column-1);if(v.startsWith(c)||(u=!1),_.length>b.column-1){const t=_.charAt(b.column-1);if(!p._isBeforeClosingBrace(e,v)&&!m(t))return null}if(!t.isCheapToTokenize(b.lineNumber))return null;if(1===l.open.length&&s&&"always"!==a){const t=Object(d.a)(e.wordSeparators);if(r&&b.column>1&&0===t.get(_.charCodeAt(b.column-2)))return null;if(!r&&b.column>2&&0===t.get(_.charCodeAt(b.column-3)))return null}t.forceTokenization(b.lineNumber);const C=t.getLineTokens(b.lineNumber);let w=!1;try{w=g.a.shouldAutoClosePair(l,C,r?b.column:b.column-1)}catch(f){Object(n.e)(f)}if(!w)return null}return u?l.close.substring(0,l.close.length-c.length):l.close}static _runAutoClosingOpenCharType(e,t,i,n,o,r,s){let a=[];for(let l=0,c=n.length;l<c;l++){const e=n[l];a[l]=new m(e,o,r,s)}return new h.e(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return Object(h.g)(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,i,n){if(!p._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;const o=Object(h.g)(n);for(let r=0,s=i.length;r<s;r++){const e=i[r];if(e.isEmpty())return!1;let n=!0;for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const o=t.getLineContent(i),r=i===e.startLineNumber?e.startColumn-1:0,s=i===e.endLineNumber?e.endColumn-1:o.length,a=o.substring(r,s);if(/[^ \t]/.test(a)){n=!1;break}}if(n)return!1;if(o&&e.startLineNumber===e.endLineNumber&&e.startColumn+1===e.endColumn){const i=t.getValueInRange(e);if(Object(h.g)(i))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,o){let r=[];for(let s=0,a=n.length;s<a;s++){const e=n[s],i=t.surroundingPairs[o];r[s]=new c(e,o,i)}return new h.e(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!(1!==i.length||!t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,s,l){if(!t.electricChars.hasOwnProperty(l)||!s.isEmpty())return null;let c=s.getPosition();i.forceTokenization(c.lineNumber);let d,u=i.getLineTokens(c.lineNumber);try{d=g.a.onElectricCharacter(l,u,c.column)}catch(p){return Object(n.e)(p),null}if(!d)return null;if(d.matchOpenBracket){let n=(u.getLineContent()+l).lastIndexOf(d.matchOpenBracket)+1,s=i.findMatchingBracketUp(d.matchOpenBracket,{lineNumber:c.lineNumber,column:n});if(s){if(s.startLineNumber===c.lineNumber)return null;let n=i.getLineContent(s.startLineNumber),d=o.y(n),u=t.normalizeIndentation(d),g=i.getLineContent(c.lineNumber),p=i.getLineFirstNonWhitespaceColumn(c.lineNumber)||c.column,m=u+g.substring(p-1,c.column-1)+l,b=new a.a(c.lineNumber,1,c.lineNumber,c.column);const _=new r.a(b,m);return new h.e(f(m,e),[_],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,o,s){if(!n||l.a.selectionsArrEqual(n,o))return null;let c=null;for(const r of o){if(!r.isEmpty())return null;const e=r.getPosition(),t=i.getValueInRange(new a.a(e.lineNumber,e.column-1,e.lineNumber,e.column));if(null===c)c=t;else if(c!==t)return null}if(!c)return null;if(this._isAutoClosingOvertype(t,i,o,s,c)){const e=o.map(e=>new r.a(new a.a(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1));return new h.e(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const d=this._getAutoClosingPairClose(t,i,o,c,!1);return null!==d?this._runAutoClosingOpenCharType(e,t,i,o,c,!1,d):null}static typeWithInterceptors(e,t,i,n,o,s,a){if(!e&&"\n"===a){let e=[];for(let t=0,r=o.length;t<r;t++)e[t]=p._enter(i,n,!1,o[t]);return new h.e(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,o)){let e=[],t=!1;for(let r=0,s=o.length;r<s;r++)if(e[r]=this._runAutoIndentType(i,n,o[r],a),!e[r]){t=!0;break}if(!t)return new h.e(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,n,o,s,a))return this._runAutoClosingOvertype(t,i,n,o,a);if(!e){const e=this._getAutoClosingPairClose(i,n,o,a,!0);if(e)return this._runAutoClosingOpenCharType(t,i,n,o,a,!0,e)}if(this._isSurroundSelectionType(i,n,o,a))return this._runSurroundSelectionType(t,i,n,o,a);if(!e&&this._isTypeInterceptorElectricChar(i,n,o)){const e=this._typeInterceptorElectricChar(t,i,n,o[0],a);if(e)return e}let l=[];for(let h=0,d=o.length;h<d;h++)l[h]=new r.a(o[h],a);const c=f(a,t);return new h.e(c,l,{shouldPushStackElementBefore:b(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,o){let s=[];for(let l=0,c=n.length;l<c;l++)s[l]=new r.a(n[l],o);const a=f(o,e);return new h.e(a,s,{shouldPushStackElementBefore:b(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,s=i.length;o<s;o++){let s=i[o].positionLineNumber;if(1===s)n[o]=new r.e(new a.a(1,1,1,1),"\n");else{s--;let i=t.getLineMaxColumn(s);n[o]=this._enter(e,t,!1,new a.a(s,i,s,i))}}return n}static lineInsertAfter(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,r=i.length;o<r;o++){const r=i[o].positionLineNumber;let s=t.getLineMaxColumn(r);n[o]=this._enter(e,t,!1,new a.a(r,s,r,s))}return n}static lineBreakInsert(e,t,i){let n=[];for(let o=0,r=i.length;o<r;o++)n[o]=this._enter(e,t,!0,i[o]);return n}}class m extends r.d{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new a.a(i.startLineNumber,i.endColumn-this._closeCharacter.length,i.endLineNumber,i.endColumn),this.enclosingRange=new a.a(i.startLineNumber,i.endColumn-this._openCharacter.length-this._closeCharacter.length,i.endLineNumber,i.endColumn),super.computeCursorState(e,t)}}function f(e,t){return" "===e?5===t||6===t?6:5:4}function b(e,t){return!(!v(e)||v(t))||5!==e&&_(e)!==_(t)}function _(e){return 6===e||5===e?"space":e}function v(e){return 4===e||5===e||6===e}},GjTR:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ntype FlatArray<Arr, Depth extends number> = {\r\n    "done": Arr,\r\n    "recur": Arr extends ReadonlyArray<infer InnerArr>\r\n        ? FlatArray<InnerArr, [-1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20][Depth]>\r\n        : Arr\r\n}[Depth extends -1 ? "done" : "recur"];\r\n\r\ninterface ReadonlyArray<T> {\r\n\r\n    /**\r\n     * Calls a defined callback function on each element of an array. Then, flattens the result into\r\n     * a new array.\r\n     * This is identical to a map followed by flat with depth 1.\r\n     *\r\n     * @param callback A function that accepts up to three arguments. The flatMap method calls the\r\n     * callback function one time for each element in the array.\r\n     * @param thisArg An object to which the this keyword can refer in the callback function. If\r\n     * thisArg is omitted, undefined is used as the this value.\r\n     */\r\n    flatMap<U, This = undefined> (\r\n        callback: (this: This, value: T, index: number, array: T[]) => U | ReadonlyArray<U>,\r\n        thisArg?: This\r\n    ): U[]\r\n\r\n\r\n    /**\r\n     * Returns a new array with all sub-array elements concatenated into it recursively up to the\r\n     * specified depth.\r\n     *\r\n     * @param depth The maximum recursion depth\r\n     */\r\n    flat<A, D extends number = 1>(\r\n        this: A,\r\n        depth?: D\r\n    ): FlatArray<A, D>[]\r\n  }\r\n\r\ninterface Array<T> {\r\n\r\n    /**\r\n     * Calls a defined callback function on each element of an array. Then, flattens the result into\r\n     * a new array.\r\n     * This is identical to a map followed by flat with depth 1.\r\n     *\r\n     * @param callback A function that accepts up to three arguments. The flatMap method calls the\r\n     * callback function one time for each element in the array.\r\n     * @param thisArg An object to which the this keyword can refer in the callback function. If\r\n     * thisArg is omitted, undefined is used as the this value.\r\n     */\r\n    flatMap<U, This = undefined> (\r\n        callback: (this: This, value: T, index: number, array: T[]) => U | ReadonlyArray<U>,\r\n        thisArg?: This\r\n    ): U[]\r\n\r\n    /**\r\n     * Returns a new array with all sub-array elements concatenated into it recursively up to the\r\n     * specified depth.\r\n     *\r\n     * @param depth The maximum recursion depth\r\n     */\r\n    flat<A, D extends number = 1>(\r\n        this: A,\r\n        depth?: D\r\n    ): FlatArray<A, D>[]\r\n}\r\n'},Gw4z:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return h}));class n{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var o=i("7afs");class r{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}function s(e,t,i){return new h(new r(e),new r(t)).ComputeDiff(i).changes}class a{static Assert(e,t){if(!e)throw new Error(t)}}class l{static Copy(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}static Copy2(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}}class c{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new n(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class h{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[n,o,r]=h._getElements(e),[s,a,l]=h._getElements(t);this._hasStrings=r&&l,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const t=e.getElements();if(h._isStringArray(t)){const e=new Int32Array(t.length);for(let i=0,n=t.length;i<n;i++)e[i]=Object(o.c)(t[i],0);return[t,e,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;return h._getStrictElement(this._originalSequence,e)===h._getStrictElement(this._modifiedSequence,t)}static _getStrictElement(e,t){return"function"==typeof e.getStrictElement?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){const r=[!1];let s=this.ComputeDiffRecursive(e,t,i,n,r);return o&&(s=this.PrettifyChanges(s)),{quitEarly:r[0],changes:s}}ComputeDiffRecursive(e,t,i,o,r){for(r[0]=!1;e<=t&&i<=o&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&o>=i&&this.ElementsAreEqual(t,o);)t--,o--;if(e>t||i>o){let r;return i<=o?(a.Assert(e===t+1,"originalStart should only be one more than originalEnd"),r=[new n(e,0,i,o-i+1)]):e<=t?(a.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),r=[new n(e,t-e+1,i,0)]):(a.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a.Assert(i===o+1,"modifiedStart should only be one more than modifiedEnd"),r=[]),r}const s=[0],l=[0],c=this.ComputeRecursionPoint(e,t,i,o,s,l,r),h=s[0],d=l[0];if(null!==c)return c;if(!r[0]){const s=this.ComputeDiffRecursive(e,h,i,d,r);let a=[];return a=r[0]?[new n(h+1,t-(h+1)+1,d+1,o-(d+1)+1)]:this.ComputeDiffRecursive(h+1,t,d+1,o,r),this.ConcatenateChanges(s,a)}return[new n(e,t-e+1,i,o-i+1)]}WALKTRACE(e,t,i,o,r,s,a,l,h,d,u,g,p,m,f,b,_,v){let C=null,w=null,y=new c,S=t,L=i,x=p[0]-b[0]-o,k=-1073741824,D=this.m_forwardHistory.length-1;do{const t=x+e;t===S||t<L&&h[t-1]<h[t+1]?(m=(u=h[t+1])-x-o,u<k&&y.MarkNextChange(),k=u,y.AddModifiedElement(u+1,m),x=t+1-e):(m=(u=h[t-1]+1)-x-o,u<k&&y.MarkNextChange(),k=u-1,y.AddOriginalElement(u,m+1),x=t-1-e),D>=0&&(e=(h=this.m_forwardHistory[D])[0],S=1,L=h.length-1)}while(--D>=-1);if(C=y.getReverseChanges(),v[0]){let e=p[0]+1,t=b[0]+1;if(null!==C&&C.length>0){const i=C[C.length-1];e=Math.max(e,i.getOriginalEnd()),t=Math.max(t,i.getModifiedEnd())}w=[new n(e,g-e+1,t,f-t+1)]}else{y=new c,S=s,L=a,x=p[0]-b[0]-l,k=1073741824,D=_?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const e=x+r;e===S||e<L&&d[e-1]>=d[e+1]?(m=(u=d[e+1]-1)-x-l,u>k&&y.MarkNextChange(),k=u+1,y.AddOriginalElement(u+1,m+1),x=e+1-r):(m=(u=d[e-1])-x-l,u>k&&y.MarkNextChange(),k=u,y.AddModifiedElement(u+1,m+1),x=e-1-r),D>=0&&(r=(d=this.m_reverseHistory[D])[0],S=1,L=d.length-1)}while(--D>=-1);w=y.getChanges()}return this.ConcatenateChanges(C,w)}ComputeRecursionPoint(e,t,i,o,r,s,a){let c=0,h=0,d=0,u=0,g=0,p=0;e--,i--,r[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const m=t-e+(o-i),f=m+1,b=new Int32Array(f),_=new Int32Array(f),v=o-i,C=t-e,w=e-i,y=t-o,S=(C-v)%2==0;b[v]=e,_[C]=t,a[0]=!1;for(let L=1;L<=m/2+1;L++){let m=0,x=0;d=this.ClipDiagonalBound(v-L,L,v,f),u=this.ClipDiagonalBound(v+L,L,v,f);for(let e=d;e<=u;e+=2){c=e===d||e<u&&b[e-1]<b[e+1]?b[e+1]:b[e-1]+1,h=c-(e-v)-w;const i=c;for(;c<t&&h<o&&this.ElementsAreEqual(c+1,h+1);)c++,h++;if(b[e]=c,c+h>m+x&&(m=c,x=h),!S&&Math.abs(e-C)<=L-1&&c>=_[e])return r[0]=c,s[0]=h,i<=_[e]&&L<=1448?this.WALKTRACE(v,d,u,w,C,g,p,y,b,_,c,t,r,h,o,s,S,a):null}const k=(m-e+(x-i)-L)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(m,k))return a[0]=!0,r[0]=m,s[0]=x,k>0&&L<=1448?this.WALKTRACE(v,d,u,w,C,g,p,y,b,_,c,t,r,h,o,s,S,a):(e++,i++,[new n(e,t-e+1,i,o-i+1)]);g=this.ClipDiagonalBound(C-L,L,C,f),p=this.ClipDiagonalBound(C+L,L,C,f);for(let n=g;n<=p;n+=2){c=n===g||n<p&&_[n-1]>=_[n+1]?_[n+1]-1:_[n-1],h=c-(n-C)-y;const l=c;for(;c>e&&h>i&&this.ElementsAreEqual(c,h);)c--,h--;if(_[n]=c,S&&Math.abs(n-v)<=L&&c<=b[n])return r[0]=c,s[0]=h,l>=b[n]&&L<=1448?this.WALKTRACE(v,d,u,w,C,g,p,y,b,_,c,t,r,h,o,s,S,a):null}if(L<=1447){let e=new Int32Array(u-d+2);e[0]=v-d+1,l.Copy2(b,d,e,1,u-d+1),this.m_forwardHistory.push(e),e=new Int32Array(p-g+2),e[0]=C-g+1,l.Copy2(_,g,e,1,p-g+1),this.m_reverseHistory.push(e)}}return this.WALKTRACE(v,d,u,w,C,g,p,y,b,_,c,t,r,h,o,s,S,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,r=i.originalLength>0,s=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!r||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!s||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const e=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!e)break;i.originalStart++,i.modifiedStart++}let a=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)&&(e[t]=a[0],e.splice(t+1,1),t--)}for(let t=e.length-1;t>=0;t--){const i=e[t];let n=0,o=0;if(t>0){const i=e[t-1];n=i.originalStart+i.originalLength,o=i.modifiedStart+i.modifiedLength}const r=i.originalLength>0,s=i.modifiedLength>0;let a=0,l=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let e=1;;e++){const t=i.originalStart-e,c=i.modifiedStart-e;if(t<n||c<o)break;if(r&&!this.OriginalElementsAreEqual(t,t+i.originalLength))break;if(s&&!this.ModifiedElementsAreEqual(c,c+i.modifiedLength))break;const h=(t===n&&c===o?5:0)+this._boundaryScore(t,i.originalLength,c,i.modifiedLength);h>l&&(l=h,a=e)}i.originalStart-=a,i.modifiedStart-=a;const c=[null];t>0&&this.ChangesOverlap(e[t-1],e[t],c)&&(e[t-1]=c[0],e.splice(t,1),t++)}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const i=e[t-1],n=e[t],o=n.originalStart-i.originalStart-i.originalLength,r=i.originalStart,s=n.originalStart+n.originalLength,a=s-r,l=i.modifiedStart,c=n.modifiedStart+n.modifiedLength,h=c-l;if(o<5&&a<20&&h<20){const e=this._findBetterContiguousSequence(r,a,l,h,o);if(e){const[t,r]=e;t===i.originalStart+i.originalLength&&r===i.modifiedStart+i.modifiedLength||(i.originalLength=t-i.originalStart,i.modifiedLength=r-i.modifiedStart,n.originalStart=t+o,n.modifiedStart=r+o,n.originalLength=s-n.originalStart,n.modifiedLength=c-n.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,o){if(t<o||n<o)return null;const r=e+t-o+1,s=i+n-o+1;let a=0,l=0,c=0;for(let h=e;h<r;h++)for(let e=i;e<s;e++){const t=this._contiguousSequenceScore(h,e,o);t>0&&t>a&&(a=t,l=h,c=e)}return a>0?[l,c]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)}ConcatenateChanges(e,t){let i=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return l.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],l.Copy(t,1,n,e.length,t.length-1),n}{const i=new Array(e.length+t.length);return l.Copy(e,0,i,0,e.length),l.Copy(t,0,i,e.length,t.length),i}}ChangesOverlap(e,t,i){if(a.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),a.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const o=e.originalStart;let r=e.originalLength;const s=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new n(o,r,s,a),!0}return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;const o=t%2==0;if(e<0){return o===(i%2==0)?0:1}return o===((n-i-1)%2==0)?n-1:n-2}}},HdwC:function(e,t,i){"use strict";i.d(t,"b",(function(){return p})),i.d(t,"a",(function(){return f}));var n=i("D3Dy"),o=i("MI8n"),r=i("pmY6"),s=i("MNsG");class a{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class l{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");t.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(t);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(i);const n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),n.style.fontWeight=this._bareFontInfo.fontWeight,n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",n.style.fontStyle="italic",e.appendChild(n);const o=[];for(const r of this._requests){let e;0===r.type&&(e=t),2===r.type&&(e=i),1===r.type&&(e=n),e.appendChild(document.createElement("br"));const s=document.createElement("span");l._render(s,r),e.appendChild(s),o.push(s)}this._container=e,this._testElements=o}static _render(e,t){if(" "===t.chr){let t=" ";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let i=t.chr;for(let e=0;e<8;e++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const t=this._requests[e],i=this._testElements[e];t.fulfill(i.offsetWidth/256)}}}var c=i("o39E"),h=i("iDAx"),d=i("/UlZ"),u=i("+3Gp");class g{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}function p(){m.INSTANCE.clearCache()}class m extends r.a{constructor(){super(),this._onDidChange=this._register(new o.b),this.onDidChange=this._onDidChange.event,this._cache=new g,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new g,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=m._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new u.b({zoomLevel:n.d(),pixelRatio:n.a(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,i,n){const o=new a(e,t);return i.push(o),n&&n.push(o),o}static _actualReadConfiguration(e){const t=[],i=[],o=this.createRequest("n",0,t,i),r=this.createRequest("ｍ",0,t,null),s=this.createRequest(" ",0,t,i),a=this.createRequest("0",0,t,i),c=this.createRequest("1",0,t,i),h=this.createRequest("2",0,t,i),g=this.createRequest("3",0,t,i),p=this.createRequest("4",0,t,i),m=this.createRequest("5",0,t,i),f=this.createRequest("6",0,t,i),b=this.createRequest("7",0,t,i),_=this.createRequest("8",0,t,i),v=this.createRequest("9",0,t,i),C=this.createRequest("→",0,t,i),w=this.createRequest("￫",0,t,null),y=this.createRequest("·",0,t,i),S=this.createRequest(String.fromCharCode(11825),0,t,null);this.createRequest("|",0,t,i),this.createRequest("/",0,t,i),this.createRequest("-",0,t,i),this.createRequest("_",0,t,i),this.createRequest("i",0,t,i),this.createRequest("l",0,t,i),this.createRequest("m",0,t,i),this.createRequest("|",1,t,i),this.createRequest("_",1,t,i),this.createRequest("i",1,t,i),this.createRequest("l",1,t,i),this.createRequest("m",1,t,i),this.createRequest("n",1,t,i),this.createRequest("|",2,t,i),this.createRequest("_",2,t,i),this.createRequest("i",2,t,i),this.createRequest("l",2,t,i),this.createRequest("m",2,t,i),this.createRequest("n",2,t,i),function(e,t){new l(e,t).read()}(e,t);const L=Math.max(a.width,c.width,h.width,g.width,p.width,m.width,f.width,b.width,_.width,v.width);let x=e.fontFeatureSettings===d.e.OFF;const k=i[0].width;for(let n=1,l=i.length;x&&n<l;n++){const e=k-i[n].width;if(e<-.001||e>.001){x=!1;break}}let D=!0;x&&w.width!==k&&(D=!1),w.width>C.width&&(D=!1);const I=n.b()>2e3;return new u.b({zoomLevel:n.d(),pixelRatio:n.a(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:x,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:D,spaceWidth:s.width,middotWidth:y.width,wsmiddotWidth:S.width,maxDigitWidth:L},I)}}m.INSTANCE=new m;class f extends h.a{constructor(e,t,i=null,o){super(e,t),this.accessibilityService=o,this._elementSizeObserver=this._register(new c.a(i,t.dimension,()=>this._recomputeOptions())),this._register(m.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(n.l(e=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}observeReferenceElement(e){this._elementSizeObserver.observe(e)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let e="";return n.h||n.k||(e+="no-user-select "),n.h&&(e+="no-minimap-shadow "),s.f&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:f._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:n.j||n.g,pixelRatio:n.a(),zoomLevel:n.d(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return m.INSTANCE.readConfiguration(e)}}},HgMQ:function(e,t,i){},Hkd1:function(e,t,i){"use strict";i.r(t),t.default="// Based on https://www.lua.org/manual/5.3/manual.html#6.1\n\n/// <reference lib=\"es2015.iterable\" />\n\n/** @noSelfInFile */\n\ntype LuaThread = { readonly __internal__: unique symbol };\ntype LuaUserdata = { readonly __internal__: unique symbol };\n\n/**\n * A global variable (not a function) that holds a string containing the running\n * Lua version.\n */\ndeclare const _VERSION: 'Lua 5.1' | 'Lua 5.2' | 'Lua 5.3' | 'Lua 5.4';\n\n/**\n * A global variable (not a function) that holds the global environment (see\n * §2.2). Lua itself does not use this variable; changing its value does not\n * affect any environment, nor vice versa.\n */\ndeclare const _G: typeof globalThis;\n\n/**\n * Calls error if the value of its argument `v` is false (i.e., nil or false);\n * otherwise, returns all its arguments. In case of error, `message` is the\n * error object; when absent, it defaults to \"assertion failed!\"\n */\ndeclare function assert<V>(v: V): Exclude<V, undefined | null | false>;\ndeclare function assert<V, A extends any[]>(\n    v: V,\n    ...args: A\n): LuaMultiReturn<[Exclude<V, undefined | null | false>, ...A]>;\n\n/**\n * This function is a generic interface to the garbage collector. It performs\n * different functions according to its first argument, opt.\n *\n * Performs a full garbage-collection cycle. This is the default option.\n */\ndeclare function collectgarbage(opt?: 'collect'): void;\n\n/**\n * This function is a generic interface to the garbage collector. It performs\n * different functions according to its first argument, opt.\n *\n * Stops automatic execution of the garbage collector. The collector will run\n * only when explicitly invoked, until a call to restart it.\n */\ndeclare function collectgarbage(opt: 'stop'): void;\n\n/**\n * This function is a generic interface to the garbage collector. It performs\n * different functions according to its first argument, opt.\n *\n * Restarts automatic execution of the garbage collector.\n */\ndeclare function collectgarbage(opt: 'restart'): void;\n\n/**\n * This function is a generic interface to the garbage collector. It performs\n * different functions according to its first argument, opt.\n *\n * Sets arg as the new value for the pause of the collector (see §2.5). Returns\n * the previous value for pause.\n */\ndeclare function collectgarbage(opt: 'setpause', arg: number): number;\n\n/**\n * This function is a generic interface to the garbage collector. It performs\n * different functions according to its first argument, opt.\n *\n * Sets arg as the new value for the step multiplier of the collector (see\n * §2.5). Returns the previous value for step.\n */\ndeclare function collectgarbage(opt: 'setstepmul', arg: number): number;\n\n/**\n * This function is a generic interface to the garbage collector. It performs\n * different functions according to its first argument, opt.\n *\n * Performs a garbage-collection step. The step \"size\" is controlled by arg.\n * With a zero value, the collector will perform one basic (indivisible) step.\n * For non-zero values, the collector will perform as if that amount of memory\n * (in KBytes) had been allocated by Lua. Returns true if the step finished a\n * collection cycle.\n */\ndeclare function collectgarbage(opt: 'step', arg: number): boolean;\n\n/**\n * Opens the named file and executes its contents as a Lua chunk. When called\n * without arguments, dofile executes the contents of the standard input\n * (stdin). Returns all values returned by the chunk. In case of errors, dofile\n * propagates the error to its caller (that is, dofile does not run in protected\n * mode).\n */\ndeclare function dofile(filename?: string): any;\n\n/**\n * Terminates the last protected function called and returns message as the\n * error object. Function error never returns.\n *\n * Usually, error adds some information about the error position at the\n * beginning of the message, if the message is a string. The level argument\n * specifies how to get the error position. With level 1 (the default), the\n * error position is where the error function was called. Level 2 points the\n * error to where the function that called error was called; and so on. Passing\n * a level 0 avoids the addition of error position information to the message.\n */\ndeclare function error(message: string, level?: number): never;\n\n/**\n * If object does not have a metatable, returns nil. Otherwise, if the object's\n * metatable has a __metatable field, returns the associated value. Otherwise,\n * returns the metatable of the given object.\n */\ndeclare function getmetatable<T>(object: T): LuaMetatable<T> | undefined;\n\n/**\n * Returns three values (an iterator function, the table t, and 0) so that the\n * construction\n *\n * `for i,v in ipairs(t) do body end`\n *\n * will iterate over the key–value pairs (1,t[1]), (2,t[2]), ..., up to the\n * first nil value.\n */\ndeclare function ipairs<T>(t: Record<number, T>): LuaIterable<LuaMultiReturn<[number, T]>>;\n\n/**\n * Allows a program to traverse all fields of a table. Its first argument is a\n * table and its second argument is an index in this table. next returns the\n * next index of the table and its associated value. When called with nil as its\n * second argument, next returns an initial index and its associated value. When\n * called with the last index, or with nil in an empty table, next returns nil.\n * If the second argument is absent, then it is interpreted as nil. In\n * particular, you can use next(t) to check whether a table is empty.\n *\n * The order in which the indices are enumerated is not specified, even for\n * numeric indices. (To traverse a table in numerical order, use a numerical\n * for.)\n *\n * The behavior of next is undefined if, during the traversal, you assign any\n * value to a non-existent field in the table. You may however modify existing\n * fields. In particular, you may clear existing fields.\n */\ndeclare function next(table: object, index?: any): LuaMultiReturn<[any, any] | []>;\n\n/**\n * If t has a metamethod __pairs, calls it with t as argument and returns the\n * first three results from the call. Otherwise, returns three values: the next\n * function, the table t, and nil, so that the construction\n *\n * `for k,v in pairs(t) do body end`\n *\n * will iterate over all key–value pairs of table t.\n *\n * See function next for the caveats of modifying the table during its\n * traversal.\n */\ndeclare function pairs<TKey, TValue>(\n    t: LuaTable<TKey, TValue>\n): LuaIterable<LuaMultiReturn<[TKey, TValue]>>;\ndeclare function pairs<T>(t: T): LuaIterable<LuaMultiReturn<[keyof T, T[keyof T]]>>;\n\n/**\n * Calls function f with the given arguments in protected mode. This means that\n * any error inside f is not propagated; instead, pcall catches the error and\n * returns a status code. Its first result is the status code (a boolean), which\n * is true if the call succeeds without errors. In such case, pcall also returns\n * all results from the call, after this first result. In case of any error,\n * pcall returns false plus the error message.\n */\ndeclare function pcall<This, Args extends any[], R>(\n    f: (this: This, ...args: Args) => R,\n    context: This,\n    ...args: Args\n): LuaMultiReturn<[true, R] | [false, string]>;\n\ndeclare function pcall<A extends any[], R>(\n    f: (this: void, ...args: A) => R,\n    ...args: A\n): LuaMultiReturn<[true, R] | [false, string]>;\n\n/**\n * Receives any number of arguments and prints their values to stdout, using the\n * tostring function to convert each argument to a string. print is not intended\n * for formatted output, but only as a quick way to show a value, for instance\n * for debugging. For complete control over the output, use string.format and\n * io.write.\n */\ndeclare function print(...args: any[]): void;\n\n/**\n * Checks whether v1 is equal to v2, without invoking the __eq metamethod.\n * Returns a boolean.\n */\ndeclare function rawequal<T>(v1: T, v2: T): boolean;\n\n/**\n * Gets the real value of table[index], without invoking the __index metamethod.\n * table must be a table; index may be any value.\n */\ndeclare function rawget<T extends object, K extends keyof T>(table: T, index: K): T[K];\n\n/**\n * Returns the length of the object v, which must be a table or a string,\n * without invoking the __len metamethod. Returns an integer.\n */\ndeclare function rawlen(v: object | string): number;\n\n/**\n * Sets the real value of table[index] to value, without invoking the __newindex\n * metamethod. table must be a table, index any value different from nil and\n * NaN, and value any Lua value.\n *\n * This function returns table.\n */\ndeclare function rawset<T extends object, K extends keyof T>(table: T, index: K, value: T[K]): T;\n\n/**\n * If index is a number, returns all arguments after argument number index; a\n * negative number indexes from the end (-1 is the last argument). Otherwise,\n * index must be the string \"#\", and select returns the total number of extra\n * arguments it received.\n */\ndeclare function select<T>(index: number, ...args: T[]): LuaMultiReturn<T[]>;\n\n/**\n * If index is a number, returns all arguments after argument number index; a\n * negative number indexes from the end (-1 is the last argument). Otherwise,\n * index must be the string \"#\", and select returns the total number of extra\n * arguments it received.\n */\ndeclare function select<T>(index: '#', ...args: T[]): number;\n\n/**\n * Sets the metatable for the given table. (To change the metatable of other\n * types from Lua code, you must use the debug library (§6.10).) If metatable is\n * nil, removes the metatable of the given table. If the original metatable has\n * a __metatable field, raises an error.\n *\n * This function returns table.\n */\ndeclare function setmetatable<\n    T extends object,\n    TIndex extends object | ((this: T, key: any) => any) | undefined = undefined\n>(\n    table: T,\n    metatable?: LuaMetatable<T, TIndex> | null\n): TIndex extends (this: T, key: infer TKey) => infer TValue\n    ? T & { [K in TKey & string]: TValue }\n    : TIndex extends object\n    ? T & TIndex\n    : T;\n\n/**\n * When called with no base, tonumber tries to convert its argument to a number.\n * If the argument is already a number or a string convertible to a number, then\n * tonumber returns this number; otherwise, it returns nil.\n *\n * The conversion of strings can result in integers or floats, according to the\n * lexical conventions of Lua (see §3.1). (The string may have leading and\n * trailing spaces and a sign.)\n *\n * When called with base, then e must be a string to be interpreted as an\n * integer numeral in that base. The base may be any integer between 2 and 36,\n * inclusive. In bases above 10, the letter 'A' (in either upper or lower case)\n * represents 10, 'B' represents 11, and so forth, with 'Z' representing 35. If\n * the string e is not a valid numeral in the given base, the function returns\n * nil.\n */\ndeclare function tonumber(e: any, base?: number): number | undefined;\n\n/**\n * Receives a value of any type and converts it to a string in a human-readable\n * format. (For complete control of how numbers are converted, use\n * string.format.)\n *\n * If the metatable of v has a __tostring field, then tostring calls the\n * corresponding value with v as argument, and uses the result of the call as\n * its result.\n */\ndeclare function tostring(v: any): string;\n\n/**\n * Returns the type of its only argument, coded as a string.\n */\ndeclare function type(\n    v: any\n): 'nil' | 'number' | 'string' | 'boolean' | 'table' | 'function' | 'thread' | 'userdata';\n"},HpOR:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"c",(function(){return h})),i.d(t,"f",(function(){return d})),i.d(t,"d",(function(){return u})),i.d(t,"g",(function(){return g}));var n=i("N0LK");const o=void 0!==e,r="undefined"!=typeof TextDecoder;let s;class a{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(t){return o&&!e.isBuffer(t)&&(t=e.from(t.buffer,t.byteOffset,t.byteLength)),new a(t)}toString(){return o?this.buffer.toString():r?(s||(s=new TextDecoder),s.decode(this.buffer)):n.r(this.buffer)}}function l(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function c(e,t,i){e[i+0]=255&t,t>>>=8,e[i+1]=255&t}function h(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]}function d(e,t,i){e[i+3]=t,t>>>=8,e[i+2]=t,t>>>=8,e[i+1]=t,t>>>=8,e[i]=t}function u(e,t){return e[t]}function g(e,t,i){e[i]=t}}).call(this,i("HDXh").Buffer)},HyZH:function(e,t,i){},INok:function(e,t,i){function n(){return(n=Object.assign||function(e){for(var t,i=1;i<arguments.length;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)}const o=i("wjmO");e.exports=function(e){let{size:t="1em",color:i="#000080",...r}=e;return r={...r,style:{...r.style?r.style:{},width:t,height:t,...i?{fill:i}:{}}},o.createElement("svg",n({},r,{id:"lua-plain-Ebene_1",version:"1.1",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve"}),o.createElement("path",{d:"M127.3 15.1c0-7.9-6.4-14.3-14.3-14.3S98.6 7.1 98.6 15.1 105 29.4 113 29.4s14.3-6.4 14.3-14.3"}),o.createElement("path",{d:"M64 15.1c-27 0-49 21.9-49 49s21.9 49 49 49 49-21.9 49-49-22-49-49-49zm6 28.6c0-7.9 6.4-14.3 14.3-14.3s14.3 6.4 14.3 14.3S92.2 58 84.3 58 70 51.6 70 43.7zM66.3 128l-.1-1.5c1.8-.1 3.6-.2 5.4-.4l.2 1.5c-1.8.2-3.7.3-5.5.4zm-5.6 0c-1.9-.1-3.7-.3-5.6-.5l.2-1.5c1.8.2 3.6.4 5.4.5v1.5zm16.6-1.4l-.3-1.4c1.8-.4 3.5-.8 5.3-1.4l.4 1.4c-1.7.6-3.5 1.1-5.4 1.4zm-27.7-.2c-1.8-.4-3.6-.9-5.4-1.5l.5-1.4c1.7.6 3.5 1 5.3 1.5l-.4 1.4zm38.4-3l-.6-1.4c1.7-.7 3.3-1.4 5-2.3l.7 1.3c-1.7.9-3.4 1.7-5.1 2.4zm-49-.4c-1.7-.7-3.4-1.5-5-2.4l.7-1.3c1.6.9 3.3 1.6 4.9 2.4L39 123zm59-4.7l-.8-1.2c1.5-1 3-2 4.5-3.1l.9 1.2c-1.5 1.1-3.1 2.1-4.6 3.1zm-68.8-.6c-1.6-1-3.1-2.1-4.5-3.2l.9-1.2c1.4 1.1 2.9 2.2 4.4 3.2l-.8 1.2zm77.7-6.1l-1-1.1c1.3-1.2 2.7-2.5 3.9-3.8l1.1 1c-1.3 1.3-2.7 2.6-4 3.9zm-86.5-.7c-1.4-1.3-2.7-2.6-3.9-4l1.1-1c1.2 1.3 2.5 2.7 3.8 3.9l-1 1.1zm94.1-7.5l-1.2-.9c1.1-1.4 2.2-2.9 3.2-4.4l1.2.8c-1 1.5-2.1 3.1-3.2 4.5zm-101.6-.8c-1.1-1.5-2.2-3-3.2-4.6l1.2-.8c1 1.5 2 3 3.1 4.5l-1.1.9zm107.7-8.5l-1.3-.7c.9-1.6 1.6-3.3 2.4-4.9l1.3.5-2.4 5.1zM7 93.1c-.8-1.7-1.6-3.4-2.3-5.1l1.3-.5c.7 1.7 1.4 3.3 2.3 5l-1.3.6zm117.9-9.3l-1.4-.5c.6-1.7 1-3.5 1.5-5.3l1.4.3c-.4 1.9-.9 3.7-1.5 5.5zm-122.1-1c-.5-1.8-1-3.6-1.4-5.4l1.4-.3c.4 1.8.8 3.5 1.4 5.3l-1.4.4zm124.6-9.9l-1.5-.2c.2-1.8.4-3.6.5-5.4l1.5.1c0 1.8-.2 3.7-.5 5.5zM.5 71.9C.2 70 .1 68.2 0 66.3l1.5-.1c.1 1.8.2 3.6.4 5.4l-1.4.3zm126-10.1c-.1-1.8-.2-3.6-.4-5.4l1.5-.2c.2 1.8.4 3.7.4 5.6h-1.5zm-125-1L0 60.7c.1-1.9.3-3.7.5-5.6l1.5.3c-.2 1.8-.4 3.6-.5 5.4zM125.2 51c-.4-1.8-.8-3.6-1.4-5.3l1.4-.4c.5 1.8 1 3.6 1.4 5.4l-1.4.3zM3 50l-1.4-.3c.4-1.8.9-3.6 1.5-5.4l1.4.5C3.9 46.5 3.4 48.2 3 50zm119-9.4c-.7-1.7-1.4-3.4-2.3-5l1.3-.7c.8 1.7 1.6 3.4 2.3 5.1l-1.3.6zm-115.6-1L5 39.1c.7-1.7 1.5-3.4 2.4-5l1.3.7c-.8 1.5-1.6 3.2-2.3 4.8zm5.1-9.6l-1.2-.8c1-1.6 2.1-3.1 3.2-4.5l1.2.9c-1.2 1.4-2.2 2.9-3.2 4.4zm6.7-8.6l-1.1-1c1.3-1.4 2.6-2.7 4-3.9l1 1.1c-1.4 1.2-2.7 2.5-3.9 3.8zm8.1-7.3l-.9-1.2c1.5-1.1 3-2.2 4.6-3.2l.8 1.2c-1.6 1.1-3.1 2.1-4.5 3.2zm67-5.4c-1.6-.8-3.3-1.6-4.9-2.3l.5-1.4c1.7.7 3.4 1.5 5 2.4l-.6 1.3zm-57.8-.4L34.8 7c1.7-.8 3.4-1.6 5.1-2.3l.6 1.3c-1.7.7-3.4 1.5-5 2.3zm47.7-3.8c-1.7-.6-3.5-1-5.3-1.4l.3-1.4c1.8.4 3.6.9 5.4 1.5l-.4 1.3zm-37.6-.3l-.4-1.4c1.8-.5 3.6-1 5.4-1.4l.3 1.4c-1.8.4-3.6.9-5.3 1.4zm27-2.2c-1.8-.2-3.6-.4-5.4-.5l.1-1.5c1.9.1 3.7.3 5.6.5L72.6 2zm-16.3-.1L56.1.4c1.8-.2 3.7-.4 5.6-.4l.1 1.5c-1.9 0-3.7.2-5.5.4z"}))}},IpWR:function(e,t,i){var n={"./coroutine.d.ts":"9MJN","./debug.d.ts":"TgBD","./global.d.ts":"Hkd1","./index.d.ts":"v4EG","./io.d.ts":"P0R6","./math.d.ts":"DexR","./metatable.d.ts":"yjMD","./modules.d.ts":"r5I2","./os.d.ts":"b5sI","./string.d.ts":"ZLfK","./table.d.ts":"acMF"};function o(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id="IpWR"},"J+ZK":function(e,t,i){},"JQT/":function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return a}));var n=i("MI8n");const o=Object.freeze((function(e,t){const i=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(i)}}}));var r;!function(e){e.isCancellationToken=function(t){return t===e.None||t===e.Cancelled||(t instanceof s||!(!t||"object"!=typeof t)&&("boolean"==typeof t.isCancellationRequested&&"function"==typeof t.onCancellationRequested))},e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.c.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o})}(r||(r={}));class s{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o:(this._emitter||(this._emitter=new n.b),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class a{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token instanceof s&&this._token.cancel():this._token=r.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof s&&this._token.dispose():this._token=r.None}}},"JS/N":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i("twdY"),o=i("09fa"),r=i("QRHv");class s{constructor(e,t,i){this._legend=e,this._themeService=t,this._logService=i,this._hashTable=new c,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,i){const r=this._hashTable.get(e,t,i.id);let s;if(r)s=r.metadata,this._logService.getLevel()===o.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${n.E.getForeground(s)}, fontStyle ${n.E.getFontStyle(s).toString(2)}`);else{let r=this._legend.tokenTypes[e];const a=[];if(r){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&a.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===o.c.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),a.push("not-in-legend"));const n=this._themeService.getColorTheme().getTokenStyleMetadata(r,a,i.language);if(void 0===n)s=2147483647;else{if(s=0,void 0!==n.italic){s|=1|(n.italic?1:0)<<11}if(void 0!==n.bold){s|=2|(n.bold?2:0)<<11}if(void 0!==n.underline){s|=4|(n.underline?4:0)<<11}if(n.foreground){s|=8|n.foreground<<14}0===s&&(s=2147483647)}}else this._logService.getLevel()===o.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,r="not-in-legend";this._hashTable.add(e,t,i.id,s),this._logService.getLevel()===o.c.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${r}) / ${t} (${a.join(" ")}): foreground ${n.E.getForeground(s)}, fontStyle ${n.E.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}}function a(e,t,i){const n=e.data,o=e.data.length/5|0,s=Math.max(Math.ceil(o/1024),400),a=[];let l=0,c=1,h=0;for(;l<o;){const e=l;let d=Math.min(e+s,o);if(d<o){let t=d;for(;t-1>e&&0===n[5*t];)t--;if(t-1===e){let e=d;for(;e+1<o&&0===n[5*e];)e++;d=e}else d=t}let u=new Uint32Array(4*(d-e)),g=0,p=0,m=0,f=0,b=0;for(;l<d;){const e=5*l,o=n[e],r=n[e+1],s=c+o,a=0===o?h+r:r,d=n[e+2],_=n[e+3],v=n[e+4],C=t.getMetadata(_,v,i);2147483647!==C&&(0===p&&(p=s),m===s&&b>a&&(t.warnOverlappingSemanticTokens(s,a+1),f<a?u[g-4+2]=a:g-=4),u[g]=s-p,u[g+1]=a,u[g+2]=a+d,u[g+3]=C,g+=4,m=s,f=a,b=a+d),c=s,h=a,l++}g!==u.length&&(u=u.subarray(0,g));const _=new r.a(p,new r.c(u));a.push(_)}return a}class l{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}class c{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=c._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<c._SIZES.length?2/3*this._currentLength:0),this._elements=[],c._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const n=this._hashFunc(e,t,i);let o=this._elements[n];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,n){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=c._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<c._SIZES.length?2/3*this._currentLength:0),this._elements=[],c._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new l(e,t,i,n))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}c._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},JYp7:function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.is=function(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]};const t=Object.freeze([]);e.empty=function(){return t},e.single=function*(e){yield e},e.from=function(e){return e||t},e.isEmpty=function(e){return!e||!0===e[Symbol.iterator]().next().done},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){for(const i of e)if(t(i))return!0;return!1},e.find=function(e,t){for(const i of e)if(t(i))return i},e.filter=function*(e,t){for(const i of e)t(i)&&(yield i)},e.map=function*(e,t){let i=0;for(const n of e)yield t(n,i++)},e.concat=function*(...e){for(const t of e)for(const e of t)yield e},e.concatNested=function*(e){for(const t of e)for(const e of t)yield e},e.reduce=function(e,t,i){let n=i;for(const o of e)n=t(n,o);return n},e.slice=function*(e,t,i=e.length){for(t<0&&(t+=e.length),i<0?i+=e.length:i>e.length&&(i=e.length);t<i;t++)yield e[t]},e.consume=function(t,i=Number.POSITIVE_INFINITY){const n=[];if(0===i)return[n,t];const o=t[Symbol.iterator]();for(let r=0;r<i;r++){const t=o.next();if(t.done)return[n,e.empty()];n.push(t.value)}return[n,{[Symbol.iterator]:()=>o}]},e.equals=function(e,t,i=((e,t)=>e===t)){const n=e[Symbol.iterator](),o=t[Symbol.iterator]();for(;;){const e=n.next(),t=o.next();if(e.done!==t.done)return!1;if(e.done)return!0;if(!i(e.value,t.value))return!1}}}(n||(n={}))},KDc4:function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r})),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(n||(n={}));class o{constructor(e){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++){switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}isOK(e){return 0==(this._standardTokenMask&e)}}class r{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)s(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),s(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),s(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),s(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&s(this.autoClosingPairsCloseSingleChar,t.close,t)}}function s(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}},KaET:function(e,t,i){},KgQ1:function(e,t,i){},Krc3:function(e,t,i){},L1Zj:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/// <reference lib="es2015.iterable" />\r\n\r\ninterface Generator<T = unknown, TReturn = any, TNext = unknown> extends Iterator<T, TReturn, TNext> {\r\n    // NOTE: \'next\' is defined using a tuple to ensure we report the correct assignability errors in all places.\r\n    next(...args: [] | [TNext]): IteratorResult<T, TReturn>;\r\n    return(value: TReturn): IteratorResult<T, TReturn>;\r\n    throw(e: any): IteratorResult<T, TReturn>;\r\n    [Symbol.iterator](): Generator<T, TReturn, TNext>;\r\n}\r\n\r\ninterface GeneratorFunction {\r\n    /**\r\n     * Creates a new Generator object.\r\n     * @param args A list of arguments the function accepts.\r\n     */\r\n    new (...args: any[]): Generator;\r\n    /**\r\n     * Creates a new Generator object.\r\n     * @param args A list of arguments the function accepts.\r\n     */\r\n    (...args: any[]): Generator;\r\n    /**\r\n     * The length of the arguments.\r\n     */\r\n    readonly length: number;\r\n    /**\r\n     * Returns the name of the function.\r\n     */\r\n    readonly name: string;\r\n    /**\r\n     * A reference to the prototype.\r\n     */\r\n    readonly prototype: Generator;\r\n}\r\n\r\ninterface GeneratorFunctionConstructor {\r\n    /**\r\n     * Creates a new Generator function.\r\n     * @param args A list of arguments the function accepts.\r\n     */\r\n    new (...args: string[]): GeneratorFunction;\r\n    /**\r\n     * Creates a new Generator function.\r\n     * @param args A list of arguments the function accepts.\r\n     */\r\n    (...args: string[]): GeneratorFunction;\r\n    /**\r\n     * The length of the arguments.\r\n     */\r\n    readonly length: number;\r\n    /**\r\n     * Returns the name of the function.\r\n     */\r\n    readonly name: string;\r\n    /**\r\n     * A reference to the prototype.\r\n     */\r\n    readonly prototype: GeneratorFunction;\r\n}\r\n'},LCkn:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"e",(function(){return s})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return l}));var n=i("gCVg");class o{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new n.a(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)}}class r{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return new n.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)}}class s{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new n.a(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)}}class a{constructor(e,t,i,n,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new n.a(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)}}class l{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}},"LeU+":function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return r}));var n=i("CZ1j");class o{constructor(e,t){this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class r{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=Object(n.a)(e);const i=this.values,o=this.prefixSum,r=t.length;return 0!==r&&(this.values=new Uint32Array(i.length+r),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+r),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=Object(n.a)(e),t=Object(n.a)(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Object(n.a)(e),t=Object(n.a)(t);const i=this.values,o=this.prefixSum;if(e>=i.length)return!1;let r=i.length-e;return t>=r&&(t=r),0!==t&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Object(n.a)(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,n=0,r=0,s=0;for(;t<=i;)if(n=t+(i-t)/2|0,r=this.prefixSum[n],s=r-this.values[n],e<s)i=n-1;else{if(!(e>=r))break;t=n+1}return new o(n,e-s)}}},Ll0s:function(e,t,i){"use strict";i.d(t,"b",(function(){return g})),i.d(t,"f",(function(){return p})),i.d(t,"c",(function(){return m})),i.d(t,"d",(function(){return _})),i.d(t,"e",(function(){return v})),i.d(t,"a",(function(){return C})),i.d(t,"g",(function(){return w}));var n=i("/cxE"),o=i("N0LK"),r=i("cGHE"),s=i("aokT"),a=i("gCVg"),l=i("tX9W"),c=i("cMvZ");const h=()=>!0,d=()=>!1,u=e=>" "===e||"\t"===e;class g{constructor(e,t,i){this._cursorMoveConfigurationBrand=void 0,this._languageIdentifier=e;const n=i.options,o=n.get(129);this.readOnly=n.get(79),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=n.get(103),this.lineHeight=n.get(57),this.pageSize=Math.max(1,Math.floor(o.height/this.lineHeight)-2),this.useTabStops=n.get(114),this.wordSeparators=n.get(115),this.emptySelectionClipboard=n.get(30),this.copyWithSyntaxHighlighting=n.get(19),this.multiCursorMergeOverlapping=n.get(67),this.multiCursorPaste=n.get(69),this.autoClosingBrackets=n.get(5),this.autoClosingQuotes=n.get(8),this.autoClosingDelete=n.get(6),this.autoClosingOvertype=n.get(7),this.autoSurround=n.get(11),this.autoIndent=n.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:g._getShouldAutoClose(e,this.autoClosingQuotes),bracket:g._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=c.a.getAutoClosingPairs(e.id);let r=g._getSurroundingPairs(e);if(r)for(const s of r)this.surroundingPairs[s.open]=s.close}static shouldRecreate(e){return e.hasChanged(129)||e.hasChanged(115)||e.hasChanged(30)||e.hasChanged(67)||e.hasChanged(69)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(114)||e.hasChanged(57)||e.hasChanged(79)}get electricChars(){if(!this._electricChars){this._electricChars={};let e=g._getElectricCharacters(this._languageIdentifier);if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return l.b.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return c.a.getElectricCharacters(e.id)}catch(t){return Object(n.e)(t),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return u;case"languageDefined":return g._getLanguageDefinedShouldAutoClose(e);case"always":return h;case"never":return d}}static _getLanguageDefinedShouldAutoClose(e){try{const t=c.a.getAutoCloseBeforeSet(e.id);return e=>-1!==t.indexOf(e)}catch(t){return Object(n.e)(t),d}}static _getSurroundingPairs(e){try{return c.a.getSurroundingPairs(e.id)}catch(t){return Object(n.e)(t),null}}}class p{constructor(e,t,i,n){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=p._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new p(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new r.a(t,i),n):new p(new s.a(t,i,t,i),n,new r.a(t,i),n)}static _computeSelection(e,t){let i,n,o,r;return e.isEmpty()?(i=e.startLineNumber,n=e.startColumn,o=t.lineNumber,r=t.column):t.isBeforeOrEqual(e.getStartPosition())?(i=e.endLineNumber,n=e.endColumn,o=t.lineNumber,r=t.column):(i=e.startLineNumber,n=e.startColumn,o=t.lineNumber,r=t.column),new a.a(i,n,o,r)}}class m{constructor(e,t,i,n){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=n}}class f{constructor(e){this.modelState=e,this.viewState=null}}class b{constructor(e){this.modelState=null,this.viewState=e}}class _{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new f(e)}static fromViewState(e){return new b(e)}static fromModelSelection(e){const t=e.selectionStartLineNumber,i=e.selectionStartColumn,n=e.positionLineNumber,o=e.positionColumn,a=new p(new s.a(t,i,t,i),0,new r.a(n,o),0);return _.fromModelState(a)}static fromModelSelections(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class v{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}class C{static visibleColumnFromColumn(e,t,i){const n=e.length,r=t-1<n?t-1:n;let s=0,a=0;for(;a<r;){const t=o.A(e,r,a);if(a+=t>=65536?2:1,9===t)s=C.nextRenderTabStop(s,i);else{let i=o.x(t);for(;a<r;){const t=o.A(e,r,a),n=o.x(t);if(o.c(i,n))break;a+=t>=65536?2:1,i=n}o.E(t)||o.C(t)?s+=2:s+=1}}return s}static visibleColumnsByColumns(e,t){const i=e.length;let n=new Array;n.push(-1);let r=0,s=0;for(;s<i;){const a=o.A(e,i,s);if(s+=a>=65536?2:1,n.push(r),a>=65536&&n.push(r),9===a)r=C.nextRenderTabStop(r,t);else{let t=o.x(a);for(;s<i;){const l=o.A(e,i,s),c=o.x(l);if(o.c(t,c))break;s+=l>=65536?2:1,n.push(r),a>=65536&&n.push(r),t=c}o.E(a)||o.C(a)?r+=2:r+=1}}return n.push(r),n}static visibleColumnFromColumn2(e,t,i){return this.visibleColumnFromColumn(t.getLineContent(i.lineNumber),i.column,e.tabSize)}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const n=e.length;let r=0,s=1,a=0;for(;a<n;){const l=o.A(e,n,a);let c;if(a+=l>=65536?2:1,9===l)c=C.nextRenderTabStop(r,i);else{let t=o.x(l);for(;a<n;){const i=o.A(e,n,a),r=o.x(i);if(o.c(t,r))break;a+=i>=65536?2:1,t=r}c=o.E(l)||o.C(l)?r+2:r+1}const h=a+1;if(c>=t){return c-t<t-r?h:s}r=c,s=h}return n+1}static columnFromVisibleColumn2(e,t,i,n){let o=this.columnFromVisibleColumn(t.getLineContent(i),n,e.tabSize),r=t.getLineMinColumn(i);if(o<r)return r;let s=t.getLineMaxColumn(i);return o>s?s:o}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}function w(e){return"'"===e||'"'===e||"`"===e}},Lx4V:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));var n,o=i("ic2d"),r=i("6OMU"),s=i("pmY6");!function(e){e[e.PRESERVE=0]="PRESERVE",e[e.LAST=1]="LAST"}(n||(n={}));const a={Quickaccess:"workbench.contributions.quickaccess"};o.a.add(a.Quickaccess,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort((e,t)=>t.prefix.length-e.prefix.length),Object(s.i)(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Object(r.e)([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(t=>e.startsWith(t.prefix))||void 0||this.defaultProvider}})},M1Kb:function(e,t,i){"use strict";var n,o;i.d(t,"d",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"e",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"f",(function(){return a})),i.d(t,"a",(function(){return l})),function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(n||(n={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(o||(o={}));class r{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class s{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}class a{constructor(e,t,i,n,o,r){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=r}}class l{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}},M46C:function(e,t,i){"use strict";i.d(t,"f",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"g",(function(){return r})),i.d(t,"h",(function(){return s})),i.d(t,"i",(function(){return a})),i.d(t,"e",(function(){return l})),i.d(t,"d",(function(){return c})),i.d(t,"c",(function(){return h})),i.d(t,"a",(function(){return d}));class n{constructor(){this.changeType=1}}class o{constructor(e,t,i,n,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=n,this.order=o}static applyInjectedText(e,t){if(!t||0===t.length)return e;let i="",n=0;for(const o of t)i+=e.substring(n,o.column-1),n=o.column-1,i+=o.options.content;return i+=e.substring(n),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new o(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new o(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((e,t)=>e.lineNumber===t.lineNumber?e.column===t.column?e.order-t.order:e.column-t.column:e.lineNumber-t.lineNumber),t}}class r{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class s{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class a{constructor(e,t,i,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class l{constructor(){this.changeType=5}}class c{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++){if(this.changes[t].changeType===e)return!0}return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),n=t.versionId,o=e.isUndoing||t.isUndoing,r=e.isRedoing||t.isRedoing;return new c(i,n,o,r)}}class h{constructor(e){this.changes=e}}class d{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=c.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=d._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new d(t,i)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}},MD5Z:function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"wc",(function(){return u})),i.d(t,"eb",(function(){return g})),i.d(t,"cb",(function(){return p})),i.d(t,"fb",(function(){return m})),i.d(t,"db",(function(){return f})),i.d(t,"h",(function(){return b})),i.d(t,"b",(function(){return _})),i.d(t,"Jc",(function(){return v})),i.d(t,"Ic",(function(){return C})),i.d(t,"Hc",(function(){return w})),i.d(t,"Mc",(function(){return y})),i.d(t,"jb",(function(){return S})),i.d(t,"lb",(function(){return L})),i.d(t,"kb",(function(){return x})),i.d(t,"hb",(function(){return k})),i.d(t,"gb",(function(){return D})),i.d(t,"ib",(function(){return I})),i.d(t,"pb",(function(){return O})),i.d(t,"rb",(function(){return N})),i.d(t,"qb",(function(){return E})),i.d(t,"sb",(function(){return T})),i.d(t,"ub",(function(){return M})),i.d(t,"tb",(function(){return A})),i.d(t,"mb",(function(){return R})),i.d(t,"ob",(function(){return P})),i.d(t,"nb",(function(){return F})),i.d(t,"f",(function(){return W})),i.d(t,"e",(function(){return V})),i.d(t,"g",(function(){return H})),i.d(t,"c",(function(){return z})),i.d(t,"d",(function(){return U})),i.d(t,"yc",(function(){return K})),i.d(t,"Ac",(function(){return q})),i.d(t,"Bc",(function(){return $})),i.d(t,"zc",(function(){return G})),i.d(t,"pc",(function(){return Y})),i.d(t,"s",(function(){return Z})),i.d(t,"u",(function(){return X})),i.d(t,"t",(function(){return Q})),i.d(t,"V",(function(){return J})),i.d(t,"X",(function(){return ee})),i.d(t,"W",(function(){return te})),i.d(t,"K",(function(){return ie})),i.d(t,"M",(function(){return ne})),i.d(t,"L",(function(){return oe})),i.d(t,"D",(function(){return re})),i.d(t,"C",(function(){return se})),i.d(t,"r",(function(){return ae})),i.d(t,"B",(function(){return le})),i.d(t,"Y",(function(){return ce})),i.d(t,"ab",(function(){return he})),i.d(t,"Z",(function(){return de})),i.d(t,"bb",(function(){return ue})),i.d(t,"qc",(function(){return ge})),i.d(t,"rc",(function(){return pe})),i.d(t,"vc",(function(){return me})),i.d(t,"lc",(function(){return fe})),i.d(t,"kc",(function(){return be})),i.d(t,"vb",(function(){return _e})),i.d(t,"yb",(function(){return ve})),i.d(t,"wb",(function(){return Ce})),i.d(t,"xb",(function(){return we})),i.d(t,"R",(function(){return ye})),i.d(t,"S",(function(){return Se})),i.d(t,"J",(function(){return Le})),i.d(t,"T",(function(){return xe})),i.d(t,"U",(function(){return ke})),i.d(t,"v",(function(){return De})),i.d(t,"x",(function(){return Ie})),i.d(t,"z",(function(){return Oe})),i.d(t,"w",(function(){return Ne})),i.d(t,"y",(function(){return Ee})),i.d(t,"A",(function(){return Te})),i.d(t,"H",(function(){return Me})),i.d(t,"E",(function(){return Ae})),i.d(t,"G",(function(){return Re})),i.d(t,"F",(function(){return Pe})),i.d(t,"I",(function(){return Fe})),i.d(t,"q",(function(){return je})),i.d(t,"O",(function(){return Be})),i.d(t,"N",(function(){return We})),i.d(t,"Q",(function(){return Ve})),i.d(t,"P",(function(){return He})),i.d(t,"i",(function(){return ze})),i.d(t,"j",(function(){return Ue})),i.d(t,"m",(function(){return Ke})),i.d(t,"o",(function(){return qe})),i.d(t,"n",(function(){return $e})),i.d(t,"p",(function(){return Ge})),i.d(t,"k",(function(){return Ye})),i.d(t,"l",(function(){return Ze})),i.d(t,"Gb",(function(){return Xe})),i.d(t,"Hb",(function(){return Qe})),i.d(t,"Jb",(function(){return Je})),i.d(t,"zb",(function(){return et})),i.d(t,"Ab",(function(){return tt})),i.d(t,"Bb",(function(){return it})),i.d(t,"Pb",(function(){return nt})),i.d(t,"Qb",(function(){return ot})),i.d(t,"Rb",(function(){return rt})),i.d(t,"Nb",(function(){return st})),i.d(t,"Ob",(function(){return at})),i.d(t,"Lb",(function(){return lt})),i.d(t,"Mb",(function(){return ct})),i.d(t,"Cb",(function(){return ht})),i.d(t,"Kb",(function(){return dt})),i.d(t,"Ib",(function(){return ut})),i.d(t,"Db",(function(){return ft})),i.d(t,"Fb",(function(){return bt})),i.d(t,"Eb",(function(){return _t})),i.d(t,"Lc",(function(){return vt})),i.d(t,"Gc",(function(){return Ct})),i.d(t,"tc",(function(){return yt})),i.d(t,"uc",(function(){return St})),i.d(t,"sc",(function(){return Lt})),i.d(t,"Tb",(function(){return xt})),i.d(t,"Ub",(function(){return kt})),i.d(t,"Sb",(function(){return Dt})),i.d(t,"Xb",(function(){return It})),i.d(t,"Vb",(function(){return Ot})),i.d(t,"Wb",(function(){return Nt})),i.d(t,"Yb",(function(){return Et})),i.d(t,"Ec",(function(){return Tt})),i.d(t,"Fc",(function(){return Mt})),i.d(t,"Cc",(function(){return At})),i.d(t,"Dc",(function(){return Rt})),i.d(t,"ic",(function(){return Pt})),i.d(t,"jc",(function(){return Ft})),i.d(t,"bc",(function(){return jt})),i.d(t,"cc",(function(){return Bt})),i.d(t,"ac",(function(){return Wt})),i.d(t,"gc",(function(){return Vt})),i.d(t,"Zb",(function(){return Ht})),i.d(t,"ec",(function(){return zt})),i.d(t,"fc",(function(){return Ut})),i.d(t,"dc",(function(){return Kt})),i.d(t,"mc",(function(){return qt})),i.d(t,"oc",(function(){return $t})),i.d(t,"nc",(function(){return Gt})),i.d(t,"Kc",(function(){return Xt})),i.d(t,"hc",(function(){return Qt})),i.d(t,"xc",(function(){return ei}));var n=i("ic2d"),o=i("zrhQ"),r=i("MI8n"),s=i("3/fG"),a=i("3Rsk"),l=i("X+cX"),c=i("746U");const h={ColorContribution:"base.contributions.colors"};const d=new class{constructor(){this._onDidChangeSchema=new r.b,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,o){let r={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:o};this.colorsById[e]=r;let s={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(s.deprecationMessage=o),this.colorSchema.properties[e]=s,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){return ei(i.defaults[t.type],t)}}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((e,t)=>{let i=-1===e.indexOf(".")?0:1,n=-1===t.indexOf(".")?0:1;return i!==n?i-n:e.localeCompare(t)}).map(e=>`- \`${e}\`: ${this.colorsById[e].description}`).join("\n")}};function u(e,t,i,n,o){return d.registerColor(e,t,i,n,o)}n.a.add(h.ColorContribution,d);const g=u("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},s.a("foreground","Overall foreground color. This color is only used if not overridden by a component.")),p=u("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},s.a("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),m=u("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},s.a("iconForeground","The default color for icons in the workbench.")),f=u("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},s.a("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),b=u("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},s.a("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),_=u("contrastActiveBorder",{light:null,dark:null,hc:f},s.a("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),v=u("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},s.a("textLinkForeground","Foreground color for links in text.")),C=u("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},s.a("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),w=u("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:o.a.black},s.a("textCodeBlockBackground","Background color for code blocks in text.")),y=u("widget.shadow",{dark:Xt(o.a.black,.36),light:Xt(o.a.black,.16),hc:null},s.a("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),S=u("input.background",{dark:"#3C3C3C",light:o.a.white,hc:o.a.black},s.a("inputBoxBackground","Input box background.")),L=u("input.foreground",{dark:g,light:g,hc:g},s.a("inputBoxForeground","Input box foreground.")),x=u("input.border",{dark:null,light:null,hc:b},s.a("inputBoxBorder","Input box border.")),k=u("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:b},s.a("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),D=u("inputOption.activeBackground",{dark:Xt(f,.4),light:Xt(f,.2),hc:o.a.transparent},s.a("inputOption.activeBackground","Background color of activated options in input fields.")),I=u("inputOption.activeForeground",{dark:o.a.white,light:o.a.black,hc:null},s.a("inputOption.activeForeground","Foreground color of activated options in input fields.")),O=u("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:o.a.black},s.a("inputValidationInfoBackground","Input validation background color for information severity.")),N=u("inputValidation.infoForeground",{dark:null,light:null,hc:null},s.a("inputValidationInfoForeground","Input validation foreground color for information severity.")),E=u("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:b},s.a("inputValidationInfoBorder","Input validation border color for information severity.")),T=u("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:o.a.black},s.a("inputValidationWarningBackground","Input validation background color for warning severity.")),M=u("inputValidation.warningForeground",{dark:null,light:null,hc:null},s.a("inputValidationWarningForeground","Input validation foreground color for warning severity.")),A=u("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:b},s.a("inputValidationWarningBorder","Input validation border color for warning severity.")),R=u("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:o.a.black},s.a("inputValidationErrorBackground","Input validation background color for error severity.")),P=u("inputValidation.errorForeground",{dark:null,light:null,hc:null},s.a("inputValidationErrorForeground","Input validation foreground color for error severity.")),F=u("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:b},s.a("inputValidationErrorBorder","Input validation border color for error severity.")),j=u("dropdown.background",{dark:"#3C3C3C",light:o.a.white,hc:o.a.black},s.a("dropdownBackground","Dropdown background.")),B=u("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:o.a.white},s.a("dropdownForeground","Dropdown foreground.")),W=u("button.foreground",{dark:o.a.white,light:o.a.white,hc:o.a.white},s.a("buttonForeground","Button foreground color.")),V=u("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},s.a("buttonBackground","Button background color.")),H=u("button.hoverBackground",{dark:Zt(V,.2),light:Yt(V,.2),hc:null},s.a("buttonHoverBackground","Button background color when hovering.")),z=u("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:o.a.black},s.a("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),U=u("badge.foreground",{dark:o.a.white,light:"#333",hc:o.a.white},s.a("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),K=u("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},s.a("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),q=u("scrollbarSlider.background",{dark:o.a.fromHex("#797979").transparent(.4),light:o.a.fromHex("#646464").transparent(.4),hc:Xt(b,.6)},s.a("scrollbarSliderBackground","Scrollbar slider background color.")),$=u("scrollbarSlider.hoverBackground",{dark:o.a.fromHex("#646464").transparent(.7),light:o.a.fromHex("#646464").transparent(.7),hc:Xt(b,.8)},s.a("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),G=u("scrollbarSlider.activeBackground",{dark:o.a.fromHex("#BFBFBF").transparent(.4),light:o.a.fromHex("#000000").transparent(.6),hc:b},s.a("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Y=u("progressBar.background",{dark:o.a.fromHex("#0E70C0"),light:o.a.fromHex("#0E70C0"),hc:b},s.a("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Z=u("editorError.background",{dark:null,light:null,hc:null},s.a("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),X=u("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},s.a("editorError.foreground","Foreground color of error squigglies in the editor.")),Q=u("editorError.border",{dark:null,light:null,hc:o.a.fromHex("#E47777").transparent(.8)},s.a("errorBorder","Border color of error boxes in the editor.")),J=u("editorWarning.background",{dark:null,light:null,hc:null},s.a("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ee=u("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},s.a("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),te=u("editorWarning.border",{dark:null,light:null,hc:o.a.fromHex("#FFCC00").transparent(.8)},s.a("warningBorder","Border color of warning boxes in the editor.")),ie=u("editorInfo.background",{dark:null,light:null,hc:null},s.a("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ne=u("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},s.a("editorInfo.foreground","Foreground color of info squigglies in the editor.")),oe=u("editorInfo.border",{dark:null,light:null,hc:o.a.fromHex("#75BEFF").transparent(.8)},s.a("infoBorder","Border color of info boxes in the editor.")),re=u("editorHint.foreground",{dark:o.a.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},s.a("editorHint.foreground","Foreground color of hint squigglies in the editor.")),se=u("editorHint.border",{dark:null,light:null,hc:o.a.fromHex("#eeeeee").transparent(.8)},s.a("hintBorder","Border color of hint boxes in the editor.")),ae=u("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:o.a.black},s.a("editorBackground","Editor background color.")),le=u("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:o.a.white},s.a("editorForeground","Editor default foreground color.")),ce=u("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},s.a("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),he=u("editorWidget.foreground",{dark:g,light:g,hc:g},s.a("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),de=u("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:b},s.a("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),ue=u("editorWidget.resizeBorder",{light:null,dark:null,hc:null},s.a("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),ge=u("quickInput.background",{dark:ce,light:ce,hc:ce},s.a("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),pe=u("quickInput.foreground",{dark:he,light:he,hc:he},s.a("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),me=u("quickInputTitle.background",{dark:new o.a(new o.c(255,255,255,.105)),light:new o.a(new o.c(0,0,0,.06)),hc:"#000000"},s.a("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),fe=u("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:o.a.white},s.a("pickerGroupForeground","Quick picker color for grouping labels.")),be=u("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:o.a.white},s.a("pickerGroupBorder","Quick picker color for grouping borders.")),_e=u("keybindingLabel.background",{dark:new o.a(new o.c(128,128,128,.17)),light:new o.a(new o.c(221,221,221,.4)),hc:o.a.transparent},s.a("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),ve=u("keybindingLabel.foreground",{dark:o.a.fromHex("#CCCCCC"),light:o.a.fromHex("#555555"),hc:o.a.white},s.a("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Ce=u("keybindingLabel.border",{dark:new o.a(new o.c(51,51,51,.6)),light:new o.a(new o.c(204,204,204,.4)),hc:new o.a(new o.c(111,195,223))},s.a("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),we=u("keybindingLabel.bottomBorder",{dark:new o.a(new o.c(68,68,68,.6)),light:new o.a(new o.c(187,187,187,.4)),hc:new o.a(new o.c(111,195,223))},s.a("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),ye=u("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},s.a("editorSelectionBackground","Color of the editor selection.")),Se=u("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},s.a("editorSelectionForeground","Color of the selected text for high contrast.")),Le=u("editor.inactiveSelectionBackground",{light:Xt(ye,.5),dark:Xt(ye,.5),hc:Xt(ye,.5)},s.a("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),xe=u("editor.selectionHighlightBackground",{light:Jt(ye,ae,.3,.6),dark:Jt(ye,ae,.3,.6),hc:null},s.a("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),ke=u("editor.selectionHighlightBorder",{light:null,dark:null,hc:_},s.a("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),De=u("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},s.a("editorFindMatch","Color of the current search match.")),Ie=u("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},s.a("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Oe=u("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},s.a("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Ne=u("editor.findMatchBorder",{light:null,dark:null,hc:_},s.a("editorFindMatchBorder","Border color of the current search match.")),Ee=u("editor.findMatchHighlightBorder",{light:null,dark:null,hc:_},s.a("findMatchHighlightBorder","Border color of the other search matches.")),Te=u("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Xt(_,.4)},s.a("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Me=u("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},s.a("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Ae=u("editorHoverWidget.background",{light:ce,dark:ce,hc:ce},s.a("hoverBackground","Background color of the editor hover.")),Re=u("editorHoverWidget.foreground",{light:he,dark:he,hc:he},s.a("hoverForeground","Foreground color of the editor hover.")),Pe=u("editorHoverWidget.border",{light:de,dark:de,hc:de},s.a("hoverBorder","Border color of the editor hover.")),Fe=u("editorHoverWidget.statusBarBackground",{dark:Zt(Ae,.2),light:Yt(Ae,.05),hc:ce},s.a("statusBarBackground","Background color of the editor hover status bar.")),je=u("editorLink.activeForeground",{dark:"#4E94CE",light:o.a.blue,hc:o.a.cyan},s.a("activeLinkForeground","Color of active links.")),Be=u("editorInlayHint.foreground",{dark:Xt(U,.8),light:Xt(U,.8),hc:U},s.a("editorInlayHintForeground","Foreground color of inline hints")),We=u("editorInlayHint.background",{dark:Xt(z,.6),light:Xt(z,.3),hc:z},s.a("editorInlayHintBackground","Background color of inline hints")),Ve=u("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},s.a("editorLightBulbForeground","The color used for the lightbulb actions icon.")),He=u("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},s.a("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),ze=new o.a(new o.c(155,185,85,.2)),Ue=new o.a(new o.c(255,0,0,.2)),Ke=u("diffEditor.insertedTextBackground",{dark:ze,light:ze,hc:null},s.a("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),qe=u("diffEditor.removedTextBackground",{dark:Ue,light:Ue,hc:null},s.a("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),$e=u("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},s.a("diffEditorInsertedOutline","Outline color for the text that got inserted.")),Ge=u("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},s.a("diffEditorRemovedOutline","Outline color for text that got removed.")),Ye=u("diffEditor.border",{dark:null,light:null,hc:b},s.a("diffEditorBorder","Border color between the two text editors.")),Ze=u("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},s.a("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Xe=u("list.focusBackground",{dark:null,light:null,hc:null},s.a("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Qe=u("list.focusForeground",{dark:null,light:null,hc:null},s.a("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Je=u("list.focusOutline",{dark:f,light:f,hc:_},s.a("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),et=u("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},s.a("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),tt=u("list.activeSelectionForeground",{dark:o.a.white,light:o.a.white,hc:null},s.a("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),it=u("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},s.a("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),nt=u("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},s.a("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ot=u("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},s.a("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),rt=u("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},s.a("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),st=u("list.inactiveFocusBackground",{dark:null,light:null,hc:null},s.a("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),at=u("list.inactiveFocusOutline",{dark:null,light:null,hc:null},s.a("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),lt=u("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},s.a("listHoverBackground","List/Tree background when hovering over items using the mouse.")),ct=u("list.hoverForeground",{dark:null,light:null,hc:null},s.a("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),ht=u("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},s.a("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),dt=u("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:f},s.a("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),ut=u("list.focusHighlightForeground",{dark:dt,light:(gt=et,pt=dt,mt="#9DDDFF",{op:5,if:gt,then:pt,else:mt}),hc:dt},s.a("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));var gt,pt,mt;const ft=u("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:o.a.black},s.a("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),bt=u("listFilterWidget.outline",{dark:o.a.transparent,light:o.a.transparent,hc:"#f38518"},s.a("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),_t=u("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:b},s.a("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),vt=u("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},s.a("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Ct=u("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},s.a("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),wt=u("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,s.a("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),yt=u("quickInputList.focusForeground",{dark:tt,light:tt,hc:tt},s.a("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),St=u("quickInputList.focusIconForeground",{dark:it,light:it,hc:it},s.a("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Lt=u("quickInputList.focusBackground",{dark:Qt(wt,et),light:Qt(wt,et),hc:null},s.a("quickInput.listFocusBackground","Quick picker background color for the focused item.")),xt=u("menu.border",{dark:null,light:null,hc:b},s.a("menuBorder","Border color of menus.")),kt=u("menu.foreground",{dark:B,light:g,hc:B},s.a("menuForeground","Foreground color of menu items.")),Dt=u("menu.background",{dark:j,light:j,hc:j},s.a("menuBackground","Background color of menu items.")),It=u("menu.selectionForeground",{dark:tt,light:tt,hc:tt},s.a("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Ot=u("menu.selectionBackground",{dark:et,light:et,hc:et},s.a("menuSelectionBackground","Background color of the selected menu item in menus.")),Nt=u("menu.selectionBorder",{dark:null,light:null,hc:_},s.a("menuSelectionBorder","Border color of the selected menu item in menus.")),Et=u("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:b},s.a("menuSeparatorBackground","Color of a separator menu item in menus.")),Tt=u("editor.snippetTabstopHighlightBackground",{dark:new o.a(new o.c(124,124,124,.3)),light:new o.a(new o.c(10,50,100,.2)),hc:new o.a(new o.c(124,124,124,.3))},s.a("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),Mt=u("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},s.a("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),At=u("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},s.a("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Rt=u("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new o.a(new o.c(10,50,100,.5)),hc:"#525252"},s.a("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Pt=u("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},s.a("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ft=u("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},s.a("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),jt=u("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},s.a("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Bt=u("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},s.a("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Wt=u("minimap.errorHighlight",{dark:new o.a(new o.c(255,18,18,.7)),light:new o.a(new o.c(255,18,18,.7)),hc:new o.a(new o.c(255,50,50,1))},s.a("minimapError","Minimap marker color for errors.")),Vt=u("minimap.warningHighlight",{dark:ee,light:ee,hc:te},s.a("overviewRuleWarning","Minimap marker color for warnings.")),Ht=u("minimap.background",{dark:null,light:null,hc:null},s.a("minimapBackground","Minimap background color.")),zt=u("minimapSlider.background",{light:Xt(q,.5),dark:Xt(q,.5),hc:Xt(q,.5)},s.a("minimapSliderBackground","Minimap slider background color.")),Ut=u("minimapSlider.hoverBackground",{light:Xt($,.5),dark:Xt($,.5),hc:Xt($,.5)},s.a("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Kt=u("minimapSlider.activeBackground",{light:Xt(G,.5),dark:Xt(G,.5),hc:Xt(G,.5)},s.a("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),qt=u("problemsErrorIcon.foreground",{dark:X,light:X,hc:X},s.a("problemsErrorIconForeground","The color used for the problems error icon.")),$t=u("problemsWarningIcon.foreground",{dark:ee,light:ee,hc:ee},s.a("problemsWarningIconForeground","The color used for the problems warning icon.")),Gt=u("problemsInfoIcon.foreground",{dark:ne,light:ne,hc:ne},s.a("problemsInfoIconForeground","The color used for the problems info icon."));function Yt(e,t){return{op:0,value:e,factor:t}}function Zt(e,t){return{op:1,value:e,factor:t}}function Xt(e,t){return{op:2,value:e,factor:t}}function Qt(...e){return{op:3,values:e}}function Jt(e,t,i,n){return{op:4,value:e,background:t,factor:i,transparency:n}}function ei(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?o.a.fromHex(e):t.getColor(e):e instanceof o.a?e:"object"==typeof e?function(e,t){var i,n,r;switch(e.op){case 0:return null===(i=ei(e.value,t))||void 0===i?void 0:i.darken(e.factor);case 1:return null===(n=ei(e.value,t))||void 0===n?void 0:n.lighten(e.factor);case 2:return null===(r=ei(e.value,t))||void 0===r?void 0:r.transparent(e.factor);case 3:for(const i of e.values){const e=ei(i,t);if(e)return e}return;case 5:return ei(t.defines(e.if)?e.then:e.else,t);case 4:const s=ei(e.value,t);if(!s)return;const a=ei(e.background,t);return a?s.isDarkerThan(a)?o.a.getLighterColor(s,a,e.factor).transparent(e.transparency):o.a.getDarkerColor(s,a,e.factor).transparent(e.transparency):s.transparent(e.factor*e.transparency);default:throw Object(c.b)(e)}}(e,t):void 0}let ti=n.a.as(a.a.JSONContribution);ti.registerSchema("vscode://schemas/workbench-colors",d.getColorSchema());const ii=new l.e(()=>ti.notifySchemaChanged("vscode://schemas/workbench-colors"),200);d.onDidChangeSchema(()=>{ii.isScheduled()||ii.schedule()})},MI8n:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return c})),i.d(t,"e",(function(){return h})),i.d(t,"a",(function(){return d})),i.d(t,"d",(function(){return u})),i.d(t,"f",(function(){return g}));var n,o=i("/cxE"),r=i("pmY6"),s=i("24hK"),a=i("5Y4S");!function(e){function t(e){return(t,i=null,n)=>{let o,r=!1;return o=e(e=>{if(!r)return o?o.dispose():r=!0,t.call(i,e)},null,n),r&&o.dispose(),o}}function i(e,t){return a((i,n=null,o)=>e(e=>i.call(n,t(e)),null,o))}function n(e,t){return a((i,n=null,o)=>e(e=>{t(e),i.call(n,e)},null,o))}function o(e,t){return a((i,n=null,o)=>e(e=>t(e)&&i.call(n,e),null,o))}function s(e,t,n){let o=n;return i(e,e=>(o=t(o,e),o))}function a(e){let t;const i=new c({onFirstListenerAdd(){t=e(i.fire,i)},onLastListenerRemove(){t.dispose()}});return i.event}function l(e,t,i=100,n=!1,o){let r,s=void 0,a=void 0,l=0;const h=new c({leakWarningThreshold:o,onFirstListenerAdd(){r=e(e=>{l++,s=t(s,e),n&&!a&&(h.fire(s),s=void 0),clearTimeout(a),a=setTimeout(()=>{const e=s;s=void 0,a=void 0,(!n||l>1)&&h.fire(e),l=0},i)})},onLastListenerRemove(){r.dispose()}});return h.event}function h(e,t=((e,t)=>e===t)){let i,n=!0;return o(e,e=>{const o=n||!t(e,i);return n=!1,i=e,o})}e.None=()=>r.a.None,e.once=t,e.map=i,e.forEach=n,e.filter=o,e.signal=function(e){return e},e.any=function(...e){return(t,i=null,n)=>Object(r.e)(...e.map(e=>e(e=>t.call(i,e),null,n)))},e.reduce=s,e.debounce=l,e.latch=h,e.split=function(t,i){return[e.filter(t,i),e.filter(t,e=>!i(e))]},e.buffer=function(e,t=!1,i=[]){let n=i.slice(),o=e(e=>{n?n.push(e):s.fire(e)});const r=()=>{n&&n.forEach(e=>s.fire(e)),n=null},s=new c({onFirstListenerAdd(){o||(o=e(e=>s.fire(e)))},onFirstListenerDidAdd(){n&&(t?setTimeout(r):r())},onLastListenerRemove(){o&&o.dispose(),o=null}});return s.event};class d{constructor(e){this.event=e}map(e){return new d(i(this.event,e))}forEach(e){return new d(n(this.event,e))}filter(e){return new d(o(this.event,e))}reduce(e,t){return new d(s(this.event,e,t))}latch(){return new d(h(this.event))}debounce(e,t=100,i=!1,n){return new d(l(this.event,e,t,i,n))}on(e,t,i){return this.event(e,t,i)}once(e,i,n){return t(this.event)(e,i,n)}}e.chain=function(e){return new d(e)},e.fromNodeEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new c({onFirstListenerAdd:()=>e.on(t,n),onLastListenerRemove:()=>e.removeListener(t,n)});return o.event},e.fromDOMEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new c({onFirstListenerAdd:()=>e.addEventListener(t,n),onLastListenerRemove:()=>e.removeEventListener(t,n)});return o.event},e.toPromise=function(e){return new Promise(i=>t(e)(i))}}(n||(n={}));class l{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${l._idPool++}`}start(e){this._stopWatch=new a.a(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}l._idPool=0;class c{constructor(e){var t;this._disposed=!1,this._options=e,this._leakageMon=void 0,this._perfMon=(null===(t=this._options)||void 0===t?void 0:t._profName)?new l(this._options._profName):void 0}get event(){return this._event||(this._event=(e,t,i)=>{var n;this._listeners||(this._listeners=new s.a);const o=this._listeners.isEmpty();o&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const a=this._listeners.push(t?[e,t]:e);o&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);const l=null===(n=this._leakageMon)||void 0===n?void 0:n.check(this._listeners.size),c=Object(r.i)(()=>{if(l&&l(),!this._disposed&&(a(),this._options&&this._options.onLastListenerRemove)){this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)}});return i instanceof r.b?i.add(c):Array.isArray(i)&&i.push(c),c}),this._event}fire(e){var t,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new s.a);for(let t of this._listeners)this._deliveryQueue.push([t,e]);for(null===(t=this._perfMon)||void 0===t||t.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[e,t]=this._deliveryQueue.shift();try{"function"==typeof e?e.call(void 0,t):e[0].call(e[1],t)}catch(n){Object(o.e)(n)}}null===(i=this._perfMon)||void 0===i||i.stop()}}dispose(){var e,t,i,n,o;this._disposed||(this._disposed=!0,null===(e=this._listeners)||void 0===e||e.clear(),null===(t=this._deliveryQueue)||void 0===t||t.clear(),null===(n=null===(i=this._options)||void 0===i?void 0:i.onLastListenerRemove)||void 0===n||n.call(i),null===(o=this._leakageMon)||void 0===o||o.dispose())}}class h extends c{constructor(e){super(e),this._isPaused=0,this._eventQueue=new s.a,this._mergeFn=null==e?void 0:e.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class d extends h{constructor(e){var t;super(e),this._delay=null!==(t=e.delay)&&void 0!==t?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class u{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e(e=>{const n=this.buffers[this.buffers.length-1];n?n.push(()=>t.call(i,e)):t.call(i,e)},void 0,n)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach(e=>e()),i}}class g{constructor(){this.listening=!1,this.inputEvent=n.None,this.inputEventListener=r.a.None,this.emitter=new c({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},MNXI:function(e,t,i){},MNsG:function(e,t,i){"use strict";(function(e,n){var o;i.d(t,"b",(function(){return f})),i.d(t,"h",(function(){return C})),i.d(t,"j",(function(){return y})),i.d(t,"f",(function(){return S})),i.d(t,"d",(function(){return L})),i.d(t,"g",(function(){return x})),i.d(t,"i",(function(){return k})),i.d(t,"c",(function(){return D})),i.d(t,"l",(function(){return I})),i.d(t,"k",(function(){return O})),i.d(t,"a",(function(){return N})),i.d(t,"e",(function(){return M}));let r=!1,s=!1,a=!1,l=!1,c=!1,h=!1,d=!1,u=void 0,g="en",p=void 0,m=void 0;const f="object"==typeof self?self:"object"==typeof e?e:{};let b=void 0;void 0!==f.vscode&&void 0!==f.vscode.process?b=f.vscode.process:void 0!==n&&(b=n);const _="string"==typeof(null===(o=null==b?void 0:b.versions)||void 0===o?void 0:o.electron)&&"renderer"===b.type,v=_&&(null==b?void 0:b.sandboxed),C="string"==typeof(()=>{if(v)return"bypassHeatCheck";const e=null==b?void 0:b.env.VSCODE_BROWSER_CODE_LOADING;return"string"==typeof e?"none"===e||"code"===e||"bypassHeatCheck"===e||"bypassHeatCheckAndEagerCompile"===e?e:"bypassHeatCheck":void 0})();if("object"!=typeof navigator||_)if("object"==typeof b){r="win32"===b.platform,s="darwin"===b.platform,a="linux"===b.platform,l=a&&!!b.env.SNAP&&!!b.env.SNAP_REVISION,u="en",g="en";const e=b.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),i=t.availableLanguages["*"];u=t.locale,g=i||"en",p=t._translationsConfigFile}catch(A){}c=!0}else console.error("Unable to resolve platform.");else m=navigator.userAgent,r=m.indexOf("Windows")>=0,s=m.indexOf("Macintosh")>=0,d=(m.indexOf("Macintosh")>=0||m.indexOf("iPad")>=0||m.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,a=m.indexOf("Linux")>=0,h=!0,u=navigator.language,g=u;let w=0;s?w=1:r?w=3:a&&(w=2);const y=r,S=s,L=a,x=c,k=h,D=d,I=m,O=function(){if(f.setImmediate)return f.setImmediate.bind(f);if("function"==typeof f.postMessage&&!f.importScripts){let e=[];f.addEventListener("message",t=>{if(t.data&&t.data.vscodeSetImmediateId)for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.id===t.data.vscodeSetImmediateId)return e.splice(i,1),void n.callback()}});let t=0;return i=>{const n=++t;e.push({id:n,callback:i}),f.postMessage({vscodeSetImmediateId:n},"*")}}if("function"==typeof(null==b?void 0:b.nextTick))return b.nextTick.bind(b);const e=Promise.resolve();return t=>e.then(t)}(),N=s||d?2:r?1:3;let E=!0,T=!1;function M(){if(!T){T=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);E=513===t[0]}return E}}).call(this,i("yLpj"),i("8oxB"))},MVZn:function(e,t,i){var n=i("lSNA");e.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),o.forEach((function(t){n(e,t,i[t])}))}return e},e.exports.default=e.exports,e.exports.__esModule=!0},MXAL:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));var n=i("CZ1j");class o{constructor(e){let t=Object(n.b)(e);this._defaultValue=t,this._asciiMap=o._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){let i=Object(n.b)(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class r{constructor(){this._actual=new o(0)}add(e){this._actual.set(e,1)}has(e){return 1===this._actual.get(e)}}},MXNz:function(e,t,i){"use strict";i.r(t),t.default='/** @noSelfInFile */\n\ndeclare namespace math {\n    /**\n     * When called without arguments, returns a pseudo-random float with uniform\n     * distribution in the range [0,1). When called with two integers m and n,\n     * math.random returns a pseudo-random integer with uniform distribution in\n     * the range [m, n]. (The value n-m cannot be negative and must fit in a Lua\n     * integer.) The call math.random(n) is equivalent to math.random(1,n).\n     *\n     * This function is an interface to the underling pseudo-random generator\n     * function provided by C.\n     */\n    function random(m?: number, n?: number): number;\n\n    /**\n     * Sets x as the "seed" for the pseudo-random generator: equal seeds produce\n     * equal sequences of numbers.\n     */\n    function randomseed(x: number): number;\n}\n'},Md8J:function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return s}));var n=i("EffR");function o(e,t={}){const i=s(t);return i.textContent=e,i}function r(e,t={}){const i=s(t);return function e(t,i,o,r){let s;if(2===i.type)s=document.createTextNode(i.content||"");else if(3===i.type)s=document.createElement("b");else if(4===i.type)s=document.createElement("i");else if(7===i.type&&r)s=document.createElement("code");else if(5===i.type&&o){const e=document.createElement("a");e.href="#",o.disposeables.add(n.o(e,"click",e=>{o.callback(String(i.index),e)})),s=e}else 8===i.type?s=document.createElement("br"):1===i.type&&(s=t);s&&t!==s&&t.appendChild(s);s&&Array.isArray(i.children)&&i.children.forEach(t=>{e(s,t,o,r)})}(i,function(e,t){const i={type:1,children:[]};let n=0,o=i;const r=[],s=new a(e);for(;!s.eos();){let e=s.next();const i="\\"===e&&0!==l(s.peek(),t);if(i&&(e=s.next()),i||0===l(e,t)||e!==s.peek())if("\n"===e)2===o.type&&(o=r.pop()),o.children.push({type:8});else if(2!==o.type){const t={type:2,content:e};o.children.push(t),r.push(o),o=t}else o.content+=e;else{s.advance(),2===o.type&&(o=r.pop());const i=l(e,t);if(o.type===i||5===o.type&&6===i)o=r.pop();else{const e={type:i,children:[]};5===i&&(e.index=n,n++),o.children.push(e),r.push(o),o=e}}}2===o.type&&(o=r.pop());r.length;return i}(e,!!t.renderCodeSegements),t.actionHandler,t.renderCodeSegements),i}function s(e){const t=e.inline?"span":"div",i=document.createElement(t);return e.className&&(i.className=e.className),i}class a{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function l(e,t){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}},MqQJ:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return h})),i.d(t,"b",(function(){return d}));var n=i("3/fG"),o=i("MI8n"),r=i("twdY"),s=i("cMvZ"),a=i("ic2d"),l=i("ubTv");const c=new class{constructor(){this._onDidChangeLanguages=new o.b,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};a.a.add("editor.modesRegistry",c);const h="plaintext",d=new r.u(h,1);c.registerLanguage({id:h,extensions:[".txt"],aliases:[n.a("plainText.alias","Plain Text"),"text"],mimetypes:[l.a.text]}),s.a.register(d,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0)},MrjW:function(e,t,i){"use strict";i.d(t,"i",(function(){return d})),i.d(t,"e",(function(){return u})),i.d(t,"d",(function(){return g})),i.d(t,"g",(function(){return p})),i.d(t,"f",(function(){return m})),i.d(t,"b",(function(){return f})),i.d(t,"a",(function(){return b})),i.d(t,"c",(function(){return _})),i.d(t,"h",(function(){return v}));var n=i("wxcJ");class o extends Error{constructor(e,t,i){let n;"string"==typeof t&&0===t.indexOf("not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";const o=-1!==e.indexOf(".")?"property":"argument";let r=`The "${e}" ${o} ${n} of type ${t}`;r+=". Received type "+typeof i,super(r),this.code="ERR_INVALID_ARG_TYPE"}}function r(e,t){if("string"!=typeof e)throw new o(t,"string",e)}function s(e){return 47===e||92===e}function a(e){return 47===e}function l(e){return e>=65&&e<=90||e>=97&&e<=122}function c(e,t,i,n){let o="",r=0,s=-1,a=0,l=0;for(let c=0;c<=e.length;++c){if(c<e.length)l=e.charCodeAt(c);else{if(n(l))break;l=47}if(n(l)){if(s===c-1||1===a);else if(2===a){if(o.length<2||2!==r||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2)){if(o.length>2){const e=o.lastIndexOf(i);-1===e?(o="",r=0):(o=o.slice(0,e),r=o.length-1-o.lastIndexOf(i)),s=c,a=0;continue}if(0!==o.length){o="",r=0,s=c,a=0;continue}}t&&(o+=o.length>0?i+"..":"..",r=2)}else o.length>0?o+=`${i}${e.slice(s+1,c)}`:o=e.slice(s+1,c),r=c-s-1;s=c,a=0}else 46===l&&-1!==a?++a:a=-1}return o}function h(e,t){if(null===t||"object"!=typeof t)throw new o("pathObject","Object",t);const i=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return i?i===t.root?`${i}${n}`:`${i}${e}${n}`:n}const d={resolve(...e){let t="",i="",o=!1;for(let a=e.length-1;a>=-1;a--){let c;if(a>=0){if(c=e[a],r(c,"path"),0===c.length)continue}else 0===t.length?c=n.a():(c=n.b["="+t]||n.a(),(void 0===c||c.slice(0,2).toLowerCase()!==t.toLowerCase()&&92===c.charCodeAt(2))&&(c=t+"\\"));const h=c.length;let d=0,u="",g=!1;const p=c.charCodeAt(0);if(1===h)s(p)&&(d=1,g=!0);else if(s(p))if(g=!0,s(c.charCodeAt(1))){let e=2,t=e;for(;e<h&&!s(c.charCodeAt(e));)e++;if(e<h&&e!==t){const i=c.slice(t,e);for(t=e;e<h&&s(c.charCodeAt(e));)e++;if(e<h&&e!==t){for(t=e;e<h&&!s(c.charCodeAt(e));)e++;e!==h&&e===t||(u=`\\\\${i}\\${c.slice(t,e)}`,d=e)}}}else d=1;else l(p)&&58===c.charCodeAt(1)&&(u=c.slice(0,2),d=2,h>2&&s(c.charCodeAt(2))&&(g=!0,d=3));if(u.length>0)if(t.length>0){if(u.toLowerCase()!==t.toLowerCase())continue}else t=u;if(o){if(t.length>0)break}else if(i=`${c.slice(d)}\\${i}`,o=g,g&&t.length>0)break}return i=c(i,!o,"\\",s),o?`${t}\\${i}`:`${t}${i}`||"."},normalize(e){r(e,"path");const t=e.length;if(0===t)return".";let i,n=0,o=!1;const h=e.charCodeAt(0);if(1===t)return a(h)?"\\":e;if(s(h))if(o=!0,s(e.charCodeAt(1))){let o=2,r=o;for(;o<t&&!s(e.charCodeAt(o));)o++;if(o<t&&o!==r){const a=e.slice(r,o);for(r=o;o<t&&s(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&!s(e.charCodeAt(o));)o++;if(o===t)return`\\\\${a}\\${e.slice(r)}\\`;o!==r&&(i=`\\\\${a}\\${e.slice(r,o)}`,n=o)}}}else n=1;else l(h)&&58===e.charCodeAt(1)&&(i=e.slice(0,2),n=2,t>2&&s(e.charCodeAt(2))&&(o=!0,n=3));let d=n<t?c(e.slice(n),!o,"\\",s):"";return 0!==d.length||o||(d="."),d.length>0&&s(e.charCodeAt(t-1))&&(d+="\\"),void 0===i?o?"\\"+d:d:o?`${i}\\${d}`:`${i}${d}`},isAbsolute(e){r(e,"path");const t=e.length;if(0===t)return!1;const i=e.charCodeAt(0);return s(i)||t>2&&l(i)&&58===e.charCodeAt(1)&&s(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let t,i;for(let s=0;s<e.length;++s){const n=e[s];r(n,"path"),n.length>0&&(void 0===t?t=i=n:t+="\\"+n)}if(void 0===t)return".";let n=!0,o=0;if("string"==typeof i&&s(i.charCodeAt(0))){++o;const e=i.length;e>1&&s(i.charCodeAt(1))&&(++o,e>2&&(s(i.charCodeAt(2))?++o:n=!1))}if(n){for(;o<t.length&&s(t.charCodeAt(o));)o++;o>=2&&(t="\\"+t.slice(o))}return d.normalize(t)},relative(e,t){if(r(e,"from"),r(t,"to"),e===t)return"";const i=d.resolve(e),n=d.resolve(t);if(i===n)return"";if((e=i.toLowerCase())===(t=n.toLowerCase()))return"";let o=0;for(;o<e.length&&92===e.charCodeAt(o);)o++;let s=e.length;for(;s-1>o&&92===e.charCodeAt(s-1);)s--;const a=s-o;let l=0;for(;l<t.length&&92===t.charCodeAt(l);)l++;let c=t.length;for(;c-1>l&&92===t.charCodeAt(c-1);)c--;const h=c-l,u=a<h?a:h;let g=-1,p=0;for(;p<u;p++){const i=e.charCodeAt(o+p);if(i!==t.charCodeAt(l+p))break;92===i&&(g=p)}if(p!==u){if(-1===g)return n}else{if(h>u){if(92===t.charCodeAt(l+p))return n.slice(l+p+1);if(2===p)return n.slice(l+p)}a>u&&(92===e.charCodeAt(o+p)?g=p:2===p&&(g=3)),-1===g&&(g=0)}let m="";for(p=o+g+1;p<=s;++p)p!==s&&92!==e.charCodeAt(p)||(m+=0===m.length?"..":"\\..");return l+=g,m.length>0?`${m}${n.slice(l,c)}`:(92===n.charCodeAt(l)&&++l,n.slice(l,c))},toNamespacedPath(e){if("string"!=typeof e)return e;if(0===e.length)return"";const t=d.resolve(e);if(t.length<=2)return e;if(92===t.charCodeAt(0)){if(92===t.charCodeAt(1)){const e=t.charCodeAt(2);if(63!==e&&46!==e)return"\\\\?\\UNC\\"+t.slice(2)}}else if(l(t.charCodeAt(0))&&58===t.charCodeAt(1)&&92===t.charCodeAt(2))return"\\\\?\\"+t;return e},dirname(e){r(e,"path");const t=e.length;if(0===t)return".";let i=-1,n=0;const o=e.charCodeAt(0);if(1===t)return s(o)?e:".";if(s(o)){if(i=n=1,s(e.charCodeAt(1))){let o=2,r=o;for(;o<t&&!s(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&s(e.charCodeAt(o));)o++;if(o<t&&o!==r){for(r=o;o<t&&!s(e.charCodeAt(o));)o++;if(o===t)return e;o!==r&&(i=n=o+1)}}}}else l(o)&&58===e.charCodeAt(1)&&(i=t>2&&s(e.charCodeAt(2))?3:2,n=i);let a=-1,c=!0;for(let r=t-1;r>=n;--r)if(s(e.charCodeAt(r))){if(!c){a=r;break}}else c=!1;if(-1===a){if(-1===i)return".";a=i}return e.slice(0,a)},basename(e,t){void 0!==t&&r(t,"ext"),r(e,"path");let i,n=0,o=-1,a=!0;if(e.length>=2&&l(e.charCodeAt(0))&&58===e.charCodeAt(1)&&(n=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let r=t.length-1,l=-1;for(i=e.length-1;i>=n;--i){const c=e.charCodeAt(i);if(s(c)){if(!a){n=i+1;break}}else-1===l&&(a=!1,l=i+1),r>=0&&(c===t.charCodeAt(r)?-1==--r&&(o=i):(r=-1,o=l))}return n===o?o=l:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=n;--i)if(s(e.charCodeAt(i))){if(!a){n=i+1;break}}else-1===o&&(a=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){r(e,"path");let t=0,i=-1,n=0,o=-1,a=!0,c=0;e.length>=2&&58===e.charCodeAt(1)&&l(e.charCodeAt(0))&&(t=n=2);for(let r=e.length-1;r>=t;--r){const t=e.charCodeAt(r);if(s(t)){if(!a){n=r+1;break}}else-1===o&&(a=!1,o=r+1),46===t?-1===i?i=r:1!==c&&(c=1):-1!==i&&(c=-1)}return-1===i||-1===o||0===c||1===c&&i===o-1&&i===n+1?"":e.slice(i,o)},format:h.bind(null,"\\"),parse(e){r(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=e.length;let n=0,o=e.charCodeAt(0);if(1===i)return s(o)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(s(o)){if(n=1,s(e.charCodeAt(1))){let t=2,o=t;for(;t<i&&!s(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&s(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&!s(e.charCodeAt(t));)t++;t===i?n=t:t!==o&&(n=t+1)}}}}else if(l(o)&&58===e.charCodeAt(1)){if(i<=2)return t.root=t.dir=e,t;if(n=2,s(e.charCodeAt(2))){if(3===i)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let a=-1,c=n,h=-1,d=!0,u=e.length-1,g=0;for(;u>=n;--u)if(o=e.charCodeAt(u),s(o)){if(!d){c=u+1;break}}else-1===h&&(d=!1,h=u+1),46===o?-1===a?a=u:1!==g&&(g=1):-1!==a&&(g=-1);return-1!==h&&(-1===a||0===g||1===g&&a===h-1&&a===c+1?t.base=t.name=e.slice(c,h):(t.name=e.slice(c,a),t.base=e.slice(c,h),t.ext=e.slice(a,h))),t.dir=c>0&&c!==n?e.slice(0,c-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},u={resolve(...e){let t="",i=!1;for(let o=e.length-1;o>=-1&&!i;o--){const s=o>=0?e[o]:n.a();r(s,"path"),0!==s.length&&(t=`${s}/${t}`,i=47===s.charCodeAt(0))}return t=c(t,!i,"/",a),i?"/"+t:t.length>0?t:"."},normalize(e){if(r(e,"path"),0===e.length)return".";const t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0===(e=c(e,!t,"/",a)).length?t?"/":i?"./":".":(i&&(e+="/"),t?"/"+e:e)},isAbsolute:e=>(r(e,"path"),e.length>0&&47===e.charCodeAt(0)),join(...e){if(0===e.length)return".";let t;for(let i=0;i<e.length;++i){const n=e[i];r(n,"path"),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":u.normalize(t)},relative(e,t){if(r(e,"from"),r(t,"to"),e===t)return"";if((e=u.resolve(e))===(t=u.resolve(t)))return"";const i=e.length,n=i-1,o=t.length-1,s=n<o?n:o;let a=-1,l=0;for(;l<s;l++){const i=e.charCodeAt(1+l);if(i!==t.charCodeAt(1+l))break;47===i&&(a=l)}if(l===s)if(o>s){if(47===t.charCodeAt(1+l))return t.slice(1+l+1);if(0===l)return t.slice(1+l)}else n>s&&(47===e.charCodeAt(1+l)?a=l:0===l&&(a=0));let c="";for(l=1+a+1;l<=i;++l)l!==i&&47!==e.charCodeAt(l)||(c+=0===c.length?"..":"/..");return`${c}${t.slice(1+a)}`},toNamespacedPath:e=>e,dirname(e){if(r(e,"path"),0===e.length)return".";const t=47===e.charCodeAt(0);let i=-1,n=!0;for(let o=e.length-1;o>=1;--o)if(47===e.charCodeAt(o)){if(!n){i=o;break}}else n=!1;return-1===i?t?"/":".":t&&1===i?"//":e.slice(0,i)},basename(e,t){void 0!==t&&r(t,"ext"),r(e,"path");let i,n=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let r=t.length-1,a=-1;for(i=e.length-1;i>=0;--i){const l=e.charCodeAt(i);if(47===l){if(!s){n=i+1;break}}else-1===a&&(s=!1,a=i+1),r>=0&&(l===t.charCodeAt(r)?-1==--r&&(o=i):(r=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){r(e,"path");let t=-1,i=0,n=-1,o=!0,s=0;for(let r=e.length-1;r>=0;--r){const a=e.charCodeAt(r);if(47!==a)-1===n&&(o=!1,n=r+1),46===a?-1===t?t=r:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){i=r+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===i+1?"":e.slice(t,n)},format:h.bind(null,"/"),parse(e){r(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=47===e.charCodeAt(0);let n;i?(t.root="/",n=1):n=0;let o=-1,s=0,a=-1,l=!0,c=e.length-1,h=0;for(;c>=n;--c){const t=e.charCodeAt(c);if(47!==t)-1===a&&(l=!1,a=c+1),46===t?-1===o?o=c:1!==h&&(h=1):-1!==o&&(h=-1);else if(!l){s=c+1;break}}if(-1!==a){const n=0===s&&i?1:s;-1===o||0===h||1===h&&o===a-1&&o===s+1?t.base=t.name=e.slice(n,a):(t.name=e.slice(n,o),t.base=e.slice(n,a),t.ext=e.slice(o,a))}return s>0?t.dir=e.slice(0,s-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};u.win32=d.win32=d,u.posix=d.posix=u;const g="win32"===n.c?d.normalize:u.normalize,p="win32"===n.c?d.resolve:u.resolve,m="win32"===n.c?d.relative:u.relative,f="win32"===n.c?d.dirname:u.dirname,b="win32"===n.c?d.basename:u.basename,_="win32"===n.c?d.extname:u.extname,v="win32"===n.c?d.sep:u.sep},MvK1:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));class n{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=0|e,this.to=0|t,this.colorId=0|i}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class o{constructor(e,t,i){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class r{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(o.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),o=i/Math.floor(this._outerHeight),r=Math.floor(4*this._pixelRatio/2);let s=[];for(let a=0,l=this._zones.length;a<l;a++){const l=this._zones[a];if(!e){const e=l.getColorZones();if(e){s.push(e);continue}}const c=Math.floor(o*this._getVerticalOffsetForLine(l.startLineNumber)),h=Math.floor(o*(this._getVerticalOffsetForLine(l.endLineNumber)+t));let d=Math.floor((c+h)/2),u=h-d;u<r&&(u=r),d-u<0&&(d=u),d+u>i&&(d=i-u);const g=l.color;let p=this._color2Id[g];p||(p=++this._lastAssignedId,this._color2Id[g]=p,this._id2Color[p]=g);const m=new n(d-u,d+u,p);l.setColorZone(m),s.push(m)}return this._colorZonesInvalid=!1,s.sort(n.compare),s}}},N0LK:function(e,t,i){"use strict";function n(e){return!e||"string"!=typeof e||0===e.trim().length}i.d(t,"D",(function(){return n})),i.d(t,"w",(function(){return r})),i.d(t,"t",(function(){return s})),i.d(t,"u",(function(){return a})),i.d(t,"V",(function(){return l})),i.d(t,"K",(function(){return c})),i.d(t,"P",(function(){return h})),i.d(t,"p",(function(){return d})),i.d(t,"U",(function(){return u})),i.d(t,"q",(function(){return g})),i.d(t,"O",(function(){return p})),i.d(t,"N",(function(){return m})),i.d(t,"R",(function(){return f})),i.d(t,"v",(function(){return b})),i.d(t,"y",(function(){return _})),i.d(t,"J",(function(){return v})),i.d(t,"f",(function(){return C})),i.d(t,"h",(function(){return w})),i.d(t,"g",(function(){return y})),i.d(t,"i",(function(){return S})),i.d(t,"H",(function(){return L})),i.d(t,"I",(function(){return x})),i.d(t,"s",(function(){return D})),i.d(t,"S",(function(){return O})),i.d(t,"d",(function(){return N})),i.d(t,"e",(function(){return E})),i.d(t,"F",(function(){return T})),i.d(t,"G",(function(){return M})),i.d(t,"j",(function(){return A})),i.d(t,"A",(function(){return R})),i.d(t,"L",(function(){return F})),i.d(t,"M",(function(){return j})),i.d(t,"r",(function(){return B})),i.d(t,"m",(function(){return V})),i.d(t,"k",(function(){return z})),i.d(t,"B",(function(){return K})),i.d(t,"a",(function(){return q})),i.d(t,"n",(function(){return $})),i.d(t,"l",(function(){return G})),i.d(t,"E",(function(){return Y})),i.d(t,"C",(function(){return Z})),i.d(t,"b",(function(){return X})),i.d(t,"T",(function(){return Q})),i.d(t,"o",(function(){return J})),i.d(t,"Q",(function(){return ee})),i.d(t,"x",(function(){return te})),i.d(t,"c",(function(){return ie})),i.d(t,"z",(function(){return oe}));const o=/{(\d+)}/g;function r(e,...t){return 0===t.length?e:e.replace(o,(function(e,i){const n=parseInt(i,10);return isNaN(n)||n<0||n>=t.length?e:t[n]}))}function s(e){return e.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}))}function a(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function l(e,t=" "){return h(c(e,t),t)}function c(e,t){if(!e||!t)return e;const i=t.length;if(0===i||0===e.length)return e;let n=0;for(;e.indexOf(t,n)===n;)n+=i;return e.substring(n)}function h(e,t){if(!e||!t)return e;const i=t.length,n=e.length;if(0===i||0===n)return e;let o=n,r=-1;for(;r=e.lastIndexOf(t,o-1),-1!==r&&r+i===o;){if(0===r)return"";o=r}return e.substring(0,o)}function d(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function u(e){return e.replace(/\*/g,"")}function g(e,t,i={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=a(e)),i.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let n="";return i.global&&(n+="g"),i.matchCase||(n+="i"),i.multiline&&(n+="m"),i.unicode&&(n+="u"),new RegExp(e,n)}function p(e){if("^"===e.source||"^$"===e.source||"$"===e.source||"^\\s*$"===e.source)return!1;return!(!e.exec("")||0!==e.lastIndex)}function m(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")}function f(e){return e.split(/\r\n|\r|\n/)}function b(e){for(let t=0,i=e.length;t<i;t++){const i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1}function _(e,t=0,i=e.length){for(let n=t;n<i;n++){const i=e.charCodeAt(n);if(32!==i&&9!==i)return e.substring(t,n)}return e.substring(t,i)}function v(e,t=e.length-1){for(let i=t;i>=0;i--){const t=e.charCodeAt(i);if(32!==t&&9!==t)return i}return-1}function C(e,t){return e<t?-1:e>t?1:0}function w(e,t,i=0,n=e.length,o=0,r=t.length){for(;i<n&&o<r;i++,o++){let n=e.charCodeAt(i),r=t.charCodeAt(o);if(n<r)return-1;if(n>r)return 1}const s=n-i,a=r-o;return s<a?-1:s>a?1:0}function y(e,t){return S(e,t,0,e.length,0,t.length)}function S(e,t,i=0,n=e.length,o=0,r=t.length){for(;i<n&&o<r;i++,o++){let s=e.charCodeAt(i),a=t.charCodeAt(o);if(s===a)continue;const l=s-a;if((32!==l||!x(a))&&(-32!==l||!x(s)))return L(s)&&L(a)?l:w(e.toLowerCase(),t.toLowerCase(),i,n,o,r)}const s=n-i,a=r-o;return s<a?-1:s>a?1:0}function L(e){return e>=97&&e<=122}function x(e){return e>=65&&e<=90}function k(e){return L(e)||x(e)}function D(e,t){return e.length===t.length&&I(e,t)}function I(e,t,i=e.length){for(let n=0;n<i;n++){const i=e.charCodeAt(n),o=t.charCodeAt(n);if(i!==o)if(k(i)&&k(o)){const e=Math.abs(i-o);if(0!==e&&32!==e)return!1}else if(String.fromCharCode(i).toLowerCase()!==String.fromCharCode(o).toLowerCase())return!1}return!0}function O(e,t){const i=t.length;return!(t.length>e.length)&&I(e,t,i)}function N(e,t){let i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charCodeAt(i)!==t.charCodeAt(i))return i;return n}function E(e,t){let i,n=Math.min(e.length,t.length);const o=e.length-1,r=t.length-1;for(i=0;i<n;i++)if(e.charCodeAt(o-i)!==t.charCodeAt(r-i))return i;return n}function T(e){return 55296<=e&&e<=56319}function M(e){return 56320<=e&&e<=57343}function A(e,t){return t-56320+(e-55296<<10)+65536}function R(e,t,i){const n=e.charCodeAt(i);if(T(n)&&i+1<t){const t=e.charCodeAt(i+1);if(M(t))return A(n,t)}return n}function P(e,t){const i=e.charCodeAt(t-1);if(M(i)&&t>1){const n=e.charCodeAt(t-2);if(T(n))return A(n,i)}return i}function F(e,t){const i=ne.getInstance(),n=t,o=e.length,r=R(e,o,t);t+=r>=65536?2:1;let s=i.getGraphemeBreakType(r);for(;t<o;){const n=R(e,o,t),r=i.getGraphemeBreakType(n);if(ie(s,r))break;t+=n>=65536?2:1,s=r}return t-n}function j(e,t){const i=ne.getInstance(),n=t,o=P(e,t);t-=o>=65536?2:1;let r=i.getGraphemeBreakType(o);for(;t>0;){const n=P(e,t),o=i.getGraphemeBreakType(n);if(ie(o,r))break;t-=n>=65536?2:1,r=o}return n-t}function B(e){const t=e.byteLength,i=[];let n=0;for(;n<t;){const o=e[n];let r;if(r=o>=240&&n+3<t?(7&e[n++])<<18>>>0|(63&e[n++])<<12>>>0|(63&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:o>=224&&n+2<t?(15&e[n++])<<12>>>0|(63&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:o>=192&&n+1<t?(31&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:e[n++],r>=0&&r<=55295||r>=57344&&r<=65535)i.push(String.fromCharCode(r));else if(r>=65536&&r<=1114111){const e=r-65536,t=55296+((1047552&e)>>>10),n=56320+((1023&e)>>>0);i.push(String.fromCharCode(t)),i.push(String.fromCharCode(n))}else i.push(String.fromCharCode(65533))}return i.join("")}const W=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function V(e){return W.test(e)}const H=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function z(e){return H.test(e)}const U=/^[\t\n\r\x20-\x7E]*$/;function K(e){return U.test(e)}const q=/[\u2028\u2029]/;function $(e){return q.test(e)}function G(e){for(let t=0,i=e.length;t<i;t++)if(Y(e.charCodeAt(t)))return!0;return!1}function Y(e){return(e=+e)>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function Z(e){return e>=127462&&e<=127487||8986===e||8987===e||9200===e||9203===e||e>=9728&&e<=10175||11088===e||11093===e||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129003||e>=129280&&e<=129535||e>=129648&&e<=129750}const X=String.fromCharCode(65279);function Q(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function J(e,t=!1){return!!e&&(t&&(e=e.replace(/\\./g,"")),e.toLowerCase()!==e)}function ee(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function te(e){return ne.getInstance().getGraphemeBreakType(e)}function ie(e,t){return 0===e?5!==t&&7!==t:(2!==e||3!==t)&&(4===e||2===e||3===e||(4===t||2===t||3===t||(8!==e||8!==t&&9!==t&&11!==t&&12!==t)&&((11!==e&&9!==e||9!==t&&10!==t)&&((12!==e&&10!==e||10!==t)&&(5!==t&&13!==t&&(7!==t&&(1!==e&&((13!==e||14!==t)&&(6!==e||6!==t)))))))))}class ne{constructor(){this._data=JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}static getInstance(){return ne._INSTANCE||(ne._INSTANCE=new ne),ne._INSTANCE}getGraphemeBreakType(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let n=1;for(;n<=i;)if(e<t[3*n])n*=2;else{if(!(e>t[3*n+1]))return t[3*n+2];n=2*n+1}return 0}}function oe(e,t){if(0===e)return 0;const i=function(e,t){let i=P(t,e);e-=re(i);for(;se(i)||65039===i||8419===i;){if(0===e)return;i=P(t,e),e-=re(i)}if(!Z(i))return;if(e>=0){const i=P(t,e);8205===i&&(e-=re(i))}return e}(e,t);if(void 0!==i)return i;return e-=re(P(t,e))}function re(e){return e>=65536?2:1}function se(e){return 127995<=e&&e<=127999}ne._INSTANCE=null},Nm7z:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface Array<T> {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: T, fromIndex?: number): boolean;\r\n}\r\n\r\ninterface ReadonlyArray<T> {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: T, fromIndex?: number): boolean;\r\n}\r\n\r\ninterface Int8Array {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: number, fromIndex?: number): boolean;\r\n}\r\n\r\ninterface Uint8Array {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: number, fromIndex?: number): boolean;\r\n}\r\n\r\ninterface Uint8ClampedArray {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: number, fromIndex?: number): boolean;\r\n}\r\n\r\ninterface Int16Array {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: number, fromIndex?: number): boolean;\r\n}\r\n\r\ninterface Uint16Array {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: number, fromIndex?: number): boolean;\r\n}\r\n\r\ninterface Int32Array {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: number, fromIndex?: number): boolean;\r\n}\r\n\r\ninterface Uint32Array {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: number, fromIndex?: number): boolean;\r\n}\r\n\r\ninterface Float32Array {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: number, fromIndex?: number): boolean;\r\n}\r\n\r\ninterface Float64Array {\r\n    /**\r\n     * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n     * @param searchElement The element to search for.\r\n     * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n     */\r\n    includes(searchElement: number, fromIndex?: number): boolean;\r\n}'},"O/se":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i("VPJY");var n=i("EffR"),o=i("N0LK"),r=i("zrhQ"),s=i("qj0h");const a={badgeBackground:r.a.fromHex("#4D4D4D"),badgeForeground:r.a.fromHex("#FFFFFF")};class l{constructor(e,t){this.count=0,this.options=t||Object.create(null),Object(s.f)(this.options,a,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Object(n.q)(e,Object(n.a)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=Object(o.w)(this.countFormat,this.count),this.element.title=Object(o.w)(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}},OAO6:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return a}));var n=i("Cg/j");const o=Object(n.c)("undoRedoService");class r{constructor(e,t){this.resource=e,this.elements=t}}class s{constructor(){this.id=s._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}s._ID=0,s.None=new s;class a{constructor(){this.id=a._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}a._ID=0,a.None=new a},OBOq:function(e,t,i){"use strict";i.d(t,"b",(function(){return h})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return u}));i("UCkY");var n=i("MNsG"),o=i("EffR");let r,s,a,l,c;function h(e){r=document.createElement("div"),r.className="monaco-aria-container";const t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),r.appendChild(e),e};s=t(),a=t();const i=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("role","complementary"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),r.appendChild(e),e};l=i(),c=i(),e.appendChild(r)}function d(e){r&&(s.textContent!==e?(o.t(a),g(s,e)):(o.t(s),g(a,e)))}function u(e){r&&(n.f?d(e):l.textContent!==e?(o.t(c),g(l,e)):(o.t(l),g(c,e)))}function g(e,t){o.t(e),t.length>2e4&&(t=t.substr(0,2e4)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}},OEK7:function(e,t,i){var n={"./index.d.ts":"X5Qd"};function o(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id="OEK7"},OKK6:function(e,t,i){},OhnE:function(e,t,i){},P0R6:function(e,t,i){"use strict";i.r(t),t.default='// Based on https://www.lua.org/manual/5.3/manual.html#6.8\n\n/** @noSelfInFile */\n\n/**\n * The I/O library provides two different styles for file manipulation. The\n * first one uses implicit file handles; that is, there are operations to set a\n * default input file and a default output file, and all input/output operations\n * are over these default files. The second style uses explicit file handles.\n *\n * When using implicit file handles, all operations are supplied by table io.\n * When using explicit file handles, the operation io.open returns a file handle\n * and then all operations are supplied as methods of the file handle.\n *\n * The table io also provides three predefined file handles with their usual\n * meanings from C: io.stdin, io.stdout, and io.stderr. The I/O library never\n * closes these files.\n *\n * Unless otherwise stated, all I/O functions return nil on failure (plus an\n * error message as a second result and a system-dependent error code as a third\n * result) and some value different from nil on success. On non-POSIX systems,\n * the computation of the error message and error code in case of errors may be\n * not thread safe, because they rely on the global C variable errno.\n */\ndeclare namespace io {\n    /**\n     * Equivalent to file:close(). Without a file, closes the default output file.\n     */\n    function close(file?: LuaFile): boolean;\n\n    /**\n     * Equivalent to io.output():flush().\n     */\n    function flush(): boolean;\n\n    /**\n     * When called with a file name, it opens the named file (in text mode), and\n     * sets its handle as the default input file. When called with a file handle,\n     * it simply sets this file handle as the default input file. When called\n     * without parameters, it returns the current default input file.\n     *\n     * In case of errors this function raises the error, instead of returning an\n     * error code.\n     */\n    function input(file?: string | LuaFile): LuaFile;\n\n    /**\n     * Opens the given file name in read mode and returns an iterator function\n     * that works like file:lines(···) over the opened file. When the iterator\n     * function detects the end of file, it returns no values (to finish the loop)\n     * and automatically closes the file.\n     *\n     * The call io.lines() (with no file name) is equivalent to\n     * io.input():lines("*l"); that is, it iterates over the lines of the default\n     * input file. In this case it does not close the file when the loop ends.\n     *\n     * In case of errors this function raises the error, instead of returning an\n     * error code.\n     */\n    function lines<T extends FileReadFormat[]>(\n        filename?: string,\n        ...formats: T\n    ): LuaIterable<\n        LuaMultiReturn<[] extends T ? [string] : { [P in keyof T]: FileReadFormatToType<T[P]> }>\n    >;\n\n    /**\n     * This function opens a file, in the mode specified in the string mode. In\n     * case of success, it returns a new file handle.\n     *\n     * The mode string can be any of the following:\n     *\n     * * "r": read mode (the default);\n     * * "w": write mode;\n     * * "a": append mode;\n     * * "r+": update mode, all previous data is preserved;\n     * * "w+": update mode, all previous data is erased;\n     * * "a+": append update mode, previous data is preserved, writing is only\n     *   allowed at the end of file.\n     *\n     * The mode string can also have a \'b\' at the end, which is needed in some\n     * systems to open the file in binary mode.\n     */\n    function open(\n        filename: string,\n        mode?: string\n    ): LuaMultiReturn<[LuaFile] | [undefined, string, number]>;\n\n    /**\n     * Similar to io.input, but operates over the default output file.\n     */\n    function output(file?: string | LuaFile): LuaFile;\n\n    /**\n     * This function is system dependent and is not available on all platforms.\n     *\n     * Starts program prog in a separated process and returns a file handle that\n     * you can use to read data from this program (if mode is "r", the default) or\n     * to write data to this program (if mode is "w").\n     */\n    function popen(prog: string, mode?: \'r\' | \'w\'): LuaMultiReturn<[LuaFile] | [undefined, string]>;\n\n    /**\n     * Equivalent to io.input():read(···).\n     */\n    function read(): io.FileReadFormatToType<io.FileReadLineFormat> | undefined;\n    function read<T extends io.FileReadFormat>(format: T): io.FileReadFormatToType<T> | undefined;\n    function read<T extends io.FileReadFormat[]>(\n        ...formats: T\n    ): LuaMultiReturn<{ [P in keyof T]?: io.FileReadFormatToType<T[P]> }>;\n\n    /**\n     * Predefined file handle for standard error stream. The I/O library never closes this file.\n     */\n    const stderr: LuaFile;\n\n    /**\n     * Predefined file handle for standard input stream. The I/O library never closes this file.\n     */\n    const stdin: LuaFile;\n\n    /**\n     * Predefined file handle for standard output stream. The I/O library never closes this file.\n     */\n    const stdout: LuaFile;\n\n    /**\n     * In case of success, returns a handle for a temporary file. This file is\n     * opened in update mode and it is automatically removed when the program\n     * ends.\n     */\n    function tmpfile(): LuaFile;\n\n    /**\n     * Checks whether obj is a valid file handle. Returns the string "file" if obj\n     * is an open file handle, "closed file" if obj is a closed file handle, or\n     * nil if obj is not a file handle.\n     */\n    function type(obj: any): \'file\' | \'closed file\' | undefined;\n\n    /**\n     * Equivalent to io.output():write(···).\n     */\n    function write(...args: (string | number)[]): LuaMultiReturn<[LuaFile] | [undefined, string]>;\n\n    type FileReadFormatToType<T> = T extends FileReadNumberFormat ? number : string;\n}\n\ninterface LuaFile {\n    /**\n     * Closes file. Note that files are automatically closed when their handles\n     * are garbage collected, but that takes an unpredictable amount of time to\n     * happen.\n     *\n     * When closing a file handle created with io.popen, file:close returns the\n     * same values returned by os.execute.\n     */\n    close(): boolean;\n\n    /**\n     * Saves any written data to file.\n     */\n    flush(): boolean;\n\n    /**\n     * Returns an iterator function that, each time it is called, reads the file\n     * according to the given formats. When no format is given, uses "l" as a\n     * default. As an example, the construction\n     *\n     * `for c in file:lines(1) do body end`\n     *\n     * will iterate over all characters of the file, starting at the current\n     * position. Unlike io.lines, this function does not close the file when the\n     * loop ends.\n     *\n     * In case of errors this function raises the error, instead of returning an\n     * error code.\n     */\n    lines<T extends io.FileReadFormat[]>(\n        ...formats: T\n    ): LuaIterable<\n        LuaMultiReturn<[] extends T ? [string] : { [P in keyof T]: io.FileReadFormatToType<T[P]> }>\n    >;\n\n    /**\n     * Reads the file file, according to the given formats, which specify what to\n     * read. For each format, the function returns a string or a number with the\n     * characters read, or nil if it cannot read data with the specified format.\n     * (In this latter case, the function does not read subsequent formats.) When\n     * called without formats, it uses a default format that reads the next line\n     * (see below).\n     *\n     * The available formats are\n     *\n     * * "n": reads a numeral and returns it as a float or an integer, following\n     *   the lexical conventions of Lua. (The numeral may have leading spaces and\n     *   a sign.) This format always reads the longest input sequence that is a\n     *   valid prefix for a numeral; if that prefix does not form a valid numeral\n     *   (e.g., an empty string, "0x", or "3.4e-"), it is discarded and the\n     *   function returns nil.\n     * * "a": reads the whole file, starting at the current position. On end of\n     *   file, it returns the empty string.\n     * * "l": reads the next line skipping the end of line, returning nil on end\n     *   of file. This is the default format.\n     * * "L": reads the next line keeping the end-of-line character (if present),\n     *   returning nil on end of file.\n     * * number: reads a string with up to this number of bytes, returning nil on\n     *   end of file. If number is zero, it reads nothing and returns an empty\n     *   string, or nil on end of file.\n     *\n     * The formats "l" and "L" should be used only for text files.\n     */\n    read(): io.FileReadFormatToType<io.FileReadLineFormat> | undefined;\n    read<T extends io.FileReadFormat>(format: T): io.FileReadFormatToType<T> | undefined;\n    read<T extends io.FileReadFormat[]>(\n        ...formats: T\n    ): LuaMultiReturn<{ [P in keyof T]?: io.FileReadFormatToType<T[P]> }>;\n\n    /**\n     * Sets and geionts the file position, measured from the beginning of the\n     * file, to the posit given by offset plus a base specified by the string\n     * whence, as follows:\n     *\n     * * "set": base is position 0 (beginning of the file);\n     * * "cur": base is current position;\n     * * "end": base is end of file;\n     *\n     * In case of success, seek returns the final file position, measured in bytes\n     * from the beginning of the file. If seek fails, it returns nil, plus a\n     * string describing the error.\n     *\n     * The default value for whence is "cur", and for offset is 0. Therefore, the\n     * call file:seek() returns the current file position, without changing it;\n     * the call file:seek("set") sets the position to the beginning of the file\n     * (and returns 0); and the call file:seek("end") sets the position to the end\n     * of the file, and returns its size.\n     */\n    seek(\n        whence?: \'set\' | \'cur\' | \'end\',\n        offset?: number\n    ): LuaMultiReturn<[number] | [undefined, string]>;\n\n    /**\n     * Sets the buffering mode for an output file. There are three available\n     * modes:\n     *\n     * * "no": no buffering; the result of any output operation appears\n     *   immediately.\n     * * "full": full buffering; output operation is performed only when the\n     *   buffer is full or when you explicitly flush the file (see io.flush).\n     * * "line": line buffering; output is buffered until a newline is output or\n     *   there is any input from some special files (such as a terminal device).\n     *   For the last two cases, size specifies the size of the buffer, in bytes.\n     *   The default is an appropriate size.\n     */\n    setvbuf(mode: \'no\' | \'full\' | \'line\', size?: number): void;\n\n    /**\n     * Writes the value of each of its arguments to file. The arguments must be\n     * strings or numbers.\n     *\n     * In case of success, this function returns file. Otherwise it returns nil\n     * plus a string describing the error.\n     */\n    write(...args: (string | number)[]): LuaMultiReturn<[LuaFile] | [undefined, string]>;\n}\n'},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},PTeM:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return c}));var n=i("MNsG"),o=i("N0LK"),r=i("MrjW");function s(e){return-1===e.indexOf("/")&&(e=function(e){return e.replace(/[\\/]/g,r.e.sep)}(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e}function a(e,t,i,n=r.h){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(i){if(!Object(o.S)(e,t))return!1;if(t.length===e.length)return!0;let i=t.length;return t.charAt(t.length-1)===n&&i--,e.charAt(i)===n}return t.charAt(t.length-1)!==n&&(t+=n),0===e.indexOf(t)}function l(e){const t=Object(r.d)(e);return n.j?!(e.length>3)&&(c(t)&&(2===e.length||92===t.charCodeAt(2))):t===r.e.sep}function c(e){return!!n.j&&(((t=e.charCodeAt(0))>=65&&t<=90||t>=97&&t<=122)&&58===e.charCodeAt(1));var t}},Q4rV:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("HpOR"),o=i("bY76");function r(e){let t=JSON.parse(e);return t=function e(t,i=0){if(!t||i>200)return t;if("object"==typeof t){switch(t.$mid){case 1:return o.a.revive(t);case 2:return new RegExp(t.source,t.flags)}if(t instanceof n.a||t instanceof Uint8Array)return t;if(Array.isArray(t))for(let n=0;n<t.length;++n)t[n]=e(t[n],i+1);else for(const n in t)Object.hasOwnProperty.call(t,n)&&(t[n]=e(t[n],i+1))}return t}(t),t}},QDVR:function(e,t,i){"use strict";i.d(t,"c",(function(){return u})),i.d(t,"b",(function(){return g})),i.d(t,"a",(function(){return m}));var n,o,r=i("bY76"),s=i("N0LK");class a{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class l{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){if(46===this._value.charCodeAt(this._to)){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?Object(s.h)(e,this._value,0,e.length,this._from,this._to):Object(s.i)(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class c{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?Object(s.h)(e,this._value,0,e.length,this._from,this._to):Object(s.i)(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class h{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new c(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return Object(s.g)(e,this._value.scheme);if(2===this._states[this._stateIdx])return Object(s.g)(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return Object(s.f)(e,this._value.query);if(5===this._states[this._stateIdx])return Object(s.f)(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class d{isEmpty(){return!(this.left||this.mid||this.right||this.value)}}class u{constructor(e){this._iter=e}static forUris(e=(()=>!1)){return new u(new h(e))}static forStrings(){return new u(new a)}static forConfigKeys(){return new u(new l)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let n;for(this._root||(this._root=new d,this._root.segment=i.value()),n=this._root;;){const e=i.cmp(n.segment);if(e>0)n.left||(n.left=new d,n.left.segment=i.value()),n=n.left;else if(e<0)n.right||(n.right=new d,n.right.segment=i.value()),n=n.right;else{if(!i.hasNext())break;i.next(),n.mid||(n.mid=new d,n.mid.segment=i.value()),n=n.mid}}const o=n.value;return n.value=t,n.key=e,o}get(e){var t;return null===(t=this._getNode(e))||void 0===t?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())break;t.next(),i=i.mid}}return i}has(e){const t=this._getNode(e);return!(void 0===(null==t?void 0:t.value)&&void 0===(null==t?void 0:t.mid))}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),n=[];let o=this._root;for(;o;){const e=i.cmp(o.segment);if(e>0)n.push([1,o]),o=o.left;else if(e<0)n.push([-1,o]),o=o.right;else{if(!i.hasNext()){for(t?(o.left=void 0,o.mid=void 0,o.right=void 0):o.value=void 0;n.length>0&&o.isEmpty();){let[e,t]=n.pop();switch(e){case 1:t.left=void 0;break;case 0:t.mid=void 0;break;case-1:t.right=void 0}o=t}break}i.next(),n.push([0,o]),o=o.mid}}}findSubstr(e){const t=this._iter.reset(e);let i=this._root,n=void 0;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())break;t.next(),n=i.value||n,i=i.mid}}return i&&i.value||n}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())return i.mid?this._entries(i.mid):void 0;t.next(),i=i.mid}}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){if(!e)return;const t=[e];for(;t.length>0;){const e=t.pop();e&&(e.value&&(yield[e.key,e.value]),e.left&&t.push(e.left),e.mid&&t.push(e.mid),e.right&&t.push(e.right))}}}class g{constructor(e,t){this[n]="ResourceMap",e instanceof g?(this.map=new Map(e.map),this.toKey=null!=t?t:g.defaultToKey):(this.map=new Map,this.toKey=null!=e?e:g.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),t),this}get(e){return this.map.get(this.toKey(e))}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){void 0!==t&&(e=e.bind(t));for(let[i,n]of this.map)e(n,r.a.parse(i),this)}values(){return this.map.values()}*keys(){for(let e of this.map.keys())yield r.a.parse(e)}*entries(){for(let e of this.map.entries())yield[r.a.parse(e[0]),e[1]]}*[(n=Symbol.toStringTag,Symbol.iterator)](){for(let e of this.map)yield[r.a.parse(e[0]),e[1]]}}g.defaultToKey=e=>e.toString();class p{constructor(){this[o]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return 0!==t&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,0!==i&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:default:this.addItemLast(n)}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.key,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.value,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:[i.key,i.value],done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}[(o=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(t.previous=i,i.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,i=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=i,i.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class m extends p{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},QMLA:function(e,t,i){},QRHv:function(e,t,i){"use strict";i.d(t,"f",(function(){return l})),i.d(t,"b",(function(){return d})),i.d(t,"c",(function(){return u})),i.d(t,"a",(function(){return p})),i.d(t,"e",(function(){return b})),i.d(t,"d",(function(){return _}));var n=i("6OMU"),o=i("4bUh"),r=i("cGHE"),s=i("aokT"),a=i("twdY");function l(e){let t=0,i=0,n=0,o=0;for(let r=0,s=e.length;r<s;r++){const a=e.charCodeAt(r);13===a?(0===t&&(i=r),t++,r+1<s&&10===e.charCodeAt(r+1)?(o|=2,r++):o|=3,n=r+1):10===a&&(o|=1,0===t&&(i=r),t++,n=r+1)}return 0===t&&(i=e.length),[t,i,e.length-n,o]}function c(e){return(16384|e<<0|2<<23)>>>0}const h=new Uint32Array(0).buffer;class d{constructor(){this.tokens=[]}add(e,t){if(this.tokens.length>0){const i=this.tokens[this.tokens.length-1];if(i.startLineNumber+i.tokens.length-1+1===e)return void i.tokens.push(t)}this.tokens.push(new m(e,[t]))}}class u{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(0===e)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new s.a(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const n=t+Math.floor((i-t)/2),o=this._getDeltaLine(n);if(o<e)t=n+1;else{if(!(o>e)){let o=n;for(;o>t&&this._getDeltaLine(o-1)===e;)o--;let r=n;for(;r<i&&this._getDeltaLine(r+1)===e;)r++;return new g(this._tokens.subarray(4*o,4*r+4))}i=n-1}}return this._getDeltaLine(t)===e?new g(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){const o=this._tokens,r=this._tokenCount;let s=0,a=!1,l=0;for(let c=0;c<r;c++){const r=4*c,h=o[r],d=o[r+1],u=o[r+2],g=o[r+3];if((h>e||h===e&&u>=t)&&(h<i||h===i&&d<=n))a=!0;else{if(0===s&&(l=h),a){const e=4*s;o[e]=h-l,o[e+1]=d,o[e+2]=u,o[e+3]=g}s++}}return this._tokenCount=s,l}split(e,t,i,n){const o=this._tokens,r=this._tokenCount;let s=[],a=[],l=s,c=0,h=0;for(let d=0;d<r;d++){const r=4*d,s=o[r],u=o[r+1],g=o[r+2],p=o[r+3];if(s>e||s===e&&g>=t){if(s<i||s===i&&u<=n)continue;l!==a&&(l=a,c=0,h=s)}l[c++]=s-h,l[c++]=u,l[c++]=g,l[c++]=p}return[new u(new Uint32Array(s)),new u(new Uint32Array(a)),h]}acceptDeleteRange(e,t,i,n,o){const r=this._tokens,s=this._tokenCount,a=n-t;let l=0,c=!1;for(let h=0;h<s;h++){const d=4*h;let u=r[d],g=r[d+1],p=r[d+2];const m=r[d+3];if(u<t||u===t&&p<=i){l++;continue}if(u===t&&g<i)u===n&&p>o?p-=o-i:p=i;else if(u===t&&g===i){if(!(u===n&&p>o)){c=!0;continue}p-=o-i}else if(u<n||u===n&&g<o){if(!(u===n&&p>o)){c=!0;continue}u===t?(g=i,p=g+(p-o)):(g=0,p=g+(p-o))}else if(u>n){if(0===a&&!c){l=s;break}u-=a}else{if(!(u===n&&g>=o))throw new Error("Not possible!");e&&0===u&&(g+=e,p+=e),u-=a,g-=o-i,p-=o-i}const f=4*l;r[f]=u,r[f+1]=g,r[f+2]=p,r[f+3]=m,l++}this._tokenCount=l}acceptInsertText(e,t,i,n,o,r){const s=0===i&&1===n&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),a=this._tokens,l=this._tokenCount;for(let c=0;c<l;c++){const r=4*c;let l=a[r],h=a[r+1],d=a[r+2];if(!(l<e||l===e&&d<t)){if(l===e&&d===t){if(!s)continue;d+=1}else if(l===e&&h<t&&t<d)0===i?d+=n:d=t;else{if(l===e&&h===t&&s)continue;if(l===e)if(l+=i,0===i)h+=n,d+=n;else{const e=d-h;h=o+(h-t),d=h+e}else l+=i}a[r]=l,a[r+1]=h,a[r+2]=d}}}}class g{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}class p{constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){const e=this.tokens.getRange();return e?new s.a(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn):e}removeTokens(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber,[n,o,r]=this.tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new p(this.startLineNumber,n),new p(this.startLineNumber+r,o)]}applyEdit(e,t){const[i,n,o]=l(t);this.acceptEdit(e,i,n,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,o){this._acceptDeleteRange(e),this._acceptInsertText(new r.a(e.startLineNumber,e.startColumn),t,i,n,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;if(i<0){const e=i-t;return void(this.startLineNumber-=e)}const n=this.tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1)return this.startLineNumber=0,void this.tokens.clear();if(t<0){const n=-t;this.startLineNumber-=n,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,o){if(0===t&&0===i)return;const r=e.lineNumber-this.startLineNumber;if(r<0)return void(this.startLineNumber+=t);r>=this.tokens.getMaxDeltaLine()+1||this.tokens.acceptInsertText(r,e.column-1,t,i,n,o)}}class m{constructor(e,t){this.startLineNumber=e,this.tokens=t}}function f(e){return e instanceof Uint32Array?e:new Uint32Array(e)}class b{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const n=t[0].getRange(),o=t[t.length-1].getRange();if(!n||!o)return e;i=e.plusRange(n).plusRange(o)}let o=null;for(let n=0,r=this._pieces.length;n<r;n++){const e=this._pieces[n];if(e.endLineNumber<i.startLineNumber)continue;if(e.startLineNumber>i.endLineNumber){o=o||{index:n};break}if(e.removeTokens(i),e.isEmpty()){this._pieces.splice(n,1),n--,r--;continue}if(e.endLineNumber<i.startLineNumber)continue;if(e.startLineNumber>i.endLineNumber){o=o||{index:n};continue}const[t,s]=e.split(i);t.isEmpty()?o=o||{index:n}:s.isEmpty()||(this._pieces.splice(n,1,t,s),n++,r++,o=o||{index:n})}return o=o||{index:this._pieces.length},t.length>0&&(this._pieces=n.b(this._pieces,o.index,t)),i}isComplete(){return this._isComplete}addSemanticTokens(e,t){const i=this._pieces;if(0===i.length)return t;const n=i[b._findFirstPieceWithLine(i,e)].getLineTokens(e);if(!n)return t;const r=t.getCount(),s=n.getCount();let a=0,l=[],c=0,h=0;const d=(e,t)=>{e!==h&&(h=e,l[c++]=e,l[c++]=t)};for(let o=0;o<s;o++){const e=n.getStartCharacter(o),i=n.getEndCharacter(o),s=n.getMetadata(o),l=((1&s?2048:0)|(2&s?4096:0)|(4&s?8192:0)|(8&s?8372224:0)|(16&s?4286578688:0))>>>0,c=~l>>>0;for(;a<r&&t.getEndOffset(a)<=e;)d(t.getEndOffset(a),t.getMetadata(a)),a++;for(a<r&&t.getStartOffset(a)<e&&d(e,t.getMetadata(a));a<r&&t.getEndOffset(a)<i;)d(t.getEndOffset(a),t.getMetadata(a)&c|s&l),a++;if(a<r)d(i,t.getMetadata(a)&c|s&l),t.getEndOffset(a)===i&&a++;else{const e=Math.min(Math.max(0,a-1),r-1);d(i,t.getMetadata(e)&c|s&l)}}for(;a<r;)d(t.getEndOffset(a),t.getMetadata(a)),a++;return new o.a(new Uint32Array(l),t.getLineContent())}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let o=i+Math.floor((n-i)/2);if(e[o].endLineNumber<t)i=o+1;else{if(!(e[o].startLineNumber>t)){for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}n=o-1}}return i}acceptEdit(e,t,i,n,o){for(const r of this._pieces)r.acceptEdit(e,t,i,n,o)}}class _{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),null!==n&&n!==h)return new o.a(f(n),i);let r=new Uint32Array(2);return r[0]=i.length,r[1]=c(e),new o.a(r,i)}static _massageTokens(e,t,i){const n=i?f(i):null;if(0===t){let t=!1;if(n&&n.length>1&&(t=a.E.getLanguageId(n[1])!==e),!t)return h}if(!n||0===n.length){const i=new Uint32Array(2);return i[0]=t,i[1]=c(e),i.buffer}return n[n.length-2]=t,0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=n.b(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,o){const r=_._massageTokens(e,i,n);this._ensureLine(t);const s=this._lineTokens[t];return this._lineTokens[t]=r,!!o&&!_._equals(s,r)}static _equals(e,t){if(!e||!t)return!e&&!t;const i=f(e),n=f(t);if(i.length!==n.length)return!1;for(let o=0,r=i.length;o<r;o++)if(i[o]!==n[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new r.a(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=_._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=_._deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let n=null;i<this._len&&(n=_._deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=_._append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(0===t&&0===i)return;const n=e.lineNumber-1;n>=this._len||(0!==t?(this._lineTokens[n]=_._deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=_._insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)):this._lineTokens[n]=_._insert(this._lineTokens[n],e.column-1,i))}static _deleteBeginning(e,t){return null===e||e===h?e:_._delete(e,0,t)}static _deleteEnding(e,t){if(null===e||e===h)return e;const i=f(e),n=i[i.length-2];return _._delete(e,t,n)}static _delete(e,t,i){if(null===e||e===h||t===i)return e;const n=f(e),r=n.length>>>1;if(0===t&&n[n.length-2]===i)return h;const s=o.a.findIndexInTokensArray(n,t),a=s>0?n[s-1<<1]:0;if(i<n[s<<1]){const o=i-t;for(let e=s;e<r;e++)n[e<<1]-=o;return e}let l,c;a!==t?(n[s<<1]=t,l=s+1<<1,c=t):(l=s<<1,c=a);const d=i-t;for(let o=s+1;o<r;o++){const e=n[o<<1]-d;e>c&&(n[l++]=e,n[l++]=n[1+(o<<1)],c=e)}if(l===n.length)return e;let u=new Uint32Array(l);return u.set(n.subarray(0,l),0),u.buffer}static _append(e,t){if(t===h)return e;if(e===h)return t;if(null===e)return e;if(null===t)return null;const i=f(e),n=f(t),o=n.length>>>1;let r=new Uint32Array(i.length+n.length);r.set(i,0);let s=i.length;const a=i[i.length-2];for(let l=0;l<o;l++)r[s++]=n[l<<1]+a,r[s++]=n[1+(l<<1)];return r.buffer}static _insert(e,t,i){if(null===e||e===h)return e;const n=f(e),r=n.length>>>1;let s=o.a.findIndexInTokensArray(n,t);if(s>0){n[s-1<<1]===t&&s--}for(let o=s;o<r;o++)n[o<<1]+=i;return e}}},QaAZ:function(e,t,i){},QuOb:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("MI8n"),o=i("pmY6");class r{constructor(e,t,i,n,o,r){this._scrollStateBrand=void 0,e|=0,t|=0,i|=0,n|=0,o|=0,r|=0,this.rawScrollLeft=i,this.rawScrollTop=r,e<0&&(e=0),i+e>t&&(i=t-e),i<0&&(i=0),n<0&&(n=0),r+n>o&&(r=o-n),r<0&&(r=0),this.width=e,this.scrollWidth=t,this.scrollLeft=i,this.height=n,this.scrollHeight=o,this.scrollTop=r}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new r(void 0!==e.width?e.width:this.width,void 0!==e.scrollWidth?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,void 0!==e.height?e.height:this.height,void 0!==e.scrollHeight?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new r(this.width,this.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,s=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:r,scrollHeightChanged:s,scrollTopChanged:a}}}class s extends o.a{constructor(e,t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new n.b),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new r(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const i=this._state.withScrollDimensions(e,t);this._setState(i,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:void 0===e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:void 0===e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;n=t?new c(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const t=this._state.withScrollPosition(e);this._smoothScrolling=c.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);return this._setState(t,!0),this._smoothScrolling?e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})):void 0}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class a{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function l(e,t){const i=t-e;return function(t){return e+i*(1-function(e){return Math.pow(e,3)}(1-t))}}class c{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let s,a;return e<t?(s=e+.75*i,a=t-.75*i):(s=e-.75*i,a=t+.75*i),n=l(e,s),o=l(a,t),r=.33,function(e){return e<r?n(e/r):o((e-r)/(1-r))}}var n,o,r;return l(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const e=this.scrollLeft(t),i=this.scrollTop(t);return new a(e,i,!1)}return new a(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return c.start(e,t,i)}static start(e,t,i){i+=10;const n=Date.now()-10;return new c(e,t,n,i)}}},R0Hg:function(e,t,i){"use strict";i.r(t),t.default="/** @noSelfInFile */\n\n/**\n * Loads a chunk using function func to get its pieces. Each call to func must\n * return a string that concatenates with previous results. A return of an empty\n * string, nil, or no value signals the end of the chunk.\n *\n * If there are no errors, returns the compiled chunk as a function; otherwise,\n * returns nil plus the error message. The environment of the returned function\n * is the global environment.\n *\n * chunkname is used as the chunk name for error messages and debug information.\n * When absent, it defaults to \"=(load)\".\n */\ndeclare function load(\n    func: () => string | null | undefined,\n    chunkname?: string\n): LuaMultiReturn<[() => any] | [undefined, string]>;\n\n/**\n * Similar to load, but gets the chunk from file filename or from the standard\n * input, if no file name is given.\n */\ndeclare function loadfile(filename?: string): LuaMultiReturn<[() => any] | [undefined, string]>;\n\n/**\n * Similar to load, but gets the chunk from the given string.\n *\n * To load and run a given string, use the idiom\n *\n * `assert(loadstring(s))()`\n *\n * When absent, chunkname defaults to the given string.\n */\ndeclare function loadstring(\n    string: string,\n    chunkname?: string\n): LuaMultiReturn<[() => any] | [undefined, string]>;\n\n/**\n * This function is similar to pcall, except that it sets a new message handler\n * msgh.\n *\n * xpcall calls function f in protected mode, using err as the error handler.\n * Any error inside f is not propagated; instead, xpcall catches the error,\n * calls the err function with the original error object, and returns a status\n * code. Its first result is the status code (a boolean), which is true if the\n * call succeeds without errors. In this case, xpcall also returns all results\n * from the call, after this first result. In case of any error, xpcall returns\n * false plus the result from err.\n */\ndeclare function xpcall<R, E>(\n    f: () => R,\n    err: (err: any) => E\n): LuaMultiReturn<[true, R] | [false, E]>;\n\ndeclare namespace math {\n    /**\n     * Returns the logarithm of x.\n     */\n    function log(x: number): number;\n}\n\ndeclare namespace string {\n    /**\n     * Returns a string that is the concatenation of n copies of the string s.\n     */\n    function rep(s: string, n: number): string;\n}\n\ndeclare namespace os {\n    /**\n     * Calls the C function exit, with an optional code, to terminate the host\n     * program. The default value for code is the success code.\n     */\n    function exit(code?: number): never;\n}\n\ndeclare namespace debug {\n    /**\n     * This function returns the name and the value of the local variable with\n     * index local of the function at level level of the stack. (The first\n     * parameter or local variable has index 1, and so on, until the last active\n     * local variable.) The function returns nil if there is no local variable\n     * with the given index, and raises an error when called with a level out of\n     * range. (You can call debug.getinfo to check whether the level is valid.)\n     *\n     * Variable names starting with '(' (open parentheses) represent internal\n     * variables (loop control variables, temporaries, and C function locals).\n     */\n    function getlocal(level: number, local: number): LuaMultiReturn<[string, any]>;\n    function getlocal(\n        thread: LuaThread,\n        level: number,\n        local: number\n    ): LuaMultiReturn<[string, any]>;\n}\n\ndeclare namespace io {\n    type FileReadNumberFormat = '*n';\n    type FileReadLineFormat = '*l';\n    type FileReadFormat = FileReadNumberFormat | FileReadLineFormat | '*a' | number;\n}\n"},R3nR:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return s}));var n=i("Cg/j"),o=i("T8No");const r=Object(n.c)("accessibilityService"),s=new o.c("accessibilityModeEnabled",!1)},R8sh:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("labelService")},RMfO:function(e,t,i){},RNvc:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface ProxyHandler<T extends object> {\r\n    apply?(target: T, thisArg: any, argArray: any[]): any;\r\n    construct?(target: T, argArray: any[], newTarget: Function): object;\r\n    defineProperty?(target: T, p: string | symbol, attributes: PropertyDescriptor): boolean;\r\n    deleteProperty?(target: T, p: string | symbol): boolean;\r\n    get?(target: T, p: string | symbol, receiver: any): any;\r\n    getOwnPropertyDescriptor?(target: T, p: string | symbol): PropertyDescriptor | undefined;\r\n    getPrototypeOf?(target: T): object | null;\r\n    has?(target: T, p: string | symbol): boolean;\r\n    isExtensible?(target: T): boolean;\r\n    ownKeys?(target: T): ArrayLike<string | symbol>;\r\n    preventExtensions?(target: T): boolean;\r\n    set?(target: T, p: string | symbol, value: any, receiver: any): boolean;\r\n    setPrototypeOf?(target: T, v: object | null): boolean;\r\n}\r\n\r\ninterface ProxyConstructor {\r\n    revocable<T extends object>(target: T, handler: ProxyHandler<T>): { proxy: T; revoke: () => void; };\r\n    new <T extends object>(target: T, handler: ProxyHandler<T>): T;\r\n}\r\ndeclare var Proxy: ProxyConstructor;\r\n'},RpmQ:function(e,t){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;var o,r,s=0|t,a=Math.max(s>=0?s:n-Math.abs(s),0);for(;a<n;){if((o=i[a])===(r=e)||"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))return!0;a++}return!1}}),Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e})},S3by:function(e,t,i){"use strict";var n,o=i("N0LK");!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(n||(n={})),function(e){e.fromValue=function(t){return t?o.s("error",t)?e.Error:o.s("warning",t)||o.s("warn",t)?e.Warning:o.s("info",t)?e.Info:e.Ignore:e.Ignore},e.toString=function(t){switch(t){case e.Error:return"error";case e.Warning:return"warning";case e.Info:return"info";default:return"ignore"}}}(n||(n={})),t.a=n},Sdnv:function(e,t,i){"use strict";function n(e,t,i){return Math.min(Math.max(e,t),i)}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}));class o{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this}get value(){return this._val}}},SmQN:function(e,t,i){"use strict";i.d(t,"a",(function(){return ue}));i("lKfe");var n,o=i("3/fG"),r=i("EffR"),s=i("ZlPH"),a=i("cMOf"),l=i("X+cX"),c=i("MI8n"),h=i("pmY6"),d=i("HdwC"),u=i("vATl"),g=i("Vxe3"),p=i("nB0o"),m=(i("DTDp"),i("WqXY")),f=i("GJhM"),b=i("8HAY"),_=i("sswD"),v=i("/UlZ"),C=i("4bUh"),w=i("cGHE"),y=i("kYye"),S=i("baJR"),L=i("qNAo"),x=i("T8No"),k=i("MD5Z"),D=i("t9D7"),I=i("Vhoy"),O=i("v1vZ"),N=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class E{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class T{constructor(e){this.entries=e}}const M=Object(O.b)("diff-review-insert",I.b.add,o.a("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),A=Object(O.b)("diff-review-remove",I.b.remove,o.a("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),R=Object(O.b)("diff-review-close",I.b.close,o.a("diffReviewCloseIcon","Icon for 'Close' in diff review."));class P extends h.a{constructor(e){super(),this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=Object(s.b)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=Object(s.b)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new m.a(this.actionBarContainer.domNode)),this._actionBar.push(new b.a("diffreview.close",o.a("label.close","Close"),"close-diff-review "+D.d.asClassName(R),!0,()=>N(this,void 0,void 0,(function*(){return this.hide()}))),{label:!1,icon:!0}),this.domNode=Object(s.b)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=Object(s.b)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new f.a(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(r.o(this.domNode.domNode,"click",e=>{e.preventDefault();let t=r.x(e.target,"diff-review-row");t&&this._goToRow(t)})),this._register(r.o(this.domNode.domNode,"keydown",e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new w.a(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new w.a(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new w.a(e,1)),this._diffEditor.revealPosition(new w.a(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];const t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return t&&i?P._mergeAdjacent(e,t.getLineCount(),i.getLineCount()):[]}static _mergeAdjacent(e,t,i){if(!e||0===e.length)return[];let n=[],o=0;for(let l=0,c=e.length;l<c;l++){const r=e[l],s=r.originalStartLineNumber,a=r.originalEndLineNumber,h=r.modifiedStartLineNumber,d=r.modifiedEndLineNumber;let u=[],g=0;{const t=0===a?s:s-1,i=0===d?h:h-1;let n=1,o=1;if(l>0){const t=e[l-1];n=0===t.originalEndLineNumber?t.originalStartLineNumber+1:t.originalEndLineNumber+1,o=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber+1:t.modifiedEndLineNumber+1}let r=t-3+1,c=i-3+1;if(r<n){const e=n-r;r+=e,c+=e}if(c<o){const e=o-c;r+=e,c+=e}u[g++]=new E(r,t,c,i)}0!==a&&(u[g++]=new E(s,a,0,0)),0!==d&&(u[g++]=new E(0,0,h,d));{const n=0===a?s+1:a+1,o=0===d?h+1:d+1;let r=t,p=i;if(l+1<c){const t=e[l+1];r=0===t.originalEndLineNumber?t.originalStartLineNumber:t.originalStartLineNumber-1,p=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1}let m=n+3-1,f=o+3-1;if(m>r){const e=r-m;m+=e,f+=e}if(f>p){const e=p-f;m+=e,f+=e}u[g++]=new E(n,m,o,f)}n[o++]=new T(u)}let r=n[0].entries,s=[],a=0;for(let l=1,c=n.length;l<c;l++){const e=n[l].entries,t=r[r.length-1],i=e[0];0===t.getType()&&0===i.getType()&&i.originalLineStart<=t.originalLineEnd?(r[r.length-1]=new E(t.originalLineStart,i.originalLineEnd,t.modifiedLineStart,i.modifiedLineEnd),r=r.concat(e.slice(1))):(s[a++]=new T(r),r=e)}return s[a++]=new T(r),s}_findDiffIndex(e){const t=e.lineNumber;for(let i=0,n=this._diffs.length;i<n;i++){const e=this._diffs[i].entries;if(t<=e[e.length-1].modifiedLineEnd)return i}return 0}_render(){const e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel(),s=i.getOptions(),a=n.getOptions();if(!this._isVisible||!i||!n)return r.t(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const l=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[l]===this._currentDiff)return;this._currentDiff=this._diffs[l];const c=this._diffs[l].entries;let h=document.createElement("div");h.className="diff-review-table",h.setAttribute("role","list"),h.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),d.a.applyFontInfoSlow(h,t.get(41));let u=0,g=0,p=0,m=0;for(let o=0,r=c.length;o<r;o++){const e=c[o],t=e.originalLineStart,i=e.originalLineEnd,n=e.modifiedLineStart,r=e.modifiedLineEnd;0!==t&&(0===u||t<u)&&(u=t),0!==i&&(0===g||i>g)&&(g=i),0!==n&&(0===p||n<p)&&(p=n),0!==r&&(0===m||r>m)&&(m=r)}let f=document.createElement("div");f.className="diff-review-row";let b=document.createElement("div");b.className="diff-review-cell diff-review-summary";const _=g-u+1,v=m-p+1;b.appendChild(document.createTextNode(`${l+1}/${this._diffs.length}: @@ -${u},${_} +${p},${v} @@`)),f.setAttribute("data-line",String(p));const C=e=>0===e?o.a("no_lines_changed","no lines changed"):1===e?o.a("one_line_changed","1 line changed"):o.a("more_lines_changed","{0} lines changed",e),w=C(_),y=C(v);f.setAttribute("aria-label",o.a({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",l+1,this._diffs.length,u,w,p,y)),f.appendChild(b),f.setAttribute("role","listitem"),h.appendChild(f);const S=t.get(57);let L=p;for(let o=0,r=c.length;o<r;o++){const r=c[o];P._renderSection(h,r,L,S,this._width,e,i,s,t,n,a),0!==r.modifiedLineStart&&(L=r.modifiedLineEnd)}r.t(this._content.domNode),this._content.domNode.appendChild(h),this.scrollbar.scanDomNode()}static _renderSection(e,t,i,n,r,s,a,l,c,h,d){const u=t.getType();let g="diff-review-row",p="";let m=null;switch(u){case 1:g="diff-review-row line-insert",p=" char-insert",m=M;break;case 2:g="diff-review-row line-delete",p=" char-delete",m=A}const f=t.originalLineStart,b=t.originalLineEnd,_=t.modifiedLineStart,v=t.modifiedLineEnd,C=Math.max(v-_,b-f),w=s.get(129),y=w.glyphMarginWidth+w.lineNumbersWidth,S=c.get(129),L=10+S.glyphMarginWidth+S.lineNumbersWidth;for(let x=0;x<=C;x++){const t=0===f?0:f+x,b=0===_?0:_+x,v=document.createElement("div");v.style.minWidth=r+"px",v.className=g,v.setAttribute("role","listitem"),0!==b&&(i=b),v.setAttribute("data-line",String(i));let C=document.createElement("div");C.className="diff-review-cell",C.style.height=n+"px",v.appendChild(C);const w=document.createElement("span");w.style.width=y+"px",w.style.minWidth=y+"px",w.className="diff-review-line-number"+p,0!==t?w.appendChild(document.createTextNode(String(t))):w.innerText=" ",C.appendChild(w);const S=document.createElement("span");S.style.width=L+"px",S.style.minWidth=L+"px",S.style.paddingRight="10px",S.className="diff-review-line-number"+p,0!==b?S.appendChild(document.createTextNode(String(b))):S.innerText=" ",C.appendChild(S);const k=document.createElement("span");if(k.className="diff-review-spacer",m){const e=document.createElement("span");e.className=D.d.asClassName(m),e.innerText="  ",k.appendChild(e)}else k.innerText="  ";let I;if(C.appendChild(k),0!==b){let e=this._renderLine(h,c,d.tabSize,b);P._ttPolicy&&(e=P._ttPolicy.createHTML(e)),C.insertAdjacentHTML("beforeend",e),I=h.getLineContent(b)}else{let e=this._renderLine(a,s,l.tabSize,t);P._ttPolicy&&(e=P._ttPolicy.createHTML(e)),C.insertAdjacentHTML("beforeend",e),I=a.getLineContent(t)}0===I.length&&(I=o.a("blankLine","blank"));let O="";switch(u){case 0:O=t===b?o.a({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",I,t):o.a("equalLine","{0} original line {1} modified line {2}",I,t,b);break;case 1:O=o.a("insertLine","+ {0} modified line {1}",I,b);break;case 2:O=o.a("deleteLine","- {0} original line {1}",I,t)}v.setAttribute("aria-label",O),e.appendChild(v)}}static _renderLine(e,t,i,n){const o=e.getLineContent(n),r=t.get(41),s=C.a.createEmpty(o),a=L.f.isBasicASCII(o,e.mightContainNonBasicASCII()),l=L.f.containsRTL(o,a,e.mightContainRTL());return Object(S.e)(new S.c(r.isMonospace&&!t.get(27),r.canUseHalfwidthRightwardsArrow,o,!1,a,l,0,s,[],i,0,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,t.get(104),t.get(87),t.get(81),t.get(42)!==v.e.OFF,null)).html}}P._ttPolicy=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("diffReview",{createHTML:e=>e}),Object(D.f)((e,t)=>{const i=e.getColor(y.k);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`);const n=e.getColor(k.yc);n&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${n} 0 -6px 6px -6px inset; }`)});class F extends _.b{constructor(){super({id:"editor.action.diffReview.next",label:o.a("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:x.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=B(e);i&&i.diffReviewNext()}}class j extends _.b{constructor(){super({id:"editor.action.diffReview.prev",label:o.a("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:x.a.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=B(e);i&&i.diffReviewPrev()}}function B(e){const t=e.get(g.a),i=t.listDiffEditors(),n=t.getActiveCodeEditor();if(!n)return null;for(let o=0,r=i.length;o<r;o++){const e=i[o];if(e.getModifiedEditor().getId()===n.getId()||e.getOriginalEditor().getId()===n.getId())return e}return null}Object(_.j)(F),Object(_.j)(j);var W=i("aokT"),V=i("erNZ"),H=i("iuje"),z=i("tX9W"),U=i("pAvP"),K=i("MvK1"),q=i("dBaI"),$=i("Cg/j"),G=i("8HsV"),Y=i("sM1p"),Z=i("Uzvx"),X=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class Q extends h.a{constructor(e,t,i,n,s,a){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=s,this._clipboardService=a,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=I.b.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const l=i.getOption(57),c=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=l+"px",this._diffActions.style.lineHeight=l+"px",this._marginDomNode.appendChild(this._diffActions);const h=[];h.push(new b.a("diff.clipboard.copyDeletedContent",n.originalEndLineNumber>n.modifiedStartLineNumber?o.a("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):o.a("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,()=>X(this,void 0,void 0,(function*(){const e=new W.a(n.originalStartLineNumber,1,n.originalEndLineNumber+1,1),t=n.originalModel.getValueInRange(e);yield this._clipboardService.writeText(t)}))));let d=0,u=void 0;n.originalEndLineNumber>n.modifiedStartLineNumber&&(u=new b.a("diff.clipboard.copyDeletedLineContent",o.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber),void 0,!0,()=>X(this,void 0,void 0,(function*(){const e=n.originalModel.getLineContent(n.originalStartLineNumber+d);yield this._clipboardService.writeText(e)}))),h.push(u));i.getOption(79)||h.push(new b.a("diff.inline.revertChange",o.a("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>X(this,void 0,void 0,(function*(){const e=new W.a(n.originalStartLineNumber,1,n.originalEndLineNumber,n.originalModel.getLineMaxColumn(n.originalEndLineNumber)),t=n.originalModel.getValueInRange(e);if(0===n.modifiedEndLineNumber){const e=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new W.a(n.modifiedStartLineNumber,e,n.modifiedStartLineNumber,e),text:c+t}])}else{const e=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new W.a(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,e),text:t}])}}))));const g=(e,t)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:e,y:t}),getActions:()=>(u&&(u.label=o.a("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber+d)),h),autoSelectFirstItem:!0})};this._register(r.o(this._diffActions,"mousedown",e=>{const{top:t,height:i}=r.D(this._diffActions);let n=Math.floor(l/3);e.preventDefault(),g(e.posx,t+i+n)})),this._register(i.onMouseMove(e=>{if(8===e.target.type||5===e.target.type){e.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,d=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,l)):this.visibility=!1}else this.visibility=!1})),this._register(i.onMouseDown(e=>{if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),d=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,l),g(e.event.posx,e.event.posy+l))}}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,t,i){const{top:n}=r.D(e),o=t-n,s=Math.floor(o/i),a=s*i;if(this._diffActions.style.top=a+"px",this.diff.viewLineCounts){let e=0;for(let t=0;t<this.diff.viewLineCounts.length;t++)if(e+=this.diff.viewLineCounts[t],s<e)return t}return s}}var J,ee=i("9XeP"),te=i("/cxE"),ie=i("tTk5"),ne=i("o39E"),oe=i("51su"),re=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},se=function(e,t){return function(i,n){t(i,n,e)}};class ae{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(e=>!this._zonesMap[String(e.id)])}clean(e){this._zones.length>0&&e.changeViewZones(e=>{for(const t of this._zones)e.removeZone(t)}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,n){const o=n?u.c.capture(e):null;e.changeViewZones(t=>{for(const e of this._zones)t.removeZone(e);for(const e of this._inlineDiffMargins)e.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let n=0,o=i.zones.length;n<o;n++){const o=i.zones[n];o.suppressMouseDown=!0;const r=t.addZone(o);this._zones.push(r),this._zonesMap[String(r)]=!0,i.zones[n].diff&&o.marginDomNode&&(o.suppressMouseDown=!1,this._inlineDiffMargins.push(new Q(r,o.marginDomNode,e,i.zones[n].diff,this._contextMenuService,this._clipboardService)))}}),o&&o.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}}let le=0;const ce=Object(O.b)("diff-insert",I.b.add,o.a("diffInsertIcon","Line decoration for inserts in the diff editor.")),he=Object(O.b)("diff-remove",I.b.remove,o.a("diffRemoveIcon","Line decoration for removals in the diff editor.")),de=null===(J=window.trustedTypes)||void 0===J?void 0:J.createPolicy("diffEditorWidget",{createHTML:e=>e});let ue=class e extends h.a{constructor(t,i,n,o,a,h,d,u,g,p,m,f){super(),this._editorProgressService=f,this._onDidDispose=this._register(new c.b),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new c.b),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new c.b),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=a,this._codeEditorService=u,this._contextKeyService=this._register(h.createScoped(t)),this._instantiationService=d.createChild(new G.a([x.b,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=g,this._notificationService=p,this._id=++le,this._state=0,this._updatingDiffProgress=null,this._domElement=t,i=i||{},this._renderSideBySide=!0,void 0!==i.renderSideBySide&&(this._renderSideBySide=i.renderSideBySide),this._maxComputationTime=5e3,void 0!==i.maxComputationTime&&(this._maxComputationTime=i.maxComputationTime),this._ignoreTrimWhitespace=!0,void 0!==i.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=i.ignoreTrimWhitespace),this._renderIndicators=!0,void 0!==i.renderIndicators&&(this._renderIndicators=i.renderIndicators),this._originalIsEditable=Object(v.k)(i.originalEditable,!1),this._diffCodeLens=Object(v.k)(i.diffCodeLens,!1),this._diffWordWrap=ye(i.diffWordWrap,"inherit"),void 0!==i.isInEmbeddedEditor?this._contextKeyService.createKey("isInEmbeddedDiffEditor",i.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,void 0!==i.renderOverviewRuler&&(this._renderOverviewRuler=Boolean(i.renderOverviewRuler)),this._updateDecorationsRunner=this._register(new l.e(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=Object(s.b)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(r.o(this._overviewDomElement,"mousedown",e=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new ae(m,o),this._modifiedEditorState=new ae(m,o),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new ne.a(this._containerDomElement,i.dimension,()=>this._onDidContainerSizeChanged())),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(i,n.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(i,n.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new P(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,void 0!==i.enableSplitViewResizing&&(this._enableSplitViewResizing=i.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new _e(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new Ce(this._createDataSource(),this._enableSplitViewResizing)),this._register(g.onDidColorThemeChange(t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const b=_.d.getDiffEditorContributions();for(const e of b)try{this._register(d.createInstance(e.ctor,this))}catch(C){Object(te.e)(C)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=Object(D.e)(e.type),i}_recreateOverviewRulers(){this._renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,i){const n=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),i);this._register(n.onDidScrollChange(e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(n.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(n.onDidChangeConfiguration(e=>{n.getModel()&&(e.hasChanged(41)&&this._updateDecorationsRunner.schedule(),e.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(n.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const o=this._contextKeyService.createKey("isInDiffLeftEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget(()=>o.set(!0))),this._register(n.onDidBlurEditorWidget(()=>o.set(!1))),this._register(n.onDidContentSizeChange(t=>{const i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})})),n}_createRightHandSideEditor(t,i){const n=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),i);this._register(n.onDidScrollChange(e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(n.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(n.onDidChangeConfiguration(e=>{n.getModel()&&(e.hasChanged(41)&&this._updateDecorationsRunner.schedule(),e.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(n.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(n.onDidChangeModelOptions(e=>{e.tabSize&&this._updateDecorationsRunner.schedule()}));const o=this._contextKeyService.createKey("isInDiffRightEditor",n.hasWidgetFocus());return this._register(n.onDidFocusEditorWidget(()=>o.set(!0))),this._register(n.onDidBlurEditorWidget(()=>o.set(!1))),this._register(n.onDidContentSizeChange(t=>{const i=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})})),n}_createInnerEditor(e,t,i,n){return e.createInstance(p.a,t,i,n)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return H.a.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){let i=!1;void 0!==t.renderSideBySide&&this._renderSideBySide!==t.renderSideBySide&&(this._renderSideBySide=t.renderSideBySide,i=!0),void 0!==t.maxComputationTime&&(this._maxComputationTime=t.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let n=!1;void 0!==t.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==t.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=t.ignoreTrimWhitespace,n=!0),void 0!==t.renderIndicators&&this._renderIndicators!==t.renderIndicators&&(this._renderIndicators=t.renderIndicators,n=!0),n&&this._beginUpdateDecorations(),this._originalIsEditable=Object(v.k)(t.originalEditable,this._originalIsEditable),this._diffCodeLens=Object(v.k)(t.diffCodeLens,this._diffCodeLens),this._diffWordWrap=ye(t.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),void 0!==t.enableSplitViewResizing&&(this._enableSplitViewResizing=t.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),i&&(this._renderSideBySide?this._setStrategy(new _e(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new Ce(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),void 0!==t.renderOverviewRuler&&this._renderOverviewRuler!==t.renderOverviewRuler&&(this._renderOverviewRuler=t.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this._modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._renderOverviewRuler)return;if(!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),n=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:n+e.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:t-i}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),e.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),i=this._modifiedEditor.getModel();if(!t||!i)return;this._diffComputationToken++;const n=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(t.uri,i.uri)?this._editorWorkerService.computeDiff(t.uri,i.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(e=>{n===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},e=>{n===this._diffComputationToken&&t===this._originalEditor.getModel()&&i===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())}):e._equals(t.uri,this._lastOriginalWarning)&&e._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(o.a("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._renderSideBySide?t.wordWrapOverride1=this._diffWordWrap:t.wordWrapOverride1="off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._originalIsEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const i=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(i.ariaLabel=t.modifiedAriaLabel),i.wordWrapOverride1=this._diffWordWrap,i.revealHorizontalRightPadding=v.g.revealHorizontalRightPadding.defaultValue+e.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},i),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-n+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:o,height:i-n}),this._modifiedEditor.layout({width:t-o-(this._renderOverviewRuler?e.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:i-n}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-n,t,n),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),o=Math.max(0,n-0),r=i>0?o/i:0;return{height:Math.max(0,Math.floor(e.height*r)),top:Math.floor(t*r)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;let n=0,o=i.length-1;for(;n<o;){const r=Math.floor((n+o)/2),s=t(i[r]),a=r+1<=o?t(i[r+1]):1073741824;e<s?o=r-1:e>=a?n=r+1:(n=r,o=r)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,e=>e.originalStartLineNumber);if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=o?n+Math.min(s,r):n+r-o+s}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,e=>e.modifiedStartLineNumber);if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return s<=r?i+Math.min(s,o):i+o-r+s}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};ue.ONE_OVERVIEW_WIDTH=15,ue.ENTIRE_DIFF_OVERVIEW_WIDTH=30,ue.UPDATE_DIFF_DECORATIONS_DELAY=200,ue=re([se(3,ee.a),se(4,U.a),se(5,x.b),se(6,$.a),se(7,g.a),se(8,D.b),se(9,Y.a),se(10,Z.a),se(11,ie.a)],ue);class ge extends h.a{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=(e.getColor(k.m)||k.i).transparent(2),i=(e.getColor(k.o)||k.j).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,o){o=o.sort((e,t)=>e.afterLineNumber-t.afterLineNumber),n=n.sort((e,t)=>e.afterLineNumber-t.afterLineNumber);const r=this._getViewZones(e,n,o,i),s=this._getOriginalEditorDecorations(e,t,i),a=this._getModifiedEditorDecorations(e,t,i);return{original:{decorations:s.decorations,overviewZones:s.overviewZones,zones:r.original},modified:{decorations:a.decorations,overviewZones:a.overviewZones,zones:r.modified}}}}class pe{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class me{constructor(e,t,i,n,o){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=n,this._modifiedEditor=o}static _getViewLineCount(e,t,i){const n=e.getModel(),o=e._getViewModel();if(n&&o){const e=ke(n,o,t,i);return e.endLineNumber-e.startLineNumber+1}return i-t+1}getViewZones(){const e=this._originalEditor.getOption(57),t=this._modifiedEditor.getOption(57),i=-1!==this._originalEditor.getOption(130).wrappingColumn,n=-1!==this._modifiedEditor.getOption(130).wrappingColumn,o=i||n,r=this._originalEditor.getModel(),s=this._originalEditor._getViewModel().coordinatesConverter,a=this._modifiedEditor._getViewModel().coordinatesConverter,l=[],c=[];let h=0,d=0,u=0,g=0,p=0,m=0;const f=(e,t)=>e.afterLineNumber-t.afterLineNumber,b=(e,t)=>{if(null===t.domNode&&e.length>0){const i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)},_=new pe(this._modifiedForeignVZ),v=new pe(this._originalForeignVZ);let C=1,w=1;for(let y=0,S=this._lineChanges.length;y<=S;y++){const i=y<S?this._lineChanges[y]:null;null!==i?(u=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),g=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),d=i.originalEndLineNumber>0?me._getViewLineCount(this._originalEditor,i.originalStartLineNumber,i.originalEndLineNumber):0,h=i.modifiedEndLineNumber>0?me._getViewLineCount(this._modifiedEditor,i.modifiedStartLineNumber,i.modifiedEndLineNumber):0,p=Math.max(i.originalStartLineNumber,i.originalEndLineNumber),m=Math.max(i.modifiedStartLineNumber,i.modifiedEndLineNumber)):(u+=1e7+d,g+=1e7+h,p=u,m=g);let n=[],L=[];if(o){let e;e=i?i.originalEndLineNumber>0?i.originalStartLineNumber-C:i.modifiedStartLineNumber-w:r.getLineCount()-C;for(let t=0;t<e;t++){const e=C+t,i=w+t,o=s.getModelLineViewLineCount(e),r=a.getModelLineViewLineCount(i);o<r?n.push({afterLineNumber:e,heightInLines:r-o,domNode:null,marginDomNode:null}):o>r&&L.push({afterLineNumber:i,heightInLines:o-r,domNode:null,marginDomNode:null})}i&&(C=(i.originalEndLineNumber>0?i.originalEndLineNumber:i.originalStartLineNumber)+1,w=(i.modifiedEndLineNumber>0?i.modifiedEndLineNumber:i.modifiedStartLineNumber)+1)}for(;_.current&&_.current.afterLineNumber<=m;){let e;e=_.current.afterLineNumber<=g?u-g+_.current.afterLineNumber:p;let o=null;i&&i.modifiedStartLineNumber<=_.current.afterLineNumber&&_.current.afterLineNumber<=i.modifiedEndLineNumber&&(o=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),n.push({afterLineNumber:e,heightInLines:_.current.height/t,domNode:null,marginDomNode:o}),_.advance()}for(;v.current&&v.current.afterLineNumber<=p;){let t;t=v.current.afterLineNumber<=u?g-u+v.current.afterLineNumber:m,L.push({afterLineNumber:t,heightInLines:v.current.height/e,domNode:null}),v.advance()}if(null!==i&&Se(i)){const e=this._produceOriginalFromDiff(i,d,h);e&&n.push(e)}if(null!==i&&Le(i)){const e=this._produceModifiedFromDiff(i,d,h);e&&L.push(e)}let x=0,k=0;for(n=n.sort(f),L=L.sort(f);x<n.length&&k<L.length;){const e=n[x],t=L[k],i=e.afterLineNumber-u,o=t.afterLineNumber-g;i<o?(b(l,e),x++):o<i?(b(c,t),k++):e.shouldNotShrink?(b(l,e),x++):t.shouldNotShrink?(b(c,t),k++):e.heightInLines>=t.heightInLines?(e.heightInLines-=t.heightInLines,k++):(t.heightInLines-=e.heightInLines,x++)}for(;x<n.length;)b(l,n[x]),x++;for(;k<L.length;)b(c,L[k]),k++}return{original:me._ensureDomNodes(l),modified:me._ensureDomNodes(c)}}static _ensureDomNodes(e){return e.map(e=>(e.domNode||(e.domNode=xe()),e))}}function fe(e,t,i,n,o){return{range:new W.a(e,t,i,n),options:o}}const be={charDelete:z.a.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:z.a.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:z.a.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:z.a.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:z.a.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:z.a.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+D.d.asClassName(ce),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:z.a.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:z.a.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+D.d.asClassName(he),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:z.a.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class _e extends ge{constructor(e,t){super(e),this._disableSash=!1===t,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new a.b(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(e=>this._onSashDrag(e)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(e){const t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ue.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let i=Math.floor((e||.5)*t);const n=Math.floor(.5*t);return i=this._disableSash?n:i||n,t>2*_e.MINIMUM_EDITOR_WIDTH?(i<_e.MINIMUM_EDITOR_WIDTH&&(i=_e.MINIMUM_EDITOR_WIDTH),i>t-_e.MINIMUM_EDITOR_WIDTH&&(i=t-_e.MINIMUM_EDITOR_WIDTH)):i=n,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){const t=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ue.ENTIRE_DIFF_OVERVIEW_WIDTH:0),i=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=i/t,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){const n=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new ve(e,t,i,n,o).getViewZones()}_getOriginalEditorDecorations(e,t,i){const n=this._dataSource.getOriginalEditor(),o=String(this._removeColor),r={decorations:[],overviewZones:[]},s=n.getModel(),a=n._getViewModel();for(const l of e)if(Le(l)){r.decorations.push({range:new W.a(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:i?be.lineDeleteWithSign:be.lineDelete}),Se(l)&&l.charChanges||r.decorations.push(fe(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824,be.charDeleteWholeLine));const e=ke(s,a,l.originalStartLineNumber,l.originalEndLineNumber);if(r.overviewZones.push(new K.a(e.startLineNumber,e.endLineNumber,o)),l.charChanges)for(const i of l.charChanges)if(Le(i))if(t)for(let e=i.originalStartLineNumber;e<=i.originalEndLineNumber;e++){let t,n;t=e===i.originalStartLineNumber?i.originalStartColumn:s.getLineFirstNonWhitespaceColumn(e),n=e===i.originalEndLineNumber?i.originalEndColumn:s.getLineLastNonWhitespaceColumn(e),r.decorations.push(fe(e,t,e,n,be.charDelete))}else r.decorations.push(fe(i.originalStartLineNumber,i.originalStartColumn,i.originalEndLineNumber,i.originalEndColumn,be.charDelete))}return r}_getModifiedEditorDecorations(e,t,i){const n=this._dataSource.getModifiedEditor(),o=String(this._insertColor),r={decorations:[],overviewZones:[]},s=n.getModel(),a=n._getViewModel();for(const l of e)if(Se(l)){r.decorations.push({range:new W.a(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824),options:i?be.lineInsertWithSign:be.lineInsert}),Le(l)&&l.charChanges||r.decorations.push(fe(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824,be.charInsertWholeLine));const e=ke(s,a,l.modifiedStartLineNumber,l.modifiedEndLineNumber);if(r.overviewZones.push(new K.a(e.startLineNumber,e.endLineNumber,o)),l.charChanges)for(const i of l.charChanges)if(Se(i))if(t)for(let e=i.modifiedStartLineNumber;e<=i.modifiedEndLineNumber;e++){let t,n;t=e===i.modifiedStartLineNumber?i.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(e),n=e===i.modifiedEndLineNumber?i.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(e),r.decorations.push(fe(e,t,e,n,be.charInsert))}else r.decorations.push(fe(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn,be.charInsert))}return r}}_e.MINIMUM_EDITOR_WIDTH=100;class ve extends me{constructor(e,t,i,n,o){super(e,t,i,n,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class Ce extends ge{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(t=>{this._decorationsLeft!==t.decorationsLeft&&(this._decorationsLeft=t.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n){const o=this._dataSource.getOriginalEditor(),r=this._dataSource.getModifiedEditor();return new we(e,t,i,o,r,n).getViewZones()}_getOriginalEditorDecorations(e,t,i){const n=String(this._removeColor),o={decorations:[],overviewZones:[]},r=this._dataSource.getOriginalEditor(),s=r.getModel(),a=r._getViewModel();for(const l of e)if(Le(l)){o.decorations.push({range:new W.a(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:be.lineDeleteMargin});const e=ke(s,a,l.originalStartLineNumber,l.originalEndLineNumber);o.overviewZones.push(new K.a(e.startLineNumber,e.endLineNumber,n))}return o}_getModifiedEditorDecorations(e,t,i){const n=this._dataSource.getModifiedEditor(),o=String(this._insertColor),r={decorations:[],overviewZones:[]},s=n.getModel(),a=n._getViewModel();for(const l of e)if(Se(l)){r.decorations.push({range:new W.a(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824),options:i?be.lineInsertWithSign:be.lineInsert});const e=ke(s,a,l.modifiedStartLineNumber,l.modifiedEndLineNumber);if(r.overviewZones.push(new K.a(e.startLineNumber,e.endLineNumber,o)),l.charChanges){for(const i of l.charChanges)if(Se(i))if(t)for(let e=i.modifiedStartLineNumber;e<=i.modifiedEndLineNumber;e++){let t,n;t=e===i.modifiedStartLineNumber?i.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(e),n=e===i.modifiedEndLineNumber?i.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(e),r.decorations.push(fe(e,t,e,n,be.charInsert))}else r.decorations.push(fe(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn,be.charInsert))}else r.decorations.push(fe(l.modifiedStartLineNumber,1,l.modifiedEndLineNumber,1073741824,be.charInsertWholeLine))}return r}layout(){return Math.max(5,this._decorationsLeft)}}class we extends me{constructor(e,t,i,n,o,r){super(e,t,i,n,o),this._originalModel=n.getModel(),this._renderIndicators=r,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){const n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){const n=document.createElement("div");n.className="view-lines line-delete "+oe.a;const o=document.createElement("div");o.className="inline-deleted-margin-view-zone";const r={shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:n,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let s=e.originalStartLineNumber;s<=e.originalEndLineNumber;s++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(s),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(r),r}_finalize(e){const t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,n=t.get(41),o=t.get(27),r=n.typicalHalfwidthCharacterWidth,s=t.get(92),a=this._originalModel.mightContainNonBasicASCII(),l=this._originalModel.mightContainRTL(),c=t.get(57),h=t.get(129).decorationsWidth,u=t.get(104),g=t.get(87),p=t.get(81),m=t.get(42),f=this._lineBreaksComputer.finalize();let b=0;for(let _=0;_<this._pendingLineChange.length;_++){const t=this._pendingLineChange[_],v=this._pendingViewZones[_],C=v.domNode;d.a.applyFontInfoSlow(C,n);const w=v.marginDomNode;d.a.applyFontInfoSlow(w,n);const y=[];if(t.charChanges)for(const e of t.charChanges)Le(e)&&y.push(new L.a(new W.a(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),"char-delete",0));const S=y.length>0,x=Object(V.a)(1e4);let k=0,D=0,I=null;for(let r=t.originalStartLineNumber;r<=t.originalEndLineNumber;r++){const s=r-t.originalStartLineNumber,d=this._originalModel.getLineTokens(r),_=d.getLineContent(),C=f[b++],L=q.a.filter(y,r,1,_.length+1);if(C){let t=0;for(const e of C.breakOffsets){const r=d.sliceAndInflate(t,e,0),s=_.substring(t,e);k=Math.max(k,this._renderOriginalLine(D++,s,r,q.a.extractWrapped(L,t,e),S,a,l,n,o,c,h,u,g,p,m,i,x,w)),t=e}for(I||(I=[]);I.length<s;)I[I.length]=1;I[s]=C.breakOffsets.length,v.heightInLines+=C.breakOffsets.length-1;const f=document.createElement("div");f.className="line-delete",e.original.push({afterLineNumber:r,afterColumn:0,heightInLines:C.breakOffsets.length-1,domNode:xe(),marginDomNode:f})}else k=Math.max(k,this._renderOriginalLine(D++,_,d,L,S,a,l,n,o,c,h,u,g,p,m,i,x,w))}k+=s;const O=x.build(),N=de?de.createHTML(O):O;if(C.innerHTML=N,v.minWidthInPx=k*r,I){const e=t.originalEndLineNumber-t.originalStartLineNumber;for(;I.length<=e;)I[I.length]=1}v.diff.viewLineCounts=I}e.original.sort((e,t)=>e.afterLineNumber-t.afterLineNumber)}_renderOriginalLine(e,t,i,n,o,r,s,a,l,c,h,d,u,g,p,m,f,b){f.appendASCIIString('<div class="view-line'),o||f.appendASCIIString(" char-delete"),f.appendASCIIString('" style="top:'),f.appendASCIIString(String(e*c)),f.appendASCIIString('px;width:1000000px;">');const _=L.f.isBasicASCII(t,r),C=L.f.containsRTL(t,_,s),w=Object(S.d)(new S.c(a.isMonospace&&!l,a.canUseHalfwidthRightwardsArrow,t,!1,_,C,0,i,n,m,0,a.spaceWidth,a.middotWidth,a.wsmiddotWidth,d,u,g,p!==v.e.OFF,null),f);if(f.appendASCIIString("</div>"),this._renderIndicators){const t=document.createElement("div");t.className="delete-sign "+D.d.asClassName(he),t.setAttribute("style",`position:absolute;top:${e*c}px;width:${h}px;height:${c}px;right:0;`),b.appendChild(t)}return w.characterMapping.getAbsoluteOffset(w.characterMapping.length)}}function ye(e,t){return Object(v.n)(e,t,["off","on","inherit"])}function Se(e){return e.modifiedEndLineNumber>0}function Le(e){return e.originalEndLineNumber>0}function xe(){const e=document.createElement("div");return e.className="diagonal-fill",e}function ke(e,t,i,n){const o=e.getLineCount();return i=Math.min(o,Math.max(1,i)),n=Math.min(o,Math.max(1,n)),t.coordinatesConverter.convertModelRangeToViewRange(new W.a(i,e.getLineMinColumn(i),n,e.getLineMaxColumn(n)))}Object(D.f)((e,t)=>{const i=e.getColor(k.m);i&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${i}; }`));const n=e.getColor(k.o);n&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${n}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${n}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${n}; }`));const o=e.getColor(k.n);o&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===e.type?"dashed":"solid"} ${o}; }`);const r=e.getColor(k.p);r&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===e.type?"dashed":"solid"} ${r}; }`);const s=e.getColor(k.yc);s&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${s}; }`);const a=e.getColor(k.k);a&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const l=e.getColor(k.Ac);l&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${l};\n\t\t\t}\n\t\t`);const c=e.getColor(k.Bc);c&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${c};\n\t\t\t}\n\t\t`);const h=e.getColor(k.zc);h&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${h};\n\t\t\t}\n\t\t`);const d=e.getColor(k.l);t.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${d} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${d} 50%, ${d} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)})},Ssw4:function(e,t,i){e.exports=function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,i){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,i){if(e){if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,i):void 0}}(e))||i&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var n=function(e){var t={exports:{}};return e(t,t.exports),t.exports}((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:t,changeDefaults:function(t){e.exports.defaults=t}}})),o=/[&<>"']/,r=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(e){return l[e]},h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function d(e){return e.replace(h,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var u=/(^|[^\[])\^/g,g=/[^\w:]/g,p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,m={},f=/^[^:]+:\/*[^/]*$/,b=/^([^:]+:)[\s\S]*$/,_=/^([^:]+:\/*[^/]*)[\s\S]*$/;function v(e,t){m[" "+e]||(f.test(e)?m[" "+e]=e+"/":m[" "+e]=C(e,"/",!0));var i=-1===(e=m[" "+e]).indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(b,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(_,"$1")+t:e+t}function C(e,t,i){var n=e.length;if(0===n)return"";for(var o=0;o<n;){var r=e.charAt(n-o-1);if(r!==t||i){if(r===t||!i)break;o++}else o++}return e.substr(0,n-o)}var w=function(e,t){if(t){if(o.test(e))return e.replace(r,c)}else if(s.test(e))return e.replace(a,c);return e},y=d,S=function(e,t){e=e.source||e,t=t||"";var i={replace:function(t,n){return n=(n=n.source||n).replace(u,"$1"),e=e.replace(t,n),i},getRegex:function(){return new RegExp(e,t)}};return i},L=function(e,t,i){if(e){var n;try{n=decodeURIComponent(d(i)).replace(g,"").toLowerCase()}catch(o){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!p.test(i)&&(i=v(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(o){return null}return i},x={exec:function(){}},k=function(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},D=function(e,t){var i=e.replace(/\|/g,(function(e,t,i){for(var n=!1,o=t;--o>=0&&"\\"===i[o];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i},I=C,O=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var i=e.length,n=0,o=0;o<i;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&--n<0)return o;return-1},N=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},E=function(e,t){if(t<1)return"";for(var i="";t>1;)1&t&&(i+=e),t>>=1,e+=e;return i+e},T=n.defaults,M=I,A=D,R=w,P=O;function F(e,t,i){var n=t.href,o=t.title?R(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:i,href:n,title:o,text:r}:{type:"image",raw:i,href:n,title:o,text:R(r)}}var j=function(){function e(e){this.options=e||T}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:M(i,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var i=t[0],n=function(e,t){var i=e.match(/^(\s+)(?:```)/);if(null===i)return t;var n=i[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=n.length?e.slice(n.length):e})).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:n}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var i=t[2].trim();if(/#$/.test(i)){var n=M(i,"#");this.options.pedantic?i=n.trim():n&&!/ $/.test(n)||(i=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var i={type:"table",header:A(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(i.header.length===i.align.length){var n,o=i.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(i.align[n])?i.align[n]="right":/^ *:-+: *$/.test(i.align[n])?i.align[n]="center":/^ *:-+ *$/.test(i.align[n])?i.align[n]="left":i.align[n]=null;for(o=i.cells.length,n=0;n<o;n++)i.cells[n]=A(i.cells[n],i.header.length);return i}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:i}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var i,n,o,r,s,a,l,c,h=t[0],d=t[2],u=d.length>1,g={type:"list",raw:h,ordered:u,start:u?+d.slice(0,-1):"",loose:!1,items:[]},p=t[0].match(this.rules.block.item),m=!1,f=p.length;o=this.rules.block.listItemStart.exec(p[0]);for(var b=0;b<f;b++){if(h=i=p[b],b!==f-1){if(r=this.rules.block.listItemStart.exec(p[b+1]),this.options.pedantic?r[1].length>o[1].length:r[1].length>o[0].length||r[1].length>3){p.splice(b,2,p[b]+"\n"+p[b+1]),b--,f--;continue}(!this.options.pedantic||this.options.smartLists?r[2][r[2].length-1]!==d[d.length-1]:u===(1===r[2].length))&&(s=p.slice(b+1).join("\n"),g.raw=g.raw.substring(0,g.raw.length-s.length),b=f-1),o=r}n=i.length,~(i=i.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(n-=i.length,i=this.options.pedantic?i.replace(/^ {1,4}/gm,""):i.replace(new RegExp("^ {1,"+n+"}","gm"),"")),a=m||/\n\n(?!\s*$)/.test(i),b!==f-1&&(m="\n"===i.charAt(i.length-1),a||(a=m)),a&&(g.loose=!0),this.options.gfm&&(c=void 0,(l=/^\[[ xX]\] /.test(i))&&(c=" "!==i[1],i=i.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:h,task:l,checked:c,loose:a,text:i})}return g}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):R(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var i={type:"table",header:A(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=t[0];var n,o=i.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(i.align[n])?i.align[n]="right":/^ *:-+: *$/.test(i.align[n])?i.align[n]="center":/^ *:-+ *$/.test(i.align[n])?i.align[n]="left":i.align[n]=null;for(o=i.cells.length,n=0;n<o;n++)i.cells[n]=A(i.cells[n].replace(/^ *\| *| *\| *$/g,""),i.header.length);return i}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:R(t[1])}},t.tag=function(e,t,i){var n=this.rules.inline.tag.exec(e);if(n)return!t&&/^<a /i.test(n[0])?t=!0:t&&/^<\/a>/i.test(n[0])&&(t=!1),!i&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?i=!0:i&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(i=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:t,inRawBlock:i,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):R(n[0]):n[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;var n=M(i.slice(0,-1),"\\");if((i.length-n.length)%2==0)return}else{var o=P(t[2],"()");if(o>-1){var r=(0===t[0].indexOf("!")?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,r).trim(),t[3]=""}}var s=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);l&&(s=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(i)?s.slice(1):s.slice(1,-1)),F(t,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0])}},t.reflink=function(e,t){var i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){var n=(i[2]||i[1]).replace(/\s+/g," ");if(!(n=t[n.toLowerCase()])||!n.href){var o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return F(i,n,i[0])}},t.emStrong=function(e,t,i){void 0===i&&(i="");var n=this.rules.inline.emStrong.lDelim.exec(e);if(n&&(!n[3]||!i.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=n[1]||n[2]||"";if(!o||o&&(""===i||this.rules.inline.punctuation.exec(i))){var r,s,a=n[0].length-1,l=a,c=0,h="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+a);null!=(n=h.exec(t));)if(r=n[1]||n[2]||n[3]||n[4]||n[5]||n[6])if(s=r.length,n[3]||n[4])l+=s;else if(!((n[5]||n[6])&&a%3)||(a+s)%3){if(!((l-=s)>0)){if(l+c-s<=0&&!t.slice(h.lastIndex).match(h)&&(s=Math.min(s,s+l+c)),Math.min(a,s)%2)return{type:"em",raw:e.slice(0,a+n.index+s+1),text:e.slice(1,a+n.index+s)};if(Math.min(a,s)%2==0)return{type:"strong",raw:e.slice(0,a+n.index+s+1),text:e.slice(2,a+n.index+s-1)}}}else c+=s}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var i=t[2].replace(/\n/g," "),n=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return n&&o&&(i=i.substring(1,i.length-1)),i=R(i,!0),{type:"codespan",raw:t[0],text:i}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var i,n,o=this.rules.inline.autolink.exec(e);if(o)return n="@"===o[2]?"mailto:"+(i=R(this.options.mangle?t(o[1]):o[1])):i=R(o[1]),{type:"link",raw:o[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}},t.url=function(e,t){var i;if(i=this.rules.inline.url.exec(e)){var n,o;if("@"===i[2])o="mailto:"+(n=R(this.options.mangle?t(i[0]):i[0]));else{var r;do{r=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(r!==i[0]);n=R(i[0]),o="www."===i[1]?"http://"+n:n}return{type:"link",raw:i[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}},t.inlineText=function(e,t,i){var n,o=this.rules.inline.text.exec(e);if(o)return n=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):R(o[0]):o[0]:R(this.options.smartypants?i(o[0]):o[0]),{type:"text",raw:o[0],text:n}},e}(),B=x,W=S,V=k,H={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:B,table:B,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};H.def=W(H.def).replace("label",H._label).replace("title",H._title).getRegex(),H.bullet=/(?:[*+-]|\d{1,9}[.)])/,H.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,H.item=W(H.item,"gm").replace(/bull/g,H.bullet).getRegex(),H.listItemStart=W(/^( *)(bull)/).replace("bull",H.bullet).getRegex(),H.list=W(H.list).replace(/bull/g,H.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+H.def.source+")").getRegex(),H._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",H._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,H.html=W(H.html,"i").replace("comment",H._comment).replace("tag",H._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),H.paragraph=W(H._paragraph).replace("hr",H.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",H._tag).getRegex(),H.blockquote=W(H.blockquote).replace("paragraph",H.paragraph).getRegex(),H.normal=V({},H),H.gfm=V({},H.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),H.gfm.nptable=W(H.gfm.nptable).replace("hr",H.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",H._tag).getRegex(),H.gfm.table=W(H.gfm.table).replace("hr",H.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",H._tag).getRegex(),H.pedantic=V({},H.normal,{html:W("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",H._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:B,paragraph:W(H.normal._paragraph).replace("hr",H.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",H.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var z={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:B,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:B,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};z.punctuation=W(z.punctuation).replace(/punctuation/g,z._punctuation).getRegex(),z.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,z.escapedEmSt=/\\\*|\\_/g,z._comment=W(H._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),z.emStrong.lDelim=W(z.emStrong.lDelim).replace(/punct/g,z._punctuation).getRegex(),z.emStrong.rDelimAst=W(z.emStrong.rDelimAst,"g").replace(/punct/g,z._punctuation).getRegex(),z.emStrong.rDelimUnd=W(z.emStrong.rDelimUnd,"g").replace(/punct/g,z._punctuation).getRegex(),z._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,z._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,z._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,z.autolink=W(z.autolink).replace("scheme",z._scheme).replace("email",z._email).getRegex(),z._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,z.tag=W(z.tag).replace("comment",z._comment).replace("attribute",z._attribute).getRegex(),z._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,z._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,z._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,z.link=W(z.link).replace("label",z._label).replace("href",z._href).replace("title",z._title).getRegex(),z.reflink=W(z.reflink).replace("label",z._label).getRegex(),z.reflinkSearch=W(z.reflinkSearch,"g").replace("reflink",z.reflink).replace("nolink",z.nolink).getRegex(),z.normal=V({},z),z.pedantic=V({},z.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:W(/^!?\[(label)\]\((.*?)\)/).replace("label",z._label).getRegex(),reflink:W(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",z._label).getRegex()}),z.gfm=V({},z.normal,{escape:W(z.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),z.gfm.url=W(z.gfm.url,"i").replace("email",z.gfm._extended_email).getRegex(),z.breaks=V({},z.gfm,{br:W(z.br).replace("{2,}","*").getRegex(),text:W(z.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var U={block:H,inline:z},K=n.defaults,q=U.block,$=U.inline,G=E;function Y(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Z(e){var t,i,n="",o=e.length;for(t=0;t<o;t++)i=e.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),n+="&#"+i+";";return n}var X=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||K,this.options.tokenizer=this.options.tokenizer||new j,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:q.normal,inline:$.normal};this.options.pedantic?(t.block=q.pedantic,t.inline=$.pedantic):this.options.gfm&&(t.block=q.gfm,this.options.breaks?t.inline=$.breaks:t.inline=$.gfm),this.tokenizer.rules=t}t.lex=function(e,i){return new t(i).lex(e)},t.lexInline=function(e,i){return new t(i).inlineTokens(e)};var i,n,o,r=t.prototype;return r.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},r.blockTokens=function(e,t,i){var n,o,r,s;for(void 0===t&&(t=[]),void 0===i&&(i=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),n.type&&t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),(s=t[t.length-1])&&"paragraph"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text):t.push(n);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.nptable(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),n.tokens=this.blockTokens(n.text,[],i),t.push(n);else if(n=this.tokenizer.list(e)){for(e=e.substring(n.raw.length),r=n.items.length,o=0;o<r;o++)n.items[o].tokens=this.blockTokens(n.items[o].text,[],!1);t.push(n)}else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(i&&(n=this.tokenizer.def(e)))e=e.substring(n.raw.length),this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else if(i&&(n=this.tokenizer.paragraph(e)))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),(s=t[t.length-1])&&"text"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text):t.push(n);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return t},r.inline=function(e){var t,i,n,o,r,s,a=e.length;for(t=0;t<a;t++)switch((s=e[t]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},o=s.header.length,i=0;i<o;i++)s.tokens.header[i]=[],this.inlineTokens(s.header[i],s.tokens.header[i]);for(o=s.cells.length,i=0;i<o;i++)for(r=s.cells[i],s.tokens.cells[i]=[],n=0;n<r.length;n++)s.tokens.cells[i][n]=[],this.inlineTokens(r[n],s.tokens.cells[i][n]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(o=s.items.length,i=0;i<o;i++)this.inline(s.items[i].tokens)}return e},r.inlineTokens=function(e,t,i,n){var o,r;void 0===t&&(t=[]),void 0===i&&(i=!1),void 0===n&&(n=!1);var s,a,l,c=e;if(this.tokens.links){var h=Object.keys(this.tokens.links);if(h.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(c));)h.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+G("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,s.index)+"["+G("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,o=this.tokenizer.escape(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.tag(e,i,n)){e=e.substring(o.raw.length),i=o.inLink,n=o.inRawBlock;var d=t[t.length-1];d&&"text"===o.type&&"text"===d.type?(d.raw+=o.raw,d.text+=o.text):t.push(o)}else if(o=this.tokenizer.link(e))e=e.substring(o.raw.length),"link"===o.type&&(o.tokens=this.inlineTokens(o.text,[],!0,n)),t.push(o);else if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);var u=t[t.length-1];"link"===o.type?(o.tokens=this.inlineTokens(o.text,[],!0,n),t.push(o)):u&&"text"===o.type&&"text"===u.type?(u.raw+=o.raw,u.text+=o.text):t.push(o)}else if(o=this.tokenizer.emStrong(e,c,l))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],i,n),t.push(o);else if(o=this.tokenizer.codespan(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.br(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.del(e))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],i,n),t.push(o);else if(o=this.tokenizer.autolink(e,Z))e=e.substring(o.raw.length),t.push(o);else if(i||!(o=this.tokenizer.url(e,Z))){if(o=this.tokenizer.inlineText(e,n,Y))e=e.substring(o.raw.length),"_"!==o.raw.slice(-1)&&(l=o.raw.slice(-1)),a=!0,(r=t[t.length-1])&&"text"===r.type?(r.raw+=o.raw,r.text+=o.text):t.push(o);else if(e){var g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}throw new Error(g)}}else e=e.substring(o.raw.length),t.push(o);return t},i=t,o=[{key:"rules",get:function(){return{block:q,inline:$}}}],(n=null)&&e(i.prototype,n),o&&e(i,o),t}(),Q=n.defaults,J=L,ee=w,te=function(){function e(e){this.options=e||Q}var t=e.prototype;return t.code=function(e,t,i){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,n);null!=o&&o!==e&&(i=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+ee(n,!0)+'">'+(i?e:ee(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:ee(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(i)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,i){if(null===(e=J(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<a href="'+ee(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>"},t.image=function(e,t,i){if(null===(e=J(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),ie=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,i){return""+i},t.image=function(e,t,i){return""+i},t.br=function(){return""},e}(),ne=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var i=e,n=0;if(this.seen.hasOwnProperty(i)){n=this.seen[e];do{i=e+"-"+ ++n}while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=n,this.seen[i]=0),i},t.slug=function(e,t){void 0===t&&(t={});var i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)},e}(),oe=n.defaults,re=y,se=function(){function e(e){this.options=e||oe,this.options.renderer=this.options.renderer||new te,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ie,this.slugger=new ne}e.parse=function(t,i){return new e(i).parse(t)},e.parseInline=function(t,i){return new e(i).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var i,n,o,r,s,a,l,c,h,d,u,g,p,m,f,b,_,v,C="",w=e.length;for(i=0;i<w;i++)switch((d=e[i]).type){case"space":continue;case"hr":C+=this.renderer.hr();continue;case"heading":C+=this.renderer.heading(this.parseInline(d.tokens),d.depth,re(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":C+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",r=d.header.length,n=0;n<r;n++)l+=this.renderer.tablecell(this.parseInline(d.tokens.header[n]),{header:!0,align:d.align[n]});for(c+=this.renderer.tablerow(l),h="",r=d.cells.length,n=0;n<r;n++){for(l="",s=(a=d.tokens.cells[n]).length,o=0;o<s;o++)l+=this.renderer.tablecell(this.parseInline(a[o]),{header:!1,align:d.align[o]});h+=this.renderer.tablerow(l)}C+=this.renderer.table(c,h);continue;case"blockquote":h=this.parse(d.tokens),C+=this.renderer.blockquote(h);continue;case"list":for(u=d.ordered,g=d.start,p=d.loose,r=d.items.length,h="",n=0;n<r;n++)b=(f=d.items[n]).checked,_=f.task,m="",f.task&&(v=this.renderer.checkbox(b),p?f.tokens.length>0&&"text"===f.tokens[0].type?(f.tokens[0].text=v+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=v+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:v}):m+=v),m+=this.parse(f.tokens,p),h+=this.renderer.listitem(m,_,b);C+=this.renderer.list(h,u,g);continue;case"html":C+=this.renderer.html(d.text);continue;case"paragraph":C+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(h=d.tokens?this.parseInline(d.tokens):d.text;i+1<w&&"text"===e[i+1].type;)h+="\n"+((d=e[++i]).tokens?this.parseInline(d.tokens):d.text);C+=t?this.renderer.paragraph(h):h;continue;default:var y='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(y);throw new Error(y)}return C},t.parseInline=function(e,t){t=t||this.renderer;var i,n,o="",r=e.length;for(i=0;i<r;i++)switch((n=e[i]).type){case"escape":o+=t.text(n.text);break;case"html":o+=t.html(n.text);break;case"link":o+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":o+=t.image(n.href,n.title,n.text);break;case"strong":o+=t.strong(this.parseInline(n.tokens,t));break;case"em":o+=t.em(this.parseInline(n.tokens,t));break;case"codespan":o+=t.codespan(n.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(n.tokens,t));break;case"text":o+=t.text(n.text);break;default:var s='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}return o},e}(),ae=k,le=N,ce=w,he=n.getDefaults,de=n.changeDefaults,ue=n.defaults;function ge(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(i=t,t=null),t=ae({},ge.defaults,t||{}),le(t),i){var n,o=t.highlight;try{n=X.lex(e,t)}catch(l){return i(l)}var r=function(e){var r;if(!e)try{r=se.parse(n,t)}catch(l){e=l}return t.highlight=o,e?i(e):i(null,r)};if(!o||o.length<3)return r();if(delete t.highlight,!n.length)return r();var s=0;return ge.walkTokens(n,(function(e){"code"===e.type&&(s++,setTimeout((function(){o(e.text,e.lang,(function(t,i){if(t)return r(t);null!=i&&i!==e.text&&(e.text=i,e.escaped=!0),0==--s&&r()}))}),0))})),void(0===s&&r())}try{var a=X.lex(e,t);return t.walkTokens&&ge.walkTokens(a,t.walkTokens),se.parse(a,t)}catch(l){if(l.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ce(l.message+"",!0)+"</pre>";throw l}}return ge.options=ge.setOptions=function(e){return ae(ge.defaults,e),de(ge.defaults),ge},ge.getDefaults=he,ge.defaults=ue,ge.use=function(e){var t=ae({},e);if(e.renderer&&function(){var i=ge.defaults.renderer||new te,n=function(t){var n=i[t];i[t]=function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];var a=e.renderer[t].apply(i,r);return!1===a&&(a=n.apply(i,r)),a}};for(var o in e.renderer)n(o);t.renderer=i}(),e.tokenizer&&function(){var i=ge.defaults.tokenizer||new j,n=function(t){var n=i[t];i[t]=function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];var a=e.tokenizer[t].apply(i,r);return!1===a&&(a=n.apply(i,r)),a}};for(var o in e.tokenizer)n(o);t.tokenizer=i}(),e.walkTokens){var i=ge.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),i&&i(t)}}ge.setOptions(t)},ge.walkTokens=function(e,t){for(var n,o=i(e);!(n=o()).done;){var r=n.value;switch(t(r),r.type){case"table":for(var s,a=i(r.tokens.header);!(s=a()).done;){var l=s.value;ge.walkTokens(l,t)}for(var c,h=i(r.tokens.cells);!(c=h()).done;)for(var d,u=i(c.value);!(d=u()).done;){var g=d.value;ge.walkTokens(g,t)}break;case"list":ge.walkTokens(r.items,t);break;default:r.tokens&&ge.walkTokens(r.tokens,t)}}},ge.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=ae({},ge.defaults,t||{}),le(t);try{var i=X.lexInline(e,t);return t.walkTokens&&ge.walkTokens(i,t.walkTokens),se.parseInline(i,t)}catch(n){if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ce(n.message+"",!0)+"</pre>";throw n}},ge.Parser=se,ge.parser=se.parse,ge.Renderer=te,ge.TextRenderer=ie,ge.Lexer=X,ge.lexer=X.lex,ge.Tokenizer=j,ge.Slugger=ne,ge.parse=ge,ge}()},T8No:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return D})),i.d(t,"b",(function(){return I})),i.d(t,"d",(function(){return O}));var n=i("N0LK"),o=i("Cg/j"),r=i("MNsG");let s=r.l||"";const a=new Map;a.set("false",!1),a.set("true",!0),a.set("isMac",r.f),a.set("isLinux",r.d),a.set("isWindows",r.j),a.set("isWeb",r.i),a.set("isMacNative",r.f&&!r.i),a.set("isEdge",s.indexOf("Edg/")>=0),a.set("isFirefox",s.indexOf("Firefox")>=0),a.set("isChrome",s.indexOf("Chrome")>=0),a.set("isSafari",s.indexOf("Safari")>=0);const l=Object.prototype.hasOwnProperty;class c{static has(e){return g.create(e)}static equals(e,t){return p.create(e,t)}static regex(e,t){return S.create(e,t)}static not(e){return _.create(e)}static and(...e){return x.create(e)}static or(...e){return k.create(e)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return k.create(i.map(e=>this._deserializeAndExpression(e,t)))}static _deserializeAndExpression(e,t){let i=e.split("&&");return x.create(i.map(e=>this._deserializeOne(e,t)))}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){let i=e.split("!=");return b.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return p.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return S.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" in ")>=0){let t=e.split(" in ");return m.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return C.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return v.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return y.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return w.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?_.create(e.substr(1).trim()):g.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(Object(n.D)(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),o=e.lastIndexOf("/");if(i===o||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let r=e.slice(i+1,o),s="i"===e[o+1]?"i":"";try{return new RegExp(r,s)}catch(a){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${a}`);return console.warn(`bad regexp-value '${e}', parse error: ${a}`),null}}}function h(e,t){return e.cmp(t)}class d{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return u.INSTANCE}}d.INSTANCE=new d;class u{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return d.INSTANCE}}u.INSTANCE=new u;class g{constructor(e){this.key=e,this.type=2}static create(e){const t=a.get(e);return"boolean"==typeof t?t?u.INSTANCE:d.INSTANCE:new g(e)}cmp(e){return e.type!==this.type?this.type-e.type:N(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return _.create(this.key)}}class p{constructor(e,t){this.key=e,this.value=t,this.type=4}static create(e,t){if("boolean"==typeof t)return t?g.create(e):_.create(e);const i=a.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?u.INSTANCE:d.INSTANCE}return new p(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return b.create(this.key,this.value)}}class m{constructor(e,t){this.key=e,this.valueKey=t,this.type=10}static create(e,t){return new m(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.indexOf(i)>=0:"string"==typeof i&&"object"==typeof t&&null!==t&&l.call(t,i)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return f.create(this)}}class f{constructor(e){this._actual=e,this.type=11}static create(e){return new f(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class b{constructor(e,t){this.key=e,this.value=t,this.type=5}static create(e,t){if("boolean"==typeof t)return t?_.create(e):g.create(e);const i=a.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?d.INSTANCE:u.INSTANCE}return new b(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return p.create(this.key,this.value)}}class _{constructor(e){this.key=e,this.type=3}static create(e){const t=a.get(e);return"boolean"==typeof t?t?d.INSTANCE:u.INSTANCE:new _(e)}cmp(e){return e.type!==this.type?this.type-e.type:N(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}evaluate(e){return!e.getValue(this.key)}serialize(){return"!"+this.key}keys(){return[this.key]}negate(){return g.create(this.key)}}class v{constructor(e,t){this.key=e,this.value=t,this.type=12}static create(e,t){return new v(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return y.create(this.key,this.value)}}class C{constructor(e,t){this.key=e,this.value=t,this.type=13}static create(e,t){return new C(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return w.create(this.key,this.value)}}class w{constructor(e,t){this.key=e,this.value=t,this.type=14}static create(e,t){return new w(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return C.create(this.key,this.value)}}class y{constructor(e,t){this.key=e,this.value=t,this.type=15}static create(e,t){return new y(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:E(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return v.create(this.key,this.value)}}class S{constructor(e,t){this.key=e,this.regexp=t,this.type=7}static create(e,t){return new S(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}evaluate(e){let t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return L.create(this)}}class L{constructor(e){this._actual=e,this.type=8}static create(e){return new L(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class x{constructor(e){this.expr=e,this.type=6}static create(e){return x._normalizeArr(e)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=h(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e){const t=[];let i=!1;for(const n of e)if(n)if(1!==n.type){if(0===n.type)return d.INSTANCE;6!==n.type?t.push(n):t.push(...n.expr)}else i=!0;if(0===t.length&&i)return u.INSTANCE;if(0!==t.length){if(1===t.length)return t[0];for(t.sort(h);t.length>1;){const e=t[t.length-1];if(9!==e.type)break;t.pop();const i=t.pop(),n=k.create(e.expr.map(e=>x.create([e,i])));n&&(t.push(n),t.sort(h))}return 1===t.length?t[0]:new x(t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let t of this.expr)e.push(t.negate());return k.create(e)}}class k{constructor(e){this.expr=e,this.type=9}static create(e){const t=k._normalizeArr(e);if(0!==t.length)return 1===t.length?t[0]:new k(t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=h(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e){let t=[],i=!1;if(e){for(let n=0,o=e.length;n<o;n++){const o=e[n];if(o)if(0!==o.type){if(1===o.type)return[u.INSTANCE];9!==o.type?t.push(o):t=t.concat(o.expr)}else i=!0}if(0===t.length&&i)return[d.INSTANCE];t.sort(h)}return t}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let i of this.expr)e.push(i.negate());const t=e=>9===e.type?e.expr:[e];for(;e.length>1;){const i=e.shift(),n=e.shift(),o=[];for(const e of t(i))for(const i of t(n))o.push(c.and(e,i));e.unshift(c.or(...o))}return e[0]}}class D extends g{constructor(e,t,i){super(e),this._defaultValue=t,"object"==typeof i?D._info.push(Object.assign(Object.assign({},i),{key:e})):!0!==i&&D._info.push({key:e,description:i,type:null!=t?typeof t:void 0})}static all(){return D._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return c.not(this.key)}isEqualTo(e){return c.equals(this.key,e)}}D._info=[];const I=Object(o.c)("contextKeyService"),O="setContext";function N(e,t){return e<t?-1:e>t?1:0}function E(e,t,i,n){return e<i?-1:e>i?1:t<n?-1:t>n?1:0}},TQUy:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return l}));var n=i("N0LK"),o=i("4bUh"),r=i("i/Ef");const s={getInitialState:()=>r.c,tokenize2:(e,t,i,n)=>Object(r.e)(0,e,i,n)};function a(e,t=s){return function(e,t){let i='<div class="monaco-tokenized-source">',r=n.R(e),s=t.getInitialState();for(let a=0,l=r.length;a<l;a++){let e=r[a];a>0&&(i+="<br/>");let l=t.tokenize2(e,!0,s,0);o.a.convertToEndOffset(l.tokens,e.length);let c=new o.a(l.tokens,e).inflate(),h=0;for(let t=0,o=c.getCount();t<o;t++){const o=c.getClassName(t),r=c.getEndOffset(t);i+=`<span class="${o}">${n.t(e.substring(h,r))}</span>`,h=r}s=l.endState}return i+="</div>",i}(e,t||s)}function l(e,t,i,n,o,r,s){let a="<div>",l=n,c=0;for(let h=0,d=t.getCount();h<d;h++){const d=t.getEndOffset(h);if(d<=n)continue;let u="";for(;l<d&&l<o;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=r-(l+c)%r;for(c+=e-1;e>0;)u+=s?"&#160;":" ",e--;break;case 60:u+="&lt;";break;case 62:u+="&gt;";break;case 38:u+="&amp;";break;case 0:u+="&#00;";break;case 65279:case 8232:case 8233:case 133:u+="�";break;case 13:u+="&#8203";break;case 32:u+=s?"&#160;":" ";break;default:u+=String.fromCharCode(t)}}if(a+=`<span style="${t.getInlineStyle(h,i)}">${u}</span>`,d>o||l>=o)break}return a+="</div>",a}},TT2d:function(e,t,i){},Tcc1:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r}));class n{constructor(e,t,i){this._tokenBrand=void 0,this.offset=0|e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class o{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class r{constructor(e,t){this._tokenizationResult2Brand=void 0,this.tokens=e,this.endState=t}}},TgBD:function(e,t,i){"use strict";i.r(t),t.default="// Based on https://www.lua.org/manual/5.3/manual.html#6.10\n\n/** @noSelfInFile */\n\n/**\n * This library provides the functionality of the debug interface (§4.9) to Lua\n * programs. You should exert care when using this library. Several of its\n * functions violate basic assumptions about Lua code (e.g., that variables\n * local to a function cannot be accessed from outside; that userdata metatables\n * cannot be changed by Lua code; that Lua programs do not crash) and therefore\n * can compromise otherwise secure code. Moreover, some functions in this\n * library may be slow.\n *\n * All functions in this library are provided inside the debug table. All\n * functions that operate over a thread have an optional first argument which is\n * the thread to operate over. The default is always the current thread.\n */\ndeclare namespace debug {\n    /**\n     * Enters an interactive mode with the user, running each string that the user\n     * enters. Using simple commands and other debug facilities, the user can\n     * inspect global and local variables, change their values, evaluate\n     * expressions, and so on. A line containing only the word cont finishes this\n     * function, so that the caller continues its execution.\n     *\n     * Note that commands for debug.debug are not lexically nested within any\n     * function and so have no direct access to local variables.\n     */\n    function debug(): void;\n\n    /**\n     * Returns the current hook settings of the thread, as three values: the\n     * current hook function, the current hook mask, and the current hook count\n     * (as set by the debug.sethook function).\n     */\n    function gethook(\n        thread?: LuaThread\n    ): LuaMultiReturn<[undefined, 0] | [Function, number, string?]>;\n\n    interface FunctionInfo<T extends Function = Function> {\n        /**\n         * The function itself.\n         */\n        func: T;\n\n        /**\n         * A reasonable name for the function.\n         */\n        name?: string;\n        /**\n         * What the `name` field means. The empty string means that Lua did not find\n         * a name for the function.\n         */\n        namewhat: 'global' | 'local' | 'method' | 'field' | '';\n\n        source: string;\n        /**\n         * A short version of source (up to 60 characters), useful for error\n         * messages.\n         */\n        short_src: string;\n        linedefined: number;\n        lastlinedefined: number;\n        /**\n         * What this function is.\n         */\n        what: 'Lua' | 'C' | 'main';\n\n        currentline: number;\n\n        /**\n         * Number of upvalues of that function.\n         */\n        nups: number;\n    }\n\n    /**\n     * Returns a table with information about a function. You can give the\n     * function directly or you can give a number as the value of f, which means\n     * the function running at level f of the call stack of the given thread:\n     * level 0 is the current function (getinfo itself); level 1 is the function\n     * that called getinfo (except for tail calls, which do not count on the\n     * stack); and so on. If f is a number larger than the number of active\n     * functions, then getinfo returns nil.\n     *\n     * The returned table can contain all the fields returned by lua_getinfo, with\n     * the string what describing which fields to fill in. The default for what is\n     * to get all information available, except the table of valid lines. If\n     * present, the option 'f' adds a field named func with the function itself.\n     * If present, the option 'L' adds a field named activelines with the table of\n     * valid lines.\n     *\n     * For instance, the expression debug.getinfo(1,\"n\").name returns a name for\n     * the current function, if a reasonable name can be found, and the expression\n     * debug.getinfo(print) returns a table with all available information about\n     * the print function.\n     */\n    function getinfo<T extends Function>(f: T): FunctionInfo<T>;\n    function getinfo<T extends Function>(f: T, what: string): Partial<FunctionInfo<T>>;\n    function getinfo<T extends Function>(thread: LuaThread, f: T): FunctionInfo<T>;\n    function getinfo<T extends Function>(\n        thread: LuaThread,\n        f: T,\n        what: string\n    ): Partial<FunctionInfo<T>>;\n    function getinfo(f: number): FunctionInfo | undefined;\n    function getinfo(f: number, what: string): Partial<FunctionInfo> | undefined;\n    function getinfo(thread: LuaThread, f: number): FunctionInfo | undefined;\n    function getinfo(thread: LuaThread, f: number, what: string): Partial<FunctionInfo> | undefined;\n\n    /**\n     * Returns the metatable of the given value or nil if it does not have a\n     * metatable.\n     */\n    function getmetatable<T extends any>(value: T): LuaMetatable<T> | undefined;\n\n    /**\n     * Returns the registry table (see §4.5).\n     */\n    function getregistry(): Record<string, any>;\n\n    /**\n     * This function returns the name and the value of the upvalue with index up\n     * of the function f. The function returns nil if there is no upvalue with the\n     * given index.\n     *\n     * Variable names starting with '(' (open parenthesis) represent variables\n     * with no known names (variables from chunks saved without debug\n     * information).\n     */\n    function getupvalue(f: Function, up: number): LuaMultiReturn<[string, any] | []>;\n\n    /**\n     * Returns the Lua value associated to u. If u is not a full userdata, returns\n     * nil.\n     */\n    function getuservalue(u: LuaUserdata): any;\n\n    /**\n     * Sets the given function as a hook. The string mask and the number count\n     * describe when the hook will be called. The string mask may have any\n     * combination of the following characters, with the given meaning:\n     *\n     * * 'c': the hook is called every time Lua calls a function;\n     * * 'r': the hook is called every time Lua returns from a function;\n     * * 'l': the hook is called every time Lua enters a new line of code.\n     *\n     * Moreover, with a count different from zero, the hook is called also after\n     * every count instructions.\n     *\n     * When called without arguments, debug.sethook turns off the hook.\n     *\n     * When the hook is called, its first parameter is a string describing the\n     * event that has triggered its call: \"call\" (or \"tail call\"), \"return\",\n     * \"line\", and \"count\". For line events, the hook also gets the new line\n     * number as its second parameter. Inside a hook, you can call getinfo with\n     * level 2 to get more information about the running function (level 0 is the\n     * getinfo function, and level 1 is the hook function).\n     */\n    function sethook(): void;\n    function sethook(\n        hook: (event: 'call' | 'return' | 'line' | 'count', line?: number) => any,\n        mask: string,\n        count?: number\n    ): void;\n    function sethook(\n        thread: LuaThread,\n        hook: (event: 'call' | 'return' | 'line' | 'count', line?: number) => any,\n        mask: string,\n        count?: number\n    ): void;\n\n    /**\n     * This function assigns the value value to the local variable with index\n     * local of the function at level level of the stack. The function returns nil\n     * if there is no local variable with the given index, and raises an error\n     * when called with a level out of range. (You can call getinfo to check\n     * whether the level is valid.) Otherwise, it returns the name of the local\n     * variable.\n     *\n     * See debug.getlocal for more information about variable indices and names.\n     */\n    function setlocal(level: number, local: number, value: any): string | undefined;\n    function setlocal(\n        thread: LuaThread,\n        level: number,\n        local: number,\n        value: any\n    ): string | undefined;\n\n    /**\n     * Sets the metatable for the given value to the given table (which can be\n     * nil). Returns value.\n     */\n    function setmetatable<\n        T extends object,\n        TIndex extends object | ((this: T, key: any) => any) | undefined = undefined\n    >(\n        value: T,\n        table?: LuaMetatable<T, TIndex> | null\n    ): TIndex extends (this: T, key: infer TKey) => infer TValue\n        ? T & { [K in TKey & string]: TValue }\n        : TIndex extends object\n        ? T & TIndex\n        : T;\n\n    /**\n     * This function assigns the value value to the upvalue with index up of the\n     * function f. The function returns nil if there is no upvalue with the given\n     * index. Otherwise, it returns the name of the upvalue.\n     */\n    function setupvalue(f: Function, up: number, value: any): string | undefined;\n\n    /**\n     * Sets the given value as the Lua value associated to the given udata. udata\n     * must be a full userdata.\n     *\n     * Returns udata.\n     */\n    function setuservalue(udata: LuaUserdata, value: any): LuaUserdata;\n\n    /**\n     * If message is present but is neither a string nor nil, this function\n     * returns message without further processing. Otherwise, it returns a string\n     * with a traceback of the call stack. The optional message string is appended\n     * at the beginning of the traceback. An optional level number tells at which\n     * level to start the traceback (default is 1, the function calling\n     * traceback).\n     */\n    function traceback(message?: string | null, level?: number | null): string;\n    function traceback(thread?: LuaThread, message?: string | null, level?: number | null): string;\n    function traceback<T>(message: T): T;\n    function traceback<T>(thread: LuaThread, message: T): T;\n}\n"},UCkY:function(e,t,i){},Uzvx:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return r}));var n=i("Cg/j");const o=Object(n.c)("contextViewService"),r=Object(n.c)("contextMenuService")},VAdQ:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/// <reference lib="es2015" />\r\n/// <reference lib="es2016.array.include" />'},VPJY:function(e,t,i){},Vhoy:function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));var n=i("MI8n");const o=new class{constructor(){this._icons=new Map,this._onDidRegister=new n.b}add(e){const t=this._icons.get(e.id);t?e.description?t.description=e.description:console.error("Duplicate registration of codicon "+e.id):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},r=o;function s(e,t){return new l(e,t)}function a(e){return e?e.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}class l{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,o.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var c;!function(e){e.iconNameSegment="[A-Za-z0-9]+",e.iconNameExpression="[A-Za-z0-9\\-]+",e.iconModifierExpression="~[A-Za-z]+";const t=new RegExp(`^(${e.iconNameExpression})(${e.iconModifierExpression})?$`);function i(e){if(e instanceof l)return["codicon","codicon-"+e.id];const n=t.exec(e.id);if(!n)return i(l.error);let[,o,r]=n;const s=["codicon","codicon-"+o];return r&&s.push("codicon-modifier-"+r.substr(1)),s}e.asClassNameArray=i,e.asClassName=function(e){return i(e).join(" ")},e.asCSSSelector=function(e){return"."+i(e).join(".")}}(c||(c={})),function(e){e.add=new e("add",{fontCharacter:"\\ea60"}),e.plus=new e("plus",{fontCharacter:"\\ea60"}),e.gistNew=new e("gist-new",{fontCharacter:"\\ea60"}),e.repoCreate=new e("repo-create",{fontCharacter:"\\ea60"}),e.lightbulb=new e("lightbulb",{fontCharacter:"\\ea61"}),e.lightBulb=new e("light-bulb",{fontCharacter:"\\ea61"}),e.repo=new e("repo",{fontCharacter:"\\ea62"}),e.repoDelete=new e("repo-delete",{fontCharacter:"\\ea62"}),e.gistFork=new e("gist-fork",{fontCharacter:"\\ea63"}),e.repoForked=new e("repo-forked",{fontCharacter:"\\ea63"}),e.gitPullRequest=new e("git-pull-request",{fontCharacter:"\\ea64"}),e.gitPullRequestAbandoned=new e("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),e.recordKeys=new e("record-keys",{fontCharacter:"\\ea65"}),e.keyboard=new e("keyboard",{fontCharacter:"\\ea65"}),e.tag=new e("tag",{fontCharacter:"\\ea66"}),e.tagAdd=new e("tag-add",{fontCharacter:"\\ea66"}),e.tagRemove=new e("tag-remove",{fontCharacter:"\\ea66"}),e.person=new e("person",{fontCharacter:"\\ea67"}),e.personFollow=new e("person-follow",{fontCharacter:"\\ea67"}),e.personOutline=new e("person-outline",{fontCharacter:"\\ea67"}),e.personFilled=new e("person-filled",{fontCharacter:"\\ea67"}),e.gitBranch=new e("git-branch",{fontCharacter:"\\ea68"}),e.gitBranchCreate=new e("git-branch-create",{fontCharacter:"\\ea68"}),e.gitBranchDelete=new e("git-branch-delete",{fontCharacter:"\\ea68"}),e.sourceControl=new e("source-control",{fontCharacter:"\\ea68"}),e.mirror=new e("mirror",{fontCharacter:"\\ea69"}),e.mirrorPublic=new e("mirror-public",{fontCharacter:"\\ea69"}),e.star=new e("star",{fontCharacter:"\\ea6a"}),e.starAdd=new e("star-add",{fontCharacter:"\\ea6a"}),e.starDelete=new e("star-delete",{fontCharacter:"\\ea6a"}),e.starEmpty=new e("star-empty",{fontCharacter:"\\ea6a"}),e.comment=new e("comment",{fontCharacter:"\\ea6b"}),e.commentAdd=new e("comment-add",{fontCharacter:"\\ea6b"}),e.alert=new e("alert",{fontCharacter:"\\ea6c"}),e.warning=new e("warning",{fontCharacter:"\\ea6c"}),e.search=new e("search",{fontCharacter:"\\ea6d"}),e.searchSave=new e("search-save",{fontCharacter:"\\ea6d"}),e.logOut=new e("log-out",{fontCharacter:"\\ea6e"}),e.signOut=new e("sign-out",{fontCharacter:"\\ea6e"}),e.logIn=new e("log-in",{fontCharacter:"\\ea6f"}),e.signIn=new e("sign-in",{fontCharacter:"\\ea6f"}),e.eye=new e("eye",{fontCharacter:"\\ea70"}),e.eyeUnwatch=new e("eye-unwatch",{fontCharacter:"\\ea70"}),e.eyeWatch=new e("eye-watch",{fontCharacter:"\\ea70"}),e.circleFilled=new e("circle-filled",{fontCharacter:"\\ea71"}),e.primitiveDot=new e("primitive-dot",{fontCharacter:"\\ea71"}),e.closeDirty=new e("close-dirty",{fontCharacter:"\\ea71"}),e.debugBreakpoint=new e("debug-breakpoint",{fontCharacter:"\\ea71"}),e.debugBreakpointDisabled=new e("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),e.debugHint=new e("debug-hint",{fontCharacter:"\\ea71"}),e.primitiveSquare=new e("primitive-square",{fontCharacter:"\\ea72"}),e.edit=new e("edit",{fontCharacter:"\\ea73"}),e.pencil=new e("pencil",{fontCharacter:"\\ea73"}),e.info=new e("info",{fontCharacter:"\\ea74"}),e.issueOpened=new e("issue-opened",{fontCharacter:"\\ea74"}),e.gistPrivate=new e("gist-private",{fontCharacter:"\\ea75"}),e.gitForkPrivate=new e("git-fork-private",{fontCharacter:"\\ea75"}),e.lock=new e("lock",{fontCharacter:"\\ea75"}),e.mirrorPrivate=new e("mirror-private",{fontCharacter:"\\ea75"}),e.close=new e("close",{fontCharacter:"\\ea76"}),e.removeClose=new e("remove-close",{fontCharacter:"\\ea76"}),e.x=new e("x",{fontCharacter:"\\ea76"}),e.repoSync=new e("repo-sync",{fontCharacter:"\\ea77"}),e.sync=new e("sync",{fontCharacter:"\\ea77"}),e.clone=new e("clone",{fontCharacter:"\\ea78"}),e.desktopDownload=new e("desktop-download",{fontCharacter:"\\ea78"}),e.beaker=new e("beaker",{fontCharacter:"\\ea79"}),e.microscope=new e("microscope",{fontCharacter:"\\ea79"}),e.vm=new e("vm",{fontCharacter:"\\ea7a"}),e.deviceDesktop=new e("device-desktop",{fontCharacter:"\\ea7a"}),e.file=new e("file",{fontCharacter:"\\ea7b"}),e.fileText=new e("file-text",{fontCharacter:"\\ea7b"}),e.more=new e("more",{fontCharacter:"\\ea7c"}),e.ellipsis=new e("ellipsis",{fontCharacter:"\\ea7c"}),e.kebabHorizontal=new e("kebab-horizontal",{fontCharacter:"\\ea7c"}),e.mailReply=new e("mail-reply",{fontCharacter:"\\ea7d"}),e.reply=new e("reply",{fontCharacter:"\\ea7d"}),e.organization=new e("organization",{fontCharacter:"\\ea7e"}),e.organizationFilled=new e("organization-filled",{fontCharacter:"\\ea7e"}),e.organizationOutline=new e("organization-outline",{fontCharacter:"\\ea7e"}),e.newFile=new e("new-file",{fontCharacter:"\\ea7f"}),e.fileAdd=new e("file-add",{fontCharacter:"\\ea7f"}),e.newFolder=new e("new-folder",{fontCharacter:"\\ea80"}),e.fileDirectoryCreate=new e("file-directory-create",{fontCharacter:"\\ea80"}),e.trash=new e("trash",{fontCharacter:"\\ea81"}),e.trashcan=new e("trashcan",{fontCharacter:"\\ea81"}),e.history=new e("history",{fontCharacter:"\\ea82"}),e.clock=new e("clock",{fontCharacter:"\\ea82"}),e.folder=new e("folder",{fontCharacter:"\\ea83"}),e.fileDirectory=new e("file-directory",{fontCharacter:"\\ea83"}),e.symbolFolder=new e("symbol-folder",{fontCharacter:"\\ea83"}),e.logoGithub=new e("logo-github",{fontCharacter:"\\ea84"}),e.markGithub=new e("mark-github",{fontCharacter:"\\ea84"}),e.github=new e("github",{fontCharacter:"\\ea84"}),e.terminal=new e("terminal",{fontCharacter:"\\ea85"}),e.console=new e("console",{fontCharacter:"\\ea85"}),e.repl=new e("repl",{fontCharacter:"\\ea85"}),e.zap=new e("zap",{fontCharacter:"\\ea86"}),e.symbolEvent=new e("symbol-event",{fontCharacter:"\\ea86"}),e.error=new e("error",{fontCharacter:"\\ea87"}),e.stop=new e("stop",{fontCharacter:"\\ea87"}),e.variable=new e("variable",{fontCharacter:"\\ea88"}),e.symbolVariable=new e("symbol-variable",{fontCharacter:"\\ea88"}),e.array=new e("array",{fontCharacter:"\\ea8a"}),e.symbolArray=new e("symbol-array",{fontCharacter:"\\ea8a"}),e.symbolModule=new e("symbol-module",{fontCharacter:"\\ea8b"}),e.symbolPackage=new e("symbol-package",{fontCharacter:"\\ea8b"}),e.symbolNamespace=new e("symbol-namespace",{fontCharacter:"\\ea8b"}),e.symbolObject=new e("symbol-object",{fontCharacter:"\\ea8b"}),e.symbolMethod=new e("symbol-method",{fontCharacter:"\\ea8c"}),e.symbolFunction=new e("symbol-function",{fontCharacter:"\\ea8c"}),e.symbolConstructor=new e("symbol-constructor",{fontCharacter:"\\ea8c"}),e.symbolBoolean=new e("symbol-boolean",{fontCharacter:"\\ea8f"}),e.symbolNull=new e("symbol-null",{fontCharacter:"\\ea8f"}),e.symbolNumeric=new e("symbol-numeric",{fontCharacter:"\\ea90"}),e.symbolNumber=new e("symbol-number",{fontCharacter:"\\ea90"}),e.symbolStructure=new e("symbol-structure",{fontCharacter:"\\ea91"}),e.symbolStruct=new e("symbol-struct",{fontCharacter:"\\ea91"}),e.symbolParameter=new e("symbol-parameter",{fontCharacter:"\\ea92"}),e.symbolTypeParameter=new e("symbol-type-parameter",{fontCharacter:"\\ea92"}),e.symbolKey=new e("symbol-key",{fontCharacter:"\\ea93"}),e.symbolText=new e("symbol-text",{fontCharacter:"\\ea93"}),e.symbolReference=new e("symbol-reference",{fontCharacter:"\\ea94"}),e.goToFile=new e("go-to-file",{fontCharacter:"\\ea94"}),e.symbolEnum=new e("symbol-enum",{fontCharacter:"\\ea95"}),e.symbolValue=new e("symbol-value",{fontCharacter:"\\ea95"}),e.symbolRuler=new e("symbol-ruler",{fontCharacter:"\\ea96"}),e.symbolUnit=new e("symbol-unit",{fontCharacter:"\\ea96"}),e.activateBreakpoints=new e("activate-breakpoints",{fontCharacter:"\\ea97"}),e.archive=new e("archive",{fontCharacter:"\\ea98"}),e.arrowBoth=new e("arrow-both",{fontCharacter:"\\ea99"}),e.arrowDown=new e("arrow-down",{fontCharacter:"\\ea9a"}),e.arrowLeft=new e("arrow-left",{fontCharacter:"\\ea9b"}),e.arrowRight=new e("arrow-right",{fontCharacter:"\\ea9c"}),e.arrowSmallDown=new e("arrow-small-down",{fontCharacter:"\\ea9d"}),e.arrowSmallLeft=new e("arrow-small-left",{fontCharacter:"\\ea9e"}),e.arrowSmallRight=new e("arrow-small-right",{fontCharacter:"\\ea9f"}),e.arrowSmallUp=new e("arrow-small-up",{fontCharacter:"\\eaa0"}),e.arrowUp=new e("arrow-up",{fontCharacter:"\\eaa1"}),e.bell=new e("bell",{fontCharacter:"\\eaa2"}),e.bold=new e("bold",{fontCharacter:"\\eaa3"}),e.book=new e("book",{fontCharacter:"\\eaa4"}),e.bookmark=new e("bookmark",{fontCharacter:"\\eaa5"}),e.debugBreakpointConditionalUnverified=new e("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),e.debugBreakpointConditional=new e("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),e.debugBreakpointConditionalDisabled=new e("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),e.debugBreakpointDataUnverified=new e("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),e.debugBreakpointData=new e("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),e.debugBreakpointDataDisabled=new e("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),e.debugBreakpointLogUnverified=new e("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),e.debugBreakpointLog=new e("debug-breakpoint-log",{fontCharacter:"\\eaab"}),e.debugBreakpointLogDisabled=new e("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),e.briefcase=new e("briefcase",{fontCharacter:"\\eaac"}),e.broadcast=new e("broadcast",{fontCharacter:"\\eaad"}),e.browser=new e("browser",{fontCharacter:"\\eaae"}),e.bug=new e("bug",{fontCharacter:"\\eaaf"}),e.calendar=new e("calendar",{fontCharacter:"\\eab0"}),e.caseSensitive=new e("case-sensitive",{fontCharacter:"\\eab1"}),e.check=new e("check",{fontCharacter:"\\eab2"}),e.checklist=new e("checklist",{fontCharacter:"\\eab3"}),e.chevronDown=new e("chevron-down",{fontCharacter:"\\eab4"}),e.chevronLeft=new e("chevron-left",{fontCharacter:"\\eab5"}),e.chevronRight=new e("chevron-right",{fontCharacter:"\\eab6"}),e.chevronUp=new e("chevron-up",{fontCharacter:"\\eab7"}),e.chromeClose=new e("chrome-close",{fontCharacter:"\\eab8"}),e.chromeMaximize=new e("chrome-maximize",{fontCharacter:"\\eab9"}),e.chromeMinimize=new e("chrome-minimize",{fontCharacter:"\\eaba"}),e.chromeRestore=new e("chrome-restore",{fontCharacter:"\\eabb"}),e.circleOutline=new e("circle-outline",{fontCharacter:"\\eabc"}),e.debugBreakpointUnverified=new e("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),e.circleSlash=new e("circle-slash",{fontCharacter:"\\eabd"}),e.circuitBoard=new e("circuit-board",{fontCharacter:"\\eabe"}),e.clearAll=new e("clear-all",{fontCharacter:"\\eabf"}),e.clippy=new e("clippy",{fontCharacter:"\\eac0"}),e.closeAll=new e("close-all",{fontCharacter:"\\eac1"}),e.cloudDownload=new e("cloud-download",{fontCharacter:"\\eac2"}),e.cloudUpload=new e("cloud-upload",{fontCharacter:"\\eac3"}),e.code=new e("code",{fontCharacter:"\\eac4"}),e.collapseAll=new e("collapse-all",{fontCharacter:"\\eac5"}),e.colorMode=new e("color-mode",{fontCharacter:"\\eac6"}),e.commentDiscussion=new e("comment-discussion",{fontCharacter:"\\eac7"}),e.compareChanges=new e("compare-changes",{fontCharacter:"\\eafd"}),e.creditCard=new e("credit-card",{fontCharacter:"\\eac9"}),e.dash=new e("dash",{fontCharacter:"\\eacc"}),e.dashboard=new e("dashboard",{fontCharacter:"\\eacd"}),e.database=new e("database",{fontCharacter:"\\eace"}),e.debugContinue=new e("debug-continue",{fontCharacter:"\\eacf"}),e.debugDisconnect=new e("debug-disconnect",{fontCharacter:"\\ead0"}),e.debugPause=new e("debug-pause",{fontCharacter:"\\ead1"}),e.debugRestart=new e("debug-restart",{fontCharacter:"\\ead2"}),e.debugStart=new e("debug-start",{fontCharacter:"\\ead3"}),e.debugStepInto=new e("debug-step-into",{fontCharacter:"\\ead4"}),e.debugStepOut=new e("debug-step-out",{fontCharacter:"\\ead5"}),e.debugStepOver=new e("debug-step-over",{fontCharacter:"\\ead6"}),e.debugStop=new e("debug-stop",{fontCharacter:"\\ead7"}),e.debug=new e("debug",{fontCharacter:"\\ead8"}),e.deviceCameraVideo=new e("device-camera-video",{fontCharacter:"\\ead9"}),e.deviceCamera=new e("device-camera",{fontCharacter:"\\eada"}),e.deviceMobile=new e("device-mobile",{fontCharacter:"\\eadb"}),e.diffAdded=new e("diff-added",{fontCharacter:"\\eadc"}),e.diffIgnored=new e("diff-ignored",{fontCharacter:"\\eadd"}),e.diffModified=new e("diff-modified",{fontCharacter:"\\eade"}),e.diffRemoved=new e("diff-removed",{fontCharacter:"\\eadf"}),e.diffRenamed=new e("diff-renamed",{fontCharacter:"\\eae0"}),e.diff=new e("diff",{fontCharacter:"\\eae1"}),e.discard=new e("discard",{fontCharacter:"\\eae2"}),e.editorLayout=new e("editor-layout",{fontCharacter:"\\eae3"}),e.emptyWindow=new e("empty-window",{fontCharacter:"\\eae4"}),e.exclude=new e("exclude",{fontCharacter:"\\eae5"}),e.extensions=new e("extensions",{fontCharacter:"\\eae6"}),e.eyeClosed=new e("eye-closed",{fontCharacter:"\\eae7"}),e.fileBinary=new e("file-binary",{fontCharacter:"\\eae8"}),e.fileCode=new e("file-code",{fontCharacter:"\\eae9"}),e.fileMedia=new e("file-media",{fontCharacter:"\\eaea"}),e.filePdf=new e("file-pdf",{fontCharacter:"\\eaeb"}),e.fileSubmodule=new e("file-submodule",{fontCharacter:"\\eaec"}),e.fileSymlinkDirectory=new e("file-symlink-directory",{fontCharacter:"\\eaed"}),e.fileSymlinkFile=new e("file-symlink-file",{fontCharacter:"\\eaee"}),e.fileZip=new e("file-zip",{fontCharacter:"\\eaef"}),e.files=new e("files",{fontCharacter:"\\eaf0"}),e.filter=new e("filter",{fontCharacter:"\\eaf1"}),e.flame=new e("flame",{fontCharacter:"\\eaf2"}),e.foldDown=new e("fold-down",{fontCharacter:"\\eaf3"}),e.foldUp=new e("fold-up",{fontCharacter:"\\eaf4"}),e.fold=new e("fold",{fontCharacter:"\\eaf5"}),e.folderActive=new e("folder-active",{fontCharacter:"\\eaf6"}),e.folderOpened=new e("folder-opened",{fontCharacter:"\\eaf7"}),e.gear=new e("gear",{fontCharacter:"\\eaf8"}),e.gift=new e("gift",{fontCharacter:"\\eaf9"}),e.gistSecret=new e("gist-secret",{fontCharacter:"\\eafa"}),e.gist=new e("gist",{fontCharacter:"\\eafb"}),e.gitCommit=new e("git-commit",{fontCharacter:"\\eafc"}),e.gitCompare=new e("git-compare",{fontCharacter:"\\eafd"}),e.gitMerge=new e("git-merge",{fontCharacter:"\\eafe"}),e.githubAction=new e("github-action",{fontCharacter:"\\eaff"}),e.githubAlt=new e("github-alt",{fontCharacter:"\\eb00"}),e.globe=new e("globe",{fontCharacter:"\\eb01"}),e.grabber=new e("grabber",{fontCharacter:"\\eb02"}),e.graph=new e("graph",{fontCharacter:"\\eb03"}),e.gripper=new e("gripper",{fontCharacter:"\\eb04"}),e.heart=new e("heart",{fontCharacter:"\\eb05"}),e.home=new e("home",{fontCharacter:"\\eb06"}),e.horizontalRule=new e("horizontal-rule",{fontCharacter:"\\eb07"}),e.hubot=new e("hubot",{fontCharacter:"\\eb08"}),e.inbox=new e("inbox",{fontCharacter:"\\eb09"}),e.issueClosed=new e("issue-closed",{fontCharacter:"\\eba4"}),e.issueReopened=new e("issue-reopened",{fontCharacter:"\\eb0b"}),e.issues=new e("issues",{fontCharacter:"\\eb0c"}),e.italic=new e("italic",{fontCharacter:"\\eb0d"}),e.jersey=new e("jersey",{fontCharacter:"\\eb0e"}),e.json=new e("json",{fontCharacter:"\\eb0f"}),e.kebabVertical=new e("kebab-vertical",{fontCharacter:"\\eb10"}),e.key=new e("key",{fontCharacter:"\\eb11"}),e.law=new e("law",{fontCharacter:"\\eb12"}),e.lightbulbAutofix=new e("lightbulb-autofix",{fontCharacter:"\\eb13"}),e.linkExternal=new e("link-external",{fontCharacter:"\\eb14"}),e.link=new e("link",{fontCharacter:"\\eb15"}),e.listOrdered=new e("list-ordered",{fontCharacter:"\\eb16"}),e.listUnordered=new e("list-unordered",{fontCharacter:"\\eb17"}),e.liveShare=new e("live-share",{fontCharacter:"\\eb18"}),e.loading=new e("loading",{fontCharacter:"\\eb19"}),e.location=new e("location",{fontCharacter:"\\eb1a"}),e.mailRead=new e("mail-read",{fontCharacter:"\\eb1b"}),e.mail=new e("mail",{fontCharacter:"\\eb1c"}),e.markdown=new e("markdown",{fontCharacter:"\\eb1d"}),e.megaphone=new e("megaphone",{fontCharacter:"\\eb1e"}),e.mention=new e("mention",{fontCharacter:"\\eb1f"}),e.milestone=new e("milestone",{fontCharacter:"\\eb20"}),e.mortarBoard=new e("mortar-board",{fontCharacter:"\\eb21"}),e.move=new e("move",{fontCharacter:"\\eb22"}),e.multipleWindows=new e("multiple-windows",{fontCharacter:"\\eb23"}),e.mute=new e("mute",{fontCharacter:"\\eb24"}),e.noNewline=new e("no-newline",{fontCharacter:"\\eb25"}),e.note=new e("note",{fontCharacter:"\\eb26"}),e.octoface=new e("octoface",{fontCharacter:"\\eb27"}),e.openPreview=new e("open-preview",{fontCharacter:"\\eb28"}),e.package_=new e("package",{fontCharacter:"\\eb29"}),e.paintcan=new e("paintcan",{fontCharacter:"\\eb2a"}),e.pin=new e("pin",{fontCharacter:"\\eb2b"}),e.play=new e("play",{fontCharacter:"\\eb2c"}),e.run=new e("run",{fontCharacter:"\\eb2c"}),e.plug=new e("plug",{fontCharacter:"\\eb2d"}),e.preserveCase=new e("preserve-case",{fontCharacter:"\\eb2e"}),e.preview=new e("preview",{fontCharacter:"\\eb2f"}),e.project=new e("project",{fontCharacter:"\\eb30"}),e.pulse=new e("pulse",{fontCharacter:"\\eb31"}),e.question=new e("question",{fontCharacter:"\\eb32"}),e.quote=new e("quote",{fontCharacter:"\\eb33"}),e.radioTower=new e("radio-tower",{fontCharacter:"\\eb34"}),e.reactions=new e("reactions",{fontCharacter:"\\eb35"}),e.references=new e("references",{fontCharacter:"\\eb36"}),e.refresh=new e("refresh",{fontCharacter:"\\eb37"}),e.regex=new e("regex",{fontCharacter:"\\eb38"}),e.remoteExplorer=new e("remote-explorer",{fontCharacter:"\\eb39"}),e.remote=new e("remote",{fontCharacter:"\\eb3a"}),e.remove=new e("remove",{fontCharacter:"\\eb3b"}),e.replaceAll=new e("replace-all",{fontCharacter:"\\eb3c"}),e.replace=new e("replace",{fontCharacter:"\\eb3d"}),e.repoClone=new e("repo-clone",{fontCharacter:"\\eb3e"}),e.repoForcePush=new e("repo-force-push",{fontCharacter:"\\eb3f"}),e.repoPull=new e("repo-pull",{fontCharacter:"\\eb40"}),e.repoPush=new e("repo-push",{fontCharacter:"\\eb41"}),e.report=new e("report",{fontCharacter:"\\eb42"}),e.requestChanges=new e("request-changes",{fontCharacter:"\\eb43"}),e.rocket=new e("rocket",{fontCharacter:"\\eb44"}),e.rootFolderOpened=new e("root-folder-opened",{fontCharacter:"\\eb45"}),e.rootFolder=new e("root-folder",{fontCharacter:"\\eb46"}),e.rss=new e("rss",{fontCharacter:"\\eb47"}),e.ruby=new e("ruby",{fontCharacter:"\\eb48"}),e.saveAll=new e("save-all",{fontCharacter:"\\eb49"}),e.saveAs=new e("save-as",{fontCharacter:"\\eb4a"}),e.save=new e("save",{fontCharacter:"\\eb4b"}),e.screenFull=new e("screen-full",{fontCharacter:"\\eb4c"}),e.screenNormal=new e("screen-normal",{fontCharacter:"\\eb4d"}),e.searchStop=new e("search-stop",{fontCharacter:"\\eb4e"}),e.server=new e("server",{fontCharacter:"\\eb50"}),e.settingsGear=new e("settings-gear",{fontCharacter:"\\eb51"}),e.settings=new e("settings",{fontCharacter:"\\eb52"}),e.shield=new e("shield",{fontCharacter:"\\eb53"}),e.smiley=new e("smiley",{fontCharacter:"\\eb54"}),e.sortPrecedence=new e("sort-precedence",{fontCharacter:"\\eb55"}),e.splitHorizontal=new e("split-horizontal",{fontCharacter:"\\eb56"}),e.splitVertical=new e("split-vertical",{fontCharacter:"\\eb57"}),e.squirrel=new e("squirrel",{fontCharacter:"\\eb58"}),e.starFull=new e("star-full",{fontCharacter:"\\eb59"}),e.starHalf=new e("star-half",{fontCharacter:"\\eb5a"}),e.symbolClass=new e("symbol-class",{fontCharacter:"\\eb5b"}),e.symbolColor=new e("symbol-color",{fontCharacter:"\\eb5c"}),e.symbolConstant=new e("symbol-constant",{fontCharacter:"\\eb5d"}),e.symbolEnumMember=new e("symbol-enum-member",{fontCharacter:"\\eb5e"}),e.symbolField=new e("symbol-field",{fontCharacter:"\\eb5f"}),e.symbolFile=new e("symbol-file",{fontCharacter:"\\eb60"}),e.symbolInterface=new e("symbol-interface",{fontCharacter:"\\eb61"}),e.symbolKeyword=new e("symbol-keyword",{fontCharacter:"\\eb62"}),e.symbolMisc=new e("symbol-misc",{fontCharacter:"\\eb63"}),e.symbolOperator=new e("symbol-operator",{fontCharacter:"\\eb64"}),e.symbolProperty=new e("symbol-property",{fontCharacter:"\\eb65"}),e.wrench=new e("wrench",{fontCharacter:"\\eb65"}),e.wrenchSubaction=new e("wrench-subaction",{fontCharacter:"\\eb65"}),e.symbolSnippet=new e("symbol-snippet",{fontCharacter:"\\eb66"}),e.tasklist=new e("tasklist",{fontCharacter:"\\eb67"}),e.telescope=new e("telescope",{fontCharacter:"\\eb68"}),e.textSize=new e("text-size",{fontCharacter:"\\eb69"}),e.threeBars=new e("three-bars",{fontCharacter:"\\eb6a"}),e.thumbsdown=new e("thumbsdown",{fontCharacter:"\\eb6b"}),e.thumbsup=new e("thumbsup",{fontCharacter:"\\eb6c"}),e.tools=new e("tools",{fontCharacter:"\\eb6d"}),e.triangleDown=new e("triangle-down",{fontCharacter:"\\eb6e"}),e.triangleLeft=new e("triangle-left",{fontCharacter:"\\eb6f"}),e.triangleRight=new e("triangle-right",{fontCharacter:"\\eb70"}),e.triangleUp=new e("triangle-up",{fontCharacter:"\\eb71"}),e.twitter=new e("twitter",{fontCharacter:"\\eb72"}),e.unfold=new e("unfold",{fontCharacter:"\\eb73"}),e.unlock=new e("unlock",{fontCharacter:"\\eb74"}),e.unmute=new e("unmute",{fontCharacter:"\\eb75"}),e.unverified=new e("unverified",{fontCharacter:"\\eb76"}),e.verified=new e("verified",{fontCharacter:"\\eb77"}),e.versions=new e("versions",{fontCharacter:"\\eb78"}),e.vmActive=new e("vm-active",{fontCharacter:"\\eb79"}),e.vmOutline=new e("vm-outline",{fontCharacter:"\\eb7a"}),e.vmRunning=new e("vm-running",{fontCharacter:"\\eb7b"}),e.watch=new e("watch",{fontCharacter:"\\eb7c"}),e.whitespace=new e("whitespace",{fontCharacter:"\\eb7d"}),e.wholeWord=new e("whole-word",{fontCharacter:"\\eb7e"}),e.window=new e("window",{fontCharacter:"\\eb7f"}),e.wordWrap=new e("word-wrap",{fontCharacter:"\\eb80"}),e.zoomIn=new e("zoom-in",{fontCharacter:"\\eb81"}),e.zoomOut=new e("zoom-out",{fontCharacter:"\\eb82"}),e.listFilter=new e("list-filter",{fontCharacter:"\\eb83"}),e.listFlat=new e("list-flat",{fontCharacter:"\\eb84"}),e.listSelection=new e("list-selection",{fontCharacter:"\\eb85"}),e.selection=new e("selection",{fontCharacter:"\\eb85"}),e.listTree=new e("list-tree",{fontCharacter:"\\eb86"}),e.debugBreakpointFunctionUnverified=new e("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),e.debugBreakpointFunction=new e("debug-breakpoint-function",{fontCharacter:"\\eb88"}),e.debugBreakpointFunctionDisabled=new e("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),e.debugStackframeActive=new e("debug-stackframe-active",{fontCharacter:"\\eb89"}),e.debugStackframeDot=new e("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),e.debugStackframe=new e("debug-stackframe",{fontCharacter:"\\eb8b"}),e.debugStackframeFocused=new e("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),e.debugBreakpointUnsupported=new e("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),e.symbolString=new e("symbol-string",{fontCharacter:"\\eb8d"}),e.debugReverseContinue=new e("debug-reverse-continue",{fontCharacter:"\\eb8e"}),e.debugStepBack=new e("debug-step-back",{fontCharacter:"\\eb8f"}),e.debugRestartFrame=new e("debug-restart-frame",{fontCharacter:"\\eb90"}),e.callIncoming=new e("call-incoming",{fontCharacter:"\\eb92"}),e.callOutgoing=new e("call-outgoing",{fontCharacter:"\\eb93"}),e.menu=new e("menu",{fontCharacter:"\\eb94"}),e.expandAll=new e("expand-all",{fontCharacter:"\\eb95"}),e.feedback=new e("feedback",{fontCharacter:"\\eb96"}),e.groupByRefType=new e("group-by-ref-type",{fontCharacter:"\\eb97"}),e.ungroupByRefType=new e("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),e.account=new e("account",{fontCharacter:"\\eb99"}),e.bellDot=new e("bell-dot",{fontCharacter:"\\eb9a"}),e.debugConsole=new e("debug-console",{fontCharacter:"\\eb9b"}),e.library=new e("library",{fontCharacter:"\\eb9c"}),e.output=new e("output",{fontCharacter:"\\eb9d"}),e.runAll=new e("run-all",{fontCharacter:"\\eb9e"}),e.syncIgnored=new e("sync-ignored",{fontCharacter:"\\eb9f"}),e.pinned=new e("pinned",{fontCharacter:"\\eba0"}),e.githubInverted=new e("github-inverted",{fontCharacter:"\\eba1"}),e.debugAlt=new e("debug-alt",{fontCharacter:"\\eb91"}),e.serverProcess=new e("server-process",{fontCharacter:"\\eba2"}),e.serverEnvironment=new e("server-environment",{fontCharacter:"\\eba3"}),e.pass=new e("pass",{fontCharacter:"\\eba4"}),e.stopCircle=new e("stop-circle",{fontCharacter:"\\eba5"}),e.playCircle=new e("play-circle",{fontCharacter:"\\eba6"}),e.record=new e("record",{fontCharacter:"\\eba7"}),e.debugAltSmall=new e("debug-alt-small",{fontCharacter:"\\eba8"}),e.vmConnect=new e("vm-connect",{fontCharacter:"\\eba9"}),e.cloud=new e("cloud",{fontCharacter:"\\ebaa"}),e.merge=new e("merge",{fontCharacter:"\\ebab"}),e.exportIcon=new e("export",{fontCharacter:"\\ebac"}),e.graphLeft=new e("graph-left",{fontCharacter:"\\ebad"}),e.magnet=new e("magnet",{fontCharacter:"\\ebae"}),e.notebook=new e("notebook",{fontCharacter:"\\ebaf"}),e.redo=new e("redo",{fontCharacter:"\\ebb0"}),e.checkAll=new e("check-all",{fontCharacter:"\\ebb1"}),e.pinnedDirty=new e("pinned-dirty",{fontCharacter:"\\ebb2"}),e.passFilled=new e("pass-filled",{fontCharacter:"\\ebb3"}),e.circleLargeFilled=new e("circle-large-filled",{fontCharacter:"\\ebb4"}),e.circleLargeOutline=new e("circle-large-outline",{fontCharacter:"\\ebb5"}),e.combine=new e("combine",{fontCharacter:"\\ebb6"}),e.gather=new e("gather",{fontCharacter:"\\ebb6"}),e.table=new e("table",{fontCharacter:"\\ebb7"}),e.variableGroup=new e("variable-group",{fontCharacter:"\\ebb8"}),e.typeHierarchy=new e("type-hierarchy",{fontCharacter:"\\ebb9"}),e.typeHierarchySub=new e("type-hierarchy-sub",{fontCharacter:"\\ebba"}),e.typeHierarchySuper=new e("type-hierarchy-super",{fontCharacter:"\\ebbb"}),e.gitPullRequestCreate=new e("git-pull-request-create",{fontCharacter:"\\ebbc"}),e.runAbove=new e("run-above",{fontCharacter:"\\ebbd"}),e.runBelow=new e("run-below",{fontCharacter:"\\ebbe"}),e.notebookTemplate=new e("notebook-template",{fontCharacter:"\\ebbf"}),e.debugRerun=new e("debug-rerun",{fontCharacter:"\\ebc0"}),e.workspaceTrusted=new e("workspace-trusted",{fontCharacter:"\\ebc1"}),e.workspaceUntrusted=new e("workspace-untrusted",{fontCharacter:"\\ebc2"}),e.workspaceUnspecified=new e("workspace-unspecified",{fontCharacter:"\\ebc3"}),e.terminalCmd=new e("terminal-cmd",{fontCharacter:"\\ebc4"}),e.terminalDebian=new e("terminal-debian",{fontCharacter:"\\ebc5"}),e.terminalLinux=new e("terminal-linux",{fontCharacter:"\\ebc6"}),e.terminalPowershell=new e("terminal-powershell",{fontCharacter:"\\ebc7"}),e.terminalTmux=new e("terminal-tmux",{fontCharacter:"\\ebc8"}),e.terminalUbuntu=new e("terminal-ubuntu",{fontCharacter:"\\ebc9"}),e.terminalBash=new e("terminal-bash",{fontCharacter:"\\ebca"}),e.arrowSwap=new e("arrow-swap",{fontCharacter:"\\ebcb"}),e.copy=new e("copy",{fontCharacter:"\\ebcc"}),e.personAdd=new e("person-add",{fontCharacter:"\\ebcd"}),e.filterFilled=new e("filter-filled",{fontCharacter:"\\ebce"}),e.wand=new e("wand",{fontCharacter:"\\ebcf"}),e.debugLineByLine=new e("debug-line-by-line",{fontCharacter:"\\ebd0"}),e.inspect=new e("inspect",{fontCharacter:"\\ebd1"}),e.layers=new e("layers",{fontCharacter:"\\ebd2"}),e.layersDot=new e("layers-dot",{fontCharacter:"\\ebd3"}),e.layersActive=new e("layers-active",{fontCharacter:"\\ebd4"}),e.compass=new e("compass",{fontCharacter:"\\ebd5"}),e.compassDot=new e("compass-dot",{fontCharacter:"\\ebd6"}),e.compassActive=new e("compass-active",{fontCharacter:"\\ebd7"}),e.azure=new e("azure",{fontCharacter:"\\ebd8"}),e.issueDraft=new e("issue-draft",{fontCharacter:"\\ebd9"}),e.gitPullRequestClosed=new e("git-pull-request-closed",{fontCharacter:"\\ebda"}),e.gitPullRequestDraft=new e("git-pull-request-draft",{fontCharacter:"\\ebdb"}),e.debugAll=new e("debug-all",{fontCharacter:"\\ebdc"}),e.debugCoverage=new e("debug-coverage",{fontCharacter:"\\ebdd"}),e.dropDownButton=new e("drop-down-button",e.chevronDown.definition)}(l||(l={}))},Vtyv:function(e,t,i){},VvMK:function(e,t,i){},Vxe3:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("codeEditorService")},W9cx:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return h}));var n=i("pmY6"),o=i("N0LK"),r=i("bY76"),s=i("Cg/j"),a=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const l=Object(s.c)("openerService"),c=Object.freeze({_serviceBrand:void 0,registerOpener:()=>n.a.None,registerValidator:()=>n.a.None,registerExternalUriResolver:()=>n.a.None,setDefaultExternalOpener(){},registerExternalOpener:()=>n.a.None,open(){return a(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(e){return a(this,void 0,void 0,(function*(){return{resolved:e,dispose(){}}}))}});function h(e,t){return r.a.isUri(e)?Object(o.s)(e.scheme,t):Object(o.S)(e,t+":")}},WBhO:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("modeService")},WqXY:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));i("yEoX");var n=i("pmY6"),o=i("8HAY"),r=i("EffR"),s=i("746U"),a=i("uDWl"),l=i("MI8n"),c=i("7/Ik"),h=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class d extends n.a{constructor(e,t={}){var i,n,s,h,d,u;let g,p;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new l.b),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new l.b({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new l.b),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new l.b),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=null!==(i=t.context)&&void 0!==i?i:null,this._orientation=null!==(n=this.options.orientation)&&void 0!==n?n:0,this._triggerKeys={keyDown:null!==(h=null===(s=this.options.triggerKeys)||void 0===s?void 0:s.keyDown)&&void 0!==h&&h,keys:null!==(u=null===(d=this.options.triggerKeys)||void 0===d?void 0:d.keys)&&void 0!==u?u:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new o.b,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(e=>this._onDidRun.fire(e))),this._register(this._actionRunner.onBeforeRun(e=>this._onBeforeRun.fire(e))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:g=[15],p=[17];break;case 1:g=[16],p=[18],this.domNode.className+=" vertical"}this._register(r.i(this.domNode,r.d.KEY_DOWN,e=>{const t=new a.a(e);let i=!0;const n="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;g&&(t.equals(g[0])||t.equals(g[1]))?i=this.focusPrevious():p&&(t.equals(p[0])||t.equals(p[1]))?i=this.focusNext():t.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():t.equals(14)?i=this.focusFirst():t.equals(13)?i=this.focusLast():t.equals(2)&&n instanceof c.b&&n.trapsArrowNavigation?i=this.focusNext():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown?this.doTrigger(t):this.triggerKeyDown=!0:i=!1,i&&(t.preventDefault(),t.stopPropagation())})),this._register(r.i(this.domNode,r.d.KEY_UP,e=>{const t=new a.a(e);this.isTriggerKeyEvent(t)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(t)),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(r.Y(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{r.y()!==this.domNode&&r.L(r.y(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(r.L(r.y(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach(t=>t.actionRunner=e))}getContainer(){return this.domNode}push(e,t={}){const i=Array.isArray(e)?e:[e];let n=s.i(t.index)?t.index:null;i.forEach(e=>{const i=document.createElement("li");let o;i.className="action-item",i.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(r.i(i,r.d.CONTEXT_MENU,e=>{r.c.stop(e,!0)})),this.options.actionViewItemProvider&&(o=this.options.actionViewItemProvider(e)),o||(o=new c.a(this.context,e,t)),o.actionRunner=this._actionRunner,o.setActionContext(this.context),o.render(i),this.focusable&&o instanceof c.b&&0===this.viewItems.length&&o.setFocusable(!0),null===n||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(i),this.viewItems.push(o),this._actionIds.push(e.id)):(this.actionsList.insertBefore(i,this.actionsList.children[n]),this.viewItems.splice(n,0,o),this._actionIds.splice(n,0,e.id),n++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem)}clear(){Object(n.f)(this.viewItems),this.viewItems=[],this._actionIds=[],r.t(this.actionsList)}length(){return this.viewItems.length}focus(e){let t=!1,i=void 0;if(void 0===e?t=!0:"number"==typeof e?i=e:"boolean"==typeof e&&(t=e),t&&void 0===this.focusedItem){const e=this.viewItems.findIndex(e=>e.isEnabled());this.focusedItem=-1===e?void 0:e,this.updateFocus()}else void 0!==i&&(this.focusedItem=i),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=e,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=e,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t){void 0===this.focusedItem&&this.actionsList.focus({preventScroll:t});for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i],o=n;if(i===this.focusedItem){let i=!0;s.h(o.focus)||(i=!1),this.options.focusOnlyEnabledItems&&s.h(n.isEnabled)&&!n.isEnabled()&&(i=!1),i?o.focus(e):this.actionsList.focus({preventScroll:t})}else s.h(o.blur)&&o.blur()}}doTrigger(e){if(void 0===this.focusedItem)return;const t=this.viewItems[this.focusedItem];if(t instanceof c.b){const i=null===t._context||void 0===t._context?e:t._context;this.run(t._action,i)}}run(e,t){return h(this,void 0,void 0,(function*(){yield this._actionRunner.run(e,t)}))}dispose(){Object(n.f)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},"X+cX":function(e,t,i){"use strict";i.d(t,"k",(function(){return a})),i.d(t,"h",(function(){return l})),i.d(t,"l",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"f",(function(){return u})),i.d(t,"n",(function(){return g})),i.d(t,"i",(function(){return p})),i.d(t,"j",(function(){return m})),i.d(t,"g",(function(){return f})),i.d(t,"c",(function(){return b})),i.d(t,"e",(function(){return _})),i.d(t,"m",(function(){return v})),i.d(t,"b",(function(){return C})),i.d(t,"d",(function(){return w}));var n=i("JQT/"),o=i("/cxE"),r=i("pmY6"),s=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function a(e){return!!e&&"function"==typeof e.then}function l(e){const t=new n.b,i=e(t.token),r=new Promise((e,n)=>{const r=t.token.onCancellationRequested(()=>{r.dispose(),t.dispose(),n(Object(o.a)())});Promise.resolve(i).then(i=>{r.dispose(),t.dispose(),e(i)},e=>{r.dispose(),t.dispose(),n(e)})});return new class{cancel(){t.cancel()}then(e,t){return r.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return r.finally(e)}}}function c(e,t,i){return Promise.race([e,new Promise(e=>t.onCancellationRequested(()=>e(i)))])}class h{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const e=()=>{this.queuedPromise=null;const e=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,e};this.queuedPromise=new Promise(t=>{this.activePromise.then(e,e).then(t)})}return new Promise((e,t)=>{this.queuedPromise.then(e,t)})}return this.activePromise=e(),new Promise((e,t)=>{this.activePromise.then(t=>{this.activePromise=null,e(t)},e=>{this.activePromise=null,t(e)})})}}class d{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e,t)=>{this.doResolve=e,this.doReject=t}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},t),this.completionPromise}isTriggered(){return null!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(Object(o.a)()),this.completionPromise=null)}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class u{constructor(e){this.delayer=new d(e),this.throttler=new h}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}dispose(){this.delayer.dispose()}}function g(e,t){return t?new Promise((i,n)=>{const r=setTimeout(()=>{s.dispose(),i()},e),s=t.onCancellationRequested(()=>{clearTimeout(r),s.dispose(),n(Object(o.a)())})}):l(t=>g(e,t))}function p(e,t=0){const i=setTimeout(e,t);return Object(r.i)(()=>clearTimeout(i))}function m(e,t=(e=>!!e),i=null){let n=0;const o=e.length,r=()=>{if(n>=o)return Promise.resolve(i);const s=e[n++];return Promise.resolve(s()).then(e=>t(e)?Promise.resolve(e):r())};return r()}class f{constructor(e,t){this._token=-1,"function"==typeof e&&"number"==typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class b{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}}class _{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let v;!function(){if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){const e=Object.freeze({didTimeout:!0,timeRemaining:()=>15});v=t=>{const i=setTimeout(()=>t(e));let n=!1;return{dispose(){n||(n=!0,clearTimeout(i))}}}}else v=(e,t)=>{const i=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0);let n=!1;return{dispose(){n||(n=!0,cancelIdleCallback(i))}}}}();class C{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=v(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}var w;!function(e){e.settled=function(e){return s(this,void 0,void 0,(function*(){let t=void 0;const i=yield Promise.all(e.map(e=>e.then(e=>e,e=>{t||(t=e)})));if(void 0!==t)throw t;return i}))}}(w||(w={}))},"X4/I":function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/// <reference lib="es2015.symbol" />\r\n/// <reference lib="es2015.symbol.wellknown" />\r\n\r\ninterface SharedArrayBuffer {\r\n    /**\r\n     * Read-only. The length of the ArrayBuffer (in bytes).\r\n     */\r\n    readonly byteLength: number;\r\n\r\n    /**\r\n     * Returns a section of an SharedArrayBuffer.\r\n     */\r\n    slice(begin: number, end?: number): SharedArrayBuffer;\r\n    readonly [Symbol.species]: SharedArrayBuffer;\r\n    readonly [Symbol.toStringTag]: "SharedArrayBuffer";\r\n}\r\n\r\ninterface SharedArrayBufferConstructor {\r\n    readonly prototype: SharedArrayBuffer;\r\n    new (byteLength: number): SharedArrayBuffer;\r\n}\r\ndeclare var SharedArrayBuffer: SharedArrayBufferConstructor;\r\n\r\ninterface ArrayBufferTypes {\r\n    SharedArrayBuffer: SharedArrayBuffer;\r\n}\r\n\r\ninterface Atomics {\r\n    /**\r\n     * Adds a value to the value at the given position in the array, returning the original value.\r\n     * Until this atomic operation completes, any other read or write operation against the array\r\n     * will block.\r\n     */\r\n    add(typedArray: Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array, index: number, value: number): number;\r\n\r\n    /**\r\n     * Stores the bitwise AND of a value with the value at the given position in the array,\r\n     * returning the original value. Until this atomic operation completes, any other read or\r\n     * write operation against the array will block.\r\n     */\r\n    and(typedArray: Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array, index: number, value: number): number;\r\n\r\n    /**\r\n     * Replaces the value at the given position in the array if the original value equals the given\r\n     * expected value, returning the original value. Until this atomic operation completes, any\r\n     * other read or write operation against the array will block.\r\n     */\r\n    compareExchange(typedArray: Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array, index: number, expectedValue: number, replacementValue: number): number;\r\n\r\n    /**\r\n     * Replaces the value at the given position in the array, returning the original value. Until\r\n     * this atomic operation completes, any other read or write operation against the array will\r\n     * block.\r\n     */\r\n    exchange(typedArray: Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array, index: number, value: number): number;\r\n\r\n    /**\r\n     * Returns a value indicating whether high-performance algorithms can use atomic operations\r\n     * (`true`) or must use locks (`false`) for the given number of bytes-per-element of a typed\r\n     * array.\r\n     */\r\n    isLockFree(size: number): boolean;\r\n\r\n    /**\r\n     * Returns the value at the given position in the array. Until this atomic operation completes,\r\n     * any other read or write operation against the array will block.\r\n     */\r\n    load(typedArray: Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array, index: number): number;\r\n\r\n    /**\r\n     * Stores the bitwise OR of a value with the value at the given position in the array,\r\n     * returning the original value. Until this atomic operation completes, any other read or write\r\n     * operation against the array will block.\r\n     */\r\n    or(typedArray: Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array, index: number, value: number): number;\r\n\r\n    /**\r\n     * Stores a value at the given position in the array, returning the new value. Until this\r\n     * atomic operation completes, any other read or write operation against the array will block.\r\n     */\r\n    store(typedArray: Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array, index: number, value: number): number;\r\n\r\n    /**\r\n     * Subtracts a value from the value at the given position in the array, returning the original\r\n     * value. Until this atomic operation completes, any other read or write operation against the\r\n     * array will block.\r\n     */\r\n    sub(typedArray: Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array, index: number, value: number): number;\r\n\r\n    /**\r\n     * If the value at the given position in the array is equal to the provided value, the current\r\n     * agent is put to sleep causing execution to suspend until the timeout expires (returning\r\n     * `"timed-out"`) or until the agent is awoken (returning `"ok"`); otherwise, returns\r\n     * `"not-equal"`.\r\n     */\r\n    wait(typedArray: Int32Array, index: number, value: number, timeout?: number): "ok" | "not-equal" | "timed-out";\r\n\r\n    /**\r\n     * Wakes up sleeping agents that are waiting on the given index of the array, returning the\r\n     * number of agents that were awoken.\r\n     * @param typedArray A shared Int32Array.\r\n     * @param index The position in the typedArray to wake up on.\r\n     * @param count The number of sleeping agents to notify. Defaults to +Infinity.\r\n     */\r\n    notify(typedArray: Int32Array, index: number, count?: number): number;\r\n\r\n    /**\r\n     * Stores the bitwise XOR of a value with the value at the given position in the array,\r\n     * returning the original value. Until this atomic operation completes, any other read or write\r\n     * operation against the array will block.\r\n     */\r\n    xor(typedArray: Int8Array | Uint8Array | Int16Array | Uint16Array | Int32Array | Uint32Array, index: number, value: number): number;\r\n\r\n    readonly [Symbol.toStringTag]: "Atomics";\r\n}\r\n\r\ndeclare var Atomics: Atomics;\r\n'},X5Qd:function(e,t,i){"use strict";i.r(t),t.default='type AnyTable = Record<any, any>;\n// eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/consistent-type-definitions\ntype AnyNotNil = {};\n\n/**\n * Indicates a type is a language extension provided by TypescriptToLua.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TBrand A string used to uniquely identify the language extension type\n */\ndeclare type LuaExtension<TBrand extends string> = { [T in TBrand]: { readonly __luaExtensionSymbol: unique symbol } };\n\n/**\n * Returns multiple values from a function, by wrapping them in a LuaMultiReturn tuple.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param T A tuple type with each element type representing a return value\'s type.\n * @param values Return values.\n */\ndeclare const $multi: (<T extends any[]>(...values: T) => LuaMultiReturn<T>) & LuaExtension<"__luaMultiFunctionBrand">;\n\n/**\n * Represents multiple return values as a tuple.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param T A tuple type with each element type representing a return value\'s type.\n */\ndeclare type LuaMultiReturn<T extends any[]> = T & LuaExtension<"__luaMultiReturnBrand">;\n\n/**\n * Creates a Lua-style numeric for loop (for i=start,limit,step) when used in for...of. Not valid in any other context.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param start The first number in the sequence to iterate over.\n * @param limit The last number in the sequence to iterate over.\n * @param step The amount to increment each iteration.\n */\ndeclare const $range: ((start: number, limit: number, step?: number) => Iterable<number>) &\n    LuaExtension<"__luaRangeFunctionBrand">;\n\n/**\n * Transpiles to the global vararg (`...`)\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n */\ndeclare const $vararg: string[] & LuaExtension<"__luaVarargConstantBrand">;\n\n/**\n * Represents a Lua-style iterator which is returned from a LuaIterable.\n * For simple iterators (with no state), this is just a function.\n * For complex iterators that use a state, this is a LuaMultiReturn tuple containing a function, the state, and the initial value to pass to the function.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param state The state object returned from the LuaIterable.\n * @param lastValue The last value returned from this function. If iterating LuaMultiReturn values, this is the first value of the tuple.\n */\ndeclare type LuaIterator<TValue, TState> = TState extends undefined\n    ? (this: void) => TValue\n    : LuaMultiReturn<\n          [\n              (\n                  this: void,\n                  state: TState,\n                  lastValue: TValue extends LuaMultiReturn<infer TTuple> ? TTuple[0] : TValue\n              ) => TValue,\n              TState,\n              TValue extends LuaMultiReturn<infer TTuple> ? TTuple[0] : TValue\n          ]\n      >;\n\n/**\n * Represents a Lua-style iteratable which iterates single values in a `for...in` loop (ex. `for x in iter() do`).\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TValue The type of value returned each iteration. If this is LuaMultiReturn, multiple values will be returned each iteration.\n * @param TState The type of the state value passed back to the iterator function each iteration.\n */\ndeclare type LuaIterable<TValue, TState = undefined> = Iterable<TValue> &\n    LuaIterator<TValue, TState> &\n    LuaExtension<"__luaIterableBrand">;\n\n/**\n * Calls to functions with this type are translated to `left + right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaAddition<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaAdditionBrand">;\n\n/**\n * Calls to methods with this type are translated to `left + right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaAdditionMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaAdditionMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left - right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaSubtraction<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaSubtractionBrand">;\n\n/**\n * Calls to methods with this type are translated to `left - right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaSubtractionMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaSubtractionMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left * right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaMultiplication<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaMultiplicationBrand">;\n\n/**\n * Calls to methods with this type are translated to `left * right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaMultiplicationMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaMultiplicationMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left / right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaDivision<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaDivisionBrand">;\n\n/**\n * Calls to methods with this type are translated to `left / right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaDivisionMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaDivisionMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left % right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaModulo<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaModuloBrand">;\n\n/**\n * Calls to methods with this type are translated to `left % right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaModuloMethod<TRight, TReturn> = ((right: TRight) => TReturn) & LuaExtension<"__luaModuloMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left ^ right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaPower<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaPowerBrand">;\n\n/**\n * Calls to methods with this type are translated to `left ^ right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaPowerMethod<TRight, TReturn> = ((right: TRight) => TReturn) & LuaExtension<"__luaPowerMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left // right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaFloorDivision<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaFloorDivisionBrand">;\n\n/**\n * Calls to methods with this type are translated to `left // right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaFloorDivisionMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaFloorDivisionMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left & right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseAnd<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaBitwiseAndBrand">;\n\n/**\n * Calls to methods with this type are translated to `left & right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseAndMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaBitwiseAndMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left | right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseOr<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaBitwiseOrBrand">;\n\n/**\n * Calls to methods with this type are translated to `left | right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseOrMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaBitwiseOrMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left ~ right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseExclusiveOr<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaBitwiseExclusiveOrBrand">;\n\n/**\n * Calls to methods with this type are translated to `left ~ right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseExclusiveOrMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaBitwiseExclusiveOrMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left << right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseLeftShift<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaBitwiseLeftShiftBrand">;\n\n/**\n * Calls to methods with this type are translated to `left << right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseLeftShiftMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaBitwiseLeftShiftMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left >> right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseRightShift<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaBitwiseRightShiftBrand">;\n\n/**\n * Calls to methods with this type are translated to `left >> right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseRightShiftMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaBitwiseRightShiftMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left .. right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaConcat<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaConcatBrand">;\n\n/**\n * Calls to methods with this type are translated to `left .. right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaConcatMethod<TRight, TReturn> = ((right: TRight) => TReturn) & LuaExtension<"__luaConcatMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left < right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaLessThan<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaLessThanBrand">;\n\n/**\n * Calls to methods with this type are translated to `left < right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaLessThanMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaLessThanMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `left > right`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TLeft The type of the left-hand-side of the operation.\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaGreaterThan<TLeft, TRight, TReturn> = ((left: TLeft, right: TRight) => TReturn) &\n    LuaExtension<"__luaGreaterThanBrand">;\n\n/**\n * Calls to methods with this type are translated to `left > right`, where `left` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TRight The type of the right-hand-side of the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaGreaterThanMethod<TRight, TReturn> = ((right: TRight) => TReturn) &\n    LuaExtension<"__luaGreaterThanMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `-operand`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TOperand The type of the value in the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaNegation<TOperand, TReturn> = ((operand: TOperand) => TReturn) & LuaExtension<"__luaNegationBrand">;\n\n/**\n * Calls to method with this type are translated to `-operand`, where `operand` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaNegationMethod<TReturn> = (() => TReturn) & LuaExtension<"__luaNegationMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `~operand`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TOperand The type of the value in the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseNot<TOperand, TReturn> = ((operand: TOperand) => TReturn) & LuaExtension<"__luaBitwiseNotBrand">;\n\n/**\n * Calls to method with this type are translated to `~operand`, where `operand` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaBitwiseNotMethod<TReturn> = (() => TReturn) & LuaExtension<"__luaBitwiseNotMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `#operand`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TOperand The type of the value in the operation.\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaLength<TOperand, TReturn> = ((operand: TOperand) => TReturn) & LuaExtension<"__luaLengthBrand">;\n\n/**\n * Calls to method with this type are translated to `#operand`, where `operand` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TReturn The resulting (return) type of the operation.\n */\ndeclare type LuaLengthMethod<TReturn> = (() => TReturn) & LuaExtension<"__luaLengthMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `table[key]`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TTable The type to access as a Lua table.\n * @param TKey The type of the key to use to access the table.\n * @param TValue The type of the value stored in the table.\n */\ndeclare type LuaTableGet<TTable extends AnyTable, TKey extends AnyNotNil, TValue> = ((\n    table: TTable,\n    key: TKey\n) => TValue) &\n    LuaExtension<"__luaTableGetBrand">;\n\n/**\n * Calls to methods with this type are translated to `table[key]`, where `table` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TKey The type of the key to use to access the table.\n * @param TValue The type of the value stored in the table.\n */\ndeclare type LuaTableGetMethod<TKey extends AnyNotNil, TValue> = ((key: TKey) => TValue) &\n    LuaExtension<"__luaTableGetMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `table[key] = value`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TTable The type to access as a Lua table.\n * @param TKey The type of the key to use to access the table.\n * @param TValue The type of the value to assign to the table.\n */\ndeclare type LuaTableSet<TTable extends AnyTable, TKey extends AnyNotNil, TValue> = ((\n    table: TTable,\n    key: TKey,\n    value: TValue\n) => void) &\n    LuaExtension<"__luaTableSetBrand">;\n\n/**\n * Calls to methods with this type are translated to `table[key] = value`, where `table` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TKey The type of the key to use to access the table.\n * @param TValue The type of the value to assign to the table.\n */\ndeclare type LuaTableSetMethod<TKey extends AnyNotNil, TValue> = ((key: TKey, value: TValue) => void) &\n    LuaExtension<"__luaTableSetMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `table[key] ~= nil`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TTable The type to access as a Lua table.\n * @param TKey The type of the key to use to access the table.\n */\ndeclare type LuaTableHas<TTable extends AnyTable, TKey extends AnyNotNil> = ((table: TTable, key: TKey) => boolean) &\n    LuaExtension<"__luaTableHasBrand">;\n\n/**\n * Calls to methods with this type are translated to `table[key] ~= nil`, where `table` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TKey The type of the key to use to access the table.\n */\ndeclare type LuaTableHasMethod<TKey extends AnyNotNil> = ((key: TKey) => boolean) &\n    LuaExtension<"__luaTableHasMethodBrand">;\n\n/**\n * Calls to functions with this type are translated to `table[key] = nil`.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TTable The type to access as a Lua table.\n * @param TKey The type of the key to use to access the table.\n */\ndeclare type LuaTableDelete<TTable extends AnyTable, TKey extends AnyNotNil> = ((table: TTable, key: TKey) => boolean) &\n    LuaExtension<"__luaTableDeleteBrand">;\n\n/**\n * Calls to methods with this type are translated to `table[key] = nil`, where `table` is the object with the method.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TKey The type of the key to use to access the table.\n */\ndeclare type LuaTableDeleteMethod<TKey extends AnyNotNil> = ((key: TKey) => boolean) &\n    LuaExtension<"__luaTableDeleteMethodBrand">;\n\n/**\n * A convenience type for working directly with a Lua table.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TKey The type of the keys used to access the table.\n * @param TValue The type of the values stored in the table.\n */\ndeclare interface LuaTable<TKey extends AnyNotNil = AnyNotNil, TValue = any> {\n    length: LuaLengthMethod<number>;\n    get: LuaTableGetMethod<TKey, TValue>;\n    set: LuaTableSetMethod<TKey, TValue>;\n    has: LuaTableHasMethod<TKey>;\n    delete: LuaTableDeleteMethod<TKey>;\n}\n\n/**\n * A convenience type for working directly with a Lua table.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TKey The type of the keys used to access the table.\n * @param TValue The type of the values stored in the table.\n */\ndeclare type LuaTableConstructor = (new <TKey extends AnyNotNil = AnyNotNil, TValue = any>() => LuaTable<\n    TKey,\n    TValue\n>) &\n    LuaExtension<"__luaTableNewBrand">;\n\n/**\n * A convenience type for working directly with a Lua table.\n * For more information see: https://typescripttolua.github.io/docs/advanced/language-extensions\n *\n * @param TKey The type of the keys used to access the table.\n * @param TValue The type of the values stored in the table.\n */\ndeclare const LuaTable: LuaTableConstructor;\n'},XSiN:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i("D3Dy"),o=i("51f4"),r=i("MNsG");class s{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=o.a.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class a{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){let t=e,i=e;if(void 0!==t.wheelDeltaY)this.deltaY=t.wheelDeltaY/120;else if(void 0!==i.VERTICAL_AXIS&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?n.g&&!r.f?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==t.wheelDeltaX)n.h&&r.j?this.deltaX=-t.wheelDeltaX/120:this.deltaX=t.wheelDeltaX/120;else if(void 0!==i.HORIZONTAL_AXIS&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?n.g&&!r.f?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},XXBq:function(e,t,i){},XXUj:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("telemetryService")},YHy6:function(e,t,i){},Yr1X:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("MI8n");const o=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new n.b,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},Z1D4:function(e,t,i){e.exports=function(){return new Worker(i.p+"ts.worker.js")}},Z1pP:function(e,t,i){},ZAMT:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface String {\r\n    /**\r\n     * Pads the current string with a given string (possibly repeated) so that the resulting string reaches a given length.\r\n     * The padding is applied from the start (left) of the current string.\r\n     *\r\n     * @param maxLength The length of the resulting string once the current string has been padded.\r\n     *        If this parameter is smaller than the current string\'s length, the current string will be returned as it is.\r\n     *\r\n     * @param fillString The string to pad the current string with.\r\n     *        If this string is too long, it will be truncated and the left-most part will be applied.\r\n     *        The default value for this parameter is " " (U+0020).\r\n     */\r\n    padStart(maxLength: number, fillString?: string): string;\r\n\r\n    /**\r\n     * Pads the current string with a given string (possibly repeated) so that the resulting string reaches a given length.\r\n     * The padding is applied from the end (right) of the current string.\r\n     *\r\n     * @param maxLength The length of the resulting string once the current string has been padded.\r\n     *        If this parameter is smaller than the current string\'s length, the current string will be returned as it is.\r\n     *\r\n     * @param fillString The string to pad the current string with.\r\n     *        If this string is too long, it will be truncated and the left-most part will be applied.\r\n     *        The default value for this parameter is " " (U+0020).\r\n     */\r\n    padEnd(maxLength: number, fillString?: string): string;\r\n}\r\n'},ZCR3:function(e,t,i){"use strict";function n(e,t,i){let n=null,o=null;if("function"==typeof i.value?(n="value",o=i.value,0!==o.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof i.get&&(n="get",o=i.get),!o)throw new Error("not supported");const r="$memoize$"+t;i[n]=function(...e){return this.hasOwnProperty(r)||Object.defineProperty(this,r,{configurable:!1,enumerable:!1,writable:!1,value:o.apply(this,e)}),this[r]}}i.d(t,"a",(function(){return n}))},ZLfK:function(e,t,i){"use strict";i.r(t),t.default='// Based on https://www.lua.org/manual/5.3/manual.html#6.4\n\n/** @noSelfInFile */\n\n/**\n * This library provides generic functions for string manipulation, such as\n * finding and extracting substrings, and pattern matching. When indexing a\n * string in Lua, the first character is at position 1 (not at 0, as in C).\n * Indices are allowed to be negative and are interpreted as indexing backwards,\n * from the end of the string. Thus, the last character is at position -1, and\n * so on.\n *\n * The string library provides all its functions inside the table string. It\n * also sets a metatable for strings where the __index field points to the\n * string table. Therefore, you can use the string functions in object-oriented\n * style. For instance, string.byte(s,i) can be written as s:byte(i).\n *\n * The string library assumes one-byte character encodings.\n */\ndeclare namespace string {\n    /**\n     * Returns the internal numeric codes of the characters s[i], s[i+1], ...,\n     * s[j]. The default value for i is 1; the default value for j is i. These\n     * indices are corrected following the same rules of function string.sub.\n     *\n     * Numeric codes are not necessarily portable across platforms.\n     */\n    function byte(s: string, i?: number): number;\n    function byte(s: string, i?: number, j?: number): LuaMultiReturn<number[]>;\n\n    /**\n     * Receives zero or more integers. Returns a string with length equal to the\n     * number of arguments, in which each character has the internal numeric code\n     * equal to its corresponding argument.\n     *\n     * Numeric codes are not necessarily portable across platforms.\n     */\n    function char(...args: number[]): string;\n\n    /**\n     * Returns a string containing a binary representation of the given function,\n     * so that a later load on this string returns a copy of the function (but\n     * with new upvalues).\n     */\n    function dump(func: Function): string;\n\n    /**\n     * Looks for the first match of pattern (see §6.4.1) in the string s. If it\n     * finds a match, then find returns the indices of s where this occurrence\n     * starts and ends; otherwise, it returns nil. A third, optional numeric\n     * argument init specifies where to start the search; its default value is 1\n     * and can be negative. A value of true as a fourth, optional argument plain\n     * turns off the pattern matching facilities, so the function does a plain\n     * "find substring" operation, with no characters in pattern being considered\n     * magic. Note that if plain is given, then init must be given as well.\n     *\n     * If the pattern has captures, then in a successful match the captured values\n     * are also returned, after the two indices.\n     */\n    function find(\n        s: string,\n        pattern: string,\n        init?: number,\n        plain?: boolean\n    ): LuaMultiReturn<[number, number, ...string[]] | []>;\n\n    /**\n     * Returns a formatted version of its variable number of arguments following\n     * the description given in its first argument (which must be a string). The\n     * format string follows the same rules as the ISO C function sprintf. The\n     * only differences are that the options/modifiers *, h, L, l, n, and p are\n     * not supported and that there is an extra option, q.\n     *\n     * The q option formats a string between double quotes, using escape sequences\n     * when necessary to ensure that it can safely be read back by the Lua\n     * interpreter. For instance, the call\n     *\n     * `string.format(\'%q\', \'a string with "quotes" and \\n new line\')`\n     *\n     * may produce the string:\n     *\n     * `"a string with \\"quotes\\" and \\\n     *  new line"` Options A, a, E, e, f, G, and g all expect a number as\n     * argument. Options c, d, i, o, u, X, and x expect an integer. When Lua is\n     * compiled with a C89 compiler, options A and a (hexadecimal floats) do not\n     * support any modifier (flags, width, length).\n     *\n     * Option s expects a string; if its argument is not a string, it is converted\n     * to one following the same rules of tostring. If the option has any modifier\n     * (flags, width, length), the string argument should not contain embedded\n     * zeros.\n     */\n    function format(formatstring: string, ...args: any[]): string;\n\n    /**\n     * Returns an iterator function that, each time it is called, returns the next\n     * captures from pattern (see §6.4.1) over the string s. If pattern specifies\n     * no captures, then the whole match is produced in each call.\n     *\n     * As an example, the following loop will iterate over all the words from\n     * string s, printing one per line:\n     *\n     * ```\n     * s = "hello world from Lua"\n     * for w in string.gmatch(s, "%a+") do\n     *   print(w)\n     * end\n     * ```\n     *\n     * The next example collects all pairs key=value from the given string into a\n     * table:\n     *\n     * ```\n     * t = {}\n     * s = "from=world, to=Lua"\n     * for k, v in string.gmatch(s, "(%w+)=(%w+)") do\n     *   t[k] = v\n     * end\n     * ```\n     *\n     * For this function, a caret \'^\' at the start of a pattern does not work as\n     * an anchor, as this would prevent the iteration.\n     */\n    function gmatch(s: string, pattern: string): LuaIterable<LuaMultiReturn<string[]>>;\n\n    /**\n     * Returns a copy of s in which all (or the first n, if given) occurrences of\n     * the pattern (see §6.4.1) have been replaced by a replacement string\n     * specified by repl, which can be a string, a table, or a function. gsub also\n     * returns, as its second value, the total number of matches that occurred.\n     * The name gsub comes from Global SUBstitution.\n     *\n     * If repl is a string, then its value is used for replacement. The character\n     * % works as an escape character: any sequence in repl of the form %d, with d\n     * between 1 and 9, stands for the value of the d-th captured substring. The\n     * sequence %0 stands for the whole match. The sequence %% stands for a single\n     * %.\n     *\n     * If repl is a table, then the table is queried for every match, using the\n     * first capture as the key.\n     *\n     * If repl is a function, then this function is called every time a match\n     * occurs, with all captured substrings passed as arguments, in order.\n     *\n     * In any case, if the pattern specifies no captures, then it behaves as if\n     * the whole pattern was inside a capture.\n     *\n     * If the value returned by the table query or by the function call is a\n     * string or a number, then it is used as the replacement string; otherwise,\n     * if it is false or nil, then there is no replacement (that is, the original\n     * match is kept in the string).\n     */\n    function gsub(\n        s: string,\n        pattern: string,\n        repl: string | Record<string, string> | ((...matches: string[]) => string),\n        n?: number\n    ): LuaMultiReturn<[string, number]>;\n\n    /**\n     * Receives a string and returns its length. The empty string "" has length 0.\n     * Embedded zeros are counted, so "a\\000bc\\000" has length 5.\n     */\n    function len(s: string): number;\n\n    /**\n     * Receives a string and returns a copy of this string with all uppercase\n     * letters changed to lowercase. All other characters are left unchanged. The\n     * definition of what an uppercase letter is depends on the current locale.\n     */\n    function lower(s: string): string;\n\n    /**\n     * Looks for the first match of pattern (see §6.4.1) in the string s. If it\n     * finds one, then match returns the captures from the pattern; otherwise it\n     * returns nil. If pattern specifies no captures, then the whole match is\n     * returned. A third, optional numeric argument init specifies where to start\n     * the search; its default value is 1 and can be negative.\n     */\n    function match(s: string, pattern: string, init?: number): LuaMultiReturn<string[]>;\n\n    /**\n     * Returns a string that is the concatenation of `n` copies of the string `s`.\n     */\n    function rep(s: string, n: number): string;\n\n    /**\n     * Returns a string that is the string s reversed.\n     */\n    function reverse(s: string): string;\n\n    /**\n     * Returns the substring of s that starts at i and continues until j; i and j\n     * can be negative. If j is absent, then it is assumed to be equal to -1\n     * (which is the same as the string length). In particular, the call\n     * string.sub(s,1,j) returns a prefix of s with length j, and string.sub(s,\n     * -i) (for a positive i) returns a suffix of s with length i.\n     *\n     * If, after the translation of negative indices, i is less than 1, it is\n     * corrected to 1. If j is greater than the string length, it is corrected to\n     * that length. If, after these corrections, i is greater than j, the function\n     * returns the empty string.\n     */\n    function sub(s: string, i: number, j?: number): string;\n\n    /**\n     * Receives a string and returns a copy of this string with all lowercase\n     * letters changed to uppercase. All other characters are left unchanged. The\n     * definition of what a lowercase letter is depends on the current locale.\n     */\n    function upper(s: string): string;\n}\n'},ZQ78:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r}));const n={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:i("ubTv").a.text,TERMINALS:"Terminals"};class o{constructor(e){this.data=e}update(){}getData(){return this.data}}const r={CurrentDragAndDropData:void 0}},ZlPH:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));class n{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function o(e){return new n(e)}},Zr1c:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("Cg/j"),o=i("zdb4");i.d(t,"b",(function(){return o.a}));const r=Object(n.c)("quickInputService")},ZvGG:function(e,t,i){"use strict";var n=i("+hIS");Object(n.a)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return i.e(13).then(i.bind(null,"yUwd"))}})},acMF:function(e,t,i){"use strict";i.r(t),t.default="// Based on https://www.lua.org/manual/5.3/manual.html#6.6\n\n/** @noSelfInFile */\n\n/**\n * This library provides generic functions for table manipulation. It provides\n * all its functions inside the table table.\n *\n * Remember that, whenever an operation needs the length of a table, all caveats\n * about the length operator apply (see §3.4.7). All functions ignore\n * non-numeric keys in the tables given as arguments.\n */\ndeclare namespace table {\n    /**\n     * Given a list where all elements are strings or numbers, returns the string\n     * list[i]..sep..list[i+1] ··· sep..list[j]. The default value for sep is the\n     * empty string, the default for i is 1, and the default for j is #list. If i\n     * is greater than j, returns the empty string.\n     */\n    function concat(list: (string | number)[], sep?: string, i?: number, j?: number): string;\n\n    /**\n     * Inserts element value at position pos in list, shifting up the elements\n     * list[pos], list[pos+1], ···, list[#list]. The default value for pos is\n     * #list+1, so that a call table.insert(t,x) inserts x at the end of list t.\n     */\n    function insert<T>(list: T[], value: T): void;\n    function insert<T>(list: T[], pos: number, value: T): void;\n\n    /**\n     * Removes from list the element at position pos, returning the value of the\n     * removed element. When pos is an integer between 1 and #list, it shifts down\n     * the elements list[pos+1], list[pos+2], ···, list[#list] and erases element\n     * list[#list]; The index pos can also be 0 when #list is 0, or #list + 1; in\n     * those cases, the function erases the element list[pos].\n     *\n     * The default value for pos is #list, so that a call table.remove(l) removes\n     * the last element of list l.\n     */\n    function remove<T>(list: T[], pos?: number): T | undefined;\n\n    /**\n     * Sorts list elements in a given order, in-place, from list[1] to\n     * list[#list]. If comp is given, then it must be a function that receives two\n     * list elements and returns true when the first element must come before the\n     * second in the final order (so that, after the sort, i < j implies not\n     * comp(list[j],list[i])). If comp is not given, then the standard Lua\n     * operator < is used instead.\n     *\n     * Note that the comp function must define a strict partial order over the\n     * elements in the list; that is, it must be asymmetric and transitive.\n     * Otherwise, no valid sort may be possible.\n     *\n     * The sort algorithm is not stable: elements considered equal by the given\n     * order may have their relative positions changed by the sort.\n     */\n    function sort<T>(list: T[], comp?: (a: T, b: T) => boolean): void;\n}\n"},al33:function(e,t,i){"use strict";i.d(t,"a",(function(){return g})),i.d(t,"b",(function(){return p}));var n=i("MI8n"),o=i("7afs"),r=i("pmY6"),s=i("QDVR"),a=i("Sdnv"),l=i("l2gE"),c=i("MrjW");function h(e,t,i,n){if(Array.isArray(e)){let o=0;for(const r of e){const e=h(r,t,i,n);if(10===e)return e;e>o&&(o=e)}return o}if("string"==typeof e)return n?"*"===e?5:e===i?10:0:0;if(e){const{language:o,pattern:r,scheme:s,hasAccessToAllModels:a}=e;if(!n&&!a)return 0;let h=0;if(s)if(s===t.scheme)h=10;else{if("*"!==s)return 0;h=5}if(o)if(o===i)h=10;else{if("*"!==o)return 0;h=Math.max(h,5)}if(r){let e;if(e="string"==typeof r?r:Object.assign(Object.assign({},r),{base:Object(c.d)(r.base)}),e!==t.fsPath&&!Object(l.a)(e,t.fsPath))return 0;h=10}return h}return 0}var d=i("G2kB");function u(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(u):!!e.exclusive)}class g{constructor(){this._clock=0,this._entries=[],this._onDidChange=new n.b}get onDidChange(){return this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Object(r.i)(()=>{if(i){let e=this._entries.indexOf(i);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,e=>t.push(e.provider)),t}orderedGroups(e){const t=[];let i,n;return this._orderedForEach(e,e=>{i&&n===e._score?i.push(e.provider):(n=e._score,i=[e.provider],t.push(i))}),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=h(t.selector,e.uri,e.getLanguageIdentifier().language,Object(d.b)(e)),u(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(g._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}class p{constructor(e,t,i=Number.MAX_SAFE_INTEGER){this._registry=e,this.min=t,this.max=i,this._cache=new s.a(50,.7)}_key(e){return e.id+Object(o.b)(this._registry.all(e))}_clamp(e){return void 0===e?this.min:Math.min(this.max,Math.max(this.min,Math.floor(1.3*e)))}get(e){const t=this._key(e),i=this._cache.get(t);return this._clamp(null==i?void 0:i.value)}update(e,t){const i=this._key(e);let n=this._cache.get(i);return n||(n=new a.a,this._cache.set(i,n)),n.update(t),this.get(e)}}},aokT:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("cGHE");class o{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return o.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return o.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}containsRange(e){return o.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}strictContainsRange(e){return o.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}plusRange(e){return o.plusRange(this,e)}static plusRange(e,t){let i,n,r,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(r=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(r=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(r=e.endLineNumber,s=e.endColumn),new o(i,n,r,s)}intersectRanges(e){return o.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,r=e.endLineNumber,s=e.endColumn,a=t.startLineNumber,l=t.startColumn,c=t.endLineNumber,h=t.endColumn;return i<a?(i=a,n=l):i===a&&(n=Math.max(n,l)),r>c?(r=c,s=h):r===c&&(s=Math.min(s,h)),i>r||i===r&&n>s?null:new o(i,n,r,s)}equalsRange(e){return o.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return o.getEndPosition(this)}static getEndPosition(e){return new n.a(e.endLineNumber,e.endColumn)}getStartPosition(){return o.getStartPosition(this)}static getStartPosition(e){return new n.a(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new o(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new o(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return o.collapseToStart(this)}static collapseToStart(e){return new o(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new o(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new o(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const i=0|e.startLineNumber,n=0|t.startLineNumber;if(i===n){const i=0|e.startColumn,n=0|t.startColumn;if(i===n){const i=0|e.endLineNumber,n=0|t.endLineNumber;if(i===n){return(0|e.endColumn)-(0|t.endColumn)}return i-n}return i-n}return i-n}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}},b5sI:function(e,t,i){"use strict";i.r(t),t.default='// Based on https://www.lua.org/manual/5.3/manual.html#6.9\n\n/** @noSelfInFile */\n\ninterface LuaDateInfo {\n    year: number;\n    month: number;\n    day: number;\n    hour?: number;\n    min?: number;\n    sec?: number;\n    isdst?: boolean;\n}\n\ninterface LuaDateInfoResult {\n    year: number;\n    month: number;\n    day: number;\n    hour: number;\n    min: number;\n    sec: number;\n    isdst: boolean;\n    yday: number;\n    wday: number;\n}\n\n/**\n * Operating System Facilities\n */\ndeclare namespace os {\n    /**\n     * Returns an approximation of the amount in seconds of CPU time used by the\n     * program.\n     */\n    function clock(): number;\n\n    /**\n     * Returns a string or a table containing date and time, formatted according\n     * to the given string format.\n     *\n     * If the time argument is present, this is the time to be formatted (see the\n     * os.time function for a description of this value). Otherwise, date formats\n     * the current time.\n     *\n     * If format starts with \'!\', then the date is formatted in Coordinated\n     * Universal Time. After this optional character, if format is the string\n     * "*t", then date returns a table with the following fields: year, month\n     * (1–12), day (1–31), hour (0–23), min (0–59), sec (0–61), wday (weekday,\n     * 1–7, Sunday is 1), yday (day of the year, 1–366), and isdst (daylight\n     * saving flag, a boolean). This last field may be absent if the information\n     * is not available.\n     *\n     * If format is not "*t", then date returns the date as a string, formatted\n     * according to the same rules as the ISO C function strftime.\n     *\n     * When called without arguments, date returns a reasonable date and time\n     * representation that depends on the host system and on the current locale.\n     * (More specifically, os.date() is equivalent to os.date("%c").)\n     *\n     * On non-POSIX systems, this function may be not thread safe because of its\n     * reliance on C function gmtime and C function localtime.\n     */\n    function date(format?: string, time?: number): string;\n\n    /**\n     * Returns a string or a table containing date and time, formatted according\n     * to the given string format.\n     *\n     * If the time argument is present, this is the time to be formatted (see the\n     * os.time function for a description of this value). Otherwise, date formats\n     * the current time.\n     *\n     * If format starts with \'!\', then the date is formatted in Coordinated\n     * Universal Time. After this optional character, if format is the string\n     * "*t", then date returns a table with the following fields: year, month\n     * (1–12), day (1–31), hour (0–23), min (0–59), sec (0–61), wday (weekday,\n     * 1–7, Sunday is 1), yday (day of the year, 1–366), and isdst (daylight\n     * saving flag, a boolean). This last field may be absent if the information\n     * is not available.\n     *\n     * If format is not "*t", then date returns the date as a string, formatted\n     * according to the same rules as the ISO C function strftime.\n     *\n     * When called without arguments, date returns a reasonable date and time\n     * representation that depends on the host system and on the current locale.\n     * (More specifically, os.date() is equivalent to os.date("%c").)\n     *\n     * On non-POSIX systems, this function may be not thread safe because of its\n     * reliance on C function gmtime and C function localtime.\n     */\n    function date(format: \'*t\', time?: number): LuaDateInfoResult;\n\n    /**\n     * Returns the difference, in seconds, from time t1 to time t2 (where the\n     * times are values returned by os.time). In POSIX, Windows, and some other\n     * systems, this value is exactly t2-t1.\n     */\n    function difftime(t1: number, t2: number): number;\n\n    /**\n     * Returns the value of the process environment variable varname, or nil if\n     * the variable is not defined.\n     */\n    function getenv(varname: string): string | undefined;\n\n    /**\n     * Deletes the file (or empty directory, on POSIX systems) with the given\n     * name. If this function fails, it returns nil, plus a string describing the\n     * error and the error code. Otherwise, it returns true.\n     */\n    function remove(filename: string): LuaMultiReturn<[true] | [undefined, string]>;\n\n    /**\n     * Renames the file or directory named oldname to newname. If this function\n     * fails, it returns nil, plus a string describing the error and the error\n     * code. Otherwise, it returns true.\n     */\n    function rename(oldname: string, newname: string): LuaMultiReturn<[true] | [undefined, string]>;\n\n    /**\n     * Sets the current locale of the program. locale is a system-dependent string\n     * specifying a locale; category is an optional string describing which\n     * category to change: "all", "collate", "ctype", "monetary", "numeric", or\n     * "time"; the default category is "all". The function returns the name of the\n     * new locale, or nil if the request cannot be honored.\n     *\n     * If locale is the empty string, the current locale is set to an\n     * implementation-defined native locale. If locale is the string "C", the\n     * current locale is set to the standard C locale.\n     *\n     * When called with nil as the first argument, this function only returns the\n     * name of the current locale for the given category.\n     *\n     * This function may be not thread safe because of its reliance on C function\n     * setlocale.\n     */\n    function setlocale(\n        locale?: string,\n        category?: \'all\' | \'collate\' | \'ctype\' | \'monetary\' | \'numeric\' | \'time\'\n    ): string | undefined;\n\n    /**\n     * Returns the current time when called without arguments, or a time\n     * representing the local date and time specified by the given table. This\n     * table must have fields year, month, and day, and may have fields hour\n     * (default is 12), min (default is 0), sec (default is 0), and isdst (default\n     * is nil). Other fields are ignored. For a description of these fields, see\n     * the os.date function.\n     *\n     * The values in these fields do not need to be inside their valid ranges. For\n     * instance, if sec is -10, it means -10 seconds from the time specified by\n     * the other fields; if hour is 1000, it means +1000 hours from the time\n     * specified by the other fields.\n     *\n     * The returned value is a number, whose meaning depends on your system. In\n     * POSIX, Windows, and some other systems, this number counts the number of\n     * seconds since some given start time (the "epoch"). In other systems, the\n     * meaning is not specified, and the number returned by time can be used only\n     * as an argument to os.date and os.difftime.\n     */\n    function time(): number;\n\n    /**\n     * Returns the current time when called without arguments, or a time\n     * representing the local date and time specified by the given table. This\n     * table must have fields year, month, and day, and may have fields hour\n     * (default is 12), min (default is 0), sec (default is 0), and isdst (default\n     * is nil). Other fields are ignored. For a description of these fields, see\n     * the os.date function.\n     *\n     * The values in these fields do not need to be inside their valid ranges. For\n     * instance, if sec is -10, it means -10 seconds from the time specified by\n     * the other fields; if hour is 1000, it means +1000 hours from the time\n     * specified by the other fields.\n     *\n     * The returned value is a number, whose meaning depends on your system. In\n     * POSIX, Windows, and some other systems, this number counts the number of\n     * seconds since some given start time (the "epoch"). In other systems, the\n     * meaning is not specified, and the number returned by time can be used only\n     * as an argument to os.date and os.difftime.\n     */\n    function time(table: LuaDateInfo): number;\n\n    /**\n     * Returns a string with a file name that can be used for a temporary file.\n     * The file must be explicitly opened before its use and explicitly removed\n     * when no longer needed.\n     *\n     * On POSIX systems, this function also creates a file with that name, to\n     * avoid security risks. (Someone else might create the file with wrong\n     * permissions in the time between getting the name and creating the file.)\n     * You still have to open the file to use it and to remove it (even if you do\n     * not use it).\n     *\n     * When possible, you may prefer to use io.tmpfile, which automatically\n     * removes the file when the program ends.\n     */\n    function tmpname(): string;\n}\n'},bY76:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return b}));var n=i("MNsG"),o=i("MrjW");const r=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function l(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!r.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!s.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const c="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{constructor(e,t,i,n,o,r=!1){"object"==typeof e?(this.scheme=e.scheme||"",this.authority=e.authority||"",this.path=e.path||"",this.query=e.query||"",this.fragment=e.fragment||""):(this.scheme=function(e,t){return e||t?e:"file"}(e,r),this.authority=t||"",this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==c&&(t=c+t):t=c}return t}(this.scheme,i||""),this.query=n||"",this.fragment=o||"",l(this,r))}static isUri(e){return e instanceof d||!!e&&("string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString)}get fsPath(){return b(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:r}=e;return void 0===t?t=this.scheme:null===t&&(t=""),void 0===i?i=this.authority:null===i&&(i=""),void 0===n?n=this.path:null===n&&(n=""),void 0===o?o=this.query:null===o&&(o=""),void 0===r?r=this.fragment:null===r&&(r=""),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&r===this.fragment?this:new g(t,i,n,o,r)}static parse(e,t=!1){const i=h.exec(e);return i?new g(i[2]||"",C(i[4]||""),C(i[5]||""),C(i[7]||""),C(i[9]||""),t):new g("","","","","")}static file(e){let t="";if(n.j&&(e=e.replace(/\\/g,c)),e[0]===c&&e[1]===c){const i=e.indexOf(c,2);-1===i?(t=e.substring(2),e=c):(t=e.substring(2,i),e=e.substring(i)||c)}return new g("file",t,e,"","")}static from(e){const t=new g(e.scheme,e.authority,e.path,e.query,e.fragment);return l(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return i=n.j&&"file"===e.scheme?d.file(o.i.join(b(e,!0),...t)).path:o.e.join(e.path,...t),e.with({path:i})}toString(e=!1){return _(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof d)return e;{const t=new g(e);return t._formatted=e.external,t._fsPath=e._sep===u?e.fsPath:null,t}}return e}}const u=n.j?1:void 0;class g extends d{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath}toString(e=!1){return e?_(this,!0):(this._formatted||(this._formatted=_(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=u),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const p={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(e,t){let i=void 0,n=-1;for(let o=0;o<e.length;o++){const r=e.charCodeAt(o);if(r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||45===r||46===r||95===r||126===r||t&&47===r)-1!==n&&(i+=encodeURIComponent(e.substring(n,o)),n=-1),void 0!==i&&(i+=e.charAt(o));else{void 0===i&&(i=e.substr(0,o));const t=p[r];void 0!==t?(-1!==n&&(i+=encodeURIComponent(e.substring(n,o)),n=-1),i+=t):-1===n&&(n=o)}}return-1!==n&&(i+=encodeURIComponent(e.substring(n))),void 0!==i?i:e}function f(e){let t=void 0;for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);35===n||63===n?(void 0===t&&(t=e.substr(0,i)),t+=p[n]):void 0!==t&&(t+=e[i])}return void 0!==t?t:e}function b(e,t){let i;return i=e.authority&&e.path.length>1&&"file"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,n.j&&(i=i.replace(/\//g,"\\")),i}function _(e,t){const i=t?f:m;let n="",{scheme:o,authority:r,path:s,query:a,fragment:l}=e;if(o&&(n+=o,n+=":"),(r||"file"===o)&&(n+=c,n+=c),r){let e=r.indexOf("@");if(-1!==e){const t=r.substr(0,e);r=r.substr(e+1),e=t.indexOf(":"),-1===e?n+=i(t,!1):(n+=i(t.substr(0,e),!1),n+=":",n+=i(t.substr(e+1),!1)),n+="@"}r=r.toLowerCase(),e=r.indexOf(":"),-1===e?n+=i(r,!1):(n+=i(r.substr(0,e),!1),n+=r.substr(e))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const e=s.charCodeAt(1);e>=65&&e<=90&&(s=`/${String.fromCharCode(e+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const e=s.charCodeAt(0);e>=65&&e<=90&&(s=`${String.fromCharCode(e+32)}:${s.substr(2)}`)}n+=i(s,!0)}return a&&(n+="?",n+=i(a,!1)),l&&(n+="#",n+=t?l:m(l,!1)),n}const v=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(e){return e.match(v)?e.replace(v,e=>function e(t){try{return decodeURIComponent(t)}catch(i){return t.length>3?t.substr(0,3)+e(t.substr(3)):t}}(e)):e}},baJR:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"d",(function(){return u})),i.d(t,"e",(function(){return p}));var n=i("N0LK"),o=i("erNZ"),r=i("dBaI");class s{constructor(e,t,i){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class a{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class l{constructor(e,t,i,n,o,s,a,l,c,h,d,u,g,p,m,f,b,_,v){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=c.sort(r.a.compare),this.tabSize=h,this.startVisibleColumn=d,this.spaceWidth=u,this.stopRenderingLineAfter=m,this.renderWhitespace="all"===f?4:"boundary"===f?1:"selection"===f?2:"trailing"===f?3:0,this.renderControlCharacters=b,this.fontLigatures=_,this.selectionsOnLine=v&&v.sort((e,t)=>e.startOffset<t.startOffset?-1:1);Math.abs(p-u)<Math.abs(g-u)?(this.renderSpaceWidth=p,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=g,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&r.a.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class c{constructor(e,t){this.partIndex=e,this.charIndex=t}}class h{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setColumnInfo(e,t,i,n){const o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._absoluteOffsets[e-1]=n+i}getAbsoluteOffset(e){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=h.getPartIndex(t),n=h.getCharIndex(t);return new c(i,n)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(0===this.length)return 0;let n=(e<<16|i<<0)>>>0,o=0,r=this.length-1;for(;o+1<r;){let e=o+r>>>1,t=this._data[e];if(t===n)return e;t>n?r=e:o=e}if(o===r)return o;let s=this._data[o],a=this._data[r];if(s===n)return o;if(a===n)return r;let l,c=h.getPartIndex(s),d=h.getCharIndex(s);return l=c!==h.getPartIndex(a)?t:h.getCharIndex(a),i-d<=l-i?o:r}}class d{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function u(e,t){if(0===e.lineContent.length){if(e.lineDecorations.length>0){t.appendASCIIString("<span>");let i=0,n=0,o=0;for(const s of e.lineDecorations)1!==s.type&&2!==s.type||(t.appendASCIIString('<span class="'),t.appendASCIIString(s.className),t.appendASCIIString('"></span>'),1===s.type&&(o|=1,i++),2===s.type&&(o|=2,n++));t.appendASCIIString("</span>");const r=new h(1,i+n);return r.setColumnInfo(1,i,0,0),new d(r,!1,o)}return t.appendASCIIString("<span><span></span></span>"),new d(new h(0,0),!1,0)}return function(e,t){const i=e.fontIsMonospace,o=e.canUseHalfwidthRightwardsArrow,r=e.containsForeignElements,s=e.lineContent,a=e.len,l=e.isOverflowing,c=e.parts,u=e.fauxIndentLength,g=e.tabSize,p=e.startVisibleColumn,m=e.containsRTL,f=e.spaceWidth,b=e.renderSpaceCharCode,_=e.renderWhitespace,v=e.renderControlCharacters,C=new h(a+1,c.length);let w=!1,y=0,S=p,L=0,x=0,k=0,D=0;m?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let h=0,d=c.length;h<d;h++){D+=k;const e=c[h],l=e.endIndex,d=e.type,p=0!==_&&e.isWhitespace(),m=p&&!i&&("mtkw"===d||!r),I=y===l&&e.isPseudoAfter();if(L=0,t.appendASCIIString('<span class="'),t.appendASCIIString(m?"mtkz":d),t.appendASCII(34),p){let e=0;{let t=y,i=S;for(;t<l;t++){const n=0|(9===s.charCodeAt(t)?g-i%g:1);e+=n,t>=u&&(i+=n)}}for(m&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(f*e)),t.appendASCIIString('px"')),t.appendASCII(62);y<l;y++){C.setColumnInfo(y+1,h-x,L,D),x=0;let e;if(9===s.charCodeAt(y)){e=g-S%g|0,!o||e>1?t.write1(8594):t.write1(65515);for(let i=2;i<=e;i++)t.write1(160)}else e=1,t.write1(b);L+=e,y>=u&&(S+=e)}k=e}else{let e=0;for(t.appendASCII(62);y<l;y++){C.setColumnInfo(y+1,h-x,L,D),x=0;const i=s.charCodeAt(y);let o=1,r=1;switch(i){case 9:o=g-S%g,r=o;for(let e=1;e<=o;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:v?t.write1(9216):t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:n.E(i)&&r++,v&&i<32?t.write1(9216+i):v&&127===i?t.write1(9249):t.write1(i)}L+=o,e+=o,y>=u&&(S+=r)}k=e}I?x++:x=0,y>=a&&!w&&e.isPseudoAfter()&&(w=!0,C.setColumnInfo(y+1,h,L,D)),t.appendASCIIString("</span>")}w||C.setColumnInfo(a+1,c.length-1,L,D);l&&t.appendASCIIString("<span>&hellip;</span>");return t.appendASCIIString("</span>"),new d(C,m,r)}(function(e){const t=e.lineContent;let i,o;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(i=!0,o=e.stopRenderingLineAfter):(i=!1,o=t.length);let a=function(e,t,i){let n=[],o=0;t>0&&(n[o++]=new s(t,"",0));for(let r=0,a=e.getCount();r<a;r++){const a=e.getEndOffset(r);if(a<=t)continue;const l=e.getClassName(r);if(a>=i){n[o++]=new s(i,l,0);break}n[o++]=new s(a,l,0)}return n}(e.lineTokens,e.fauxIndentLength,o);(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(a=function(e,t,i,o){const r=e.continuesWithWrappedLine,a=e.fauxIndentLength,l=e.tabSize,c=e.startVisibleColumn,h=e.useMonospaceOptimizations,d=e.selectionsOnLine,u=1===e.renderWhitespace,g=3===e.renderWhitespace,p=e.renderSpaceWidth!==e.spaceWidth;let m=[],f=0,b=0,_=o[b].type,v=o[b].endIndex;const C=o.length;let w,y=!1,S=n.v(t);-1===S?(y=!0,S=i,w=i):w=n.J(t);let L=!1,x=0,k=d&&d[x],D=c%l;for(let O=a;O<i;O++){const e=t.charCodeAt(O);let r;if(k&&O>=k.endOffset&&(x++,k=d&&d[x]),O<S||O>w)r=!0;else if(9===e)r=!0;else if(32===e)if(u)if(L)r=!0;else{const e=O+1<i?t.charCodeAt(O+1):0;r=32===e||9===e}else r=!0;else r=!1;if(r&&d&&(r=!!k&&k.startOffset<=O&&k.endOffset>O),r&&g&&(r=y||O>w),L){if(!r||!h&&D>=l){if(p){for(let e=(f>0?m[f-1].endIndex:a)+1;e<=O;e++)m[f++]=new s(e,"mtkw",1)}else m[f++]=new s(O,"mtkw",1);D%=l}}else(O===v||r&&O>a)&&(m[f++]=new s(O,_,0),D%=l);for(9===e?D=l:n.E(e)?D+=2:D++,L=r;O===v&&(b++,b<C);)_=o[b].type,v=o[b].endIndex}let I=!1;if(L)if(r&&u){let e=i>0?t.charCodeAt(i-1):0,n=i>1?t.charCodeAt(i-2):0;32===e&&32!==n&&9!==n||(I=!0)}else I=!0;if(I)if(p){for(let e=(f>0?m[f-1].endIndex:a)+1;e<=i;e++)m[f++]=new s(e,"mtkw",1)}else m[f++]=new s(i,"mtkw",1);else m[f++]=new s(i,_,0);return m}(e,t,o,a));let l=0;if(e.lineDecorations.length>0){for(let t=0,i=e.lineDecorations.length;t<i;t++){const i=e.lineDecorations[t];3===i.type||1===i.type?l|=1:2===i.type&&(l|=2)}a=function(e,t,i,n){n.sort(r.a.compare);const o=r.b.normalize(e,n),a=o.length;let l=0,c=[],h=0,d=0;for(let r=0,g=i.length;r<g;r++){const e=i[r],t=e.endIndex,n=e.type,u=e.metadata;for(;l<a&&o[l].startOffset<t;){const e=o[l];if(e.startOffset>d&&(d=e.startOffset,c[h++]=new s(d,n,u)),!(e.endOffset+1<=t)){d=t,c[h++]=new s(d,n+" "+e.className,u|e.metadata);break}d=e.endOffset+1,c[h++]=new s(d,n+" "+e.className,u|e.metadata),l++}t>d&&(d=t,c[h++]=new s(d,n,u))}const u=i[i.length-1].endIndex;if(l<a&&o[l].startOffset===u)for(;l<a&&o[l].startOffset===u;){const e=o[l];c[h++]=new s(d,e.className,e.metadata),l++}return c}(t,0,a,e.lineDecorations)}e.containsRTL||(a=function(e,t,i){let n=0,o=[],r=0;if(i)for(let a=0,l=t.length;a<l;a++){const i=t[a],l=i.endIndex;if(n+50<l){const t=i.type,a=i.metadata;let c=-1,h=n;for(let i=n;i<l;i++)32===e.charCodeAt(i)&&(c=i),-1!==c&&i-h>=50&&(o[r++]=new s(c+1,t,a),h=c+1,c=-1);h!==l&&(o[r++]=new s(l,t,a))}else o[r++]=i;n=l}else for(let a=0,l=t.length;a<l;a++){const e=t[a],i=e.endIndex;let l=i-n;if(l>50){const t=e.type,a=e.metadata,c=Math.ceil(l/50);for(let e=1;e<c;e++){let i=n+50*e;o[r++]=new s(i,t,a)}o[r++]=new s(i,t,a)}else o[r++]=e;n=i}return o}(t,a,!e.isBasicASCII||e.fontLigatures));return new m(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,o,i,a,l,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}class g{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function p(e){let t=Object(o.a)(1e4),i=u(e,t);return new g(i.characterMapping,t.build(),i.containsRTL,i.containsForeignElements)}class m{constructor(e,t,i,n,o,r,s,a,l,c,h,d,u,g,p){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=o,this.parts=r,this.containsForeignElements=s,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=c,this.containsRTL=h,this.spaceWidth=d,this.renderSpaceCharCode=u,this.renderWhitespace=g,this.renderControlCharacters=p}}},bdgK:function(e,t,i){"use strict";(function(e){var i=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var i=-1;return e.some((function(e,n){return e[0]===t&&(i=n,!0)})),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i++){var o=n[i];e.call(t,o[1],o[0])}},t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],a="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,n=!1,o=0;function s(){i&&(i=!1,e()),n&&l()}function a(){r(s)}function l(){var e=Date.now();if(i){if(e-o<2)return;n=!0}else i=!0,n=!1,setTimeout(a,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),a?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;s.some((function(e){return!!~i.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var o=n[i];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=b(0,0,0,0);function u(e){return parseFloat(e)||0}function g(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce((function(t,i){return t+u(e["border-"+i+"-width"])}),0)}function p(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return d;var n=h(e).getComputedStyle(e),o=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var o=n[i],r=e["padding-"+o];t[o]=u(r)}return t}(n),r=o.left+o.right,s=o.top+o.bottom,a=u(n.width),l=u(n.height);if("border-box"===n.boxSizing&&(Math.round(a+r)!==t&&(a-=g(n,"left","right")+r),Math.round(l+s)!==i&&(l-=g(n,"top","bottom")+s)),!function(e){return e===h(e).document.documentElement}(e)){var c=Math.round(a+r)-t,p=Math.round(l+s)-i;1!==Math.abs(c)&&(a-=c),1!==Math.abs(p)&&(l-=p)}return b(o.left,o.top,a,l)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"==typeof e.getBBox};function f(e){return n?m(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):p(e):d}function b(e,t,i,n){return{x:e,y:t,width:i,height:n}}var _=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=f(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var i,n,o,r,s,a,l,h=(n=(i=t).x,o=i.y,r=i.width,s=i.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),c(l,{x:n,y:o,width:r,height:s,top:o,right:n+r,bottom:s+o,left:n}),l);c(this,{target:e,contentRect:h})},C=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new v(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!=typeof WeakMap?new WeakMap:new i,y=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=l.getInstance(),n=new C(t,i,this);w.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){y.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var S=void 0!==o.ResizeObserver?o.ResizeObserver:y;t.a=S}).call(this,i("yLpj"))},bexQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("keybindingService")},cGHE:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new n(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return n.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return n.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return n.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let i=0|e.lineNumber,n=0|t.lineNumber;if(i===n){return(0|e.column)-(0|t.column)}return i-n}clone(){return new n(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new n(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}},cIqD:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Ll0s");class o{static whitespaceVisibleColumn(e,t,i){const o=e.length;let r=0,s=-1,a=-1;for(let l=0;l<o;l++){if(l===t)return[s,a,r];r%i==0&&(s=l,a=r);switch(e.charCodeAt(l)){case 32:r+=1;break;case 9:r=n.a.nextRenderTabStop(r,i);break;default:return[-1,-1,-1]}}return t===o?[s,a,r]:[-1,-1,-1]}static atomicPosition(e,t,i,r){const s=e.length,[a,l,c]=o.whitespaceVisibleColumn(e,t,i);if(-1===c)return-1;let h;switch(r){case 0:h=!0;break;case 1:h=!1;break;case 2:if(c%i==0)return t;h=c%i<=i/2}if(h){if(-1===a)return-1;let t=l;for(let o=a;o<s;++o){if(t===l+i)return a;switch(e.charCodeAt(o)){case 32:t+=1;break;case 9:t=n.a.nextRenderTabStop(t,i);break;default:return-1}}return t===l+i?a:-1}const d=n.a.nextRenderTabStop(c,i);let u=c;for(let o=t;o<s;o++){if(u===d)return o;switch(e.charCodeAt(o)){case 32:u+=1;break;case 9:u=n.a.nextRenderTabStop(u,i);break;default:return-1}}return u===d?s:-1}}},cMOf:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return _}));i("undH");var n=i("pmY6"),o=i("MNsG"),r=i("pg8w"),s=i("MI8n"),a=i("EffR"),l=i("4y0V"),c=i("X+cX"),h=i("ZCR3"),d=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};var u;!function(e){e.North="north",e.South="south",e.East="east",e.West="west"}(u||(u={}));const g=new s.b;const p=new s.b;class m{constructor(){this.disposables=new n.b}get onPointerMove(){return this.disposables.add(new l.a(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new l.a(window,"mouseup")).event}dispose(){this.disposables.dispose()}}d([h.a],m.prototype,"onPointerMove",null),d([h.a],m.prototype,"onPointerUp",null);class f{constructor(e){this.el=e,this.disposables=new n.b}get onPointerMove(){return this.disposables.add(new l.a(this.el,r.a.Change)).event}get onPointerUp(){return this.disposables.add(new l.a(this.el,r.a.End)).event}dispose(){this.disposables.dispose()}}d([h.a],f.prototype,"onPointerMove",null),d([h.a],f.prototype,"onPointerUp",null);class b{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}d([h.a],b.prototype,"onPointerMove",null),d([h.a],b.prototype,"onPointerUp",null);class _ extends n.a{constructor(e,t,i){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new c.a(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new s.b),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new s.b),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new s.b),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new s.b),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new s.b),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new n.b),this.orthogonalStartDragHandleDisposables=this._register(new n.b),this.orthogonalEndSashDisposables=this._register(new n.b),this.orthogonalEndDragHandleDisposables=this._register(new n.b),this.el=Object(a.q)(e,Object(a.a)(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add("orthogonal-edge-"+i.orthogonalEdge),o.f&&this.el.classList.add("mac");const h=this._register(new l.a(this.el,"mousedown")).event;this._register(h(e=>this.onPointerStart(e,new m),this));const d=this._register(new l.a(this.el,"dblclick")).event;this._register(d(this.onPointerDoublePress,this));const u=this._register(new l.a(this.el,"mouseenter")).event;this._register(u(()=>_.onMouseEnter(this)));const b=this._register(new l.a(this.el,"mouseleave")).event;this._register(b(()=>_.onMouseLeave(this))),this._register(r.b.addTarget(this.el));const v=s.c.map(this._register(new l.a(this.el,r.a.Start)).event,e=>{var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})});this._register(v(e=>this.onPointerStart(e,new f(this.el)),this));const C=this._register(new l.a(this.el,r.a.Tap)).event,w=s.c.map(s.c.filter(s.c.debounce(C,(e,t)=>{var i;return{event:t,count:(null!==(i=null==e?void 0:e.count)&&void 0!==i?i:0)+1}},250),({count:e})=>2===e),({event:e})=>{var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})});this._register(w(this.onPointerDoublePress,this)),"number"==typeof i.size?(this.size=i.size,0===i.orientation?this.el.style.width=this.size+"px":this.el.style.height=this.size+"px"):(this.size=4,this._register(g.event(e=>{this.size=e,this.layout()}))),this._register(p.event(e=>this.hoverDelay=e)),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this._onDidEnablementChange.fire(e))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=t=>{this.orthogonalStartDragHandleDisposables.clear(),0!==t&&(this._orthogonalStartDragHandle=Object(a.q)(this.el,Object(a.a)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(Object(n.i)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new l.a(this._orthogonalStartDragHandle,"mouseenter")).event(()=>_.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new l.a(this._orthogonalStartDragHandle,"mouseleave")).event(()=>_.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=t=>{this.orthogonalEndDragHandleDisposables.clear(),0!==t&&(this._orthogonalEndDragHandle=Object(a.q)(this.el,Object(a.a)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(Object(n.i)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new l.a(this._orthogonalEndDragHandle,"mouseenter")).event(()=>_.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new l.a(this._orthogonalEndDragHandle,"mouseleave")).event(()=>_.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){a.c.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const n=this.getOrthogonalSash(e);n&&(i=!0,e.__orthogonalSashEvent=!0,n.onPointerStart(e,new b(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new b(t))),!this.state)return;const r=Object(a.E)("iframe");for(const n of r)n.style.pointerEvents="none";const s=e.pageX,l=e.pageY,c=e.altKey,h={startX:s,currentX:s,startY:l,currentY:l,altKey:c};this.el.classList.add("active"),this._onDidStart.fire(h);const d=Object(a.w)(this.el),u=()=>{let e="";e=i?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":o.f?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":o.f?"col-resize":"ew-resize",d.textContent=`* { cursor: ${e} !important; }`},g=new n.b;u(),i||this.onDidEnablementChange(u,null,g);t.onPointerMove(e=>{a.c.stop(e,!1);const t={startX:s,currentX:e.pageX,startY:l,currentY:e.pageY,altKey:c};this._onDidChange.fire(t)},null,g),t.onPointerUp(e=>{a.c.stop(e,!1),this.el.removeChild(d),this.el.classList.remove("active"),this._onDidEnd.fire(),g.dispose();for(const t of r)t.style.pointerEvents="auto"},null,g),g.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&_.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&_.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){_.onMouseLeave(this)}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(e){if(e.target&&e.target instanceof HTMLElement)return e.target.classList.contains("orthogonal-drag-handle")?e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}},cMvZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return C}));var n=i("MI8n"),o=i("pmY6"),r=i("N0LK"),s=i("0JNc"),a=i("KDc4"),l=i("BFtn");class c{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(e=>new a.c(e)):e.brackets?this._autoClosingPairs=e.brackets.map(e=>new a.c({open:e[0],close:e[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new a.c({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,i){if(0===t.getTokenCount())return!0;const n=t.findTokenIndexAtOffset(i-2),o=t.getStandardTokenType(n);return e.isOK(o)}getSurroundingPairs(){return this._surroundingPairs}}c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";var h=i("EIAu");class d{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const t=i.charAt(i.length-1);e.push(t)}return e=e.filter((e,t,i)=>i.indexOf(e)===t),e}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const n=t.findTokenIndexAtOffset(i-1);if(Object(l.b)(t.getStandardTokenType(n)))return null;const o=this._richEditBrackets.reversedRegex,r=t.getLineContent().substring(0,i-1)+e,s=h.a.findPrevBracketInRange(o,1,r,0,r.length);if(!s)return null;const a=r.substring(s.startColumn-1,s.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const c=t.getActualLineContentBefore(s.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:a}:null}}function u(e){return e.global&&(e.lastIndex=0),!0}class g{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&u(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&u(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&u(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&u(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}var p=i("/cxE");class m{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(e=>{const t=m._createOpenBracketRegExp(e[0]),i=m._createCloseBracketRegExp(e[1]);t&&i&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:i})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let o=0,r=this._regExpRules.length;o<r;o++){let e=this._regExpRules[o];if([{reg:e.beforeText,text:i},{reg:e.afterText,text:n},{reg:e.previousLineText,text:t}].every(e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text))))return e.action}if(e>=2&&i.length>0&&n.length>0)for(let o=0,r=this._brackets.length;o<r;o++){let e=this._brackets[o];if(e.openRegExp.test(i)&&e.closeRegExp.test(n))return{indentAction:a.b.IndentOutdent}}if(e>=2&&i.length>0)for(let o=0,r=this._brackets.length;o<r;o++){if(this._brackets[o].openRegExp.test(i))return{indentAction:a.b.Indent}}return null}static _createOpenBracketRegExp(e){let t=r.u(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",m._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=r.u(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,m._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Object(p.e)(t),null}}}class f{constructor(e,t){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null,this._conf=t,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new m(this._conf):null,this.comments=f._handleComments(this._conf),this.characterPair=new c(this._conf),this.wordDefinition=this._conf.wordPattern||s.a,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new g(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new h.b(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new d(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}static _handleComments(e){let t=e.comments;if(!t)return null;let i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){let[e,n]=t.blockComment;i.blockCommentStartToken=e,i.blockCommentEndToken=n}return i}}class b{constructor(e){this.languageIdentifier=e}}class _{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class v{constructor(e){this.languageIdentifier=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new _(e,t,++this._order);return this._entries.push(i),this._resolved=null,Object(o.i)(()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===i){this._entries.splice(e,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new f(this.languageIdentifier,e))}return this._resolved}_resolve(){if(0===this._entries.length)return null;this._entries.sort(_.cmp);const e={};for(const t of this._entries){const i=t.configuration;e.comments=i.comments||e.comments,e.brackets=i.brackets||e.brackets,e.wordPattern=i.wordPattern||e.wordPattern,e.indentationRules=i.indentationRules||e.indentationRules,e.onEnterRules=i.onEnterRules||e.onEnterRules,e.autoClosingPairs=i.autoClosingPairs||e.autoClosingPairs,e.surroundingPairs=i.surroundingPairs||e.surroundingPairs,e.autoCloseBefore=i.autoCloseBefore||e.autoCloseBefore,e.folding=i.folding||e.folding,e.__electricCharacterSupport=i.__electricCharacterSupport||e.__electricCharacterSupport}return e}}const C=new class{constructor(){this._entries2=new Map,this._onDidChange=new n.b,this.onDidChange=this._onDidChange.event}register(e,t,i=0){let n=this._entries2.get(e.id);n||(n=new v(e),this._entries2.set(e.id,n));const r=n.register(t,i);return this._onDidChange.fire(new b(e)),Object(o.i)(()=>{r.dispose(),this._onDidChange.fire(new b(e))})}_getRichEditSupport(e){const t=this._entries2.get(e);return t?t.getRichEditSupport():null}getIndentationRules(e){const t=this._getRichEditSupport(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this._getRichEditSupport(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,i){let n=Object(l.a)(t,i-1),o=this._getElectricCharacterSupport(n.languageId);return o?o.onElectricCharacter(e,n,i-n.firstCharOffset):null}getComments(e){let t=this._getRichEditSupport(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this._getRichEditSupport(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new a.a(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,i){const n=Object(l.a)(t,i-1);return c.shouldAutoClosePair(e,n,i-n.firstCharOffset)}getWordDefinition(e){let t=this._getRichEditSupport(e);return t?Object(s.c)(t.wordDefinition||null):Object(s.c)(null)}getFoldingRules(e){let t=this._getRichEditSupport(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,i){let n=e.getLanguageIdAtPosition(t,0);if(t>1){let o,r=-1;for(o=t-1;o>=1;o--){if(e.getLanguageIdAtPosition(o,0)!==n)return r;let t=e.getLineContent(o);if(!i.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return o;r=o}}return-1}getInheritIndentForLine(e,t,i,n=!0){if(e<4)return null;const o=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!o)return null;if(i<=1)return{indentation:"",action:null};const s=this.getPrecedingValidLine(t,i,o);if(s<0)return null;if(s<1)return{indentation:"",action:null};const l=t.getLineContent(s);if(o.shouldIncrease(l)||o.shouldIndentNextLine(l))return{indentation:r.y(l),action:a.b.Indent,line:s};if(o.shouldDecrease(l))return{indentation:r.y(l),action:null,line:s};{if(1===s)return{indentation:r.y(t.getLineContent(s)),action:null,line:s};const e=s-1,i=o.getIndentMetadata(t.getLineContent(e));if(!(3&i)&&4&i){let i=0;for(let n=e-1;n>0;n--)if(!o.shouldIndentNextLine(t.getLineContent(n))){i=n;break}return{indentation:r.y(t.getLineContent(i+1)),action:null,line:i+1}}if(n)return{indentation:r.y(t.getLineContent(s)),action:null,line:s};for(let n=s;n>0;n--){const e=t.getLineContent(n);if(o.shouldIncrease(e))return{indentation:r.y(e),action:a.b.Indent,line:n};if(o.shouldIndentNextLine(e)){let e=0;for(let i=n-1;i>0;i--)if(!o.shouldIndentNextLine(t.getLineContent(n))){e=i;break}return{indentation:r.y(t.getLineContent(e+1)),action:null,line:e+1}}if(o.shouldDecrease(e))return{indentation:r.y(e),action:null,line:n}}return{indentation:r.y(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,i,n,o){if(e<4)return null;const s=this._getRichEditSupport(i);if(!s)return null;const l=this.getIndentRulesSupport(i);if(!l)return null;const c=this.getInheritIndentForLine(e,t,n),h=t.getLineContent(n);if(c){const i=c.line;if(void 0!==i){const n=s.onEnter(e,"",t.getLineContent(i),"");if(n){let e=r.y(t.getLineContent(i));return n.removeText&&(e=e.substring(0,e.length-n.removeText)),n.indentAction===a.b.Indent||n.indentAction===a.b.IndentOutdent?e=o.shiftIndent(e):n.indentAction===a.b.Outdent&&(e=o.unshiftIndent(e)),l.shouldDecrease(h)&&(e=o.unshiftIndent(e)),n.appendText&&(e+=n.appendText),r.y(e)}}return l.shouldDecrease(h)?c.action===a.b.Indent?c.indentation:o.unshiftIndent(c.indentation):c.action===a.b.Indent?o.shiftIndent(c.indentation):c.indentation}return null}getIndentForEnter(e,t,i,n){if(e<4)return null;t.forceTokenization(i.startLineNumber);const o=t.getLineTokens(i.startLineNumber),s=Object(l.a)(o,i.startColumn-1),c=s.getLineContent();let h,d,u=!1;if(s.firstCharOffset>0&&o.getLanguageId(0)!==s.languageId?(u=!0,h=c.substr(0,i.startColumn-1-s.firstCharOffset)):h=o.getLineContent().substring(0,i.startColumn-1),i.isEmpty())d=c.substr(i.startColumn-1-s.firstCharOffset);else{d=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset)}const g=this.getIndentRulesSupport(s.languageId);if(!g)return null;const p=h,m=r.y(h),f={getLineTokens:e=>t.getLineTokens(e),getLanguageIdentifier:()=>t.getLanguageIdentifier(),getLanguageIdAtPosition:(e,i)=>t.getLanguageIdAtPosition(e,i),getLineContent:e=>e===i.startLineNumber?p:t.getLineContent(e)},b=r.y(o.getLineContent()),_=this.getInheritIndentForLine(e,f,i.startLineNumber+1);if(!_){const e=u?b:m;return{beforeEnter:e,afterEnter:e}}let v=u?b:_.indentation;return _.action===a.b.Indent&&(v=n.shiftIndent(v)),g.shouldDecrease(d)&&(v=n.unshiftIndent(v)),{beforeEnter:u?b:m,afterEnter:v}}getIndentActionForType(e,t,i,n,o){if(e<4)return null;const r=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn);if(r.firstCharOffset)return null;const s=this.getIndentRulesSupport(r.languageId);if(!s)return null;const l=r.getLineContent(),c=l.substr(0,i.startColumn-1-r.firstCharOffset);let h;if(i.isEmpty())h=l.substr(i.startColumn-1-r.firstCharOffset);else{h=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-r.firstCharOffset)}if(!s.shouldDecrease(c+h)&&s.shouldDecrease(c+n+h)){const n=this.getInheritIndentForLine(e,t,i.startLineNumber,!1);if(!n)return null;let r=n.indentation;return n.action!==a.b.Indent&&(r=o.unshiftIndent(r)),r}return null}getIndentMetadata(e,t){const i=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return i?t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,i){const n=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),o=this._getRichEditSupport(n.languageId);if(!o)return null;const r=n.getLineContent(),s=r.substr(0,i.startColumn-1-n.firstCharOffset);let l;if(i.isEmpty())l=r.substr(i.startColumn-1-n.firstCharOffset);else{l=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-n.firstCharOffset)}let c="";if(i.startLineNumber>1&&0===n.firstCharOffset){const e=this.getScopedLineTokens(t,i.startLineNumber-1);e.languageId===n.languageId&&(c=e.getLineContent())}const h=o.onEnter(e,c,s,l);if(!h)return null;const d=h.indentAction;let u=h.appendText;const g=h.removeText||0;u?d===a.b.Indent&&(u="\t"+u):u=d===a.b.Indent||d===a.b.IndentOutdent?"\t":"";let p=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return g&&(p=p.substring(0,p.length-g)),{indentAction:d,appendText:u,removeText:g,indentation:p}}getIndentationAtPosition(e,t,i){const n=e.getLineContent(t);let o=r.y(n);return o.length>i-1&&(o=o.substring(0,i-1)),o}getScopedLineTokens(e,t,i){e.forceTokenization(t);const n=e.getLineTokens(t),o=void 0===i?e.getLineMaxColumn(t)-1:i-1;return Object(l.a)(n,o)}getBracketsSupport(e){const t=this._getRichEditSupport(e);return t&&t.brackets||null}}},cdmB:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/// <reference lib="es2015.symbol" />\r\n\r\ninterface SymbolConstructor {\r\n    /**\r\n     * A method that determines if a constructor object recognizes an object as one of the\r\n     * constructor’s instances. Called by the semantics of the instanceof operator.\r\n     */\r\n    readonly hasInstance: unique symbol;\r\n\r\n    /**\r\n     * A Boolean value that if true indicates that an object should flatten to its array elements\r\n     * by Array.prototype.concat.\r\n     */\r\n    readonly isConcatSpreadable: unique symbol;\r\n\r\n    /**\r\n     * A regular expression method that matches the regular expression against a string. Called\r\n     * by the String.prototype.match method.\r\n     */\r\n    readonly match: unique symbol;\r\n\r\n    /**\r\n     * A regular expression method that replaces matched substrings of a string. Called by the\r\n     * String.prototype.replace method.\r\n     */\r\n    readonly replace: unique symbol;\r\n\r\n    /**\r\n     * A regular expression method that returns the index within a string that matches the\r\n     * regular expression. Called by the String.prototype.search method.\r\n     */\r\n    readonly search: unique symbol;\r\n\r\n    /**\r\n     * A function valued property that is the constructor function that is used to create\r\n     * derived objects.\r\n     */\r\n    readonly species: unique symbol;\r\n\r\n    /**\r\n     * A regular expression method that splits a string at the indices that match the regular\r\n     * expression. Called by the String.prototype.split method.\r\n     */\r\n    readonly split: unique symbol;\r\n\r\n    /**\r\n     * A method that converts an object to a corresponding primitive value.\r\n     * Called by the ToPrimitive abstract operation.\r\n     */\r\n    readonly toPrimitive: unique symbol;\r\n\r\n    /**\r\n     * A String value that is used in the creation of the default string description of an object.\r\n     * Called by the built-in method Object.prototype.toString.\r\n     */\r\n    readonly toStringTag: unique symbol;\r\n\r\n    /**\r\n     * An Object whose own property names are property names that are excluded from the \'with\'\r\n     * environment bindings of the associated objects.\r\n     */\r\n    readonly unscopables: unique symbol;\r\n}\r\n\r\ninterface Symbol {\r\n    /**\r\n     * Converts a Symbol object to a symbol.\r\n     */\r\n    [Symbol.toPrimitive](hint: string): symbol;\r\n\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface Array<T> {\r\n    /**\r\n     * Returns an object whose properties have the value \'true\'\r\n     * when they will be absent when used in a \'with\' statement.\r\n     */\r\n    [Symbol.unscopables](): {\r\n        copyWithin: boolean;\r\n        entries: boolean;\r\n        fill: boolean;\r\n        find: boolean;\r\n        findIndex: boolean;\r\n        keys: boolean;\r\n        values: boolean;\r\n    };\r\n}\r\n\r\ninterface Date {\r\n    /**\r\n     * Converts a Date object to a string.\r\n     */\r\n    [Symbol.toPrimitive](hint: "default"): string;\r\n    /**\r\n     * Converts a Date object to a string.\r\n     */\r\n    [Symbol.toPrimitive](hint: "string"): string;\r\n    /**\r\n     * Converts a Date object to a number.\r\n     */\r\n    [Symbol.toPrimitive](hint: "number"): number;\r\n    /**\r\n     * Converts a Date object to a string or number.\r\n     *\r\n     * @param hint The strings "number", "string", or "default" to specify what primitive to return.\r\n     *\r\n     * @throws {TypeError} If \'hint\' was given something other than "number", "string", or "default".\r\n     * @returns A number if \'hint\' was "number", a string if \'hint\' was "string" or "default".\r\n     */\r\n    [Symbol.toPrimitive](hint: string): string | number;\r\n}\r\n\r\ninterface Map<K, V> {\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface WeakMap<K extends object, V> {\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface Set<T> {\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface WeakSet<T extends object> {\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface JSON {\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface Function {\r\n    /**\r\n     * Determines whether the given value inherits from this function if this function was used\r\n     * as a constructor function.\r\n     *\r\n     * A constructor function can control which objects are recognized as its instances by\r\n     * \'instanceof\' by overriding this method.\r\n     */\r\n    [Symbol.hasInstance](value: any): boolean;\r\n}\r\n\r\ninterface GeneratorFunction {\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface Math {\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface Promise<T> {\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface PromiseConstructor {\r\n    readonly [Symbol.species]: PromiseConstructor;\r\n}\r\n\r\ninterface RegExp {\r\n    /**\r\n     * Matches a string with this regular expression, and returns an array containing the results of\r\n     * that search.\r\n     * @param string A string to search within.\r\n     */\r\n    [Symbol.match](string: string): RegExpMatchArray | null;\r\n\r\n    /**\r\n     * Replaces text in a string, using this regular expression.\r\n     * @param string A String object or string literal whose contents matching against\r\n     *               this regular expression will be replaced\r\n     * @param replaceValue A String object or string literal containing the text to replace for every\r\n     *                     successful match of this regular expression.\r\n     */\r\n    [Symbol.replace](string: string, replaceValue: string): string;\r\n\r\n    /**\r\n     * Replaces text in a string, using this regular expression.\r\n     * @param string A String object or string literal whose contents matching against\r\n     *               this regular expression will be replaced\r\n     * @param replacer A function that returns the replacement text.\r\n     */\r\n    [Symbol.replace](string: string, replacer: (substring: string, ...args: any[]) => string): string;\r\n\r\n    /**\r\n     * Finds the position beginning first substring match in a regular expression search\r\n     * using this regular expression.\r\n     *\r\n     * @param string The string to search within.\r\n     */\r\n    [Symbol.search](string: string): number;\r\n\r\n    /**\r\n     * Returns an array of substrings that were delimited by strings in the original input that\r\n     * match against this regular expression.\r\n     *\r\n     * If the regular expression contains capturing parentheses, then each time this\r\n     * regular expression matches, the results (including any undefined results) of the\r\n     * capturing parentheses are spliced.\r\n     *\r\n     * @param string string value to split\r\n     * @param limit if not undefined, the output array is truncated so that it contains no more\r\n     * than \'limit\' elements.\r\n     */\r\n    [Symbol.split](string: string, limit?: number): string[];\r\n}\r\n\r\ninterface RegExpConstructor {\r\n    readonly [Symbol.species]: RegExpConstructor;\r\n}\r\n\r\ninterface String {\r\n    /**\r\n     * Matches a string or an object that supports being matched against, and returns an array\r\n     * containing the results of that search, or null if no matches are found.\r\n     * @param matcher An object that supports being matched against.\r\n     */\r\n    match(matcher: { [Symbol.match](string: string): RegExpMatchArray | null; }): RegExpMatchArray | null;\r\n\r\n    /**\r\n     * Replaces text in a string, using an object that supports replacement within a string.\r\n     * @param searchValue A object can search for and replace matches within a string.\r\n     * @param replaceValue A string containing the text to replace for every successful match of searchValue in this string.\r\n     */\r\n    replace(searchValue: { [Symbol.replace](string: string, replaceValue: string): string; }, replaceValue: string): string;\r\n\r\n    /**\r\n     * Replaces text in a string, using an object that supports replacement within a string.\r\n     * @param searchValue A object can search for and replace matches within a string.\r\n     * @param replacer A function that returns the replacement text.\r\n     */\r\n    replace(searchValue: { [Symbol.replace](string: string, replacer: (substring: string, ...args: any[]) => string): string; }, replacer: (substring: string, ...args: any[]) => string): string;\r\n\r\n    /**\r\n     * Finds the first substring match in a regular expression search.\r\n     * @param searcher An object which supports searching within a string.\r\n     */\r\n    search(searcher: { [Symbol.search](string: string): number; }): number;\r\n\r\n    /**\r\n     * Split a string into substrings using the specified separator and return them as an array.\r\n     * @param splitter An object that can split a string.\r\n     * @param limit A value used to limit the number of elements returned in the array.\r\n     */\r\n    split(splitter: { [Symbol.split](string: string, limit?: number): string[]; }, limit?: number): string[];\r\n}\r\n\r\ninterface ArrayBuffer {\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface DataView {\r\n    readonly [Symbol.toStringTag]: string;\r\n}\r\n\r\ninterface Int8Array {\r\n    readonly [Symbol.toStringTag]: "Int8Array";\r\n}\r\n\r\ninterface Uint8Array {\r\n    readonly [Symbol.toStringTag]: "Uint8Array";\r\n}\r\n\r\ninterface Uint8ClampedArray {\r\n    readonly [Symbol.toStringTag]: "Uint8ClampedArray";\r\n}\r\n\r\ninterface Int16Array {\r\n    readonly [Symbol.toStringTag]: "Int16Array";\r\n}\r\n\r\ninterface Uint16Array {\r\n    readonly [Symbol.toStringTag]: "Uint16Array";\r\n}\r\n\r\ninterface Int32Array {\r\n    readonly [Symbol.toStringTag]: "Int32Array";\r\n}\r\n\r\ninterface Uint32Array {\r\n    readonly [Symbol.toStringTag]: "Uint32Array";\r\n}\r\n\r\ninterface Float32Array {\r\n    readonly [Symbol.toStringTag]: "Float32Array";\r\n}\r\n\r\ninterface Float64Array {\r\n    readonly [Symbol.toStringTag]: "Float64Array";\r\n}\r\n\r\ninterface ArrayConstructor {\r\n    readonly [Symbol.species]: ArrayConstructor;\r\n}\r\ninterface MapConstructor {\r\n    readonly [Symbol.species]: MapConstructor;\r\n}\r\ninterface SetConstructor {\r\n    readonly [Symbol.species]: SetConstructor;\r\n}\r\ninterface ArrayBufferConstructor {\r\n    readonly [Symbol.species]: ArrayBufferConstructor;\r\n}\r\n'},"ci+S":function(e,t,i){},cl4r:function(e,t,i){},cqdO:function(e,t,i){"use strict";i.d(t,"e",(function(){return O})),i.d(t,"f",(function(){return N})),i.d(t,"a",(function(){return T})),i.d(t,"h",(function(){return R})),i.d(t,"g",(function(){return P})),i.d(t,"d",(function(){return j})),i.d(t,"b",(function(){return B})),i.d(t,"c",(function(){return $}));i("4rho");var n=i("pmY6"),o=i("746U"),r=i("6OMU"),s=i("ZCR3"),a=i("MNsG"),l=i("pg8w"),c=i("uDWl"),h=i("MI8n"),d=i("4y0V");class u extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}var g=i("feEw"),p=i("zrhQ"),m=i("qj0h");class f{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(n=>n.splice(e,t,i))}}var b,_=i("Sdnv"),v=i("fpMC"),C=i("OBOq"),w=i("EffR"),y=i("X+cX"),S=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},L=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};class x{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return"template:"+this.trait.trait}renderTemplate(e){return e}renderElement(e,t,i){const n=this.renderedElements.findIndex(e=>e.templateData===i);if(n>=0){const e=this.renderedElements[n];this.trait.unrender(i),e.index=t}else{const e={index:t,templateData:i};this.renderedElements.push(e)}this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(t=>t.templateData===e);t<0||this.renderedElements.splice(t,1)}}class k{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new h.b,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new x(this)}splice(e,t,i){var n;t=Math.max(0,Math.min(t,this.length-e));const o=i.length-t,r=e+t,s=[...this.sortedIndexes.filter(t=>t<e),...i.map((t,i)=>t?i+e:-1).filter(e=>-1!==e),...this.sortedIndexes.filter(e=>e>=r).map(e=>e+o)],a=this.length+o;if(this.sortedIndexes.length>0&&0===s.length&&a>0){const t=null!==(n=this.sortedIndexes.find(t=>t>=e))&&void 0!==n?n:a-1;s.push(Math.min(t,a-1))}this.renderer.splice(e,t,i.length),this._set(s,s),this.length=a}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(z),t)}_set(e,t,i){const n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const r=H(o,e);return this.renderer.renderIndexes(r),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return Object(r.d)(this.sortedIndexes,e,z)>=0}dispose(){Object(n.f)(this._onChange)}}S([s.a],k.prototype,"renderer",null);class D extends k{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class I{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));const n=this.trait.get().map(e=>this.identityProvider.getId(this.view.element(e)).toString()),o=i.map(e=>n.indexOf(this.identityProvider.getId(e).toString())>-1);this.trait.splice(e,t,o)}}function O(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function N(e){return!!e.classList.contains("monaco-editor")||!e.classList.contains("monaco-list")&&(!!e.parentElement&&N(e.parentElement))}class E{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new n.b,this.multipleSelectionDisposables=new n.b,this.onKeyDown.filter(e=>3===e.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(e=>16===e.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(e=>18===e.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(e=>11===e.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(e=>12===e.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(e=>9===e.keyCode).on(this.onEscape,this,this.disposables),!1!==i.multipleSelectionSupport&&this.onKeyDown.filter(e=>(a.f?e.metaKey:e.ctrlKey)&&31===e.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return h.c.chain(this.disposables.add(new d.a(this.view.domNode,"keydown")).event).filter(e=>!O(e.target)).map(e=>new c.a(e))}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(e=>(a.f?e.metaKey:e.ctrlKey)&&31===e.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Object(r.r)(this.list.length),e.browserEvent),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}S([s.a],E.prototype,"onKeyDown",null),function(e){e[e.Idle=0]="Idle",e[e.Typing=1]="Typing"}(b||(b={}));const T=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)}};class M{constructor(e,t,i,o){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=o,this.enabled=!1,this.state=b.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new n.b,this.disposables=new n.b,this.updateOptions(e.options)}updateOptions(e){void 0===e.enableKeyboardNavigation||!!e.enableKeyboardNavigation?this.enable():this.disable(),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=h.c.chain(this.enabledDisposables.add(new d.a(this.view.domNode,"keydown")).event).filter(e=>!O(e.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(e=>new c.a(e)).filter(e=>this.delegate.mightProducePrintableCharacter(e)).forEach(e=>{e.stopPropagation(),e.preventDefault()}).map(e=>e.browserEvent.key).event,t=h.c.debounce(e,()=>null,800);h.c.reduce(h.c.any(e,t),(e,t)=>null===t?null:(e||"")+t)(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));i&&Object(C.a)(i)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=b.Idle,void(this.triggered=!1);const t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===b.Idle?1:0;this.state=b.Typing;for(let o=0;o<this.list.length;o++){const t=(i+o+n)%this.list.length,r=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(t)),s=r&&r.toString();if(void 0===s||Object(v.h)(e,s))return this.previouslyFocused=i,this.list.setFocus([t]),void this.list.reveal(t)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class A{constructor(e,t){this.list=e,this.view=t,this.disposables=new n.b;h.c.chain(this.disposables.add(new d.a(t.domNode,"keydown")).event).filter(e=>!O(e.target)).map(e=>new c.a(e)).filter(e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const i=this.view.domElement(t[0]);if(!i)return;const n=i.querySelector("[tabIndex]");if(!(n&&n instanceof HTMLElement&&-1!==n.tabIndex))return;const o=window.getComputedStyle(n);"hidden"!==o.visibility&&"none"!==o.display&&(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function R(e){return a.f?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function P(e){return e.browserEvent.shiftKey}const F={isSelectionSingleChangeEvent:R,isSelectionRangeChangeEvent:P};class j{constructor(e){this.list=e,this.disposables=new n.b,this._onPointer=new h.b,this.onPointer=this._onPointer.event,!1!==e.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||F),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(l.b.addTarget(e.getHTMLElement()))),h.c.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){void 0!==e.multipleSelectionSupport&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||F))}isSelectionSingleChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(e)}isSelectionRangeChangeEvent(e){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(e)}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){N(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(N(e.browserEvent.target))return;const t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(O(e.browserEvent.target)||N(e.browserEvent.target))return;const t=e.index;return void 0===t?(this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(e)||this.isSelectionChangeEvent(e)?this.changeSelection(e):(this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),(i=e.browserEvent)instanceof MouseEvent&&2===i.button||this.list.setSelection([t],e.browserEvent),void this._onPointer.fire(e));var i}onDoubleClick(e){if(O(e.browserEvent.target)||N(e.browserEvent.target))return;if(this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(void 0===i){const e=this.list.getFocus()[0];i=null!=e?e:t,this.list.setAnchor(i)}const n=Math.min(i,t),o=Math.max(i,t),s=Object(r.r)(n,o+1),a=this.list.getSelection(),l=function(e,t){const i=e.indexOf(t);if(-1===i)return[];const n=[];let o=i-1;for(;o>=0&&e[o]===t-(i-o);)n.push(e[o--]);n.reverse(),o=i;for(;o<e.length&&e[o]===t+(o-i);)n.push(e[o++]);return n}(H(a,[i]),i);if(0===l.length)return;const c=H(s,function(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){n++,o++;continue}e[n]<t[o]?i.push(e[n++]):o++}return i}(a,l));this.list.setSelection(c,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const i=this.list.getSelection(),n=i.filter(e=>e!==t);this.list.setFocus([t]),this.list.setAnchor(t),i.length===n.length?this.list.setSelection([...n,t],e.browserEvent):this.list.setSelection(n,e.browserEvent)}}dispose(){this.disposables.dispose()}}class B{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&"."+this.selectorSuffix,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):a.f||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`\n\t\t\t\t.monaco-list${t}.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&i.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${e.tableColumnsBorder};\n\t\t\t}`),this.styleElement.textContent=i.join("\n")}}const W={listFocusBackground:p.a.fromHex("#7FB0D0"),listActiveSelectionBackground:p.a.fromHex("#0E639C"),listActiveSelectionForeground:p.a.fromHex("#FFFFFF"),listActiveSelectionIconForeground:p.a.fromHex("#FFFFFF"),listFocusAndSelectionBackground:p.a.fromHex("#094771"),listFocusAndSelectionForeground:p.a.fromHex("#FFFFFF"),listInactiveSelectionBackground:p.a.fromHex("#3F3F46"),listInactiveSelectionIconForeground:p.a.fromHex("#FFFFFF"),listHoverBackground:p.a.fromHex("#2A2D2E"),listDropBackground:p.a.fromHex("#383B3D"),treeIndentGuidesStroke:p.a.fromHex("#a9a9a9"),tableColumnsBorder:p.a.fromHex("#cccccc").transparent(.2)},V={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function H(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){i.push(e[n]),n++,o++;continue}e[n]<t[o]?i.push(e[n++]):i.push(t[o++])}return i}const z=(e,t)=>e-t;class U{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,n){let o=0;for(const r of this.renderers)r.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){let o=0;for(const r of this.renderers)r.disposeElement&&r.disposeElement(e,t,i[o],n),o+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class K{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof o?i.setAttribute("aria-level",""+o):i.removeAttribute("aria-level")}disposeTemplate(e){}}class q{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragLeave(e,t,i,n){var o,r;null===(r=(o=this.dnd).onDragLeave)||void 0===r||r.call(o,e,t,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}}class ${constructor(e,t,i,o,r=V){var s;this.user=e,this._options=r,this.focus=new k("focused"),this.anchor=new k("anchor"),this.eventBufferer=new h.d,this._ariaLabel="",this.disposables=new n.b,this._onDidDispose=new h.b,this.onDidDispose=this._onDidDispose.event;const a=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(s=this._options.accessibilityProvider)||void 0===s?void 0:s.getWidgetRole():"list";this.selection=new D("listbox"!==a),Object(m.f)(r,W,!1);const l=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=r.accessibilityProvider,this.accessibilityProvider&&(l.push(new K(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),o=o.map(e=>new U(e.templateId,[...l,e]));const c=Object.assign(Object.assign({},r),{dnd:r.dnd&&new q(this,r.dnd)});if(this.view=new g.b(t,i,o,c),this.view.domNode.setAttribute("role",a),r.styleController)this.styleController=r.styleController(this.view.domId);else{const e=Object(w.w)(this.view.domNode);this.styleController=new B(e,this.view.domId)}if(this.spliceable=new f([new I(this.focus,this.view,r.identityProvider),new I(this.selection,this.view,r.identityProvider),new I(this.anchor,this.view,r.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new A(this,this.view)),("boolean"!=typeof r.keyboardSupport||r.keyboardSupport)&&(this.keyboardController=new E(this,this.view,r),this.disposables.add(this.keyboardController)),r.keyboardNavigationLabelProvider){const e=r.keyboardNavigationDelegate||T;this.typeLabelController=new M(this,this.view,r.keyboardNavigationLabelProvider,e),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(r),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return h.c.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e))}get onDidChangeSelection(){return h.c.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=h.c.chain(this.disposables.add(new d.a(this.view.domNode,"keydown")).event).map(e=>new c.a(e)).filter(t=>e=58===t.keyCode||t.shiftKey&&68===t.keyCode).map(d.b).filter(()=>!1).event,i=h.c.chain(this.disposables.add(new d.a(this.view.domNode,"keyup")).event).forEach(()=>e=!1).map(e=>new c.a(e)).filter(e=>58===e.keyCode||e.shiftKey&&68===e.keyCode).map(d.b).map(({browserEvent:e})=>{const t=this.getFocus(),i=t.length?t[0]:void 0;return{index:i,element:void 0!==i?this.view.element(i):void 0,anchor:void 0!==i?this.view.domElement(i):this.view.domNode,browserEvent:e}}).event,n=h.c.chain(this.view.onContextMenu).filter(t=>!e).map(({element:e,index:t,browserEvent:i})=>({element:e,index:t,anchor:{x:i.pageX+1,y:i.pageY},browserEvent:i})).event;return h.c.any(t,i,n)}get onKeyDown(){return this.disposables.add(new d.a(this.view.domNode,"keydown")).event}get onDidFocus(){return h.c.signal(this.disposables.add(new d.a(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new j(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),null===(t=this.keyboardController)||void 0===t||t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new u(this.user,"Invalid start index: "+e);if(t<0)throw new u(this.user,"Invalid delete count: "+t);0===t&&0===i.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new u(this.user,"Invalid index "+i);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(void 0!==e){if(e<0||e>=this.length)throw new u(this.user,"Invalid index "+e);this.anchor.set([e])}else this.anchor.set([])}getAnchor(){return Object(r.j)(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return void 0===e?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new u(this.user,"Invalid index "+i);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(0===this.length)return;const o=this.focus.get(),r=this.findNextIndex(o.length>0?o[0]+e:0,t,n);r>-1&&this.setFocus([r],i)}focusPrevious(e=1,t=!1,i,n){if(0===this.length)return;const o=this.focus.get(),r=this.findPreviousIndex(o.length>0?o[0]-e:0,t,n);r>-1&&this.setFocus([r],i)}focusNextPage(e,t){return L(this,void 0,void 0,(function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;const n=this.view.element(i),o=this.getFocusedElements()[0];if(o!==n){const n=this.findPreviousIndex(i,!1,t);n>-1&&o!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e)}else{const n=this.view.getScrollTop();this.view.setScrollTop(n+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==n&&(this.setFocus([]),yield Object(y.n)(0),yield this.focusNextPage(e,t))}}))}focusPreviousPage(e,t){return L(this,void 0,void 0,(function*(){let i;const n=this.view.getScrollTop();i=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);const o=this.view.element(i),r=this.getFocusedElements()[0];if(r!==o){const n=this.findNextIndex(i,!1,t);n>-1&&r!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e)}else{const i=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==i&&(this.setFocus([]),yield Object(y.n)(0),yield this.focusPreviousPage(e,t))}}))}focusLast(e,t){if(0===this.length)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(0===this.length)return;const n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e%=this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new u(this.user,"Invalid index "+e);const i=this.view.getScrollTop(),n=this.view.elementTop(e),r=this.view.elementHeight(e);if(Object(o.i)(t)){const e=r-this.view.renderHeight;this.view.setScrollTop(e*Object(_.b)(t,0,1)+n)}else{const e=n+r,t=i+this.view.renderHeight;n<i&&e>=t||(n<i||e>=t&&r>=this.view.renderHeight?this.view.setScrollTop(n):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new u(this.user,"Invalid index "+e);const t=this.view.getScrollTop(),i=this.view.elementTop(e),n=this.view.elementHeight(e);if(i<t||i+n>t+this.view.renderHeight)return null;const o=n-this.view.renderHeight;return Math.abs((t-i)/o)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(e=>this.view.element(e)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===e.length),this.view.domNode.classList.toggle("selection-single",1===e.length),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}S([s.a],$.prototype,"onDidChangeFocus",null),S([s.a],$.prototype,"onDidChangeSelection",null),S([s.a],$.prototype,"onContextMenu",null),S([s.a],$.prototype,"onKeyDown",null),S([s.a],$.prototype,"onDidFocus",null)},dBaI:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return a}));var n=i("N0LK");class o{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!o._equals(e[n],t[n]))return!1;return!0}static extractWrapped(e,t,i){if(0===e.length)return e;const n=t+1,r=i+1,s=i-t,a=[];let l=0;for(const c of e)c.endColumn<=n||c.startColumn>=r||(a[l++]=new o(Math.max(1,c.startColumn-n+1),Math.min(s+1,c.endColumn-n+1),c.className,c.type));return a}static filter(e,t,i,n){if(0===e.length)return[];let r=[],s=0;for(let a=0,l=e.length;a<l;a++){const l=e[a],c=l.range;if(c.endLineNumber<t||c.startLineNumber>t)continue;if(c.isEmpty()&&(0===l.type||3===l.type))continue;const h=c.startLineNumber===t?c.startColumn:i,d=c.endLineNumber===t?c.endColumn:n;r[s++]=new o(h,d,l.inlineClassName,l.type)}return r}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=o._typeCompare(e.type,t.type);return 0!==i?i:e.className!==t.className?e.className<t.className?-1:1:0}}class r{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class s{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;i.push(new r(t,this.stopOffsets[e],this.classNames.join(" "),s._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(i.push(new r(t,e-1,this.classNames.join(" "),s._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class a{static normalize(e,t){if(0===t.length)return[];let i=[];const o=new s;let r=0;for(let s=0,a=t.length;s<a;s++){const a=t[s];let l=a.startColumn,c=a.endColumn;const h=a.className,d=1===a.type?2:2===a.type?4:0;if(l>1){const t=e.charCodeAt(l-2);n.F(t)&&l--}if(c>1){const t=e.charCodeAt(c-2);n.F(t)&&c--}const u=l-1,g=c-2;r=o.consumeLowerThan(u,r,i),0===o.count&&(r=u),o.insert(g,h,d)}return o.consumeLowerThan(1073741824,r,i),i}}},dFcq:function(e,t,i){},dM5B:function(e,t,i){"use strict";i.d(t,"c",(function(){return m})),i.d(t,"d",(function(){return f})),i.d(t,"b",(function(){return b})),i.d(t,"a",(function(){return v}));var n=i("JQT/"),o=i("/cxE"),r=i("bY76"),s=i("twdY"),a=i("G2kB"),l=i("nnTU"),c=i("746U"),h=i("HpOR"),d=i("MNsG");function u(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const i of e.deltas)i.data&&(t+=i.data.length)}return t}(e));let i=0;if(t[i++]=e.id,"full"===e.type)t[i++]=1,t[i++]=e.data.length,t.set(e.data,i),i+=e.data.length;else{t[i++]=2,t[i++]=e.deltas.length;for(const n of e.deltas)t[i++]=n.start,t[i++]=n.deleteCount,n.data?(t[i++]=n.data.length,t.set(n.data,i),i+=n.data.length):t[i++]=0}return function(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return d.e()||function(e){for(let t=0,i=e.length;t<i;t+=4){const i=e[t+0],n=e[t+1],o=e[t+2],r=e[t+3];e[t+0]=r,e[t+1]=o,e[t+2]=n,e[t+3]=i}}(t),h.a.wrap(t)}(t)}var g=i("aokT"),p=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function m(e){return e&&!!e.data}function f(e){return e&&Array.isArray(e.edits)}function b(e,t,i){const n=_(e);return n?{provider:n,request:Promise.resolve(n.provideDocumentSemanticTokens(e,t,i))}:null}function _(e){const t=s.l.ordered(e);return t.length>0?t[0]:null}function v(e){const t=s.k.ordered(e);return t.length>0?t[0]:null}l.a.registerCommand("_provideDocumentSemanticTokensLegend",(e,...t)=>p(void 0,void 0,void 0,(function*(){const[i]=t;Object(c.c)(i instanceof r.a);const n=e.get(a.a).getModel(i);if(!n)return;const o=_(n);return o?o.getLegend():e.get(l.b).executeCommand("_provideDocumentRangeSemanticTokensLegend",i)}))),l.a.registerCommand("_provideDocumentSemanticTokens",(e,...t)=>p(void 0,void 0,void 0,(function*(){const[i]=t;Object(c.c)(i instanceof r.a);const s=e.get(a.a).getModel(i);if(!s)return;const h=b(s,null,n.a.None);if(!h)return e.get(l.b).executeCommand("_provideDocumentRangeSemanticTokens",i,s.getFullModelRange());const{provider:d,request:g}=h;let p;try{p=yield g}catch(_){return void Object(o.f)(_)}if(!p||!m(p))return;const f=u({id:0,type:"full",data:p.data});return p.resultId&&d.releaseDocumentSemanticTokens(p.resultId),f}))),l.a.registerCommand("_provideDocumentRangeSemanticTokensLegend",(e,...t)=>p(void 0,void 0,void 0,(function*(){const[i]=t;Object(c.c)(i instanceof r.a);const n=e.get(a.a).getModel(i);if(!n)return;const o=v(n);return o?o.getLegend():void 0}))),l.a.registerCommand("_provideDocumentRangeSemanticTokens",(e,...t)=>p(void 0,void 0,void 0,(function*(){const[i,s]=t;Object(c.c)(i instanceof r.a),Object(c.c)(g.a.isIRange(s));const l=e.get(a.a).getModel(i);if(!l)return;const h=v(l);if(!h)return;let d;try{d=yield h.provideDocumentRangeSemanticTokens(l,g.a.lift(s),n.a.None)}catch(p){return void Object(o.f)(p)}return d&&m(d)?u({id:0,type:"full",data:d.data}):void 0})))},e0rL:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return r}));var n=i("Cg/j");const o=Object(n.c)("textResourceConfigurationService"),r=Object(n.c)("textResourcePropertiesService")},e1ni:function(e,t,i){},eC1c:function(e,t,i){},eizg:function(e,t,i){},eq1K:function(e,t,i){},erNZ:function(e,t,i){"use strict";i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return d})),i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return g}));var n=i("N0LK"),o=i("MNsG"),r=i("HpOR");let s,a,l;function c(){return s||(s=new TextDecoder("UTF-16LE")),s}function h(){return l||(l=o.e()?c():(a||(a=new TextDecoder("UTF-16BE")),a)),l}const d="undefined"!=typeof TextDecoder;let u,g;function p(e,t,i){let n=[],o=0;for(let s=0;s<i;s++){const i=r.b(e,t);t+=2,n[o++]=String.fromCharCode(i)}return n.join("")}d?(u=e=>new m(e),g=function(e,t,i){const n=new Uint16Array(e.buffer,t,i);if(i>0&&(65279===n[0]||65534===n[0]))return p(e,t,i);return c().decode(n)}):(u=e=>new f,g=p);class m{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return h().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||n.F(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class f{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}},"fV/c":function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/// <reference lib="es2018.asynciterable" />\r\n\r\ninterface AsyncGenerator<T = unknown, TReturn = any, TNext = unknown> extends AsyncIterator<T, TReturn, TNext> {\r\n    // NOTE: \'next\' is defined using a tuple to ensure we report the correct assignability errors in all places.\r\n    next(...args: [] | [TNext]): Promise<IteratorResult<T, TReturn>>;\r\n    return(value: TReturn | PromiseLike<TReturn>): Promise<IteratorResult<T, TReturn>>;\r\n    throw(e: any): Promise<IteratorResult<T, TReturn>>;\r\n    [Symbol.asyncIterator](): AsyncGenerator<T, TReturn, TNext>;\r\n}\r\n\r\ninterface AsyncGeneratorFunction {\r\n    /**\r\n     * Creates a new AsyncGenerator object.\r\n     * @param args A list of arguments the function accepts.\r\n     */\r\n    new (...args: any[]): AsyncGenerator;\r\n    /**\r\n     * Creates a new AsyncGenerator object.\r\n     * @param args A list of arguments the function accepts.\r\n     */\r\n    (...args: any[]): AsyncGenerator;\r\n    /**\r\n     * The length of the arguments.\r\n     */\r\n    readonly length: number;\r\n    /**\r\n     * Returns the name of the function.\r\n     */\r\n    readonly name: string;\r\n    /**\r\n     * A reference to the prototype.\r\n     */\r\n    readonly prototype: AsyncGenerator;\r\n}\r\n\r\ninterface AsyncGeneratorFunctionConstructor {\r\n    /**\r\n     * Creates a new AsyncGenerator function.\r\n     * @param args A list of arguments the function accepts.\r\n     */\r\n    new (...args: string[]): AsyncGeneratorFunction;\r\n    /**\r\n     * Creates a new AsyncGenerator function.\r\n     * @param args A list of arguments the function accepts.\r\n     */\r\n    (...args: string[]): AsyncGeneratorFunction;\r\n    /**\r\n     * The length of the arguments.\r\n     */\r\n    readonly length: number;\r\n    /**\r\n     * Returns the name of the function.\r\n     */\r\n    readonly name: string;\r\n    /**\r\n     * A reference to the prototype.\r\n     */\r\n    readonly prototype: AsyncGeneratorFunction;\r\n}\r\n'},fdyd:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("EffR"),o=i("Vhoy");const r=new RegExp(`(\\\\)?\\$\\((${o.a.iconNameExpression}(?:${o.a.iconModifierExpression})?)\\)`,"g");function s(e){const t=new Array;let i,n=0,o=0;for(;null!==(i=r.exec(e));){o=i.index||0,t.push(e.substring(n,o)),n=(i.index||0)+i[0].length;const[,r,s]=i;t.push(r?`$(${s})`:a({id:s}))}return n<e.length&&t.push(e.substring(n)),t}function a(e){const t=n.a("span");return t.classList.add(...o.a.asClassNameArray(e)),t}},feEw:function(e,t,i){"use strict";i.d(t,"a",(function(){return S})),i.d(t,"b",(function(){return D}));var n=i("qj0h"),o=i("pmY6"),r=i("pg8w"),s=i("MI8n"),a=i("GJhM"),l=i("QuOb"),c=i("nuFA");function h(e,t){const i=[];for(let n of t){if(e.start>=n.range.end)continue;if(e.end<n.range.start)break;const t=c.a.intersect(e,n.range);c.a.isEmpty(t)||i.push({range:t,size:n.size})}return i}function d({start:e,end:t},i){return{start:e+i,end:t+i}}class u{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const n=i.length-t,o=h({start:0,end:e},this.groups),r=h({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(e=>({range:d(e.range,n),size:e.size})),s=i.map((t,i)=>({range:{start:e+i,end:e+i+1},size:t.size}));this.groups=function(...e){return function(e){const t=[];let i=null;for(let n of e){const e=n.range.start,o=n.range.end,r=n.size;i&&r===i.size?i.range.end=o:(i={range:{start:e,end:o},size:r},t.push(i))}return t}(e.reduce((e,t)=>e.concat(t),[]))}(o,s,r),this._size=this.groups.reduce((e,t)=>e+t.size*(t.range.end-t.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const o=n.range.end-n.range.start,r=i+o*n.size;if(e<r)return t+Math.floor((e-i)/n.size);t+=o,i=r}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const o=n.range.end-n.range.start,r=i+o;if(e<r)return t+(e-i)*n.size;t+=o*n.size,i=r}return-1}}var g=i("EffR");class p{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const i=Object(g.a)(".monaco-list-row");t={domNode:i,templateId:e,templateData:this.getRenderer(e).renderTemplate(i)}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),function(e){try{e.parentElement&&e.parentElement.removeChild(e)}catch(t){}}(t));this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e){this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}}),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error("No renderer found for "+e);return t}}var m=i("ZCR3"),f=i("6OMU"),b=i("ZQ78"),_=i("X+cX"),v=i("D3Dy"),C=i("4y0V"),w=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};const y={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class S{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class L{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class x{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}class k{constructor(e){(null==e?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(e,t,i)=>i,(null==e?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(e,t)=>t+1,(null==e?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=e=>"listitem",(null==e?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=e=>{}}}class D{constructor(e,t,i,c=y){if(this.virtualDelegate=t,this.domId="list_id_"+ ++D.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new _.a(50),this.splicing=!1,this.dragOverAnimationStopDisposable=o.a.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=o.a.None,this.onDragLeaveTimeout=o.a.None,this.disposables=new o.b,this._onDidChangeContentHeight=new s.b,this._horizontalScrolling=!1,c.horizontalScrolling&&c.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new u;for(const n of i)this.renderers.set(n.templateId,n);this.cache=this.disposables.add(new p(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof c.mouseSupport||c.mouseSupport),this._horizontalScrolling=Object(n.e)(c,e=>e.horizontalScrolling,y.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===c.additionalScrollHeight?0:c.additionalScrollHeight,this.accessibilityProvider=new k(c.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";Object(n.e)(c,e=>e.transformOptimization,y.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(r.b.addTarget(this.rowsContainer)),this.scrollable=new l.a(Object(n.e)(c,e=>e.smoothScrolling,!1)?125:0,e=>Object(g.V)(e)),this.scrollableElement=this.disposables.add(new a.c(this.rowsContainer,{alwaysConsumeMouseWheel:Object(n.e)(c,e=>e.alwaysConsumeMouseWheel,y.alwaysConsumeMouseWheel),horizontal:1,vertical:Object(n.e)(c,e=>e.verticalScrollMode,y.verticalScrollMode),useShadows:Object(n.e)(c,e=>e.useShadows,y.useShadows),mouseWheelScrollSensitivity:c.mouseWheelScrollSensitivity,fastScrollSensitivity:c.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(Object(g.i)(this.rowsContainer,r.a.Change,e=>this.onTouchChange(e))),this.disposables.add(Object(g.i)(this.scrollableElement.getDomNode(),"scroll",e=>e.target.scrollTop=0)),this.disposables.add(Object(g.i)(this.domNode,"dragover",e=>this.onDragOver(this.toDragEvent(e)))),this.disposables.add(Object(g.i)(this.domNode,"drop",e=>this.onDrop(this.toDragEvent(e)))),this.disposables.add(Object(g.i)(this.domNode,"dragleave",e=>this.onDragLeave(this.toDragEvent(e)))),this.disposables.add(Object(g.i)(this.domNode,"dragend",e=>this.onDragEnd(e))),this.setRowLineHeight=Object(n.e)(c,e=>e.setRowLineHeight,y.setRowLineHeight),this.setRowHeight=Object(n.e)(c,e=>e.setRowHeight,y.setRowHeight),this.supportDynamicHeights=Object(n.e)(c,e=>e.supportDynamicHeights,y.supportDynamicHeights),this.dnd=Object(n.e)(c,e=>e.dnd,y.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Object(g.C)(this.domNode)}),this.rowsContainer.style.width=Math.max(this.scrollWidth||0,this.renderWidth)+"px"}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){void 0!==e.additionalScrollHeight&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling),void 0!==e.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),void 0!==e.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r={start:e,end:e+t},s=c.a.intersect(n,r),a=new Map;for(let o=s.start;o<s.end;o++){const e=this.items[o];if(e.dragStartDisposable.dispose(),e.row){let t=a.get(e.templateId);t||(t=[],a.set(e.templateId,t));const i=this.renderers.get(e.templateId);i&&i.disposeElement&&i.disposeElement(e.element,o,e.row.templateData,e.size),t.push(e.row)}e.row=null}const l={start:e+t,end:this.items.length},h=c.a.intersect(l,n),g=c.a.relativeComplement(l,n),p=i.map(e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:o.a.None}));let m;0===e&&t>=this.items.length?(this.rangeMap=new u,this.rangeMap.splice(0,0,p),m=this.items,this.items=p):(this.rangeMap.splice(e,t,p),m=this.items.splice(e,t,...p));const f=i.length-t,b=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),_=d(h,f),v=c.a.intersect(b,_);for(let o=v.start;o<v.end;o++)this.updateItemInDOM(this.items[o],o);const C=c.a.relativeComplement(_,b);for(const o of C)for(let e=o.start;e<o.end;e++)this.removeItemFromDOM(e);const w=g.map(e=>d(e,f)),y=[{start:e,end:e+i.length},...w].map(e=>c.a.intersect(b,e)),S=this.getNextToLastElement(y);for(const o of y)for(let e=o.start;e<o.end;e++){const t=this.items[e],i=a.get(t.templateId),n=null==i?void 0:i.pop();this.insertItemInDOM(e,S,n)}for(const o of a.values())for(const e of o)this.cache.release(e);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),m.map(e=>e.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=this._scrollHeight+"px",this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Object(g.V)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:"number"==typeof e?e:Object(g.B)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:Object(g.C)(this.domNode)})}render(e,t,i,n,o,r=!1){const s=this.getRenderRange(t,i),a=c.a.relativeComplement(s,e),l=c.a.relativeComplement(e,s),h=this.getNextToLastElement(a);if(r){const t=c.a.intersect(e,s);for(let e=t.start;e<t.end;e++)this.updateItemInDOM(this.items[e],e)}for(const c of a)for(let e=c.start;e<c.end;e++)this.insertItemInDOM(e,h);for(const c of l)for(let e=c.start;e<c.end;e++)this.removeItemFromDOM(e);void 0!==n&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==o&&(this.rowsContainer.style.width=Math.max(o,this.renderWidth)+"px"),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const n=this.items[e];n.row||(n.row=null!=i?i:this.cache.alloc(n.templateId));const o=this.accessibilityProvider.getRole(n.element)||"listitem";n.row.domNode.setAttribute("role",o);const r=this.accessibilityProvider.isChecked(n.element);void 0!==r&&n.row.domNode.setAttribute("aria-checked",String(!!r)),n.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(n.row.domNode,t):this.rowsContainer.appendChild(n.row.domNode)),this.updateItemInDOM(n,e);const s=this.renderers.get(n.templateId);if(!s)throw new Error("No renderer found for template id "+n.templateId);s&&s.renderElement(n.element,e,n.row.templateData,n.size);const a=this.dnd.getDragURI(n.element);n.dragStartDisposable.dispose(),n.row.domNode.draggable=!!a,a&&(n.dragStartDisposable=Object(g.i)(n.row.domNode,"dragstart",e=>this.onDragStart(n.element,a,e))),this.horizontalScrolling&&(this.measureItemWidth(n),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=v.g?"-moz-fit-content":"fit-content",e.width=Object(g.C)(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=this.elementTop(t)+"px",this.setRowHeight&&(e.row.domNode.style.height=e.size+"px"),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=e.size+"px"),e.row.domNode.setAttribute("data-index",""+t),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return s.c.map(this.disposables.add(new C.a(this.domNode,"click")).event,e=>this.toMouseEvent(e))}get onMouseDblClick(){return s.c.map(this.disposables.add(new C.a(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e))}get onMouseMiddleClick(){return s.c.filter(s.c.map(this.disposables.add(new C.a(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e)),e=>1===e.browserEvent.button)}get onMouseDown(){return s.c.map(this.disposables.add(new C.a(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e))}get onContextMenu(){return s.c.any(s.c.map(this.disposables.add(new C.a(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e)),s.c.map(this.disposables.add(new C.a(this.domNode,r.a.Contextmenu)).event,e=>this.toGestureEvent(e)))}get onTouchStart(){return s.c.map(this.disposables.add(new C.a(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e))}get onTap(){return s.c.map(this.disposables.add(new C.a(this.rowsContainer,r.a.Tap)).event,e=>this.toGestureEvent(e))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;const n=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(b.a.TEXT,t),i.dataTransfer.setDragImage){let e;this.dnd.getDragLabel&&(e=this.dnd.getDragLabel(n,i)),void 0===e&&(e=String(n.length));const t=Object(g.a)(".monaco-drag-image");t.textContent=e,document.body.appendChild(t),i.dataTransfer.setDragImage(t,-10,-10),setTimeout(()=>document.body.removeChild(t),0)}this.currentDragData=new S(n),b.c.CurrentDragAndDropData=new L(n),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),b.c.CurrentDragAndDropData&&"vscode-ui"===b.c.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(b.c.CurrentDragAndDropData)this.currentDragData=b.c.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new x}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof t?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let i;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof t&&0===t.effect?"copy":"move",i="boolean"!=typeof t&&t.feedback?t.feedback:void 0===e.index?[-1]:[e.index],i=Object(f.f)(i).filter(e=>e>=-1&&e<this.length).sort((e,t)=>e-t),i=-1===i[0]?[-1]:i,n=this.currentDragFeedback,r=i,Array.isArray(n)&&Array.isArray(r)?Object(f.h)(n,r):n===r)return!0;var n,r;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),-1===i[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=Object(o.i)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const e of i){const t=this.items[e];t.dropTarget=!0,t.row&&t.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=Object(o.i)(()=>{for(const e of i){const t=this.items[e];t.dropTarget=!1,t.row&&t.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Object(_.i)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===(i=(t=this.dnd).onDragLeave)||void 0===i||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,b.c.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,b.c.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=o.a.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const e=Object(g.G)(this.domNode).top;this.dragOverAnimationDisposable=Object(g.p)(this.animateDragAndDropScrollTop.bind(this,e))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Object(_.i)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const e=i.getAttribute("data-index");if(e){const t=Number(e);if(!isNaN(t))return t}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const n=this.getRenderRange(e,t);let o,r;e===this.elementTop(n.start)?(o=n.start,r=0):n.end-n.start>1&&(o=n.start+1,r=this.elementTop(o)-e);let s=0;for(;;){const a=this.getRenderRange(e,t);let l=!1;for(let e=a.start;e<a.end;e++){const t=this.probeDynamicHeight(e);0!==t&&this.rangeMap.splice(e,1,[this.items[e]]),s+=t,l=l||0!==t}if(!l){0!==s&&this.eventuallyUpdateScrollDimensions();const t=c.a.relativeComplement(n,a);for(const e of t)for(let t=e.start;t<e.end;t++)this.items[t].row&&this.removeItemFromDOM(t);const l=c.a.relativeComplement(a,n);for(const e of l)for(let t=e.start;t<e.end;t++){const e=t+1,i=e<this.items.length?this.items[e].row:null,n=i?i.domNode:null;this.insertItemInDOM(t,n)}for(let e=a.start;e<a.end;e++)this.items[e].row&&this.updateItemInDOM(this.items[e],e);if("number"==typeof o){const t=this.scrollable.getFutureScrollPosition().scrollTop-e,n=this.elementTop(o)-r+t;this.setScrollTop(n,i)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){const t=this.items[e];if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(!this.setRowHeight&&t.row){let e=t.row.domNode.offsetHeight;return t.size=e,t.lastDynamicHeightWidth=this.renderWidth,e-i}const n=this.cache.alloc(t.templateId);n.domNode.style.height="",this.rowsContainer.appendChild(n.domNode);const o=this.renderers.get(t.templateId);return o&&(o.renderElement(t.element,e,n.templateData,void 0),o.disposeElement&&o.disposeElement(t.element,e,n.templateData,void 0)),t.size=n.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(n.domNode),this.cache.release(n),t.size-i}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return i&&i.row?i.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),Object(o.f)(this.disposables)}}D.InstanceCount=0,w([m.a],D.prototype,"onMouseClick",null),w([m.a],D.prototype,"onMouseDblClick",null),w([m.a],D.prototype,"onMouseMiddleClick",null),w([m.a],D.prototype,"onMouseDown",null),w([m.a],D.prototype,"onContextMenu",null),w([m.a],D.prototype,"onTouchStart",null),w([m.a],D.prototype,"onTap",null)},fjLI:function(e,t,i){"use strict";i.d(t,"f",(function(){return m})),i.d(t,"b",(function(){return f})),i.d(t,"a",(function(){return b})),i.d(t,"d",(function(){return _})),i.d(t,"e",(function(){return v})),i.d(t,"c",(function(){return C}));var n=i("8HAY"),o=i("Cg/j"),r=i("T8No"),s=i("nnTU"),a=i("pmY6"),l=i("MI8n"),c=i("t9D7"),h=i("JYp7"),d=i("24hK"),u=i("Vhoy"),g=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},p=function(e,t){return function(i,n){t(i,n,e)}};function m(e){return void 0!==e.command}class f{constructor(e){this.id=f._idPool++,this._debugName=e}}f._idPool=0,f.CommandPalette=new f("CommandPalette"),f.EditorContext=new f("EditorContext"),f.SimpleEditorContext=new f("SimpleEditorContext"),f.EditorContextCopy=new f("EditorContextCopy"),f.EditorContextPeek=new f("EditorContextPeek"),f.MenubarEditMenu=new f("MenubarEditMenu"),f.MenubarCopy=new f("MenubarCopy"),f.MenubarGoMenu=new f("MenubarGoMenu"),f.MenubarSelectionMenu=new f("MenubarSelectionMenu"),f.InlineCompletionsActions=new f("InlineCompletionsActions");const b=Object(o.c)("menuService"),_=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new l.b,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:e=>e===f.CommandPalette}}addCommand(e){return this.addCommands(h.a.single(e))}addCommands(e){for(const t of e)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),Object(a.i)(()=>{let t=!1;for(const i of e)t=this._commands.delete(i.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach((t,i)=>e.set(i,t)),e}appendMenuItem(e,t){return this.appendMenuItems(h.a.single({id:e,item:t}))}appendMenuItems(e){const t=new Set,i=new d.a;for(const{id:n,item:o}of e){let e=this._menuItems.get(n);e||(e=new d.a,this._menuItems.set(n,e)),i.push(e.push(o)),t.add(n)}return this._onDidChangeMenu.fire(t),Object(a.i)(()=>{if(i.size>0){for(let e of i)e();this._onDidChangeMenu.fire(t),i.clear()}})}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===f.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)m(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach((i,n)=>{t.has(n)||e.push({command:i})})}};class v extends n.e{constructor(e,t,i,n){super("submenuitem."+e.submenu.id,"string"==typeof e.title?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=i,this._options=n}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(const[,o]of i)o.length>0&&(e.push(...o),e.push(new n.d));return e.length&&e.pop(),e}}let C=class e{constructor(t,i,n,o,r){var s;if(this._commandService=r,this.id=t.id,this.label=(null==n?void 0:n.renderShortTitle)&&t.shortTitle?"string"==typeof t.shortTitle?t.shortTitle:t.shortTitle.value:"string"==typeof t.title?t.title:t.title.value,this.tooltip=null!==(s=t.tooltip)&&void 0!==s?s:"",this.enabled=!t.precondition||o.contextMatchesRules(t.precondition),this.checked=!1,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=o.contextMatchesRules(e.condition),this.checked&&e.tooltip&&(this.tooltip="string"==typeof e.tooltip?e.tooltip:e.tooltip.value),e.title&&(this.label="string"==typeof e.title?e.title:e.title.value)}this.item=t,this.alt=i?new e(i,void 0,n,o,r):void 0,this._options=n,c.d.isThemeIcon(t.icon)&&(this.class=u.a.asClassName(t.icon))}dispose(){}run(...e){var t,i;let n=[];return(null===(t=this._options)||void 0===t?void 0:t.arg)&&(n=[...n,this._options.arg]),(null===(i=this._options)||void 0===i?void 0:i.shouldForwardArgs)&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};C=g([p(3,r.b),p(4,s.b)],C)},fpMC:function(e,t,i){"use strict";i.d(t,"j",(function(){return r})),i.d(t,"h",(function(){return s})),i.d(t,"f",(function(){return a})),i.d(t,"i",(function(){return v})),i.d(t,"g",(function(){return x})),i.d(t,"b",(function(){return k})),i.d(t,"c",(function(){return D})),i.d(t,"a",(function(){return j})),i.d(t,"d",(function(){return B})),i.d(t,"e",(function(){return V}));var n=i("QDVR"),o=i("N0LK");function r(...e){return function(t,i){for(let n=0,o=e.length;n<o;n++){const o=e[n](t,i);if(o)return o}return null}}const s=function(e,t,i){if(!i||i.length<t.length)return null;let n;n=e?o.S(i,t):0===i.indexOf(t);if(!n)return null;return t.length>0?[{start:0,end:t.length}]:[]}.bind(void 0,!0);function a(e,t){const i=t.toLowerCase().indexOf(e.toLowerCase());return-1===i?null:[{start:i,end:i+e.length}]}function l(e){return 97<=e&&e<=122}function c(e){return 65<=e&&e<=90}function h(e){return 48<=e&&e<=57}function d(e){return 32===e||9===e||10===e||13===e}const u=new Set;function g(e){return d(e)||u.has(e)}function p(e){return l(e)||c(e)||h(e)}function m(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function f(e,t){for(let i=t;i<e.length;i++){const t=e.charCodeAt(i);if(c(t)||h(t)||i>0&&!p(e.charCodeAt(i-1)))return i}return e.length}function b(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]!==t[n].toLowerCase())return null;{let o=null,r=n+1;for(o=b(e,t,i+1,n+1);!o&&(r=f(t,r))<t.length;)o=b(e,t,i+1,r),r++;return null===o?null:m({start:n,end:n+1},o)}}function _(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,i=0,n=0,o=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r),c(n)&&t++,l(n)&&i++,d(n)&&o++;return 0!==t&&0!==i||0!==o?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;const i=function(e){let t=0,i=0,n=0,o=0,r=0;for(let s=0;s<e.length;s++)r=e.charCodeAt(s),c(r)&&t++,l(r)&&i++,p(r)&&n++,h(r)&&o++;return{upperPercent:t/e.length,lowerPercent:i/e.length,alphaPercent:n/e.length,numericPercent:o/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:i,alphaPercent:n,numericPercent:o}=e;return i>.2&&t<.8&&n>.6&&o<.2}(i)){if(!function(e){const{upperPercent:t,lowerPercent:i}=e;return 0===i&&t>.6}(i))return null;t=t.toLowerCase()}let n=null,o=0;for(e=e.toLowerCase();o<t.length&&null===(n=b(e,t,0,o));)o=f(t,o+1);return n}function v(e,t,i=!1){if(!t||0===t.length)return null;let n=null,o=0;for(e=e.toLowerCase(),t=t.toLowerCase();o<t.length&&null===(n=C(e,t,0,o,i));)o=w(t,o+1);return n}function C(e,t,i,n,o){if(i===e.length)return[];if(n===t.length)return null;if(r=e.charCodeAt(i),s=t.charCodeAt(n),r===s||g(r)&&g(s)){let r=null,s=n+1;if(r=C(e,t,i+1,n+1,o),!o)for(;!r&&(s=w(t,s))<t.length;)r=C(e,t,i+1,s,o),s++;return null===r?null:m({start:n,end:n+1},r)}return null;var r,s}function w(e,t){for(let i=t;i<e.length;i++)if(g(e.charCodeAt(i))||i>0&&g(e.charCodeAt(i-1)))return i;return e.length}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(e=>u.add(e.charCodeAt(0)));const y=r(s,_,a),S=r(s,_,(function(e,t){return function e(t,i,n,o){if(n===t.length)return[];if(o===i.length)return null;if(t[n]===i[o]){let r=null;return(r=e(t,i,n+1,o+1))?m({start:o,end:o+1},r):null}return e(t,i,n,o+1)}(e.toLowerCase(),t.toLowerCase(),0,0)})),L=new n.a(1e4);function x(e,t,i=!1){if("string"!=typeof e||"string"!=typeof t)return null;let n=L.get(e);n||(n=new RegExp(o.p(e),"i"),L.set(e,n));const r=n.exec(t);return r?[{start:r.index,end:r.index+r[0].length}]:i?S(e,t):y(e,t)}function k(e,t,i,n,o,r){const s=Math.min(13,e.length);for(;i<s;i++){const s=B(e,t,i,n,o,r,!1);if(s)return s}return[0,r]}function D(e){if(void 0===e)return[];const t=[],i=e[1];for(let n=e.length-1;n>1;n--){const o=e[n]+i,r=t[t.length-1];r&&r.end===o?r.end=o+1:t.push({start:o,end:o+1})}return t}function I(){const e=[],t=[];for(let i=0;i<=128;i++)t[i]=0;for(let i=0;i<=128;i++)e.push(t.slice(0));return e}function O(e){const t=[];for(let i=0;i<=e;i++)t[i]=0;return t}const N=O(256),E=O(256),T=I(),M=I(),A=I();function R(e,t){if(t<0||t>=e.length)return!1;const i=e.codePointAt(t);switch(i){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!o.C(i)}}function P(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function F(e,t,i){return t[e]!==i[e]}var j;function B(e,t,i,n,o,r,s){const a=e.length>128?128:e.length,l=n.length>128?128:n.length;if(i>=a||r>=l||a-i>l-r)return;if(!function(e,t,i,n,o,r,s=!1){for(;t<i&&o<r;)e[t]===n[o]&&(s&&(N[t]=o),t+=1),o+=1;return t===i}(t,i,a,o,r,l,!0))return;!function(e,t,i,n,o,r){let s=e-1,a=t-1;for(;s>=i&&a>=n;)o[s]===r[a]&&(E[s]=a,s--),a--}(a,l,i,r,t,o);let c=1,h=1,d=i,u=r;const g=[!1];for(c=1,d=i;d<a;c++,d++){const s=N[d],p=E[d],m=d+1<a?E[d+1]:l;for(h=s-r+1,u=s;u<m;h++,u++){let a=Number.MIN_SAFE_INTEGER,m=!1;u<=p&&(a=W(e,t,d,i,n,o,u,l,r,0===T[c-1][h-1],g));let f=0;a!==Number.MAX_SAFE_INTEGER&&(m=!0,f=a+M[c-1][h-1]);const b=u>s,_=b?M[c][h-1]+(T[c][h-1]>0?-5:0):0,v=u>s+1&&T[c][h-1]>0,C=v?M[c][h-2]+(T[c][h-2]>0?-5:0):0;if(v&&(!b||C>=_)&&(!m||C>=f))M[c][h]=C,A[c][h]=3,T[c][h]=0;else if(b&&(!m||_>=f))M[c][h]=_,A[c][h]=2,T[c][h]=0;else{if(!m)throw new Error("not possible");M[c][h]=f,A[c][h]=1,T[c][h]=T[c-1][h-1]+1}}}if(!g[0]&&!s)return;c--,h--;const p=[M[c][h],r];let m=0,f=0;for(;c>=1;){let e=h;do{const t=A[c][e];if(3===t)e-=2;else{if(2!==t)break;e-=1}}while(e>=1);m>1&&t[i+c-1]===o[r+h-1]&&!F(e+r-1,n,o)&&m+1>T[c][e]&&(e=h),e===h?m++:m=1,f||(f=e),c--,h=e-1,p.push(h)}l===a&&(p[0]+=2);const b=f-a;return p[0]-=b,p}function W(e,t,i,n,o,r,s,a,l,c,h){if(t[i]!==r[s])return Number.MIN_SAFE_INTEGER;let d=1,u=!1;return s===i-n?d=e[i]===o[s]?7:5:!F(s,o,r)||0!==s&&F(s-1,o,r)?!R(r,s)||0!==s&&R(r,s-1)?(R(r,s-1)||P(r,s-1))&&(d=5,u=!0):d=5:(d=e[i]===o[s]?7:5,u=!0),d>1&&i===n&&(h[0]=!0),u||(u=F(s,o,r)||R(r,s-1)||P(r,s-1)),i===n?s>l&&(d-=u?3:5):d+=c?u?2:0:u?0:1,s+1===a&&(d-=u?3:5),d}function V(e,t,i,n,o,r,s){return function(e,t,i,n,o,r,s,a){let l=B(e,t,i,n,o,r,a);if(l&&!s)return l;if(e.length>=3){const t=Math.min(7,e.length-1);for(let s=i+1;s<t;s++){const t=H(e,s);if(t){const e=B(t,t.toLowerCase(),i,n,o,r,a);e&&(e[0]-=3,(!l||e[0]>l[0])&&(l=e))}}}return l}(e,t,i,n,o,r,!0,s)}function H(e,t){if(t+1>=e.length)return;const i=e[t],n=e[t+1];return i!==n?e.slice(0,t)+n+i+e.slice(t+2):void 0}!function(e){e.Default=[-100,0],e.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]}}(j||(j={}))},gBdU:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/// <reference lib="es2016" />\r\n/// <reference lib="es2017.object" />\r\n/// <reference lib="es2017.sharedmemory" />\r\n/// <reference lib="es2017.string" />\r\n/// <reference lib="es2017.intl" />\r\n/// <reference lib="es2017.typedarrays" />\r\n'},gCVg:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("cGHE"),o=i("aokT");class r extends o.a{constructor(e,t,i,n){super(e,t,i,n),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return r.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new r(this.startLineNumber,this.startColumn,e,t):new r(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new n.a(this.positionLineNumber,this.positionColumn)}setStartPosition(e,t){return 0===this.getDirection()?new r(e,t,this.endLineNumber,this.endColumn):new r(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new r(e.lineNumber,e.column,t.lineNumber,t.column)}static liftSelection(e){return new r(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,t,i,n,o){return 0===o?new r(e,t,i,n):new r(i,n,e,t)}}},gMC8:function(e,t,i){"use strict";i.r(t),t.default="/** @noSelfInFile */\n\ndeclare namespace math {\n    /**\n     * Returns the arc tangent of x (in radians).\n     */\n    function atan(x: number): number;\n\n    /**\n     * Returns the arc tangent of y/x (in radians), but uses the signs of both\n     * parameters to find the quadrant of the result. (It also handles correctly\n     * the case of x being zero.)\n     */\n    function atan2(y: number, x: number): number;\n\n    /**\n     * Returns the hyperbolic cosine of x.\n     */\n    function cosh(x: number): number;\n\n    /**\n     * Returns m and e such that x = m2e, e is an integer and the absolute value\n     * of m is in the range [0.5, 1) (or zero when x is zero).\n     */\n    function frexp(x: number): number;\n\n    /**\n     * Returns m2e (e should be an integer).\n     */\n    function ldexp(m: number, e: number): number;\n\n    /**\n     * Returns xy. (You can also use the expression x^y to compute this value.)\n     */\n    function pow(x: number, y: number): number;\n\n    /**\n     * Returns the hyperbolic sine of x.\n     */\n    function sinh(x: number): number;\n\n    /**\n     * Returns the hyperbolic tangent of x.\n     */\n    function tanh(x: number): number;\n}\n"},gslv:function(e,t,i){"use strict";i.d(t,"i",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"f",(function(){return h})),i.d(t,"c",(function(){return d})),i.d(t,"b",(function(){return u})),i.d(t,"d",(function(){return g})),i.d(t,"g",(function(){return p})),i.d(t,"h",(function(){return m})),i.d(t,"j",(function(){return f})),i.d(t,"a",(function(){return b}));var n=i("PTeM"),o=i("MrjW"),r=i("bY76"),s=i("N0LK"),a=i("tYmi");function l(e){return Object(r.b)(e,!0)}const c=new class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:Object(s.f)(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}joinPath(e,...t){return r.a.joinPath(e,...t)}basenameOrAuthority(e){return u(e)||e.authority}basename(e){return o.e.basename(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===a.c.file?t=r.a.file(o.b(l(e))).path:(t=o.e.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===a.c.file?r.a.file(o.d(l(e))).path:o.e.normalize(e.path),e.with({path:t})}resolvePath(e,t){if(e.scheme===a.c.file){const i=r.a.file(o.g(l(e),t));return e.with({authority:i.authority,path:i.path})}return t=n.d(t),e.with({path:o.e.resolve(e.path,t)})}}(()=>!1),h=c.isEqual.bind(c),d=c.basenameOrAuthority.bind(c),u=c.basename.bind(c),g=c.dirname.bind(c),p=c.joinPath.bind(c),m=c.normalizePath.bind(c),f=c.resolvePath.bind(c);var b;!function(e){e.META_DATA_LABEL="label",e.META_DATA_DESCRIPTION="description",e.META_DATA_SIZE="size",e.META_DATA_MIME="mime",e.parseMetaData=function(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(e=>{const[t,n]=e.split(":");t&&n&&i.set(t,n)});const n=t.path.substring(0,t.path.indexOf(";"));return n&&i.set(e.META_DATA_MIME,n),i}}(b||(b={}))},hHjc:function(e,t,i){},"hKI/":function(e,t,i){(function(t){var i=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),h=Object.prototype.toString,d=Math.max,u=Math.min,g=function(){return c.Date.now()};function p(e,t,i){var n,o,r,s,a,l,c=0,h=!1,p=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var i=n,r=o;return n=o=void 0,c=t,s=e.apply(r,i)}function v(e){return c=e,a=setTimeout(w,t),h?_(e):s}function C(e){var i=e-l;return void 0===l||i>=t||i<0||p&&e-c>=r}function w(){var e=g();if(C(e))return y(e);a=setTimeout(w,function(e){var i=t-(e-l);return p?u(i,r-(e-c)):i}(e))}function y(e){return a=void 0,b&&n?_(e):(n=o=void 0,s)}function S(){var e=g(),i=C(e);if(n=arguments,o=this,l=e,i){if(void 0===a)return v(l);if(p)return a=setTimeout(w,t),_(l)}return void 0===a&&(a=setTimeout(w,t)),s}return t=f(t)||0,m(i)&&(h=!!i.leading,r=(p="maxWait"in i)?d(f(i.maxWait)||0,t):r,b="trailing"in i?!!i.trailing:b),S.cancel=function(){void 0!==a&&clearTimeout(a),c=0,n=l=o=a=void 0},S.flush=function(){return void 0===a?s:y(g())},S}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function f(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var a=o.test(e);return a||r.test(e)?s(e.slice(2),a?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,i){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return m(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),p(e,t,{leading:n,maxWait:t,trailing:o})}}).call(this,i("yLpj"))},hN88:function(e,t,i){"use strict";i.d(t,"b",(function(){return x})),i.d(t,"a",(function(){return D})),i.d(t,"c",(function(){return I})),i.d(t,"d",(function(){return N})),i.d(t,"e",(function(){return T}));var n=i("OBOq"),o=i("6OMU"),r=i("JQT/"),s=i("/cxE"),a=i("bY76"),l=i("vATl"),c=i("sFUC"),h=i("cGHE"),d=i("aokT"),u=i("gCVg"),g=i("twdY"),p=i("pAvP"),m=i("G2kB"),f=i("Cduo"),b=i("3/fG");class _{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}var v=i("Cg/j"),C=i("24hK"),w=i("nnTU"),y=i("746U"),S=i("JYp7"),L=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function x(e){if(!(e=e.filter(e=>e.range)).length)return;let{range:t}=e[0];for(let n=1;n<e.length;n++)t=d.a.plusRange(t,e[n].range);const{startLineNumber:i,endLineNumber:o}=t;i===o?1===e.length?Object(n.a)(b.a("hint11","Made 1 formatting edit on line {0}",i)):Object(n.a)(b.a("hintn1","Made {0} formatting edits on line {1}",e.length,i)):1===e.length?Object(n.a)(b.a("hint1n","Made 1 formatting edit between lines {0} and {1}",i,o)):Object(n.a)(b.a("hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,i,o))}function k(e){const t=[],i=new Set,n=g.g.ordered(e);for(const r of n)t.push(r),r.extensionId&&i.add(_.toKey(r.extensionId));const o=g.j.ordered(e);for(const r of o){if(r.extensionId){if(i.has(_.toKey(r.extensionId)))continue;i.add(_.toKey(r.extensionId))}t.push({displayName:r.displayName,extensionId:r.extensionId,provideDocumentFormattingEdits:(e,t,i)=>r.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,i)})}return t}class D{static setFormatterSelector(e){return{dispose:D._selectors.unshift(e)}}static select(e,t,i){return L(this,void 0,void 0,(function*(){if(0===e.length)return;const n=S.a.first(D._selectors);return n?yield n(e,t,i):void 0}))}}function I(e,t,i,n,o,r){return L(this,void 0,void 0,(function*(){const s=e.get(v.a),a=Object(c.b)(t)?t.getModel():t,l=g.j.ordered(a),h=yield D.select(l,a,n);h&&(o.report(h),yield s.invokeFunction(O,h,t,i,r))}))}function O(e,t,i,n,r){return L(this,void 0,void 0,(function*(){const s=e.get(p.a);let a,h;Object(c.b)(i)?(a=i.getModel(),h=new l.b(i,5,void 0,r)):(a=i,h=new l.d(i,r));let g=[],m=0;for(let e of Object(o.c)(n).sort(d.a.compareRangesUsingStarts))m>0&&d.a.areIntersectingOrTouching(g[m-1],e)?g[m-1]=d.a.fromPositions(g[m-1].getStartPosition(),e.getEndPosition()):m=g.push(e);const b=e=>L(this,void 0,void 0,(function*(){return(yield t.provideDocumentRangeFormattingEdits(a,e,a.getFormattingOptions(),h.token))||[]})),_=(e,t)=>{if(!e.length||!t.length)return!1;const i=e.reduce((e,t)=>d.a.plusRange(e,t.range),e[0].range);if(!t.some(e=>d.a.intersectRanges(i,e.range)))return!1;for(let n of e)for(let e of t)if(d.a.intersectRanges(n.range,e.range))return!0;return!1},v=[],C=[];try{for(let e of g){if(h.token.isCancellationRequested)return!0;C.push(yield b(e))}for(let e=0;e<g.length;++e)for(let t=e+1;t<g.length;++t){if(h.token.isCancellationRequested)return!0;if(_(C[e],C[t])){const i=d.a.plusRange(g[e],g[t]),n=yield b(i);g.splice(t,1),g.splice(e,1),g.push(i),C.splice(t,1),C.splice(e,1),C.push(n),e=0,t=0}}for(let e of C){if(h.token.isCancellationRequested)return!0;const t=yield s.computeMoreMinimalEdits(a.uri,e);t&&v.push(...t)}}finally{h.dispose()}if(0===v.length)return!1;if(Object(c.b)(i))f.a.execute(i,v,!0),x(v),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1);else{const[{range:e}]=v,t=new u.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);a.pushEditOperations([t],v.map(e=>({text:e.text,range:d.a.lift(e.range),forceMoveMarkers:!0})),e=>{for(const{range:i}of e)if(d.a.areIntersectingOrTouching(i,t))return[new u.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null})}return!0}))}function N(e,t,i,n,o){return L(this,void 0,void 0,(function*(){const r=e.get(v.a),s=Object(c.b)(t)?t.getModel():t,a=k(s),l=yield D.select(a,s,i);l&&(n.report(l),yield r.invokeFunction(E,l,t,i,o))}))}function E(e,t,i,n,o){return L(this,void 0,void 0,(function*(){const r=e.get(p.a);let s,a,h;Object(c.b)(i)?(s=i.getModel(),a=new l.b(i,5,void 0,o)):(s=i,a=new l.d(i,o));try{const e=yield t.provideDocumentFormattingEdits(s,s.getFormattingOptions(),a.token);if(h=yield r.computeMoreMinimalEdits(s.uri,e),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!h||0===h.length)return!1;if(Object(c.b)(i))f.a.execute(i,h,2!==n),2!==n&&(x(h),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1));else{const[{range:e}]=h,t=new u.a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);s.pushEditOperations([t],h.map(e=>({text:e.text,range:d.a.lift(e.range),forceMoveMarkers:!0})),e=>{for(const{range:i}of e)if(d.a.areIntersectingOrTouching(i,t))return[new u.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null})}return!0}))}function T(e,t,i,n,o){const a=g.x.ordered(t);return 0===a.length||a[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(a[0].provideOnTypeFormattingEdits(t,i,n,o,r.a.None)).catch(s.f).then(i=>e.computeMoreMinimalEdits(t.uri,i))}D._selectors=new C.a,w.a.registerCommand("_executeFormatRangeProvider",(function(e,...t){const[i,n,l]=t;Object(y.c)(a.a.isUri(i)),Object(y.c)(d.a.isIRange(n));const c=e.get(m.a).getModel(i);if(!c)throw Object(s.b)("resource");return function(e,t,i,n,r){return L(this,void 0,void 0,(function*(){const a=g.j.ordered(t);for(const l of a){let a=yield Promise.resolve(l.provideDocumentRangeFormattingEdits(t,i,n,r)).catch(s.f);if(Object(o.n)(a))return yield e.computeMoreMinimalEdits(t.uri,a)}}))}(e.get(p.a),c,d.a.lift(n),l,r.a.None)})),w.a.registerCommand("_executeFormatDocumentProvider",(function(e,...t){const[i,n]=t;Object(y.c)(a.a.isUri(i));const l=e.get(m.a).getModel(i);if(!l)throw Object(s.b)("resource");return function(e,t,i,n){return L(this,void 0,void 0,(function*(){const r=k(t);for(const a of r){let r=yield Promise.resolve(a.provideDocumentFormattingEdits(t,i,n)).catch(s.f);if(Object(o.n)(r))return yield e.computeMoreMinimalEdits(t.uri,r)}}))}(e.get(p.a),l,n,r.a.None)})),w.a.registerCommand("_executeFormatOnTypeProvider",(function(e,...t){const[i,n,o,r]=t;Object(y.c)(a.a.isUri(i)),Object(y.c)(h.a.isIPosition(n)),Object(y.c)("string"==typeof o);const l=e.get(m.a).getModel(i);if(!l)throw Object(s.b)("resource");return T(e.get(p.a),l,h.a.lift(n),o,r)}))},htzC:function(e,t,i){"use strict";i.r(t),t.default="/** @noSelfInFile */\n\n/**\n * This function is a generic interface to the garbage collector. It performs\n * different functions according to its first argument, opt.\n *\n * Returns the total memory in use by Lua in Kbytes. The value has a fractional\n * part, so that it multiplied by 1024 gives the exact number of bytes in use by\n * Lua (except for overflows).\n */\ndeclare function collectgarbage(opt: 'count'): number;\n\n/**\n * Returns the elements from the given list. This function is equivalent to\n *\n * `return list[i], list[i+1], ···, list[j]`\n *\n * except that the above code can be written only for a fixed number of\n * elements. By default, i is 1 and j is the length of the list, as defined by\n * the length operator (see §2.5.5).\n */\ndeclare function unpack<T extends any[]>(list: T): LuaMultiReturn<T[]>;\ndeclare function unpack<T>(list: T[], i: number, j?: number): LuaMultiReturn<T[]>;\n\n/**\n * Returns the current environment in use by the function. f can be a Lua\n * function or a number that specifies the function at that stack level: Level 1\n * is the function calling getfenv. If the given function is not a Lua function,\n * or if f is 0, getfenv returns the global environment. The default for f is 1.\n */\ndeclare function getfenv(f?: Function | number): any;\n\n/**\n * Sets the environment to be used by the given function. f can be a Lua\n * function or a number that specifies the function at that stack level: Level 1\n * is the function calling setfenv. setfenv returns the given function.\n *\n * As a special case, when f is 0 setfenv changes the environment of the running\n * thread. In this case, setfenv returns no values.\n */\ndeclare function setfenv<T extends Function>(f: T, table: object): T;\ndeclare function setfenv(f: 0, table: object): Function;\ndeclare function setfenv(f: number, table: object): void;\n\ndeclare namespace debug {\n    /**\n     * Returns the environment of object o.\n     */\n    function getfenv(o: object): any;\n\n    /**\n     * Sets the environment of the given object to the given table. Returns\n     * object.\n     */\n    function setfenv<T extends object>(o: T, table: object): T;\n}\n\ndeclare namespace package {\n    /**\n     * A table used by require to control how to load modules.\n     *\n     * Each entry in this table is a searcher function. When looking for a module,\n     * require calls each of these searchers in ascending order, with the module\n     * name (the argument given to require) as its sole parameter. The function\n     * can return another function (the module loader) plus an extra value that\n     * will be passed to that loader, or a string explaining why it did not find\n     * that module (or nil if it has nothing to say).\n     *\n     * Lua initializes this table with four searcher functions.\n     *\n     * The first searcher simply looks for a loader in the package.preload table.\n     *\n     * The second searcher looks for a loader as a Lua library, using the path\n     * stored at package.path. The search is done as described in function\n     * package.searchpath.\n     *\n     * The third searcher looks for a loader as a C library, using the path given\n     * by the variable package.cpath. Again, the search is done as described in\n     * function package.searchpath. For instance, if the C path is the string\n     *\n     * `./?.so;./?.dll;/usr/local/?/init.so`\n     *\n     * the searcher for module foo will try to open the files ./foo.so, ./foo.dll,\n     * and /usr/local/foo/init.so, in that order. Once it finds a C library, this\n     * searcher first uses a dynamic link facility to link the application with\n     * the library. Then it tries to find a C function inside the library to be\n     * used as the loader. The name of this C function is the string \"luaopen_\"\n     * concatenated with a copy of the module name where each dot is replaced by\n     * an underscore. Moreover, if the module name has a hyphen, its suffix after\n     * (and including) the first hyphen is removed. For instance, if the module\n     * name is a.b.c-v2.1, the function name will be luaopen_a_b_c.\n     *\n     * The fourth searcher tries an all-in-one loader. It searches the C path for\n     * a library for the root name of the given module. For instance, when\n     * requiring a.b.c, it will search for a C library for a. If found, it looks\n     * into it for an open function for the submodule; in our example, that would\n     * be luaopen_a_b_c. With this facility, a package can pack several C\n     * submodules into one single library, with each submodule keeping its\n     * original open function.\n     */\n    var loaders: (\n        | ((modname: string) => LuaMultiReturn<[(modname: string) => void]>)\n        | (<T>(modname: string) => LuaMultiReturn<[(modname: string, extra: T) => T, T]>)\n        | string\n    )[];\n}\n\ndeclare namespace os {\n    /**\n     * This function is equivalent to the C function system. It passes command to\n     * be executed by an operating system shell. It returns a status code, which\n     * is system-dependent. If command is absent, then it returns nonzero if a\n     * shell is available and zero otherwise.\n     */\n    function execute(command?: string): number;\n}\n\ndeclare namespace math {\n    /**\n     * Returns the base-10 logarithm of x.\n     */\n    function log10(x: number): number;\n}\n\ndeclare namespace table {\n    /**\n     * Returns the largest positive numerical index of the given table, or zero if\n     * the table has no positive numerical indices. (To do its job this function\n     * does a linear traversal of the whole table.)\n     */\n    function maxn(table: object): number;\n}\n\ndeclare namespace coroutine {\n    /**\n     * Returns the running coroutine, or nil when called by the main thread.\n     */\n    function running(): LuaThread | undefined;\n}\n"},"i/Ef":function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return l})),i.d(t,"e",(function(){return c}));var n=i("Tcc1"),o=i("twdY");const r=new class{clone(){return this}equals(e){return this===e}},s="vs.editor.nullMode",a=new o.u(s,0);function l(e,t,i,o){return new n.b([new n.a(o,"",e)],i)}function c(e,t,i,o){let s=new Uint32Array(2);return s[0]=o,s[1]=(16384|e<<0|2<<23)>>>0,new n.c(s,null===i?r:i)}},"i/Rh":function(e,t,i){},i04g:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return s}));var n=i("3/fG");class o{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(0===t.length)return null;const n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=i(r);if(null===s)return null;n[o]=a(r,s,this.modifierLabels[e])}return n.join(" ")}}const r=new o({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:n.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:n.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:n.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:n.a({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:n.a({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:n.a({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:n.a({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:n.a({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),s=new o({ctrlKey:n.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:n.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:n.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:n.a({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:n.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:n.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:n.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:n.a({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:n.a({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:n.a({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:n.a({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:n.a({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function a(e,t,i){if(null===t)return"";const n=[];return e.ctrlKey&&n.push(i.ctrlKey),e.shiftKey&&n.push(i.shiftKey),e.altKey&&n.push(i.altKey),e.metaKey&&n.push(i.metaKey),""!==t&&n.push(t),n.join(i.separator)}},iDAx:function(e,t,i){"use strict";i.d(t,"b",(function(){return p})),i.d(t,"a",(function(){return C})),i.d(t,"d",(function(){return D})),i.d(t,"c",(function(){return I}));var n=i("3/fG"),o=i("MI8n"),r=i("pmY6"),s=i("qj0h"),a=i("6OMU"),l=i("/UlZ"),c=i("Yr1X"),h=i("+3Gp"),d=i("CRAX"),u=i("ic2d"),g=i("vl9R");const p=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new o.b,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}},m=Object.hasOwnProperty;class f{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class b{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}}class _{static readOptions(e){const t=e,i=new b;for(const n of l.l){const e="_never_"===n.name?void 0:t[n.name];i._write(n.id,e)}return i}static validateOptions(e){const t=new l.j;for(const i of l.l)t._write(i.id,i.validate(e._read(i.id)));return t}static computeOptions(e,t){const i=new f;for(const n of l.l)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&a.h(e,t);for(let i in e)if(!_._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let n=!1;for(const o of l.l){const r=!_._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=r,r&&(n=!0)}return n?new l.b(i):null}}function v(e){const t=s.b(e);return function(e){const t=e.wordWrap;!0===t?e.wordWrap="on":!1===t&&(e.wordWrap="off");const i=e.lineNumbers;!0===i?e.lineNumbers="on":!1===i&&(e.lineNumbers="off"),!1===e.autoClosingBrackets&&(e.autoClosingBrackets="never",e.autoClosingQuotes="never",e.autoSurround="never"),"visible"===e.cursorBlinking&&(e.cursorBlinking="solid");const n=e.renderWhitespace;!0===n?e.renderWhitespace="boundary":!1===n&&(e.renderWhitespace="none");const o=e.renderLineHighlight;!0===o?e.renderLineHighlight="line":!1===o&&(e.renderLineHighlight="none");const r=e.acceptSuggestionOnEnter;!0===r?e.acceptSuggestionOnEnter="on":!1===r&&(e.acceptSuggestionOnEnter="off");const s=e.tabCompletion;!1===s?e.tabCompletion="off":!0===s&&(e.tabCompletion="onlySnippets");const a=e.suggest;if(a&&"object"==typeof a.filteredTypes&&a.filteredTypes){const e={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};Object(g.b)(e,e=>{const t=a.filteredTypes[e.key];!1===t&&(a[e.value]=t)})}const l=e.hover;!0===l?e.hover={enabled:!0}:!1===l&&(e.hover={enabled:!1});const c=e.parameterHints;!0===c?e.parameterHints={enabled:!0}:!1===c&&(e.parameterHints={enabled:!1});const h=e.autoIndent;!0===h?e.autoIndent="full":!1===h&&(e.autoIndent="advanced");const d=e.matchBrackets;!0===d?e.matchBrackets="always":!1===d&&(e.matchBrackets="never")}(t),t}class C extends r.a{constructor(e,t){super(),this._onDidChange=this._register(new o.b),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new o.b),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new l.a,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=v(t),this._readOptions=_.readOptions(this._rawOptions),this._validatedOptions=_.validateOptions(this._readOptions),this._register(c.a.onDidChangeZoomLevel(e=>this._recomputeOptions())),this._register(p.onDidChangeTabFocus(e=>this._recomputeOptions()))}observeReferenceElement(e){}updatePixelRatio(){}_recomputeOptions(){const e=this.options,t=this._computeInternalOptions();if(e){const i=_.checkEquals(e,t);if(null===i)return;this.options=t,this._onDidChangeFast.fire(i),this._onDidChange.fire(i)}else this.options=t}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const e=this._getEnvConfiguration(),t=h.a.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,e.pixelRatio,this.isSimpleWidget),i={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:p.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return _.computeOptions(this._validatedOptions,i)}static _subsetEquals(e,t){for(const i in t)if(m.call(t,i)){const n=t[i],o=e[i];if(o===n)continue;if(Array.isArray(o)&&Array.isArray(n)){if(!a.h(o,n))return!1;continue}if(o&&"object"==typeof o&&n&&"object"==typeof n){if(!this._subsetEquals(o,n))return!1;continue}return!1}return!0}updateOptions(e){if(void 0===e)return;const t=v(e);C._subsetEquals(this._rawOptions,t)||(this._rawOptions=s.f(this._rawOptions,t||{}),this._readOptions=_.readOptions(this._rawOptions),this._validatedOptions=_.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){const t=C._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}}const w=Object.freeze({id:"editor",order:5,type:"object",title:n.a("editorConfigurationTitle","Editor"),scope:5}),y=u.a.as(d.a.Configuration),S=Object.assign(Object.assign({},w),{properties:{"editor.tabSize":{type:"number",default:l.d.tabSize,minimum:1,markdownDescription:n.a("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:l.d.insertSpaces,markdownDescription:n.a("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:l.d.detectIndentation,markdownDescription:n.a("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:l.d.trimAutoWhitespace,description:n.a("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:l.d.largeFileOptimizations,description:n.a("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:n.a("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[n.a("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),n.a("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),n.a("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:n.a("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[n.a("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),n.a("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),n.a("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:n.a("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:n.a("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:n.a("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:n.a("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:n.a("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:n.a("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:n.a("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:n.a("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[n.a("wordWrap.off","Lines will never wrap."),n.a("wordWrap.on","Lines will wrap at the viewport width."),n.a("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});for(const O of l.l){const e=O.schema;if(void 0!==e)if(void 0!==(L=e).type||void 0!==L.anyOf)S.properties["editor."+O.name]=e;else for(let t in e)m.call(e,t)&&(S.properties[t]=e[t])}var L;let x=null;function k(){return null===x&&(x=Object.create(null),Object.keys(S.properties).forEach(e=>{x[e]=!0})),x}function D(e){return k()["editor."+e]||!1}function I(e){return k()["diffEditor."+e]||!1}y.registerConfiguration(S)},iJk1:function(e,t,i){},ic2d:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("746U"),o=i("FWmy");const r=new class{constructor(){this.data=new Map}add(e,t){o.a(n.k(e)),o.a(n.j(t)),o.a(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}},iuje:function(e,t,i){"use strict";function n(e){return e&&"string"==typeof e.id}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}));const o={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},"jAJ/":function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"d",(function(){return h})),i.d(t,"c",(function(){return u})),i.d(t,"e",(function(){return g})),i.d(t,"b",(function(){return p}));var n=i("N0LK"),o=i("5v8Y"),r=i("cGHE"),s=i("aokT"),a=i("M1Kb");class l{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let t=0,i=e.length;t<i;t++){if(92===e.charCodeAt(t)){if(t++,t>=i)break;const n=e.charCodeAt(t);if(110===n||114===n||87===n||119===n)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let t=null;try{t=n.q(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(r){return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new c(t,this.wordSeparators?Object(o.a)(this.wordSeparators):null,i?this.searchString:null)}}class c{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}function h(e,t,i){if(!i)return new a.b(e,null);let n=[];for(let o=0,r=t.length;o<r;o++)n[o]=t[o];return new a.b(e,n)}class d{constructor(e){let t=[],i=0;for(let n=0,o=e.length;n<o;n++)10===e.charCodeAt(n)&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,n=t.length-1;if(-1===n)return 0;if(e<=t[0])return 0;for(;i<n;){const o=i+((n-i)/2>>0);t[o]>=e?n=o-1:t[o+1]>=e?(i=o,n=o):i=o+1}return i+1}}class u{static findMatches(e,t,i,n,o){const r=t.parseSearchRequest();return r?r.regex.multiline?this._doFindMatchesMultiline(e,i,new p(r.wordSeparators,r.regex),n,o):this._doFindMatchesLineByLine(e,i,r,n,o):[]}static _getMultilineMatchRange(e,t,i,n,o,r){let a,l,c=0;if(n?(c=n.findLineFeedCountBeforeOffset(o),a=t+o+c):a=t+o,n){let e=n.findLineFeedCountBeforeOffset(o+r.length)-c;l=a+r.length+e}else l=a+r.length;const h=e.getPositionAt(a),d=e.getPositionAt(l);return new s.a(h.lineNumber,h.column,d.lineNumber,d.column)}static _doFindMatchesMultiline(e,t,i,n,o){const r=e.getOffsetAt(t.getStartPosition()),s=e.getValueInRange(t,1),a="\r\n"===e.getEOL()?new d(s):null,l=[];let c,u=0;for(i.reset(0);c=i.next(s);)if(l[u++]=h(this._getMultilineMatchRange(e,r,s,a,c.index,c[0]),c,n),u>=o)return l;return l}static _doFindMatchesLineByLine(e,t,i,n,o){const r=[];let s=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return s=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,s,r,n,o),r}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);s=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,s,r,n,o);for(let l=t.startLineNumber+1;l<t.endLineNumber&&s<o;l++)s=this._findMatchesInLine(i,e.getLineContent(l),l,0,s,r,n,o);if(s<o){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);s=this._findMatchesInLine(i,a,t.endLineNumber,0,s,r,n,o)}return r}static _findMatchesInLine(e,t,i,n,o,r,l,c){const d=e.wordSeparators;if(!l&&e.simpleSearch){const l=e.simpleSearch,h=l.length,u=t.length;let p=-h;for(;-1!==(p=t.indexOf(l,p+h));)if((!d||g(d,t,u,p,h))&&(r[o++]=new a.b(new s.a(i,p+1+n,i,p+1+h+n),null),o>=c))return o;return o}const u=new p(e.wordSeparators,e.regex);let m;u.reset(0);do{if(m=u.next(t),m&&(r[o++]=h(new s.a(i,m.index+1+n,i,m.index+1+m[0].length+n),m,l),o>=c))return o}while(m);return o}static findNextMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const r=new p(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,r,n):this._doFindNextMatchLineByLine(e,i,r,n)}static _doFindNextMatchMultiline(e,t,i,n){const o=new r.a(t.lineNumber,1),a=e.getOffsetAt(o),l=e.getLineCount(),c=e.getValueInRange(new s.a(o.lineNumber,o.column,l,e.getLineMaxColumn(l)),1),u="\r\n"===e.getEOL()?new d(c):null;i.reset(t.column-1);let g=i.next(c);return g?h(this._getMultilineMatchRange(e,a,c,u,g.index,g[0]),g,n):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new r.a(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){const o=e.getLineCount(),r=t.lineNumber,s=e.getLineContent(r),a=this._findFirstMatchInLine(i,s,r,t.column,n);if(a)return a;for(let l=1;l<=o;l++){const t=(r+l-1)%o,s=e.getLineContent(t+1),a=this._findFirstMatchInLine(i,s,t+1,1,n);if(a)return a}return null}static _findFirstMatchInLine(e,t,i,n,o){e.reset(n-1);const r=e.next(t);return r?h(new s.a(i,r.index+1,i,r.index+1+r[0].length),r,o):null}static findPreviousMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const r=new p(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,r,n):this._doFindPreviousMatchLineByLine(e,i,r,n)}static _doFindPreviousMatchMultiline(e,t,i,n){const o=this._doFindMatchesMultiline(e,new s.a(1,1,t.lineNumber,t.column),i,n,9990);if(o.length>0)return o[o.length-1];const a=e.getLineCount();return t.lineNumber!==a||t.column!==e.getLineMaxColumn(a)?this._doFindPreviousMatchMultiline(e,new r.a(a,e.getLineMaxColumn(a)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){const o=e.getLineCount(),r=t.lineNumber,s=e.getLineContent(r).substring(0,t.column-1),a=this._findLastMatchInLine(i,s,r,n);if(a)return a;for(let l=1;l<=o;l++){const t=(o+r-l-1)%o,s=e.getLineContent(t+1),a=this._findLastMatchInLine(i,s,t+1,n);if(a)return a}return null}static _findLastMatchInLine(e,t,i,n){let o,r=null;for(e.reset(0);o=e.next(t);)r=h(new s.a(i,o.index+1,i,o.index+1+o[0].length),o,n);return r}}function g(e,t,i,n,o){return function(e,t,i,n,o){if(0===n)return!0;const r=t.charCodeAt(n-1);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(o>0){const i=t.charCodeAt(n);if(0!==e.get(i))return!0}return!1}(e,t,0,n,o)&&function(e,t,i,n,o){if(n+o===i)return!0;const r=t.charCodeAt(n+o);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(o>0){const i=t.charCodeAt(n+o-1);if(0!==e.get(i))return!0}return!1}(e,t,i,n,o)}class p{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(i=this._searchRegex.exec(e),!i)return null;const o=i.index,r=i[0].length;if(o===this._prevMatchStartIndex&&r===this._prevMatchLength){if(0===r){n.A(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=o,this._prevMatchLength=r,!this._wordSeparators||g(this._wordSeparators,e,t,o,r))return i}while(i);return null}}},k9mg:function(e,t,i){"use strict";i.d(t,"a",(function(){return Ue})),i.d(t,"b",(function(){return Ke})),i.d(t,"e",(function(){return Ge})),i.d(t,"d",(function(){return ct})),i.d(t,"c",(function(){return Ct}));var n=i("EffR"),o=(i("4rho"),i("pmY6")),r=i("6OMU"),s=i("cqdO"),a=i("MI8n"),l=i("JQT/");class c{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:o.a.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),!i.data)return;const o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,i.data,n);const r=new l.b,s=o.resolve(e,r.token);i.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(e,i.data),s.then(t=>this.renderer.renderElement(t,e,i.data,n))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class h{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}var d,u=i("3/fG"),g=i("+7oY"),p=i("CRAX"),m=i("T8No"),f=i("Cg/j"),b=i("bexQ"),_=i("ic2d"),v=i("ptcw"),C=i("t9D7"),w=i("FmXZ"),y=i("JYp7"),S=(i("2V9f"),i("uDWl"));!function(e){e[e.Unknown=0]="Unknown",e[e.Twistie=1]="Twistie",e[e.Element=2]="Element"}(d||(d={}));class L extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class x{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}var k=i("ZQ78"),D=i("feEw"),I=i("4y0V"),O=i("fpMC"),N=i("Gw4z");function E(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function T(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function M(e){return"boolean"==typeof e.collapsible}class A{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new a.d,this._onDidChangeCollapseState=new a.b,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new a.b,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new a.b,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==n.collapseByDefault&&n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=void 0!==n.autoExpandSingleChildren&&n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=y.a.empty(),n={}){if(0===e.length)throw new L(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n,o,r){var s;void 0===n&&(n=y.a.empty()),void 0===r&&(r=null!==(s=o.diffDepth)&&void 0!==s?s:0);const{parentNode:a}=this.getParentNodeWithListIndex(t),l=[...n],c=t[t.length-1],h=new N.a({getElements:()=>a.children.map(t=>e.getId(t.element).toString())},{getElements:()=>[...a.children.slice(0,c),...l,...a.children.slice(c+i)].map(t=>e.getId(t.element).toString())}).ComputeDiff(!1);if(h.quitEarly)return this.spliceSimple(t,i,l,o);const d=t.slice(0,-1),u=(t,i,n)=>{if(r>0)for(let s=0;s<n;s++)t--,i--,this.spliceSmart(e,[...d,t,0],Number.MAX_SAFE_INTEGER,l[i].children,o,r-1)};let g=Math.min(a.children.length,c+i),p=l.length;for(const m of h.changes.sort((e,t)=>t.originalStart-e.originalStart))u(g,p,g-(m.originalStart+m.originalLength)),g=m.originalStart,p=m.modifiedStart-c,this.spliceSimple([...d,g],m.originalLength,y.a.slice(l,p,p+m.modifiedLength),o);u(g,p,g)}spliceSimple(e,t,i=y.a.empty(),{onDidCreateNode:n,onDidDeleteNode:o}){const{parentNode:s,listIndex:a,revealed:l,visible:c}=this.getParentNodeWithListIndex(e),h=[],d=y.a.map(i,e=>this.createTreeNode(e,s,s.visible?1:0,l,h,n)),u=e[e.length-1],g=s.children.length>0;let p=0;for(let r=u;r>=0&&r<s.children.length;r--){const e=s.children[r];if(e.visible){p=e.visibleChildIndex;break}}const m=[];let f=0,b=0;for(const r of d)m.push(r),b+=r.renderNodeCount,r.visible&&(r.visibleChildIndex=p+f++);const _=Object(r.s)(s.children,u,t,m);let v=0;for(const r of _)r.visible&&v++;if(0!==v)for(let r=u+m.length;r<s.children.length;r++){const e=s.children[r];e.visible&&(e.visibleChildIndex-=v)}if(s.visibleChildrenCount+=f-v,l&&c){const e=_.reduce((e,t)=>e+(t.visible?t.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(s,b-e),this.list.splice(a,e,h)}if(_.length>0&&o){const e=t=>{o(t),t.children.forEach(e)};_.forEach(e)}const C=s.children.length>0;g!==C&&this.setCollapsible(e.slice(0,-1),C),this._onDidSplice.fire({insertedNodes:m,deletedNodes:_});let w=s;for(;w;){if(2===w.visibility){this.refilter();break}w=w.parent}}rerender(e){if(0===e.length)throw new L(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsible);const n={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,n))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const n=this.getTreeNode(e);void 0===t&&(t=!n.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}_setCollapseState(e,t){const{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),r=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&r&&!M(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let n=-1;for(let e=0;e<i.children.length;e++){if(i.children[e].visible){if(n>-1){n=-1;break}n=e}}n>-1&&this._setCollapseState([...e,n],t)}return r}_setListNodeCollapseState(e,t,i,n){const o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;const r=e.renderNodeCount,s=this.updateNodeAfterCollapseChange(e),a=r-(-1===t?0:1);return this.list.splice(t+1,a,s.slice(1)),o}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(M(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!M(t)&&t.recursive)for(const o of e.children)n=this._setNodeCollapseState(o,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,i,n,o,r){const s={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(s,i);s.visibility=a,n&&o.push(s);const l=e.children||y.a.empty(),c=n&&0!==a&&!s.collapsed,h=y.a.map(l,e=>this.createTreeNode(e,s,a,c,o,r));let d=0,u=1;for(const g of h)s.children.push(g),u+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=d++);return s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=d,s.visible=2===a?d>0:1===a,s.visible?s.collapsed||(s.renderNodeCount=u):(s.renderNodeCount=0,n&&o.pop()),r&&r(s),s}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),0===o)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}const r=i.length;e.renderNodeCount=e===this.root?0:1;let s=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{let t=0;for(const r of e.children)s=this._updateNodeAfterFilterChange(r,o,i,n&&!e.collapsed)||s,r.visible&&(r.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===o?s:1===o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-r):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof i?(e.filterData=void 0,i?1:0):E(i)?(e.filterData=i.data,T(i.visibility)):(e.filterData=void 0,T(i))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[i,...n]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[i,...n]=e;if(i<0||i>t.children.length)throw new L(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>t.children.length)throw new L(this.user,"Invalid tree location");const s=t.children[r];return{node:s,listIndex:i,revealed:n,visible:o&&s.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,o=!0){const[r,...s]=e;if(r<0||r>t.children.length)throw new L(this.user,"Invalid tree location");for(let a=0;a<r;a++)i+=t.children[a].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,0===s.length?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(s,t.children[r],i+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:Object(r.u)(e)[0]}}var R=i("X+cX"),P=i("MNsG"),F=i("Sdnv"),j=i("vl9R"),B=i("Vhoy");const W=Object(B.e)("tree-item-expanded",B.b.chevronDown),V=Object(B.e)("tree-filter-on-type-on",B.b.listFilter),H=Object(B.e)("tree-filter-on-type-off",B.b.listSelection),z=Object(B.e)("tree-filter-clear",B.b.close),U=Object(B.e)("tree-item-loading",B.b.loading);class K extends D.a{constructor(e){super(e.elements.map(e=>e.element)),this.data=e}}function q(e){return e instanceof D.a?new K(e):e}class ${constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=o.a.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(e=>e.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(q(e),t)}onDragOver(e,t,i,n,o=!0){const s=this.dnd.onDragOver(q(e),t&&t.element,i,n),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return s;if(a&&"boolean"!=typeof s&&s.autoExpand&&(this.autoExpandDisposable=Object(R.i)(()=>{const e=this.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof s||!s.accept||void 0===s.bubble||s.feedback){if(!o){return{accept:"boolean"==typeof s?s:s.accept,effect:"boolean"==typeof s?void 0:s.effect,feedback:[i]}}return s}if(1===s.bubble){const i=this.modelProvider(),o=i.getNodeLocation(t),r=i.getParentNodeLocation(o),s=i.getNode(r),a=r&&i.getListIndex(r);return this.onDragOver(e,s,a,n,!1)}const l=this.modelProvider(),c=l.getNodeLocation(t),h=l.getListIndex(c),d=l.getListRenderCount(c);return Object.assign(Object.assign({},s),{feedback:Object(r.r)(h,h+d)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(q(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}class G{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}var Y;!function(e){e.None="none",e.OnHover="onHover",e.Always="always"}(Y||(Y={}));class Z{constructor(e,t=[]){this._elements=t,this.onDidChange=a.c.forEach(e,e=>this._elements=e)}get elements(){return this._elements}}class X{constructor(e,t,i,n,r={}){this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=X.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new j.a,this.activeIndentNodes=new Set,this.indentGuidesDisposable=o.a.None,this.disposables=new o.b,this.templateId=e.templateId,this.updateOptions(r),a.c.map(i,e=>e.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(void 0!==e.indent&&(this.indent=Object(F.b)(e.indent,0,40)),void 0!==e.renderIndentGuides){const t=e.renderIndentGuides!==Y.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const e=new o.b;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=Object(n.q)(e,Object(n.a)(".monaco-tl-row")),i=Object(n.q)(t,Object(n.a)(".monaco-tl-indent")),r=Object(n.q)(t,Object(n.a)(".monaco-tl-twistie")),s=Object(n.q)(t,Object(n.a)(".monaco-tl-contents")),a=this.renderer.renderTemplate(s);return{container:e,indent:i,twistie:r,indentGuidesDisposable:o.a.None,templateData:a}}renderElement(e,t,i,n){"number"==typeof n&&(this.renderedNodes.set(e,{templateData:i,height:n}),this.renderedElements.set(e.element,e));const o=X.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=o+"px",i.indent.style.width=o+this.indent-16+"px",this.renderTwistie(e,i),"number"==typeof n&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,n),"number"==typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...W.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...W.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(Object(n.t)(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new o.b,r=this.modelProvider();let s=e;for(;;){const e=r.getNodeLocation(s),a=r.getParentNodeLocation(e);if(!a)break;const l=r.getNode(a),c=Object(n.a)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(l)&&c.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(c):t.indent.insertBefore(c,t.indent.firstElementChild),this.renderedIndentGuides.add(l,c),i.add(Object(o.i)(()=>this.renderedIndentGuides.delete(l,c))),s=l}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(e=>{const n=i.getNodeLocation(e);try{const o=i.getParentNodeLocation(n);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):o&&t.add(i.getNode(o))}catch(o){}}),this.activeIndentNodes.forEach(e=>{t.has(e)||this.renderedIndentGuides.forEach(e,e=>e.classList.remove("active"))}),t.forEach(e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,e=>e.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Object(o.f)(this.disposables)}}X.DefaultIndent=8;class Q{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new o.b,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const i=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return i;let n;if(n="boolean"==typeof i?i?1:0:E(i)?T(i.visibility):i,0===n)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:O.a.Default,visibility:!0};const i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),n=Array.isArray(i)?i:[i];for(const o of n){const e=o&&o.toString();if(void 0===e)return{data:O.a.Default,visibility:!0};const t=Object(O.d)(this._pattern,this._lowercasePattern,0,e,e.toLowerCase(),0,!0);if(t)return this._matchCount++,1===n.length?{data:t,visibility:!0}:{data:{label:e,score:t},visibility:!0}}return this.tree.options.filterOnType?2:{data:O.a.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){Object(o.f)(this.disposables)}}class J{constructor(e,t,i,r,s){this.tree=e,this.view=i,this.filter=r,this.keyboardNavigationDelegate=s,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new a.b,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new a.b,this.enabledDisposables=new o.b,this.disposables=new o.b,this.domNode=Object(n.a)(".monaco-list-type-filter."+this.positionClassName),this.domNode.draggable=!0,this.disposables.add(Object(n.i)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=Object(n.q)(i.getHTMLElement(),Object(n.a)(".monaco-list-type-filter-message")),this.labelDomNode=Object(n.q)(this.domNode,Object(n.a)("span.label"));const l=Object(n.q)(this.domNode,Object(n.a)(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=Object(n.q)(l,Object(n.a)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(Object(n.i)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=Object(n.q)(l,Object(n.a)("button.clear"+z.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=Object(u.a)("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=this.enabledDisposables.add(new I.a(this.view.getHTMLElement(),"keydown")),t=a.c.chain(e.event).filter(e=>!Object(s.e)(e.target)||e.target===this.filterOnTypeDomNode).filter(e=>"Dead"!==e.key&&!/^Media/.test(e.key)).map(e=>new S.a(e)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(e=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)&&!(18===e.keyCode||16===e.keyCode||15===e.keyCode||17===e.keyCode)||(this.pattern.length>0||this.triggered)&&(9===e.keyCode||1===e.keyCode)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||1===e.keyCode&&(P.f?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey).forEach(e=>{e.stopPropagation(),e.preventDefault()}).event,i=this.enabledDisposables.add(new I.a(this.clearDomNode,"click"));a.c.chain(a.c.any(t,i.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(P.f?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,e=>!O.a.isDefault(e.filterData));const i=this.tree.getFocus();if(i.length>0){const e=i[0];null===this.tree.getRelativeTop(e)&&this.tree.reveal(e,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=Object(n.D)(e),i=e.clientWidth,r=i/2,s=this.domNode.clientWidth,a=new o.b;let l=this.positionClassName;const c=()=>{switch(l){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=i-s-6+"px"}},h=()=>{this.positionClassName=l,this.domNode.className="monaco-list-type-filter "+this.positionClassName,this.domNode.style.top="",this.domNode.style.left="",Object(o.f)(a)};c(),this.domNode.classList.remove(l),this.domNode.classList.add("dragging"),a.add(Object(o.i)(()=>this.domNode.classList.remove("dragging"))),a.add(Object(n.i)(document,"dragover",e=>(e=>{e.preventDefault();const i=e.clientX-t;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),l=i<r?"nw":"ne",c()})(e))),a.add(Object(n.i)(this.domNode,"dragend",()=>h())),k.c.CurrentDragAndDropData=new k.b("vscode-ui"),a.add(Object(o.i)(()=>k.c.CurrentDragAndDropData=void 0))}onDidSpliceModel(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...H.classNamesArray),this.filterOnTypeDomNode.classList.add(...V.classNamesArray),this.filterOnTypeDomNode.title=Object(u.a)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...V.classNamesArray),this.filterOnTypeDomNode.classList.add(...H.classNamesArray),this.filterOnTypeDomNode.title=Object(u.a)("enable filter on type","Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=Object(u.a)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=Object(u.a)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"…"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!O.a.isDefault(e.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),Object(o.f)(this.disposables)}}function ee(e){let t=d.Unknown;return Object(n.J)(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=d.Twistie:Object(n.J)(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=d.Element),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function te(e,t){t(e),e.children.forEach(e=>te(e,t))}class ie{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new a.b,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){var i;!(null===(i=t)||void 0===i?void 0:i.__forceEvent)&&Object(r.h)(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),i=t=>e.delete(t);return t.forEach(e=>te(e,i)),void this.set([...e.values()])}const i=new Set,n=e=>i.add(this.identityProvider.getId(e.element).toString());t.forEach(e=>te(e,n));const o=new Map,r=e=>o.set(this.identityProvider.getId(e.element).toString(),e);e.forEach(e=>te(e,r));const s=[];for(const a of this.nodes){const e=this.identityProvider.getId(a.element).toString();if(i.has(e)){const t=o.get(e);t&&s.push(t)}else s.push(a)}if(this.nodes.length>0&&0===s.length){const e=this.getFirstViewElementWithTrait();e&&s.push(e)}this._set(s,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class ne extends s.d{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(Object(s.e)(e.browserEvent.target)||Object(s.f)(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let o=!1;if(o="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick,o&&!n&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e);if(t.collapsible){const i=this.tree.model,r=i.getNodeLocation(t),s=e.browserEvent.altKey;if(this.tree.setFocus([r]),i.setCollapsed(r,void 0,s),o&&n)return}super.onViewPointer(e)}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&super.onDoubleClick(e)}}class oe extends s.c{constructor(e,t,i,n,o,r,s,a){super(e,t,i,n,a),this.focusTrait=o,this.selectionTrait=r,this.anchorTrait=s}createMouseController(e){return new ne(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),0===i.length)return;const n=[],o=[];let s;i.forEach((t,i)=>{this.focusTrait.has(t)&&n.push(e+i),this.selectionTrait.has(t)&&o.push(e+i),this.anchorTrait.has(t)&&(s=e+i)}),n.length>0&&super.setFocus(Object(r.g)([...super.getFocus(),...n])),o.length>0&&super.setSelection(Object(r.g)([...super.getSelection(),...o])),"number"==typeof s&&super.setAnchor(s)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(e=>this.element(e)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(e=>this.element(e)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(void 0===e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class re{constructor(e,t,i,r,l={}){this._options=l,this.eventBufferer=new a.d,this.disposables=new o.b,this._onWillRefilter=new a.b,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new a.b;const c=new G(i),h=new a.f,d=new a.f,u=new Z(d.event);this.renderers=r.map(e=>new X(e,()=>this.model,h.event,u,l));for(let n of this.renderers)this.disposables.add(n);let g;var p,m;l.keyboardNavigationLabelProvider&&(g=new Q(this,l.keyboardNavigationLabelProvider,l.filter),l=Object.assign(Object.assign({},l),{filter:g}),this.disposables.add(g)),this.focus=new ie(()=>this.view.getFocusedElements()[0],l.identityProvider),this.selection=new ie(()=>this.view.getSelectedElements()[0],l.identityProvider),this.anchor=new ie(()=>this.view.getAnchorElement(),l.identityProvider),this.view=new oe(e,t,c,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},(p=()=>this.model,(m=l)&&Object.assign(Object.assign({},m),{identityProvider:m.identityProvider&&{getId:e=>m.identityProvider.getId(e.element)},dnd:m.dnd&&new $(p,m.dnd),multipleSelectionController:m.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>m.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>m.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:m.accessibilityProvider&&Object.assign(Object.assign({},m.accessibilityProvider),{getSetSize(e){const t=p(),i=t.getNodeLocation(e),n=t.getParentNodeLocation(i);return t.getNode(n).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:m.accessibilityProvider&&m.accessibilityProvider.isChecked?e=>m.accessibilityProvider.isChecked(e.element):void 0,getRole:m.accessibilityProvider&&m.accessibilityProvider.getRole?e=>m.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>m.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>m.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:m.accessibilityProvider&&m.accessibilityProvider.getWidgetRole?()=>m.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:m.accessibilityProvider&&m.accessibilityProvider.getAriaLevel?e=>m.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:m.accessibilityProvider.getActiveDescendantId&&(e=>m.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:m.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},m.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>m.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),enableKeyboardNavigation:m.simpleKeyboardNavigation}))),{tree:this})),this.model=this.createModel(e,this.view,l),h.input=this.model.onDidChangeCollapseState;const f=a.c.forEach(this.model.onDidSplice,e=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)})});if(f(()=>null,null,this.disposables),d.input=a.c.chain(a.c.any(f,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);return[...e.values()]}).event,!1!==l.keyboardSupport){const e=a.c.chain(this.view.onKeyDown).filter(e=>!Object(s.e)(e.target)).map(e=>new S.a(e));e.filter(e=>15===e.keyCode).on(this.onLeftArrow,this,this.disposables),e.filter(e=>17===e.keyCode).on(this.onRightArrow,this,this.disposables),e.filter(e=>10===e.keyCode).on(this.onSpace,this,this.disposables)}if(l.keyboardNavigationLabelProvider){const e=l.keyboardNavigationDelegate||s.a;this.typeFilterController=new J(this,this.model,this.view,g,e),this.focusNavigationFilter=e=>this.typeFilterController.shouldAllowFocus(e),this.disposables.add(this.typeFilterController)}this.styleElement=Object(n.w)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Y.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return a.c.map(this.view.onMouseDblClick,ee)}get onPointer(){return a.c.map(this.view.onPointer,ee)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Y.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t="."+this.view.domId,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join("\n"),this.view.style(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map(e=>this.model.getNode(e));this.selection.set(i,t);const n=e.map(e=>this.model.getListIndex(e)).filter(e=>e>-1);this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map(e=>this.model.getNode(e));this.focus.set(i,t);const n=e.map(e=>this.model.getListIndex(e)).filter(e=>e>-1);this.view.setFocus(n,t,!0)}focusNext(e=1,t=!1,i,n=this.focusNavigationFilter){this.view.focusNext(e,t,i,n)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){const e=this.model.getParentNodeLocation(n);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some(e=>e.visible))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}dispose(){Object(o.f)(this.disposables),this.view.dispose()}}class se{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new A(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(e,t)=>i.sorter.compare(e.element,t.element)}),this.identityProvider=i.identityProvider}setChildren(e,t=y.a.empty(),i={}){const n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e,t=y.a.empty(),i){const n=new Set,o=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{var t;if(null===e.element)return;const r=e;if(n.add(r.element),this.nodes.set(r.element,r),this.identityProvider){const e=this.identityProvider.getId(r.element).toString();o.add(e),this.nodesByIdentity.set(e,r)}null===(t=i.onDidCreateNode)||void 0===t||t.call(i,r)},onDidDeleteNode:e=>{var t;if(null===e.element)return;const r=e;if(n.has(r.element)||this.nodes.delete(r.element),this.identityProvider){const e=this.identityProvider.getId(r.element).toString();o.has(e)||this.nodesByIdentity.delete(e)}null===(t=i.onDidDeleteNode)||void 0===t||t.call(i,r)}}))}preserveCollapseState(e=y.a.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),y.a.map(e,e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const i=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(i)}if(!t)return Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children)});const i="boolean"==typeof e.collapsible?e.collapsible:t.collapsible,n=void 0!==e.collapsed?e.collapsed:t.collapsed;return Object.assign(Object.assign({},e),{collapsible:i,collapsed:n,children:this.preserveCollapseState(e.children)})})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new L(this.user,"Tree element not found: "+e);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new L(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new L(this.user,"Tree element not found: "+e);const i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new L(this.user,"Tree element not found: "+e);return this.model.getNodeLocation(t)}}function ae(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:y.a.map(y.a.from(e.children),ae),collapsible:e.collapsible,collapsed:e.collapsed}}function le(e){const t=[e.element],i=e.incompressible||!1;let n,o;for(;[o,n]=y.a.consume(y.a.from(e.children),2),1===o.length&&!o[0].incompressible;)e=o[0],t.push(e.element);return{element:{elements:t,incompressible:i},children:y.a.map(y.a.concat(o,n),le),collapsible:e.collapsible,collapsed:e.collapsed}}function ce(e){return function e(t,i=0){let n;return n=i<t.element.elements.length-1?[e(t,i+1)]:y.a.map(y.a.from(t.children),t=>e(t,0)),0===i&&t.element.incompressible?{element:t.element.elements[i],children:n,incompressible:!0,collapsible:t.collapsible,collapsed:t.collapsed}:{element:t.element.elements[i],children:n,collapsible:t.collapsible,collapsed:t.collapsed}}(e,0)}class he{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new se(e,t,i),this.enabled=void 0===i.compressionEnabled||i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=y.a.empty(),i){const n=i.diffIdentityProvider&&(o=i.diffIdentityProvider,{getId:e=>e.elements.map(e=>o.getId(e).toString()).join("\0")});var o;if(null===e){const e=y.a.map(t,this.enabled?le:ae);return void this._setChildren(null,e,{diffIdentityProvider:n,diffDepth:1/0})}const r=this.nodes.get(e);if(!r)throw new Error("Unknown compressed tree node");const s=this.model.getNode(r),a=this.model.getParentNodeLocation(r),l=this.model.getNode(a),c=function e(t,i,n){return t.element===i?Object.assign(Object.assign({},t),{children:n}):Object.assign(Object.assign({},t),{children:y.a.map(y.a.from(t.children),t=>e(t,i,n))})}(ce(s),e,t),h=(this.enabled?le:ae)(c),d=l.children.map(e=>e===s?h:e);this._setChildren(l.element,d,{diffIdentityProvider:n,diffDepth:s.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,i=y.a.map(t,ce),n=y.a.map(i,e?le:ae);this._setChildren(null,n,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const n=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{for(const t of e.element.elements)n.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)n.has(t)||this.nodes.delete(t)}}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new L(this.user,"Tree element not found: "+e);return t}}const de=e=>e[e.length-1];class ue{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new ue(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class ge{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||de;const n=e=>this.elementMapper(e.elements);this.nodeMapper=new x(e=>new ue(n,e)),this.model=new he(e,function(e,t){return{splice(i,n,o){t.splice(i,n,o.map(t=>e.map(t)))},updateElementHeight(e,i){t.updateElementHeight(e,i)}}}(this.nodeMapper,t),function(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:i=>t.identityProvider.getId(e(i))},sorter:t.sorter&&{compare:(e,i)=>t.sorter.compare(e.elements[0],i.elements[0])},filter:t.filter&&{filter:(i,n)=>t.filter.filter(e(i),n)}})}(n,i))}get onDidSplice(){return a.c.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(e=>this.nodeMapper.map(e)),deletedNodes:t.map(e=>this.nodeMapper.map(e))}))}get onDidChangeCollapseState(){return a.c.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return a.c.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=y.a.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var pe=i("ZCR3"),me=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};class fe extends re{constructor(e,t,i,n,o={}){super(e,t,i,n,o)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=y.a.empty(),i){this.model.setChildren(e,t,i)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new se(e,t,i)}}class be{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,n):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}me([pe.a],be.prototype,"compressedTreeNodeProvider",null);class _e extends fe{constructor(e,t,i,n,o={}){const r=()=>this;super(e,t,i,n.map(e=>new be(r,e)),function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let n;try{n=e().getCompressedTreeNode(i)}catch(o){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===n.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}(r,o))}setChildren(e,t=y.a.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new ge(e,t,i)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var ve=i("/cxE"),Ce=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function we(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function ye(e,t){return!!t.parent&&(t.parent===e||ye(e,t.parent))}class Se{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new Se(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Le{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...U.classNamesArray),!0):(t.classList.remove(...U.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function xe(e){return{browserEvent:e.browserEvent,elements:e.elements.map(e=>e.element)}}function ke(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class De extends D.a{constructor(e){super(e.elements.map(e=>e.element)),this.data=e}}function Ie(e){return e instanceof D.a?new De(e):e}class Oe{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(e=>e.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(Ie(e),t)}onDragOver(e,t,i,n,o=!0){return this.dnd.onDragOver(Ie(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(Ie(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function Ne(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new Oe(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,i)=>e.filter.filter(t.element,i)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:e.additionalScrollHeight})}function Ee(e,t){t(e),e.children.forEach(e=>Ee(e,t))}class Te{constructor(e,t,i,n,r,s={}){this.user=e,this.dataSource=r,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new a.b,this._onDidChangeNodeSlowState=new a.b,this.nodeMapper=new x(e=>new Se(e)),this.disposables=new o.b,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=void 0!==s.autoExpandSingleChildren&&s.autoExpandSingleChildren,this.sorter=s.sorter,this.collapseByDefault=s.collapseByDefault,this.tree=this.createTree(e,t,i,n,s),this.root=we({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return a.c.map(this.tree.onDidChangeFocus,xe)}get onDidChangeSelection(){return a.c.map(this.tree.onDidChangeSelection,xe)}get onMouseDblClick(){return a.c.map(this.tree.onMouseDblClick,ke)}get onPointer(){return a.c.map(this.tree.onPointer,ke)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,o){const r=new G(i),s=n.map(e=>new Le(e,this.nodeMapper,this._onDidChangeNodeSlowState.event)),a=Ne(o)||{};return new fe(e,t,r,s,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return Ce(this,void 0,void 0,(function*(){this.refreshPromises.forEach(e=>e.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}))}_updateChildren(e=this.root.element,t=!0,i=!1,n,o){return Ce(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new L(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield a.c.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(yield this.refreshAndRenderNode(r,t,n,o),i)try{this.tree.rerender(r)}catch(s){}}))}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return Ce(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new L(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield a.c.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i))return!1;if(i.refreshPromise&&(yield this.root.refreshPromise,yield a.c.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i))return!1;const n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield a.c.toPromise(this._onDidRender.event)),n}))}setSelection(e,t){const i=e.map(e=>this.getDataNode(e));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(e=>e.element)}setFocus(e,t){const i=e.map(e=>this.getDataNode(e));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(e=>e.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new L(this.user,"Data tree node not found: "+e);return t}refreshAndRenderNode(e,t,i,n){return Ce(this,void 0,void 0,(function*(){yield this.refreshNode(e,t,i),this.render(e,i,n)}))}refreshNode(e,t,i){return Ce(this,void 0,void 0,(function*(){let n;return this.subTreeRefreshPromises.forEach((o,r)=>{!n&&function(e,t){return e===t||ye(e,t)||ye(t,e)}(r,e)&&(n=o.then(()=>this.refreshNode(e,t,i)))}),n||this.doRefreshSubTree(e,t,i)}))}doRefreshSubTree(e,t,i){return Ce(this,void 0,void 0,(function*(){let n;e.refreshPromise=new Promise(e=>n=e),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield R.d.settled(o.map(e=>this.doRefreshSubTree(e,t,i)))}finally{n()}}))}doRefreshNode(e,t,i){return Ce(this,void 0,void 0,(function*(){let n;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=Object(R.n)(800);t.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},e=>null),n=this.doGetChildren(e).finally(()=>t.cancel())}else n=Promise.resolve(y.a.empty());try{const o=yield n;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),Object(ve.d)(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}))}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=Object(R.h)(()=>Ce(this,void 0,void 0,(function*(){const t=yield this.dataSource.getChildren(e.element);return this.processChildren(t)}))),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(ve.e))}setChildren(e,t,i,n){const o=[...t];if(0===e.children.length&&0===o.length)return[];const r=new Map,s=new Map;for(const c of e.children)if(r.set(c.element,c),this.identityProvider){const e=this.tree.isCollapsed(c);s.set(c.id,{node:c,collapsed:e})}const a=[],l=o.map(t=>{const o=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const i=we({element:t,parent:e,hasChildren:o});return o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(i.collapsedByDefault=!1,a.push(i)),i}const l=this.identityProvider.getId(t).toString(),c=s.get(l);if(c){const e=c.node;return r.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=o,i?c.collapsed?(e.children.forEach(e=>Ee(e,e=>this.nodes.delete(e.element))),e.children.splice(0,e.children.length),e.stale=!0):a.push(e):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,a.push(e)),e}const h=we({element:t,parent:e,id:l,hasChildren:o});return n&&n.viewState.focus&&n.viewState.focus.indexOf(l)>-1&&n.focus.push(h),n&&n.viewState.selection&&n.viewState.selection.indexOf(l)>-1&&n.selection.push(h),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(l)>-1?a.push(h):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(h.collapsedByDefault=!1,a.push(h)),h});for(const c of r.values())Ee(c,e=>this.nodes.delete(e.element));for(const c of l)this.nodes.set(c.element,c);return e.children.splice(0,e.children.length,...l),e!==this.root&&this.autoExpandSingleChildren&&1===l.length&&0===a.length&&(l[0].collapsedByDefault=!1,a.push(l[0])),a}render(e,t,i){const n=e.children.map(e=>this.asTreeElement(e,t)),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId:e=>i.diffIdentityProvider.getId(e.element)}});this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?y.a.map(e.children,e=>this.asTreeElement(e,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class Me{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new Me(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Ae{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...U.classNamesArray),!0):(t.classList.remove(...U.classNamesArray),!1)}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=Object(o.f)(this.disposables)}}class Re extends Te{constructor(e,t,i,n,o,r,s={}){super(e,t,i,o,r,s),this.compressionDelegate=n,this.compressibleNodeMapper=new x(e=>new Me(e)),this.filter=s.filter}createTree(e,t,i,n,o){const r=new G(i),s=n.map(e=>new Ae(e,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),a=function(e){const t=e&&Ne(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(e=>e.element))})})}(o)||{};return new _e(e,t,r,s,a)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=e=>this.identityProvider.getId(e).toString(),n=e=>{const t=new Set;for(const n of e){const e=this.tree.getCompressedTreeNode(n===this.root?null:n);if(e.element)for(const n of e.element.elements)t.add(i(n.element))}return t},o=n(this.tree.getSelection()),r=n(this.tree.getFocus());super.render(e,t);const s=this.getSelection();let a=!1;const l=this.getFocus();let c=!1;const h=e=>{const t=e.element;if(t)for(let n=0;n<t.elements.length;n++){const e=i(t.elements[n].element),h=t.elements[t.elements.length-1].element;o.has(e)&&-1===s.indexOf(h)&&(s.push(h),a=!0),r.has(e)&&-1===l.indexOf(h)&&(l.push(h),c=!0)}e.children.forEach(h)};h(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(s),c&&this.setFocus(l)}processChildren(e){return this.filter&&(e=y.a.filter(e,e=>{const t=this.filter.filter(e,1),i="boolean"==typeof(n=t)?n?1:0:E(n)?T(n.visibility):T(n);var n;if(2===i)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===i})),super.processChildren(e)}}class Pe extends re{constructor(e,t,i,n,o,r={}){super(e,t,i,n,r),this.user=e,this.dataSource=o,this.identityProvider=r.identityProvider}createModel(e,t,i){return new se(e,t,i)}}var Fe=i("R3nR"),je=(i("7GBL"),i("44XX"));class Be{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=Be.TemplateId,this.renderedTemplates=new Set;const n=new Map(t.map(e=>[e.templateId,e]));this.renderers=[];for(const o of e){const e=n.get(o.templateId);if(!e)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(e)}}renderTemplate(e){const t=Object(n.q)(e,Object(n.a)(".monaco-table-tr")),i=[],o=[];for(let s=0;s<this.columns.length;s++){const e=this.renderers[s],r=Object(n.q)(t,Object(n.a)(".monaco-table-td",{"data-col-index":s}));r.style.width=this.getColumnSize(s)+"px",i.push(r),o.push(e.renderTemplate(r))}const r={container:e,cellContainers:i,cellTemplateData:o};return this.renderedTemplates.add(r),r}renderElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const r=this.columns[o].project(e);this.renderers[o].renderElement(r,t,i.cellTemplateData[o],n)}}disposeElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const r=this.renderers[o];if(r.disposeElement){const s=this.columns[o].project(e);r.disposeElement(s,t,i.cellTemplateData[o],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}Object(n.t)(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=t+"px"}}Be.TemplateId="row";class We{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new a.b,this.onDidLayout=this._onDidLayout.event,this.element=Object(n.a)(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:a.c.None}layout(e){this._onDidLayout.fire([this.index,e])}}class Ve{constructor(e,t,i,o,r,l){this.virtualDelegate=i,this.domId="table_id_"+ ++Ve.InstanceCount,this.cachedHeight=0,this.domNode=Object(n.q)(t,Object(n.a)(".monaco-table."+this.domId));const c=o.map((e,t)=>new We(e,t)),h={size:c.reduce((e,t)=>e+t.column.weight,0),views:c.map(e=>({size:e.column.weight,view:e}))};this.splitview=new je.b(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:h}),this.splitview.el.style.height=i.headerRowHeight+"px",this.splitview.el.style.lineHeight=i.headerRowHeight+"px";const d=new Be(o,r,e=>this.splitview.getViewSize(e));var u;this.list=new s.c(e,this.domNode,(u=i,{getHeight:e=>u.getHeight(e),getTemplateId:()=>Be.TemplateId}),[d],l),this.columnLayoutDisposable=a.c.any(...c.map(e=>e.onDidLayout))(([e,t])=>d.layoutColumn(e,t)),this.styleElement=Object(n.w)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}Ve.InstanceCount=0;var He=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ze=function(e,t){return function(i,n){t(i,n,e)}};const Ue=Object(f.c)("listService");let Ke=class{constructor(e){this._themeService=e,this.disposables=new o.b,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const e=new s.b(Object(n.w)(),"");this.disposables.add(Object(v.b)(e,this._themeService))}if(this.lists.some(t=>t.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),Object(o.e)(e.onDidFocus(()=>this._lastFocusedWidget=e),Object(o.i)(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(e=>e!==i),this._lastFocusedWidget===e&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};Ke=He([ze(0,C.b)],Ke);const qe=new m.c("listFocus",!0),$e=new m.c("listSupportsMultiselect",!0),Ge=m.a.and(qe,m.a.not(w.a)),Ye=new m.c("listHasSelectionOrFocus",!1),Ze=new m.c("listDoubleSelection",!1),Xe=new m.c("listMultiSelection",!1),Qe=new m.c("listSelectionNavigation",!1);function Je(e,t){const i=e.createScoped(t.getHTMLElement());return qe.bindTo(i),i}const et="workbench.list.horizontalScrolling",tt="workbench.tree.indent",it="workbench.list.smoothScrolling",nt="workbench.list.mouseWheelScrollSensitivity",ot="workbench.list.fastScrollSensitivity",rt="workbench.tree.expandMode";function st(e){return"alt"===e.getValue("workbench.list.multiSelectModifier")}class at extends o.a{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=st(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this.useAltAsMultipleSelectionModifier=st(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:Object(s.h)(e)}isSelectionRangeChangeEvent(e){return Object(s.g)(e)}}function lt(e,t,i){var n;const r=new o.b;return[Object.assign(Object.assign({},e),{keyboardNavigationDelegate:{mightProducePrintableCharacter:e=>i.mightProducePrintableCharacter(e)},smoothScrolling:Boolean(t.getValue(it)),mouseWheelScrollSensitivity:t.getValue(nt),fastScrollSensitivity:t.getValue(ot),multipleSelectionController:null!==(n=e.multipleSelectionController)&&void 0!==n?n:r.add(new at(t))}),r]}let ct=class extends s.c{constructor(e,t,i,n,o,r,s,a,l,c){const h=void 0!==o.horizontalScrolling?o.horizontalScrolling:Boolean(l.getValue(et)),[d,u]=lt(o,l,c);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Object(v.d)(a.getColorTheme(),v.e)),d),{horizontalScrolling:h})),this.disposables.add(u),this.contextKeyService=Je(r,this),this.themeService=a,this.listSupportsMultiSelect=$e.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==o.multipleSelectionSupport);Qe.bindTo(this.contextKeyService).set(Boolean(o.selectionNavigation)),this.listHasSelectionOrFocus=Ye.bindTo(this.contextKeyService),this.listDoubleSelection=Ze.bindTo(this.contextKeyService),this.listMultiSelection=Xe.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=st(l),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)})),this.disposables.add(l.onDidChangeConfiguration(e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=st(l));let t={};if(e.affectsConfiguration(et)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(et));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(it)){const e=Boolean(l.getValue(it));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(nt)){const e=l.getValue(nt);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(ot)){const e=l.getValue(ot);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)})),this.navigator=new gt(this,Object.assign({configurationService:l},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=Object(v.b)(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),super.dispose()}};ct=He([ze(5,m.b),ze(6,Ue),ze(7,C.b),ze(8,g.a),ze(9,b.a)],ct);let ht=class extends class{constructor(e,t,i,n,o={}){const r=()=>this.model,a=n.map(e=>new c(e,r));this.list=new s.c(e,t,i,a,function(e,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new h(e,t.accessibilityProvider)})}(r,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return a.c.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return a.c.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return a.c.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(e=>this._model.get(e)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Object(r.r)(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}{constructor(e,t,i,n,r,s,a,l,c,h){const d=void 0!==r.horizontalScrolling?r.horizontalScrolling:Boolean(c.getValue(et)),[u,g]=lt(r,c,h);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Object(v.d)(l.getColorTheme(),v.e)),u),{horizontalScrolling:d})),this.disposables=new o.b,this.disposables.add(g),this.contextKeyService=Je(s,this),this.themeService=l,this.horizontalScrolling=r.horizontalScrolling,this.listSupportsMultiSelect=$e.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==r.multipleSelectionSupport);Qe.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this._useAltAsMultipleSelectionModifier=st(c),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),r.overrideStyles&&this.disposables.add(Object(v.b)(this,l,r.overrideStyles)),this.disposables.add(c.onDidChangeConfiguration(e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=st(c));let t={};if(e.affectsConfiguration(et)&&void 0===this.horizontalScrolling){const e=Boolean(c.getValue(et));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(it)){const e=Boolean(c.getValue(it));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(nt)){const e=c.getValue(nt);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(ot)){const e=c.getValue(ot);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)})),this.navigator=new gt(this,Object.assign({configurationService:c},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=Object(v.b)(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};ht=He([ze(5,m.b),ze(6,Ue),ze(7,C.b),ze(8,g.a),ze(9,b.a)],ht);let dt=class extends Ve{constructor(e,t,i,n,r,s,a,l,c,h,d){const u=void 0!==s.horizontalScrolling?s.horizontalScrolling:Boolean(h.getValue(et)),[g,p]=lt(s,h,d);super(e,t,i,n,r,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},Object(v.d)(c.getColorTheme(),v.e)),g),{horizontalScrolling:u})),this.disposables=new o.b,this.disposables.add(p),this.contextKeyService=Je(a,this),this.themeService=c,this.listSupportsMultiSelect=$e.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==s.multipleSelectionSupport);Qe.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=Ye.bindTo(this.contextKeyService),this.listDoubleSelection=Ze.bindTo(this.contextKeyService),this.listMultiSelection=Xe.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=st(h),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)})),this.disposables.add(h.onDidChangeConfiguration(e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=st(h));let t={};if(e.affectsConfiguration(et)&&void 0===this.horizontalScrolling){const e=Boolean(h.getValue(et));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(it)){const e=Boolean(h.getValue(it));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(nt)){const e=h.getValue(nt);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(ot)){const e=h.getValue(ot);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)})),this.navigator=new pt(this,Object.assign({configurationService:h},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=Object(v.b)(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};dt=He([ze(6,m.b),ze(7,Ue),ze(8,C.b),ze(9,g.a),ze(10,b.a)],dt);class ut extends o.a{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new a.b),this.onDidOpen=this._onDidOpen.event,this._register(a.c.filter(this.widget.onDidChangeSelection,e=>e.browserEvent instanceof KeyboardEvent)(e=>this.onSelectionFromKeyboard(e))),this._register(this.widget.onPointer(e=>this.onPointer(e.element,e.browserEvent))),this._register(this.widget.onMouseDblClick(e=>this.onMouseDblClick(e.element,e.browserEvent))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode")),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode"))}))):this.openOnSingleClick=null===(i=null==t?void 0:t.openOnSingleClick)||void 0===i||i}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,i="boolean"!=typeof t.preserveFocus||t.preserveFocus,n="boolean"==typeof t.pinned?t.pinned:!i;this._open(this.getSelectedElement(),i,n,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick)return;if(2===t.detail)return;const i=1===t.button,n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!0,i,n,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!1,!0,n,t)}_open(e,t,i,n,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}}class gt extends ut{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class pt extends ut{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class mt extends ut{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function ft(e,t){let i=!1;return n=>{if(i)return i=!1,!1;const o=t.softDispatch(n,e);return o&&o.enterChord?(i=!0,!1):(i=!1,!0)}}let bt=class extends fe{constructor(e,t,i,n,o,r,s,a,l,c,h){const{options:d,getAutomaticKeyboardNavigation:u,disposable:g}=yt(t,o,r,l,c,h);super(e,t,i,n,d),this.disposables.add(g),this.internals=new St(this,o,u,o.overrideStyles,r,s,a,l,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};bt=He([ze(5,m.b),ze(6,Ue),ze(7,C.b),ze(8,g.a),ze(9,b.a),ze(10,Fe.b)],bt);let _t=class extends _e{constructor(e,t,i,n,o,r,s,a,l,c,h){const{options:d,getAutomaticKeyboardNavigation:u,disposable:g}=yt(t,o,r,l,c,h);super(e,t,i,n,d),this.disposables.add(g),this.internals=new St(this,o,u,o.overrideStyles,r,s,a,l,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};_t=He([ze(5,m.b),ze(6,Ue),ze(7,C.b),ze(8,g.a),ze(9,b.a),ze(10,Fe.b)],_t);let vt=class extends Pe{constructor(e,t,i,n,o,r,s,a,l,c,h,d){const{options:u,getAutomaticKeyboardNavigation:g,disposable:p}=yt(t,r,s,c,h,d);super(e,t,i,n,o,u),this.disposables.add(p),this.internals=new St(this,r,g,r.overrideStyles,s,a,l,c,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};vt=He([ze(6,m.b),ze(7,Ue),ze(8,C.b),ze(9,g.a),ze(10,b.a),ze(11,Fe.b)],vt);let Ct=class extends Te{constructor(e,t,i,n,o,r,s,a,l,c,h,d){const{options:u,getAutomaticKeyboardNavigation:g,disposable:p}=yt(t,r,s,c,h,d);super(e,t,i,n,o,u),this.disposables.add(p),this.internals=new St(this,r,g,r.overrideStyles,s,a,l,c,d),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Ct=He([ze(6,m.b),ze(7,Ue),ze(8,C.b),ze(9,g.a),ze(10,b.a),ze(11,Fe.b)],Ct);let wt=class extends Re{constructor(e,t,i,n,o,r,s,a,l,c,h,d,u){const{options:g,getAutomaticKeyboardNavigation:p,disposable:m}=yt(t,s,a,h,d,u);super(e,t,i,n,o,r,g),this.disposables.add(m),this.internals=new St(this,s,p,s.overrideStyles,a,l,c,h,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};function yt(e,t,i,n,o,r){var s;const a=()=>{let e=Boolean(i.getContextKeyValue("listAutomaticKeyboardNavigation"));return e&&(e=Boolean(n.getValue("workbench.list.automaticKeyboardNavigation"))),e},l=r.isScreenReaderOptimized(),c=t.simpleKeyboardNavigation||l?"simple":n.getValue("workbench.list.keyboardNavigation"),h=void 0!==t.horizontalScrolling?t.horizontalScrolling:Boolean(n.getValue(et)),[d,u]=lt(t,n,o),g=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:u,options:Object.assign(Object.assign({keyboardSupport:!1},d),{indent:"number"==typeof n.getValue(tt)?n.getValue(tt):void 0,renderIndentGuides:n.getValue("workbench.tree.renderIndentGuides"),smoothScrolling:Boolean(n.getValue(it)),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:"simple"===c,filterOnType:"filter"===c,horizontalScrolling:h,keyboardNavigationEventFilter:ft(e,o),additionalScrollHeight:g,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(s=t.expandOnlyOnTwistieClick)&&void 0!==s?s:"doubleClick"===n.getValue(rt)})}}wt=He([ze(7,m.b),ze(8,Ue),ze(9,C.b),ze(10,g.a),ze(11,b.a),ze(12,Fe.b)],wt);let St=class{constructor(e,t,i,n,o,r,s,a,l){this.tree=e,this.themeService=s,this.disposables=[],this.contextKeyService=Je(o,e),this.listSupportsMultiSelect=$e.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==t.multipleSelectionSupport);Qe.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=Ye.bindTo(this.contextKeyService),this.hasDoubleSelection=Ze.bindTo(this.contextKeyService),this.hasMultiSelection=Xe.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=st(a);const c=new Set;c.add("listAutomaticKeyboardNavigation");const h=()=>{const t=l.isScreenReaderOptimized()?"simple":a.getValue("workbench.list.keyboardNavigation");e.updateOptions({simpleKeyboardNavigation:"simple"===t,filterOnType:"filter"===t})};this.updateStyleOverrides(n),this.disposables.push(this.contextKeyService,r.register(e),e.onDidChangeSelection(()=>{const t=e.getSelection(),i=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(t.length>0||i.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)})}),e.onDidChangeFocus(()=>{const t=e.getSelection(),i=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||i.length>0)}),a.onDidChangeConfiguration(n=>{let o={};if(n.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=st(a)),n.affectsConfiguration(tt)){const e=a.getValue(tt);o=Object.assign(Object.assign({},o),{indent:e})}if(n.affectsConfiguration("workbench.tree.renderIndentGuides")){const e=a.getValue("workbench.tree.renderIndentGuides");o=Object.assign(Object.assign({},o),{renderIndentGuides:e})}if(n.affectsConfiguration(it)){const e=Boolean(!!a.getValue(it));o=Object.assign(Object.assign({},o),{smoothScrolling:e})}if(n.affectsConfiguration("workbench.list.keyboardNavigation")&&h(),n.affectsConfiguration("workbench.list.automaticKeyboardNavigation")&&(o=Object.assign(Object.assign({},o),{automaticKeyboardNavigation:i()})),n.affectsConfiguration(et)&&void 0===t.horizontalScrolling){const e=Boolean(!!a.getValue(et));o=Object.assign(Object.assign({},o),{horizontalScrolling:e})}if(n.affectsConfiguration(rt)&&void 0===t.expandOnlyOnTwistieClick&&(o=Object.assign(Object.assign({},o),{expandOnlyOnTwistieClick:"doubleClick"===a.getValue(rt)})),n.affectsConfiguration(nt)){const e=a.getValue(nt);o=Object.assign(Object.assign({},o),{mouseWheelScrollSensitivity:e})}if(n.affectsConfiguration(ot)){const e=a.getValue(ot);o=Object.assign(Object.assign({},o),{fastScrollSensitivity:e})}Object.keys(o).length>0&&e.updateOptions(o)}),this.contextKeyService.onDidChangeContext(t=>{t.affectsSome(c)&&e.updateOptions({automaticKeyboardNavigation:i()})}),l.onDidChangeScreenReaderOptimized(()=>h())),this.navigator=new mt(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){Object(o.f)(this.styler),this.styler=e?Object(v.b)(this.tree,this.themeService,e):o.a.None}dispose(){this.disposables=Object(o.f)(this.disposables),Object(o.f)(this.styler),this.styler=void 0}};St=He([ze(4,m.b),ze(5,Ue),ze(6,C.b),ze(7,g.a),ze(8,Fe.b)],St);_.a.as(p.a.Configuration).registerConfiguration({id:"workbench",order:7,title:Object(u.a)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{"workbench.list.multiSelectModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[Object(u.a)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),Object(u.a)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:Object(u.a)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},"workbench.list.openMode":{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(u.a)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[et]:{type:"boolean",default:!1,description:Object(u.a)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[tt]:{type:"number",default:8,minimum:0,maximum:40,description:Object(u.a)("tree indent setting","Controls tree indentation in pixels.")},"workbench.tree.renderIndentGuides":{type:"string",enum:["none","onHover","always"],default:"onHover",description:Object(u.a)("render tree indent guides","Controls whether the tree should render indent guides.")},[it]:{type:"boolean",default:!1,description:Object(u.a)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[nt]:{type:"number",default:1,description:Object(u.a)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the deltaX and deltaY of mouse wheel scroll events.")},[ot]:{type:"number",default:5,description:Object(u.a)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing Alt.")},"workbench.list.keyboardNavigation":{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[Object(u.a)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),Object(u.a)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),Object(u.a)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:Object(u.a)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},"workbench.list.automaticKeyboardNavigation":{type:"boolean",default:!0,markdownDescription:Object(u.a)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[rt]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:Object(u.a)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},kYye:function(e,t,i){"use strict";i.d(t,"i",(function(){return a})),i.d(t,"j",(function(){return l})),i.d(t,"g",(function(){return g})),i.d(t,"f",(function(){return p})),i.d(t,"h",(function(){return f})),i.d(t,"a",(function(){return b})),i.d(t,"k",(function(){return _})),i.d(t,"b",(function(){return C})),i.d(t,"n",(function(){return w})),i.d(t,"e",(function(){return y})),i.d(t,"c",(function(){return S})),i.d(t,"d",(function(){return L})),i.d(t,"m",(function(){return x})),i.d(t,"l",(function(){return k})),i.d(t,"o",(function(){return I})),i.d(t,"p",(function(){return O})),i.d(t,"q",(function(){return N})),i.d(t,"r",(function(){return E})),i.d(t,"u",(function(){return M})),i.d(t,"s",(function(){return A})),i.d(t,"v",(function(){return R})),i.d(t,"t",(function(){return P}));var n=i("3/fG"),o=i("zrhQ"),r=i("MD5Z"),s=i("t9D7");const a=Object(r.wc)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},n.a("lineHighlight","Background color for the highlight of line at the cursor position.")),l=Object(r.wc)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},n.a("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),c=Object(r.wc)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},n.a("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),h=Object(r.wc)("editor.rangeHighlightBorder",{dark:null,light:null,hc:r.b},n.a("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),d=Object(r.wc)("editor.symbolHighlightBackground",{dark:r.x,light:r.x,hc:null},n.a("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),u=Object(r.wc)("editor.symbolHighlightBorder",{dark:null,light:null,hc:r.b},n.a("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),g=Object(r.wc)("editorCursor.foreground",{dark:"#AEAFAD",light:o.a.black,hc:o.a.white},n.a("caret","Color of the editor cursor.")),p=Object(r.wc)("editorCursor.background",null,n.a("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),m=Object(r.wc)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},n.a("editorWhitespaces","Color of whitespace characters in the editor.")),f=Object(r.wc)("editorIndentGuide.background",{dark:m,light:m,hc:m},n.a("editorIndentGuides","Color of the editor indentation guides.")),b=Object(r.wc)("editorIndentGuide.activeBackground",{dark:m,light:m,hc:m},n.a("editorActiveIndentGuide","Color of the active editor indentation guides.")),_=Object(r.wc)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:o.a.white},n.a("editorLineNumbers","Color of editor line numbers.")),v=Object(r.wc)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:r.b},n.a("editorActiveLineNumber","Color of editor active line number"),!1,n.a("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),C=Object(r.wc)("editorLineNumber.activeForeground",{dark:v,light:v,hc:v},n.a("editorActiveLineNumber","Color of editor active line number")),w=Object(r.wc)("editorRuler.foreground",{dark:"#5A5A5A",light:o.a.lightgrey,hc:o.a.white},n.a("editorRuler","Color of the editor rulers.")),y=Object(r.wc)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},n.a("editorCodeLensForeground","Foreground color of editor CodeLens")),S=Object(r.wc)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},n.a("editorBracketMatchBackground","Background color behind matching brackets")),L=Object(r.wc)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:r.h},n.a("editorBracketMatchBorder","Color for matching brackets boxes")),x=Object(r.wc)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},n.a("editorOverviewRulerBorder","Color of the overview ruler border.")),k=Object(r.wc)("editorOverviewRuler.background",null,n.a("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),D=Object(r.wc)("editorGutter.background",{dark:r.r,light:r.r,hc:r.r},n.a("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),I=Object(r.wc)("editorUnnecessaryCode.border",{dark:null,light:null,hc:o.a.fromHex("#fff").transparent(.8)},n.a("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),O=Object(r.wc)("editorUnnecessaryCode.opacity",{dark:o.a.fromHex("#000a"),light:o.a.fromHex("#0007"),hc:null},n.a("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),N=Object(r.wc)("editorGhostText.border",{dark:null,light:null,hc:o.a.fromHex("#fff").transparent(.8)},n.a("editorGhostTextBorder","Border color of ghost text in the editor.")),E=Object(r.wc)("editorGhostText.foreground",{dark:o.a.fromHex("#ffffff56"),light:o.a.fromHex("#0007"),hc:null},n.a("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),T=new o.a(new o.c(0,122,204,.6)),M=Object(r.wc)("editorOverviewRuler.rangeHighlightForeground",{dark:T,light:T,hc:T},n.a("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),A=Object(r.wc)("editorOverviewRuler.errorForeground",{dark:new o.a(new o.c(255,18,18,.7)),light:new o.a(new o.c(255,18,18,.7)),hc:new o.a(new o.c(255,50,50,1))},n.a("overviewRuleError","Overview ruler marker color for errors.")),R=Object(r.wc)("editorOverviewRuler.warningForeground",{dark:r.X,light:r.X,hc:r.W},n.a("overviewRuleWarning","Overview ruler marker color for warnings.")),P=Object(r.wc)("editorOverviewRuler.infoForeground",{dark:r.M,light:r.M,hc:r.L},n.a("overviewRuleInfo","Overview ruler marker color for infos."));Object(s.f)((e,t)=>{const i=e.getColor(r.r);i&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${i}; }`);const n=e.getColor(r.B);n&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${n}; }`);const o=e.getColor(D);o&&t.addRule(`.monaco-editor .margin { background-color: ${o}; }`);const s=e.getColor(c);s&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${s}; }`);const a=e.getColor(h);a&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${a}; }`);const l=e.getColor(d);l&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${l}; }`);const g=e.getColor(u);g&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${g}; }`);const p=e.getColor(m);p&&(t.addRule(`.monaco-editor .mtkw { color: ${p} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${p} !important; }`))})},"kw+w":function(e,t,i){},l2gE:function(e,t,i){"use strict";i.d(t,"a",(function(){return L}));var n=i("N0LK"),o=i("PTeM"),r=i("MrjW"),s=i("QDVR"),a=i("X+cX");const l=/\//g;function c(e){switch(e){case 0:return"";case 1:return"[^/\\\\]*?";default:return"(?:[/\\\\]|[^/\\\\]+[/\\\\]|[/\\\\][^/\\\\]+)*?"}}function h(e,t){if(!e)return[];const i=[];let n=!1,o=!1,r="";for(const s of e){switch(s){case t:if(!n&&!o){i.push(r),r="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":o=!0;break;case"]":o=!1}r+=s}return r&&i.push(r),i}const d=/^\*\*\/\*\.[\w\.-]+$/,u=/^\*\*\/([\w\.-]+)\/?$/,g=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,p=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,m=/^\*\*((\/[\w\.-]+)+)\/?$/,f=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,b=new s.a(1e4),_=function(){return!1},v=function(){return null};function C(e,t){if(!e)return v;let i;i="string"!=typeof e?e.pattern:e,i=i.trim();const o=`${i}_${!!t.trimForExclusions}`;let r,s=b.get(o);if(s)return w(s,e);if(d.test(i)){const e=i.substr(4);s=function(t,n){return"string"==typeof t&&t.endsWith(e)?i:null}}else s=(r=u.exec(y(i,t)))?function(e,t){const i="/"+e,n="\\"+e,o=function(o,r){return"string"!=typeof o?null:r?r===e?t:null:o===e||o.endsWith(i)||o.endsWith(n)?t:null},r=[e];return o.basenames=r,o.patterns=[t],o.allBasenames=r,o}(r[1],i):(t.trimForExclusions?p:g).test(i)?function(e,t){const i=x(e.slice(1,-1).split(",").map(e=>C(e,t)).filter(e=>e!==v),e),n=i.length;if(!n)return v;if(1===n)return i[0];const o=function(t,n){for(let o=0,r=i.length;o<r;o++)if(i[o](t,n))return e;return null},r=i.find(e=>!!e.allBasenames);r&&(o.allBasenames=r.allBasenames);const s=i.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);s.length&&(o.allPaths=s);return o}(i,t):(r=m.exec(y(i,t)))?S(r[1].substr(1),i,!0):(r=f.exec(y(i,t)))?S(r[1],i,!1):function(e){try{const t=new RegExp(`^${function e(t){if(!t)return"";let i="";const o=h(t,"/");if(o.every(e=>"**"===e))i=".*";else{let t=!1;o.forEach((r,s)=>{if("**"===r)return void(t||(i+=c(2),t=!0));let a=!1,l="",d=!1,u="";for(const t of r)if("}"!==t&&a)l+=t;else if(!d||"]"===t&&u)switch(t){case"{":a=!0;continue;case"[":d=!0;continue;case"}":const o=`(?:${h(l,",").map(t=>e(t)).join("|")})`;i+=o,a=!1,l="";break;case"]":i+="["+u+"]",d=!1,u="";break;case"?":i+="[^/\\\\]";continue;case"*":i+=c(1);continue;default:i+=n.u(t)}else{let e;e="-"===t?t:"^"!==t&&"!"!==t||u?"/"===t?"":n.u(t):"^",u+=e}s<o.length-1&&("**"!==o[s+1]||s+2<o.length)&&(i+="[/\\\\]"),t=!1})}return i}(e)}$`);return function(i){return t.lastIndex=0,"string"==typeof i&&t.test(i)?e:null}}catch(t){return v}}(i);return b.set(o,s),w(s,e)}function w(e,t){return"string"==typeof t?e:function(i,n){return o.b(i,t.base)?e(r.f(t.base,i),n):null}}function y(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function S(e,t,i){const n=r.h===r.e.sep,o=n?e:e.replace(l,r.h),s=r.h+o,a=r.e.sep+e,c=i?function(i,r){return"string"!=typeof i||i!==o&&!i.endsWith(s)&&(n||i!==e&&!i.endsWith(a))?null:t}:function(i,r){return"string"!=typeof i||i!==o&&(n||i!==e)?null:t};return c.allPaths=[(i?"*/":"./")+e],c}function L(e,t,i){return!(!e||"string"!=typeof t)&&function(e,t={}){if(!e)return _;if("string"==typeof e||function(e){const t=e;return t&&"string"==typeof t.base&&"string"==typeof t.pattern}(e)){const i=C(e,t);if(i===v)return _;const n=function(e,t){return!!i(e,t)};return i.allBasenames&&(n.allBasenames=i.allBasenames),i.allPaths&&(n.allPaths=i.allPaths),n}return function(e,t){const i=x(Object.getOwnPropertyNames(e).map(i=>function(e,t,i){if(!1===t)return v;const n=C(e,i);if(n===v)return v;if("boolean"==typeof t)return n;if(t){const i=t.when;if("string"==typeof i){const t=(t,o,r,s)=>{if(!s||!n(t,o))return null;const l=s(i.replace("$(basename)",r));return Object(a.k)(l)?l.then(t=>t?e:null):l?e:null};return t.requiresSiblings=!0,t}}return n}(i,e[i],t)).filter(e=>e!==v)),n=i.length;if(!n)return v;if(!i.some(e=>!!e.requiresSiblings)){if(1===n)return i[0];const e=function(e,t){for(let n=0,o=i.length;n<o;n++){const o=i[n](e,t);if(o)return o}return null},t=i.find(e=>!!e.allBasenames);t&&(e.allBasenames=t.allBasenames);const o=i.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);return o.length&&(e.allPaths=o),e}const o=function(e,t,n){let o=void 0;for(let s=0,a=i.length;s<a;s++){const a=i[s];a.requiresSiblings&&n&&(t||(t=r.a(e)),o||(o=t.substr(0,t.length-r.c(e).length)));const l=a(e,t,o,n);if(l)return l}return null},s=i.find(e=>!!e.allBasenames);s&&(o.allBasenames=s.allBasenames);const l=i.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);l.length&&(o.allPaths=l);return o}(e,t)}(e)(t,void 0,i)}function x(e,t){const i=e.filter(e=>!!e.basenames);if(i.length<2)return e;const n=i.reduce((e,t)=>{const i=t.basenames;return i?e.concat(i):e},[]);let o;if(t){o=[];for(let e=0,i=n.length;e<i;e++)o.push(t)}else o=i.reduce((e,t)=>{const i=t.patterns;return i?e.concat(i):e},[]);const r=function(e,t){if("string"!=typeof e)return null;if(!t){let i;for(i=e.length;i>0;i--){const t=e.charCodeAt(i-1);if(47===t||92===t)break}t=e.substr(i)}const i=n.indexOf(t);return-1!==i?o[i]:null};r.basenames=n,r.patterns=o,r.allBasenames=n;const s=e.filter(e=>!e.basenames);return s.push(r),s}},lGqP:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ndeclare namespace Intl {\r\n\r\n    // http://cldr.unicode.org/index/cldr-spec/plural-rules#TOC-Determining-Plural-Categories\r\n    type LDMLPluralRule = "zero" | "one" | "two" | "few" | "many" | "other";\r\n    type PluralRuleType = "cardinal" | "ordinal";\r\n\r\n    interface PluralRulesOptions {\r\n        localeMatcher?: "lookup" | "best fit";\r\n        type?: PluralRuleType;\r\n        minimumIntegerDigits?: number;\r\n        minimumFractionDigits?: number;\r\n        maximumFractionDigits?: number;\r\n        minimumSignificantDigits?: number;\r\n        maximumSignificantDigits?: number;\r\n    }\r\n\r\n    interface ResolvedPluralRulesOptions {\r\n        locale: string;\r\n        pluralCategories: LDMLPluralRule[];\r\n        type: PluralRuleType;\r\n        minimumIntegerDigits: number;\r\n        minimumFractionDigits: number;\r\n        maximumFractionDigits: number;\r\n        minimumSignificantDigits?: number;\r\n        maximumSignificantDigits?: number;\r\n    }\r\n\r\n    interface PluralRules {\r\n        resolvedOptions(): ResolvedPluralRulesOptions;\r\n        select(n: number): LDMLPluralRule;\r\n    }\r\n\r\n    const PluralRules: {\r\n        new (locales?: string | string[], options?: PluralRulesOptions): PluralRules;\r\n        (locales?: string | string[], options?: PluralRulesOptions): PluralRules;\r\n        supportedLocalesOf(\r\n            locales: string | string[],\r\n            options?: PluralRulesOptions,\r\n        ): string[];\r\n    };\r\n}\r\n'},lKfe:function(e,t,i){},lrmC:function(e,t,i){},nB0o:function(e,t,i){"use strict";i.d(t,"a",(function(){return Qn}));var n=i("79sc"),o=i("sswD"),r=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},s=function(e,t){return function(i,n){t(i,n,e)}};let a=class{constructor(e,t){}dispose(){}};a.ID="editor.contrib.markerDecorations",a=r([s(1,n.a)],a),Object(o.l)(a.ID,a);i("lrmC");var l=i("3/fG"),c=i("EffR"),h=i("/cxE"),d=i("MI8n"),u=i("pmY6"),g=i("tYmi"),p=i("HdwC"),m=i("Vxe3"),f=i("D3Dy"),b=i("gCVg"),_=i("ZlPH"),v=i("MNsG"),C=i("pg8w"),w=i("XSiN"),y=i("X+cX"),S=i("AKMP");class L{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new x(this.x-c.f.scrollX,this.y-c.f.scrollY)}}class x{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new L(this.clientX+c.f.scrollX,this.clientY+c.f.scrollY)}}class k{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this._editorPagePositionBrand=void 0}}function D(e){const t=c.D(e);return new k(t.left,t.top,t.width,t.height)}class I extends w.a{constructor(e,t){super(e),this._editorMouseEventBrand=void 0,this.pos=new L(this.posx,this.posy),this.editorPos=D(t)}}class O{constructor(e){this._editorViewDomNode=e}_create(e){return new I(e,this._editorViewDomNode)}onContextMenu(e,t){return c.i(e,"contextmenu",e=>{t(this._create(e))})}onMouseUp(e,t){return c.i(e,"mouseup",e=>{t(this._create(e))})}onMouseDown(e,t){return c.i(e,"mousedown",e=>{t(this._create(e))})}onMouseLeave(e,t){return c.j(e,e=>{t(this._create(e))})}onMouseMoveThrottled(e,t,i,n){return c.l(e,"mousemove",t,(e,t)=>i(e,this._create(t)),n)}}class N{constructor(e){this._editorViewDomNode=e}_create(e){return new I(e,this._editorViewDomNode)}onPointerUp(e,t){return c.i(e,"pointerup",e=>{t(this._create(e))})}onPointerDown(e,t){return c.i(e,"pointerdown",e=>{t(this._create(e))})}onPointerLeave(e,t){return c.k(e,e=>{t(this._create(e))})}onPointerMoveThrottled(e,t,i,n){return c.l(e,"pointermove",t,(e,t)=>i(e,this._create(t)),n)}}class E extends u.a{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new S.a),this._keydownListener=null}startMonitoring(e,t,i,n,o){this._keydownListener=c.o(document,"keydown",e=>{e.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,e.browserEvent)},!0);this._globalMouseMoveMonitor.startMonitoring(e,t,(e,t)=>i(e,new I(t,this._editorViewDomNode)),n,e=>{this._keydownListener.dispose(),o(e)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class T extends u.a{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){let n=e[i];switch(n.type){case 0:this.onCompositionStart(n)&&(t=!0);break;case 1:this.onCompositionEnd(n)&&(t=!0);break;case 2:this.onConfigurationChanged(n)&&(t=!0);break;case 3:this.onCursorStateChanged(n)&&(t=!0);break;case 4:this.onDecorationsChanged(n)&&(t=!0);break;case 5:this.onFlushed(n)&&(t=!0);break;case 6:this.onFocusChanged(n)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(n)&&(t=!0);break;case 8:this.onLineMappingChanged(n)&&(t=!0);break;case 9:this.onLinesChanged(n)&&(t=!0);break;case 10:this.onLinesDeleted(n)&&(t=!0);break;case 11:this.onLinesInserted(n)&&(t=!0);break;case 12:this.onRevealRangeRequest(n)&&(t=!0);break;case 13:this.onScrollChanged(n)&&(t=!0);break;case 15:this.onTokensChanged(n)&&(t=!0);break;case 14:this.onThemeChanged(n)&&(t=!0);break;case 16:this.onTokensColorsChanged(n)&&(t=!0);break;case 17:this.onZonesChanged(n)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(n)}}t&&(this._shouldRender=!0)}}class M extends T{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class A{static write(e,t){_.a,e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){let i=[],n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=i[n-r-1];return o}}class R extends class{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class P{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class F{constructor(e,t){this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class j{constructor(e,t){this.outsideRenderedLine=e,this.left=Math.round(t)}}class B{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class W{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class V{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,o){const r=this._createRange();try{return r.setStart(e,t),r.setEnd(i,n),r.getClientRects()}catch(s){return null}finally{this._detachRange(r,o)}}static _mergeAdjacentRanges(e){if(1===e.length)return[new F(e[0].left,e[0].width)];e.sort(W.compare);let t=[],i=0,n=e[0].left,o=e[0].width;for(let r=1,s=e.length;r<s;r++){const s=e[r],a=s.left,l=s.width;n+o+.9>=a?o=Math.max(o,a+l-n):(t[i++]=new F(n,o),n=a,o=l)}return t[i++]=new F(n,o),t}static _createHorizontalRangesFromClientRects(e,t){if(!e||0===e.length)return null;const i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];i[n]=new W(Math.max(0,o.left-t),o.width)}return this._mergeAdjacentRanges(i)}static readHorizontalRanges(e,t,i,n,o,r,s){const a=e.children.length-1;if(0>a)return null;if((t=Math.min(a,Math.max(0,t)))===(n=Math.min(a,Math.max(0,n)))&&i===o&&0===i&&!e.children[t].firstChild){const i=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(i,r)}t!==n&&n>0&&0===o&&(n--,o=1073741824);let l=e.children[t].firstChild,c=e.children[n].firstChild;if(l&&c||(!l&&0===i&&t>0&&(l=e.children[t-1].firstChild,i=1073741824),!c&&0===o&&n>0&&(c=e.children[n-1].firstChild,o=1073741824)),!l||!c)return null;i=Math.min(l.textContent.length,Math.max(0,i)),o=Math.min(c.textContent.length,Math.max(0,o));const h=this._readClientRects(l,i,c,o,s);return this._createHorizontalRangesFromClientRects(h,r)}}var H=i("dBaI"),z=i("baJR"),U=i("nEHx"),K=i("/UlZ");const q=!!v.g||!(v.d||f.g||f.h);let $=!0;class G{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class Y{constructor(e,t){this.themeType=t;const i=e.options,n=i.get(41);this.renderWhitespace=i.get(87),this.renderControlCharacters=i.get(81),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(27),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(57),this.stopRenderingLineAfter=i.get(104),this.fontLigatures=i.get(42)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Z{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=Object(_.b)(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(this._options.themeType===U.a.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(e,t,i,n){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const o=i.getViewLineRenderingData(e),r=this._options,s=H.a.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let a=null;if(r.themeType===U.a.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const t=i.selections;for(const i of t){if(i.endLineNumber<e||i.startLineNumber>e)continue;const t=i.startLineNumber===e?i.startColumn:o.minColumn,n=i.endLineNumber===e?i.endColumn:o.maxColumn;t<n&&(r.themeType===U.a.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?s.push(new H.a(t,n,"inline-selected-text",0)):(a||(a=[]),a.push(new z.b(t-1,n-1))))}}const l=new z.c(r.useMonospaceOptimizations,r.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,s,o.tabSize,o.startVisibleColumn,r.spaceWidth,r.middotWidth,r.wsmiddotWidth,r.stopRenderingLineAfter,r.renderWhitespace,r.renderControlCharacters,r.fontLigatures!==K.e.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(Z.CLASS_NAME),n.appendASCIIString('">');const c=Object(z.d)(l,n);n.appendASCIIString("</div>");let h=null;return $&&q&&o.isBasicASCII&&r.useMonospaceOptimizations&&0===c.containsForeignElements&&o.content.length<300&&l.lineTokens.getCount()<100&&(h=new X(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping)),h||(h=ee(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping,c.containsRTL,c.containsForeignElements)),this._renderedViewLine=h,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof X}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof X?this._renderedViewLine.monospaceAssumptionsAreValid():$}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof X&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i){if(!this._renderedViewLine)return null;e|=0,t|=0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));const n=0|this._renderedViewLine.input.stopRenderingLineAfter;let o=!1;-1!==n&&e>n+1&&t>n+1&&(o=!0),-1!==n&&e>n+1&&(e=n+1),-1!==n&&t>n+1&&(t=n+1);const r=this._renderedViewLine.getVisibleRangesForRange(e,t,i);return r&&r.length>0?new B(o,r):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}Z.CLASS_NAME="view-line";class X{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return $;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),$=!1),$}toSlowRenderedLine(){return ee(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i){const n=this._getCharPosition(e),o=this._getCharPosition(t);return[new F(n,o-n)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffset(e);return Math.round(this._charWidth*t)}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new z.a(o,i),n)}}class Q{constructor(e,t,i,n,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,i){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const n=this._readPixelOffset(this.domNode,e,i);if(-1===n)return null;const o=this._readPixelOffset(this.domNode,t,i);return-1===o?null:[new F(n,o-n)]}return this._readVisibleRangesForRange(this.domNode,e,t,i)}_readVisibleRangesForRange(e,t,i,n){if(t===i){const i=this._readPixelOffset(e,t,n);return-1===i?null:[new F(i,0)]}return this._readRawVisibleRangesForRange(e,t,i,n)}_readPixelOffset(e,t,i){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const t=this._getReadingTarget(e);return t.firstChild?t.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const n=this._pixelOffsetCache[t];if(-1!==n)return n;const o=this._actualReadPixelOffset(e,t,i);return this._pixelOffsetCache[t]=o,o}return this._actualReadPixelOffset(e,t,i)}_actualReadPixelOffset(e,t,i){if(0===this._characterMapping.length){const t=V.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,i.clientRectDeltaLeft,i.endNode);return t&&0!==t.length?t[0].left:-1}if(t===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const n=this._characterMapping.getDomPosition(t),o=V.readHorizontalRanges(this._getReadingTarget(e),n.partIndex,n.charIndex,n.partIndex,n.charIndex,i.clientRectDeltaLeft,i.endNode);if(!o||0===o.length)return-1;const r=o[0].left;if(this.input.isBasicASCII){const e=this._characterMapping.getAbsoluteOffset(t),i=Math.round(this.input.spaceWidth*e);if(Math.abs(i-r)<=1)return i}return r}_readRawVisibleRangesForRange(e,t,i,n){if(1===t&&i===this._characterMapping.length)return[new F(0,this.getWidth())];const o=this._characterMapping.getDomPosition(t),r=this._characterMapping.getDomPosition(i);return V.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,r.partIndex,r.charIndex,n.clientRectDeltaLeft,n.endNode)}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new z.a(o,i),n)}}class J extends Q{_readVisibleRangesForRange(e,t,i,n){const o=super._readVisibleRangesForRange(e,t,i,n);if(!o||0===o.length||t===i||1===t&&i===this._characterMapping.length)return o;if(!this.input.containsRTL){const t=this._readPixelOffset(e,i,n);if(-1!==t){const e=o[o.length-1];e.left<t&&(e.width=t-e.left)}}return o}}const ee=f.j?te:ie;function te(e,t,i,n,o){return new J(e,t,i,n,o)}function ie(e,t,i,n,o){return new Q(e,t,i,n,o)}var ne,oe=i("cGHE"),re=i("aokT"),se=i("Ll0s"),ae=i("cIqD");class le{constructor(e=null){this.hitTarget=e,this.type=0}}class ce{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}!function(e){e.createFromDOMInfo=function(e,t,i){const n=e.getPositionFromDOMInfo(t,i);return n?new ce(n,t,null):new le(t)}}(ne||(ne={}));class he{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class de{constructor(e,t,i=0,n=null,o=null,r=null){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,!o&&n&&(o=new re.a(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=o,this.detail=r}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return de.toString(this)}}class ue{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class ge{constructor(e,t,i){this.model=e.model;const n=e.configuration.options;this.layoutInfo=n.get(129),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(57),this.stickyTabStops=n.get(103),this.typicalHalfwidthCharacterWidth=n.get(41).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return ge.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const n=i.verticalOffset+i.height/2,o=e.model.getLineCount();let r,s=null,a=null;return i.afterLineNumber!==o&&(a=new oe.a(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(s=new oe.a(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),r=null===a?s:null===s?a:t<n?s:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:s,positionAfter:a,position:r}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.model.getLineCount(),t=this._context.model.getLineMaxColumn(e);return{range:new re.a(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(t);return{range:new re.a(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return ge._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class pe extends class{constructor(e,t,i){this.editorPos=t,this.pos=i,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+i.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+i.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=i.x-t.x<e.layoutInfo.contentLeft&&i.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,be._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}{constructor(e,t,i,n){super(e,t,i),this._ctx=e,n?(this.target=n,this.targetPath=A.collect(n,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,i=null,n=null){let o=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(o=se.a.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new de(this.target,e,o,t,i,n)}withTarget(e){return new pe(this._ctx,this.editorPos,this.pos,e)}}const me={isAfterLines:!0};function fe(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class be{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=A.collect(t,this._viewHelper.viewDomNode);return!(!ue.isChildOfContentWidgets(i)&&!ue.isChildOfOverflowingContentWidgets(i))||!!ue.isChildOfOverlayWidgets(i)}createMouseTarget(e,t,i,n){const o=new ge(this._context,this._viewHelper,e),r=new pe(o,t,i,n);try{return be._createMouseTarget(o,r,!1)}catch(s){return r.fulfill(0)}}static _createMouseTarget(e,t,i){if(null===t.target){if(i)return t.fulfill(0);const n=be._doHitTest(e,t);return 1===n.type?be.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}const n=t;let o=null;return o=o||be._hitTestContentWidget(e,n),o=o||be._hitTestOverlayWidget(e,n),o=o||be._hitTestMinimap(e,n),o=o||be._hitTestScrollbarSlider(e,n),o=o||be._hitTestViewZone(e,n),o=o||be._hitTestMargin(e,n),o=o||be._hitTestViewCursor(e,n),o=o||be._hitTestTextArea(e,n),o=o||be._hitTestViewLines(e,n,i),o=o||be._hitTestScrollbar(e,n),o||t.fulfill(0)}static _hitTestContentWidget(e,t){if(ue.isChildOfContentWidgets(t.targetPath)||ue.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(9,null,null,i):t.fulfill(0)}return null}static _hitTestOverlayWidget(e,t){if(ue.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(12,null,null,i):t.fulfill(0)}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const e of i)if(t.target===e.domNode)return t.fulfill(6,e.position,null,{mightBeForeignElement:!1})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const r of i){if(n<r.contentLeft)continue;if(n>r.contentLeft+r.width)continue;const i=e.getVerticalOffsetForLineNumber(r.position.lineNumber);if(i<=o&&o<=i+r.height)return t.fulfill(6,r.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const e=t.isInContentArea?8:5;return t.fulfill(e,i.position,null,i)}return null}static _hitTestTextArea(e,t){return ue.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition();let o=Math.abs(t.pos.x-t.editorPos.x);const r={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,n,i.range,r):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,n,i.range,r):(o-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,n,i.range,r)))}return null}static _hitTestViewLines(e,t,i){if(!ue.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfill(7,new oe.a(1,1),null,me);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return t.fulfill(7,new oe.a(i,n),null,me)}if(i){if(ue.isStrictChildOfViewLines(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.model.getLineLength(i)){const n=e.getLineWidth(i),o=fe(t.mouseContentHorizontalOffset-n);return t.fulfill(7,new oe.a(i,1),null,o)}const n=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>=n){const o=fe(t.mouseContentHorizontalOffset-n),r=new oe.a(i,e.model.getLineMaxColumn(i));return t.fulfill(7,r,null,o)}}return t.fulfill(0)}const n=be._doHitTest(e,t);return 1===n.type?be.createMouseTargetFromHitTestPosition(e,t,n.spanNode,n.position,n.injectedText):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(ue.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new oe.a(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(ue.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new oe.a(i,n))}}return null}static _hitTestScrollbar(e,t){if(ue.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new oe.a(i,n))}return null}getMouseColumn(e,t){const i=this._context.configuration.options,n=i.get(129),o=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-n.contentLeft;return be._getMouseColumn(o,i.get(41).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){if(e<0)return 1;return Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n,o){const r=n.lineNumber,s=n.column,a=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>a){const e=fe(t.mouseContentHorizontalOffset-a);return t.fulfill(7,n,null,e)}const l=e.visibleRangeForPosition(r,s);if(!l)return t.fulfill(0,n);const c=l.left;if(t.mouseContentHorizontalOffset===c)return t.fulfill(6,n,null,{mightBeForeignElement:!!o});const h=[];if(h.push({offset:l.left,column:s}),s>1){const t=e.visibleRangeForPosition(r,s-1);t&&h.push({offset:t.left,column:s-1})}if(s<e.model.getLineMaxColumn(r)){const t=e.visibleRangeForPosition(r,s+1);t&&h.push({offset:t.left,column:s+1})}h.sort((e,t)=>e.offset-t.offset);const d=t.pos.toClientCoordinates(),u=i.getBoundingClientRect(),g=u.left<=d.clientX&&d.clientX<=u.right;for(let p=1;p<h.length;p++){const e=h[p-1],i=h[p];if(e.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=i.offset){const s=new re.a(r,e.column,r,i.column);return t.fulfill(6,n,s,{mightBeForeignElement:!g||!!o})}}return t.fulfill(6,n,null,{mightBeForeignElement:!g||!!o})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let o=t.pos.y+(n-t.mouseVerticalOffset);o<=t.editorPos.y&&(o=t.editorPos.y+1),o>=t.editorPos.y+e.layoutInfo.height&&(o=t.editorPos.y+e.layoutInfo.height-1);const r=new L(t.pos.x,o),s=this._actualDoHitTestWithCaretRangeFromPoint(e,r.toClientCoordinates());return 1===s.type?s:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=c.F(e.viewDomNode);let n;if(n=i?void 0===i.caretRangeFromPoint?function(e,t,i){const n=document.createRange();let o=e.elementFromPoint(t,i);if(null!==o){for(;o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE&&o.lastChild&&o.lastChild.firstChild;)o=o.lastChild;const e=o.getBoundingClientRect(),i=window.getComputedStyle(o,null).getPropertyValue("font"),r=o.innerText;let s,a=e.left,l=0;if(t>e.left+e.width)l=r.length;else{const e=_e.getInstance();for(let n=0;n<r.length+1;n++){if(s=e.getCharWidth(r.charAt(n),i)/2,a+=s,t<a){l=n;break}a+=s}}n.setStart(o.firstChild,l),n.setEnd(o.firstChild,l)}return n}(i,t.clientX,t.clientY):i.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new le;const o=n.startContainer;if(o.nodeType===o.TEXT_NODE){const t=o.parentNode,i=t?t.parentNode:null,r=i?i.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===Z.CLASS_NAME?ne.createFromDOMInfo(e,t,n.startOffset):new le(o.parentNode)}if(o.nodeType===o.ELEMENT_NODE){const t=o.parentNode,i=t?t.parentNode:null;return(i&&i.nodeType===i.ELEMENT_NODE?i.className:null)===Z.CLASS_NAME?ne.createFromDOMInfo(e,o,o.textContent.length):new le(o)}return new le}static _doHitTestWithCaretPositionFromPoint(e,t){const i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const t=i.offsetNode.parentNode,n=t?t.parentNode:null,o=n?n.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===Z.CLASS_NAME?ne.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new le(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const t=i.offsetNode.parentNode,n=t&&t.nodeType===t.ELEMENT_NODE?t.className:null,o=t?t.parentNode:null,r=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(n===Z.CLASS_NAME){const t=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(t)return ne.createFromDOMInfo(e,t,0)}else if(r===Z.CLASS_NAME)return ne.createFromDOMInfo(e,i.offsetNode,0)}return new le(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:n}=t.getTextModelOptions(),o=ae.a.atomicPosition(i,e.column-1,n,2);return-1!==o?new oe.a(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new le;if("function"==typeof document.caretRangeFromPoint?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),1===i.type){const t=e.model.getInjectedTextAt(i.position),n=e.model.normalizePosition(i.position,2);!t&&n.equals(i.position)||(i=new ce(n,i.spanNode,t))}return 1===i.type&&e.stickyTabStops&&(i=new ce(this._snapToSoftTabBoundary(i.position,e.model),i.spanNode,i.injectedText)),i}}class _e{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return _e._INSTANCE||(_e._INSTANCE=new _e),_e._INSTANCE}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const n=this._canvas.getContext("2d");n.font=t;const o=n.measureText(e).width;return this._cache[i]=o,o}}_e._INSTANCE=null;var ve=i("Yr1X");function Ce(e){return function(t,i){let n=!1;return e&&(n=e.mouseTargetIsWidget(i)),n||i.preventDefault(),i}}class we extends T{constructor(e,t,i){super(),this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new be(this._context,i),this._mouseDownOperation=this._register(new ye(this._context,this.viewController,this.viewHelper,(e,t)=>this._createMouseTarget(e,t),e=>this._getMouseColumn(e))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const n=new O(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,e=>this._onContextMenu(e,!0))),this._register(n.onMouseMoveThrottled(this.viewHelper.viewDomNode,e=>this._onMouseMove(e),Ce(this.mouseTargetFactory),we.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onMouseUp(this.viewHelper.viewDomNode,e=>this._onMouseUp(e))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,e=>this._onMouseLeave(e))),this._register(n.onMouseDown(this.viewHelper.viewDomNode,e=>this._onMouseDown(e)));this._register(c.i(this.viewHelper.viewDomNode,c.d.MOUSE_WHEEL,e=>{if(this.viewController.emitMouseWheel(e),!this._context.configuration.options.get(66))return;const t=new w.b(e);if(v.f?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey){const e=ve.a.getZoomLevel(),i=t.deltaY>0?1:-1;ve.a.setZoomLevel(e+i),t.preventDefault(),t.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(129)){const e=this._context.configuration.options.get(129).height;this._height!==e&&(this._height=e,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const i=new x(e,t).toPageCoordinates(),n=D(this.viewHelper.viewDomNode);return i.y<n.y||i.y>n.y+n.height||i.x<n.x||i.x>n.x+n.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n,i,null)}_createMouseTarget(e,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?e.target:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){if(this._mouseDownOperation.isActive())return;e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),i=6===t.type||7===t.type,n=2===t.type||3===t.type||4===t.type,o=3===t.type,r=this._context.configuration.options.get(97),s=8===t.type||5===t.type,a=9===t.type;let l=e.leftButton||e.middleButton;v.f&&e.leftButton&&e.ctrlKey&&(l=!1);const c=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(l&&(i||o&&r))c(),this._mouseDownOperation.start(t.type,e);else if(n)e.preventDefault();else if(s){const i=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(i.viewZoneId)&&(c(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else a&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(c(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}we.MOUSE_MOVE_MINIMUM_TIME=100;class ye extends u.a{constructor(e,t,i,n,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new E(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new y.g),this._mouseState=new Se,this._currentSelection=new b.a(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;const n=this._context.configuration.options;if(!n.get(79)&&n.get(29)&&!n.get(16)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===i.type&&i.position&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,Ce(null),e=>this._onMouseDownThenMove(e),e=>{const t=this._findMousePosition(this._lastMouseEvent,!0);e&&e instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:t?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,Ce(null),e=>this._onMouseDownThenMove(e),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.model,n=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const i=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),r=ge.getZoneAtCoord(this._context,i);if(r){const e=this._helpPositionJumpOverViewZone(r);if(e)return new de(null,13,o,e)}const s=n.getLineNumberAtVerticalOffset(i);return new de(null,13,o,new oe.a(s,1))}if(e.posy>t.y+t.height){const r=n.getCurrentScrollTop()+(e.posy-t.y),s=ge.getZoneAtCoord(this._context,r);if(s){const e=this._helpPositionJumpOverViewZone(s);if(e)return new de(null,13,o,e)}const a=n.getLineNumberAtVerticalOffset(r);return new de(null,13,o,new oe.a(a,i.getLineMaxColumn(a)))}const r=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new de(null,13,o,new oe.a(r,1)):e.posx>t.x+t.width?new de(null,13,o,new oe.a(r,i.getLineMaxColumn(r))):null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const n=this._createMouseTarget(e,t);if(!n.position)return null;if(8===n.type||5===n.type){const e=this._helpPositionJumpOverViewZone(n.detail);if(e)return new de(n.element,n.type,n.mouseColumn,e,null,n.detail)}return n}_helpPositionJumpOverViewZone(e){const t=new oe.a(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class Se{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=(new Date).getTime();i-this._lastSetMouseDownCountTime>Se.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}Se.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Le=i("CjF5"),xe=i("5TxY");class ke extends we{constructor(e,t,i){super(e,t,i),this._register(C.b.addTarget(this.viewHelper.linesContentDomNode)),this._register(c.i(this.viewHelper.linesContentDomNode,C.a.Tap,e=>this.onTap(e))),this._register(c.i(this.viewHelper.linesContentDomNode,C.a.Change,e=>this.onChange(e))),this._register(c.i(this.viewHelper.linesContentDomNode,C.a.Contextmenu,e=>this._onContextMenu(new I(e,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(c.i(this.viewHelper.linesContentDomNode,"pointerdown",e=>{const t=e.pointerType;this._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"}));const n=new N(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,e=>this._onMouseMove(e),Ce(this.mouseTargetFactory),we.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,e=>this._onMouseUp(e))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,e=>this._onMouseLeave(e))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,e=>this._onMouseDown(e)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new I(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e)}}class De extends we{constructor(e,t,i){super(e,t,i),this._register(C.b.addTarget(this.viewHelper.linesContentDomNode)),this._register(c.i(this.viewHelper.linesContentDomNode,C.a.Tap,e=>this.onTap(e))),this._register(c.i(this.viewHelper.linesContentDomNode,C.a.Change,e=>this.onChange(e))),this._register(c.i(this.viewHelper.linesContentDomNode,C.a.Contextmenu,e=>this._onContextMenu(new I(e,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new I(e,this.viewHelper.viewDomNode),!1);if(t.position){const e=document.createEvent("CustomEvent");e.initEvent(xe.d.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(e),this.viewController.moveTo(t.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class Ie extends u.a{constructor(e,t,i){super(),v.c&&Le.a.pointerEvents?this.handler=this._register(new ke(e,t,i)):window.TouchEvent?this.handler=this._register(new De(e,t,i)):this.handler=this._register(new we(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}i("VvMK");var Oe=i("N0LK"),Ne=i("Comh");i("Krc3");class Ee extends T{}var Te=i("kYye"),Me=i("t9D7");class Ae extends Ee{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new oe.a(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(57);const t=e.get(58);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(83);const i=e.get(129);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),2!==this._renderLineNumbers&&3!==this._renderLineNumbers||(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new oe.a(e,1));if(1!==t.column)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(2===this._renderLineNumbers){const e=Math.abs(this._lastCursorModelPosition.lineNumber-i);return 0===e?'<span class="relative-current-line-number">'+i+"</span>":String(e)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)}prepareRender(e){if(0===this._renderLineNumbers)return void(this._renderResult=null);const t=v.d?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o='<div class="'+Ae.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',r=this._context.model.getLineCount(),s=[];for(let a=i;a<=n;a++){const e=a-i;if(!this._renderFinalNewline&&a===r&&0===this._context.model.getLineLength(a)){s[e]="";continue}const n=this._getLineRenderLineNumber(a);n?a===this._activeLineNumber?s[e]='<div class="active-line-number '+Ae.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+n+"</div>":s[e]=o+n+"</div>":s[e]=""}this._renderResult=s}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Ae.CLASS_NAME="line-numbers",Object(Me.f)((e,t)=>{const i=e.getColor(Te.k);i&&t.addRule(`.monaco-editor .line-numbers { color: ${i}; }`);const n=e.getColor(Te.b);n&&t.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${n}; }`)});class Re extends M{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._canUseLayerHinting=!t.get(26),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=Object(_.b)(document.createElement("div")),this._domNode.setClassName(Re.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Object(_.b)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Re.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._canUseLayerHinting=!t.get(26),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}Re.CLASS_NAME="glyph-margin",Re.OUTER_CLASS_NAME="margin";var Pe=i("5v8Y"),Fe=i("51su");class je{constructor(e,t,i){this._visibleTextAreaBrand=void 0,this.top=e,this.left=t,this.width=i}setWidth(e){return new je(this.top,this.left,e)}}const Be=f.g;class We extends M{constructor(e,t,i){super(e),this._primaryCursorPosition=new oe.a(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._viewHelper=i,this._scrollLeft=0,this._scrollTop=0;const n=this._context.configuration.options,o=n.get(129);this._setAccessibilityOptions(n),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._contentHeight=o.height,this._fontInfo=n.get(41),this._lineHeight=n.get(57),this._emptySelectionClipboard=n.get(30),this._copyWithSyntaxHighlighting=n.get(19),this._visibleTextArea=null,this._selections=[new b.a(1,1,1,1)],this._modelSelections=[new b.a(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Object(_.b)(document.createElement("textarea")),A.write(this.textArea,6),this.textArea.setClassName("inputarea "+Fe.a),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",l.a("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),n.get(28)&&n.get(79)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=Object(_.b)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const r={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:e=>this._context.model.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.model.getValueInRange(e,t)},s={getDataToCopy:e=>{const t=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,v.j),i=this._context.model.getEOL(),n=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),o=Array.isArray(t)?t:null,r=Array.isArray(t)?t.join(i):t;let s=void 0,a=null;if(e&&(xe.a.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&r.length<65536)){const e=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(s=e.html,a=e.mode)}return{isFromEmptySelection:n,multicursorText:o,text:r,html:s,mode:a}},getScreenReaderContent:e=>{if(1===this._accessibilitySupport){if(v.f){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition();let i=this._getWordBeforePosition(t);if(0===i.length&&(i=this._getCharacterBeforePosition(t)),i.length>0)return new Ne.b(i,i.length,i.length,t,t)}}return Ne.b.EMPTY}if(f.e){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition(),[i,n]=this._getAndroidWordAtPosition(t);if(i.length>0)return new Ne.b(i,n,n,t,t)}return Ne.b.EMPTY}return Ne.a.fromEditorSelection(e,r,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,i)=>this._context.model.deduceModelPositionRelativeToViewPosition(e,t,i)};this._textAreaInput=this._register(new xe.c(s,this.textArea)),this._register(this._textAreaInput.onKeyDown(e=>{this._viewController.emitKeyDown(e)})),this._register(this._textAreaInput.onKeyUp(e=>{this._viewController.emitKeyUp(e)})),this._register(this._textAreaInput.onPaste(e=>{let t=!1,i=null,n=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,n=e.metadata.mode),this._viewController.paste(e.text,t,i,n)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?(Ne.c&&console.log(` => compositionType: <<${e.text}>>, ${e.replacePrevCharCnt}, ${e.replaceNextCharCnt}, ${e.positionDelta}`),this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta)):(Ne.c&&console.log(` => type: <<${e.text}>>`),this._viewController.type(e.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(e=>{this._viewController.setSelection(e)})),this._register(this._textAreaInput.onCompositionStart(e=>{const t=this._selections[0].startLineNumber,i=this._selections[0].startColumn+e.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new re.a(t,i,t,i),0,1);const n=this._viewHelper.visibleRangeForPositionRelativeToEditor(t,i);n&&(this._visibleTextArea=new je(this._context.viewLayout.getVerticalOffsetForLineNumber(t),n.left,Be?0:1),this._render()),this.textArea.setClassName(`inputarea ${Fe.a} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(e=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(function(e,t){const i=document.createElement("canvas").getContext("2d");i.font=(n=t,o="normal",r=n.fontWeight,s=n.fontSize,a=n.lineHeight,l=n.fontFamily,`${o} normal ${r} ${s}px / ${a}px ${l}`);var n,o,r,s,a,l;const c=i.measureText(e);return f.g?c.width+2:c.width}(e.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName("inputarea "+Fe.a),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=Object(Pe.a)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let n=!0,o=e.column,r=!0,s=e.column,a=0;for(;a<50&&(n||r);){if(n&&o<=1&&(n=!1),n){const e=t.charCodeAt(o-2);0!==i.get(e)?n=!1:o--}if(r&&s>t.length&&(r=!1),r){const e=t.charCodeAt(s-1);0!==i.get(e)?r=!1:s++}a++}return[t.substring(o-1,s-1),e.column-o]}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=Object(Pe.a)(this._context.configuration.options.get(115));let n=e.column,o=0;for(;n>1;){const r=t.charCodeAt(n-2);if(0!==i.get(r)||o>50)return t.substring(n-1,e.column-1);o++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!Oe.F(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){return 1===e.get(2)?l.a("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",v.d?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===K.g.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(41),this._lineHeight=t.get(57),this._emptySelectionClipboard=t.get(30),this._copyWithSyntaxHighlighting=t.get(19),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(111))),(e.hasChanged(28)||e.hasChanged(79))&&(t.get(28)&&t.get(79)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new oe.a(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea)return void this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():v.f?this._renderInsideEditor(this._primaryCursorPosition,t,e,Be?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,Be?0:1,Be?0:1)}_renderInsideEditor(e,t,i,n,o){this._lastRenderPosition=e;const r=this.textArea,s=this.textAreaCover;p.a.applyFontInfo(r,this._fontInfo),r.setTop(t),r.setLeft(i),r.setWidth(n),r.setHeight(o),s.setTop(0),s.setLeft(0),s.setWidth(0),s.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(p.a.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),Be)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const i=this._context.configuration.options;i.get(47)?t.setClassName("monaco-editor-background textAreaCover "+Re.OUTER_CLASS_NAME):0!==i.get(58).renderType?t.setClassName("monaco-editor-background textAreaCover "+Ae.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}var Ve=i("1YUG");class He{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,n){this.commandDelegate.compositionType(e,t,i,n)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Ve.b.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new oe.a(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(68)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(68)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=v.d&&t.get(95),n=t.get(16);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){Ve.b.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){Ve.b.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),Ve.b.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),Ve.b.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){Ve.b.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){Ve.b.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){Ve.b.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){Ve.b.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){Ve.b.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){Ve.b.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){Ve.b.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){Ve.b.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){Ve.b.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class ze{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return ze.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new Ue(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}}class Ue{constructor(e,t,i,n,o,r){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,this.range=o,this.detail=r}toString(){return de.toString(this)}}var Ke,qe=i("erNZ");class $e{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){const i=t-e+1;return this._rendLineNumberStart-=i,null}if(e>n)return null;let o=0,r=0;for(let s=i;s<=n;s++){const i=s-this._rendLineNumberStart;e<=s&&s<=t&&(0===r?(o=i,r=1):r++)}if(e<i){let n=0;n=t<i?t-e+1:i-e,this._rendLineNumberStart-=n}return this._lines.splice(o,r)}onLinesChanged(e,t){if(0===this.getCount())return!1;const i=this.getStartLineNumber(),n=this.getEndLineNumber();let o=!1;for(let r=e;r<=t;r++)r>=i&&r<=n&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(e,t){if(0===this.getCount())return null;const i=t-e+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o){return this._lines.splice(e-this._rendLineNumberStart,o-e+1)}const r=[];for(let h=0;h<i;h++)r[h]=this._createLine();const s=e-this._rendLineNumberStart,a=this._lines.slice(0,s),l=this._lines.slice(s,this._lines.length-i),c=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=a.concat(r).concat(l),c}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let o=0,r=e.length;o<r;o++){const r=e[o];if(r.toLineNumber<t||r.fromLineNumber>i)continue;const s=Math.max(t,r.fromLineNumber),a=Math.min(i,r.toLineNumber);for(let e=s;e<=a;e++){const t=e-this._rendLineNumberStart;this._lines[t].onTokensChanged(),n=!0}}return n}}class Ge{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new $e(()=>this._host.createVisibleLine())}_createDomNode(){const e=Object(_.b)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(129)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const e=t[i].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const e=t[i].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new Ye(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class Ye{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let e=t;e<=i;e++)o.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t),o.rendLineNumberStart>t){const e=t,r=Math.min(i,o.rendLineNumberStart-1);e<=r&&(this._insertLinesBefore(o,e,r,n,t),o.linesLength+=r-e+1)}else if(o.rendLineNumberStart<t){const e=Math.min(o.linesLength,t-o.rendLineNumberStart);e>0&&(this._removeLinesBefore(o,e),o.linesLength-=e)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){const e=o.rendLineNumberStart+o.linesLength,r=i;e<=r&&(this._insertLinesAfter(o,e,r,n,t),o.linesLength+=r-e+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){const e=Math.max(0,i-o.rendLineNumberStart+1),t=o.linesLength-1-e+1;t>0&&(this._removeLinesAfter(o,t),o.linesLength-=t)}return this._finishRendering(o,!1,n),o}_renderUntouchedLines(e,t,i,n,o){const r=e.rendLineNumberStart,s=e.lines;for(let a=t;a<=i;a++){const e=r+a;s[a].layoutLine(e,n[e-o])}}_insertLinesBefore(e,t,i,n,o){const r=[];let s=0;for(let a=t;a<=i;a++)r[s++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const t=e.lines[i].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,o){const r=[];let s=0;for(let a=t;a<=i;a++)r[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let n=0;n<t;n++){const t=e.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){Ye._ttPolicy&&(i=Ye._ttPolicy.createHTML(i));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let r=this.domNode.lastChild;for(let s=e.linesLength-1;s>=0;s--){const t=e.lines[s];n[s]&&(t.setDomNode(r),r=r.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const n=document.createElement("div");Ye._ttPolicy&&(t=Ye._ttPolicy.createHTML(t)),n.innerHTML=t;for(let o=0;o<e.linesLength;o++){const t=e.lines[o];if(i[o]){const e=n.firstChild,i=t.getDomNode();i.parentNode.replaceChild(e,i),t.setDomNode(e)}}}_finishRendering(e,t,i){const n=Ye._sb,o=e.linesLength,r=e.lines,s=e.rendLineNumberStart,a=[];{n.reset();let l=!1;for(let e=0;e<o;e++){const t=r[e];a[e]=!1;if(t.getDomNode())continue;t.renderLine(e+s,i[e],this.viewportData,n)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,n.build(),a)}{n.reset();let t=!1;const l=[];for(let e=0;e<o;e++){const o=r[e];if(l[e]=!1,a[e])continue;o.renderLine(e+s,i[e],this.viewportData,n)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,n.build(),l)}}}Ye._ttPolicy=null===(Ke=window.trustedTypes)||void 0===Ke?void 0:Ke.createPolicy("editorViewLayer",{createHTML:e=>e}),Ye._sb=Object(qe.a)(1e5);class Ze extends M{constructor(e){super(e),this._visibleLines=new Ge(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Xe(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){this._visibleLines.getVisibleLine(n).onConfigurationChanged(e)}return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(e=>e.shouldRender());for(let i=0,n=t.length;i<n;i++){const n=t[i];n.prepareRender(e),n.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Xe{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(57),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=Object(_.b)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(57)}renderLine(e,t,i,n){let o="";for(let r=0,s=this._dynamicOverlays.length;r<s;r++){o+=this._dynamicOverlays[r].render(i.startLineNumber,e)}return this._renderedContent!==o&&(this._renderedContent=o,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(o),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class Qe extends Ze{constructor(e){super(e);const t=this._context.configuration.options.get(129);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class Je extends Ze{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),p.a.applyFontInfo(this.domNode,t.get(41))}onConfigurationChanged(e){const t=this._context.configuration.options;p.a.applyFontInfo(this.domNode,t.get(41));const i=t.get(129);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class et{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class tt extends M{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=Object(_.b)(document.createElement("div")),A.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=Object(_.b)(document.createElement("div")),A.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new it(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t];delete this._widgets[t];const i=e.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class it{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=Object(_.b)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,o=n.get(129);this._fixedOverflowWidgets=n.get(34),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(57),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(57),e.hasChanged(129)){const e=t.get(129);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const e=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(e.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(e.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(e))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,i,n,o){const r=e.top,s=r,a=t.top+this._lineHeight,l=r-n,c=s>=n,h=a,d=o.viewportHeight-a>=n;let u=e.left,g=t.left;return u+i>o.scrollLeft+o.viewportWidth&&(u=o.scrollLeft+o.viewportWidth-i),g+i>o.scrollLeft+o.viewportWidth&&(g=o.scrollLeft+o.viewportWidth-i),u<o.scrollLeft&&(u=o.scrollLeft),g<o.scrollLeft&&(g=o.scrollLeft),{fitsAbove:c,aboveTop:l,aboveLeft:u,fitsBelow:d,belowTop:h,belowLeft:g}}_layoutHorizontalSegmentInPage(e,t,i,n){const o=Math.max(0,t.left-n),r=Math.min(t.left+t.width+n,e.width);let s=t.left+i-c.f.scrollX;if(s+n>r){const e=s-(r-n);s-=e,i-=e}if(s<o){const e=s-o;s-=e,i-=e}return[i,s]}_layoutBoxInPage(e,t,i,n,o){const r=e.top-n,s=t.top+this._lineHeight,a=c.D(this._viewDomNode.domNode),l=a.top+r-c.f.scrollY,h=a.top+s-c.f.scrollY,d=c.z(document.body),[u,g]=this._layoutHorizontalSegmentInPage(d,a,e.left-o.scrollLeft+this._contentLeft,i),[p,m]=this._layoutHorizontalSegmentInPage(d,a,t.left-o.scrollLeft+this._contentLeft,i),f=l>=22,b=h+n<=d.height-22;return this._fixedOverflowWidgets?{fitsAbove:f,aboveTop:Math.max(l,22),aboveLeft:g,fitsBelow:b,belowTop:h,belowLeft:m}:{fitsAbove:f,aboveTop:r,aboveLeft:u,fitsBelow:b,belowTop:s,belowLeft:p}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new et(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let i=t[0],n=t[0];for(const c of t)c.lineNumber<i.lineNumber&&(i=c),c.lineNumber>n.lineNumber&&(n=c);let o=1073741824;for(const c of i.ranges)c.left<o&&(o=c.left);let r=1073741824;for(const c of n.ranges)c.left<r&&(r=c.left);const s=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,a=new et(s,o),l=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop;return[a,new et(l,r)]}_prepareRenderWidget(e){const[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){let e=null;if("function"==typeof this._actual.beforeRender&&(e=nt(this._actual.beforeRender,this._actual)),e)this._cachedDomNodeClientWidth=e.width,this._cachedDomNodeClientHeight=e.height;else{const e=this.domNode.domNode;this._cachedDomNodeClientWidth=e.clientWidth,this._cachedDomNodeClientHeight=e.clientHeight}}let n;if(n=this.allowEditorOverflow?this._layoutBoxInPage(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let o=1;o<=2;o++)for(const e of this._preference)if(1===e){if(!n)return null;if(2===o||n.fitsAbove)return{coordinate:new et(n.aboveTop,n.aboveLeft),position:1}}else{if(2!==e)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};if(!n)return null;if(2===o||n.fitsBelow)return{coordinate:new et(n.belowTop,n.belowLeft),position:2}}return null}onBeforeRender(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&nt(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&nt(this._actual.afterRender,this._actual,this._renderData.position)}}function nt(e,t,...i){try{return e.call(t,...i)}catch(n){return null}}i("kw+w");var ot=i("6OMU");let rt=!0;class st extends Ee{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(57),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new b.a(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=rt?this._selections.slice(0,1):this._selections,i=t.map(e=>e.positionLineNumber);i.sort((e,t)=>e-t),ot.h(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const n=t.every(e=>e.isEmpty());return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(57),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let r=0;const s=[];for(let a=i;a<=n;a++){const e=a-i;for(;r<o&&this._cursorLineNumbers[r]<a;)r++;r<o&&this._cursorLineNumbers[r]===a?s[e]=t:s[e]=""}this._renderData=s}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}}class at extends st{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class lt extends st{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}Object(Me.f)((e,t)=>{rt=!1;const i=e.getColor(Te.i);if(i&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${i}; border: none; }`)),!i||i.isTransparent()||e.defines(Te.j)){const i=e.getColor(Te.j);i&&(rt=!0,t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});i("Vtyv");class ct extends Ee{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(57),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(57),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let a=0,l=t.length;a<l;a++){const e=t[a];e.options.className&&(i[n++]=e)}i=i.sort((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;const i=e.options.className,n=t.options.className;return i<n?-1:i>n?1:re.a.compareRangesUsingStarts(e.range,t.range)});const o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=[];for(let a=o;a<=r;a++){s[a-o]=""}this._renderWholeLineDecorations(e,i,s),this._renderNormalDecorations(e,i,s),this._renderResult=s}_renderWholeLineDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let s=0,a=t.length;s<a;s++){const e=t[s];if(!e.options.isWholeLine)continue;const a='<div class="cdr '+e.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',l=Math.max(e.range.startLineNumber,o),c=Math.min(e.range.endLineNumber,r);for(let t=l;t<=c;t++){i[t-o]+=a}}}_renderNormalDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber;let r=null,s=!1,a=null;for(let l=0,c=t.length;l<c;l++){const c=t[l];if(c.options.isWholeLine)continue;const h=c.options.className,d=Boolean(c.options.showIfCollapsed);let u=c.range;d&&1===u.endColumn&&u.endLineNumber!==u.startLineNumber&&(u=new re.a(u.startLineNumber,u.startColumn,u.endLineNumber-1,this._context.model.getLineMaxColumn(u.endLineNumber-1))),r===h&&s===d&&re.a.areIntersectingOrTouching(a,u)?a=re.a.plusRange(a,u):(null!==r&&this._renderNormalDecoration(e,a,r,s,n,o,i),r=h,s=d,a=u)}null!==r&&this._renderNormalDecoration(e,a,r,s,n,o,i)}_renderNormalDecoration(e,t,i,n,o,r,s){const a=e.linesVisibleRangesForRange(t,"findMatch"===i);if(a)for(let l=0,c=a.length;l<c;l++){const e=a[l];if(e.outsideRenderedLine)continue;const t=e.lineNumber-r;if(n&&1===e.ranges.length){const t=e.ranges[0];0===t.width&&(e.ranges[0]=new F(t.left,this._typicalHalfwidthCharacterWidth))}for(let n=0,r=e.ranges.length;n<r;n++){const r=e.ranges[n],a='<div class="cdr '+i+'" style="left:'+String(r.left)+"px;width:"+String(r.width)+"px;height:"+o+'px;"></div>';s[t]+=a}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}var ht=i("GJhM");class dt extends M{constructor(e,t,i,n){super(e);const o=this._context.configuration.options,r=o.get(91),s=o.get(65),a=o.get(32),l=o.get(94),h={listenOnDomNode:i.domNode,className:"editor-scrollable "+Object(Me.e)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:r.vertical,horizontal:r.horizontal,verticalHasArrows:r.verticalHasArrows,horizontalHasArrows:r.horizontalHasArrows,verticalScrollbarSize:r.verticalScrollbarSize,verticalSliderSize:r.verticalSliderSize,horizontalScrollbarSize:r.horizontalScrollbarSize,horizontalSliderSize:r.horizontalSliderSize,handleMouseWheel:r.handleMouseWheel,alwaysConsumeMouseWheel:r.alwaysConsumeMouseWheel,arrowSize:r.arrowSize,mouseWheelScrollSensitivity:s,fastScrollSensitivity:a,scrollPredominantAxis:l,scrollByPage:r.scrollByPage};this.scrollbar=this._register(new ht.c(t.domNode,h,this._context.viewLayout.getScrollable())),A.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=Object(_.b)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(e,t,i)=>{const n={};if(t){const t=e.scrollTop;t&&(n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0)}if(i){const t=e.scrollLeft;t&&(n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+t,e.scrollLeft=0)}this._context.model.setScrollPosition(n,1)};this._register(c.i(i.domNode,"scroll",e=>d(i.domNode,!0,!0))),this._register(c.i(t.domNode,"scroll",e=>d(t.domNode,!0,!1))),this._register(c.i(n.domNode,"scroll",e=>d(n.domNode,!0,!1))),this._register(c.i(this.scrollbarDomNode.domNode,"scroll",e=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(129);this.scrollbarDomNode.setLeft(t.contentLeft);"right"===e.get(63).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(65)||e.hasChanged(32)){const e=this._context.configuration.options,t=e.get(91),i=e.get(65),n=e.get(32),o=e.get(94),r={vertical:t.vertical,horizontal:t.horizontal,verticalScrollbarSize:t.verticalScrollbarSize,horizontalScrollbarSize:t.horizontalScrollbarSize,scrollByPage:t.scrollByPage,handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:n,scrollPredominantAxis:o};this.scrollbar.updateOptions(r)}return e.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+Object(Me.e)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}i("hHjc");class ut{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class gt extends Ee{_render(e,t,i){const n=[];for(let s=e;s<=t;s++){n[s-e]=[]}if(0===i.length)return n;i.sort((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1);let o=null,r=0;for(let s=0,a=i.length;s<a;s++){const a=i[s],l=a.className;let c=Math.max(a.startLineNumber,e)-e;const h=Math.min(a.endLineNumber,t)-e;o===l?(c=Math.max(r+1,c),r=Math.max(r,h)):(o=l,r=h);for(let e=c;e<=r;e++)n[e].push(o)}return n}}class pt extends gt{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(57),this._glyphMargin=t.get(47),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(57),this._glyphMargin=t.get(47),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,r=t.length;o<r;o++){const e=t[o],r=e.options.glyphMarginClassName;r&&(i[n++]=new ut(e.range.startLineNumber,e.range.endLineNumber,r))}return i}prepareRender(e){if(!this._glyphMargin)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),r='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+o+'px;"></div>',s=[];for(let a=t;a<=i;a++){const e=a-t,i=n[e];0===i.length?s[e]="":s[e]='<div class="cgmr codicon '+i.join(" ")+r}this._renderResult=s}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}i("C6rC");class mt extends Ee{constructor(e){super(),this._context=e,this._primaryLineNumber=0;const t=this._context.configuration.options,i=t.get(130),n=t.get(41);this._lineHeight=t.get(57),this._spaceWidth=n.spaceWidth,this._enabled=t.get(82),this._activeIndentEnabled=t.get(50),this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(130),n=t.get(41);return this._lineHeight=t.get(57),this._spaceWidth=n.spaceWidth,this._enabled=t.get(82),this._activeIndentEnabled=t.get(50),this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){const t=e.selections[0],i=t.isEmpty()?t.positionLineNumber:0;return this._primaryLineNumber!==i&&(this._primaryLineNumber=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){if(!this._enabled)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,{indentSize:n}=this._context.model.getTextModelOptions(),o=n*this._spaceWidth,r=e.scrollWidth,s=this._lineHeight,a=this._context.model.getLinesIndentGuides(t,i);let l=0,c=0,h=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const e=this._context.model.getActiveIndentGuide(this._primaryLineNumber,t,i);l=e.startLineNumber,c=e.endLineNumber,h=e.indent}const d=[];for(let u=t;u<=i;u++){const i=l<=u&&u<=c,n=u-t,g=a[n];let p="";if(g>=1){const t=e.visibleRangeForPosition(new oe.a(u,1));let n=t?t.left:0;for(let e=1;e<=g;e++){if(p+=`<div class="${i&&e===h?"cigra":"cigr"}" style="left:${n}px;height:${s}px;width:${o}px"></div>`,n+=o,n>r||this._maxIndentLeft>0&&n>this._maxIndentLeft)break}}d[n]=p}this._renderResult=d}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Object(Me.f)((e,t)=>{const i=e.getColor(Te.h);i&&t.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${i} inset; }`);const n=e.getColor(Te.a)||i;n&&t.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${n} inset; }`)});i("OKK6");class ft{constructor(){this._currentVisibleRange=new re.a(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class bt{constructor(e,t,i,n,o,r){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=n,this.stopScrollTop=o,this.scrollType=r,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class _t{constructor(e,t,i,n){this.selections=e,this.startScrollTop=t,this.stopScrollTop=i,this.scrollType=n,this.type="selections";let o=e[0].startLineNumber,r=e[0].endLineNumber;for(let s=1,a=e.length;s<a;s++){const t=e[s];o=Math.min(o,t.startLineNumber),r=Math.max(r,t.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=r}}class vt extends M{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new Ge(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,n=this._context.configuration.options,o=n.get(41),r=n.get(130);this._lineHeight=n.get(57),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=n.get(88),this._cursorSurroundingLines=n.get(23),this._cursorSurroundingLinesStyle=n.get(24),this._canUseLayerHinting=!n.get(26),this._viewLineOptions=new Y(i,this._context.theme.type),A.write(this.domNode,7),this.domNode.setClassName("view-lines "+Fe.a),p.a.applyFontInfo(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new y.e(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new y.e(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new ft,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Z(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(130)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(41),n=t.get(130);return this._lineHeight=t.get(57),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(88),this._cursorSurroundingLines=t.get(23),this._cursorSurroundingLinesStyle=t.get(24),this._canUseLayerHinting=!t.get(26),p.a.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new Y(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let t=e;t<=i;t++){this._visibleLines.getVisibleLine(t).onOptionsChanged(this._viewLineOptions)}return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=!1;for(let o=t;o<=i;o++)n=this._visibleLines.getVisibleLine(o).onSelectionChanged()||n;return n}onDecorationsChanged(e){{const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++)this._visibleLines.getVisibleLine(i).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(-1===t)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new bt(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new _t(e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const n=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(i,n),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(null===i)return null;const n=this._getLineNumberFor(i);if(-1===n)return null;if(n<1||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return new oe.a(n,1);const o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(n<o||n>r)return null;let s=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t);const a=this._context.model.getLineMinColumn(n);return s<a&&(s=a),new oe.a(n,s)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===Z.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){if(e===this._visibleLines.getVisibleLine(n).getDomNode())return n}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,n=re.a.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;let o=[],r=0;const s=new G(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new oe.a(n.startLineNumber,1)).lineNumber);const l=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let h=n.startLineNumber;h<=n.endLineNumber;h++){if(h<l||h>c)continue;const e=h===n.startLineNumber?n.startColumn:1,d=h===n.endLineNumber?n.endColumn:this._context.model.getLineMaxColumn(h),u=this._visibleLines.getVisibleLine(h).getVisibleRangesForRange(e,d,s);if(u){if(t&&h<i){const e=a;a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new oe.a(h+1,1)).lineNumber,e!==a&&(u.ranges[u.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[r++]=new P(u.outsideRenderedLine,h,u.ranges)}}return 0===r?null:o}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(t,i,new G(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new j(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=1,o=!0;for(let r=t;r<=i;r++){const t=this._visibleLines.getVisibleLine(r);!e||t.getWidthIsFast()?n=Math.max(n,t.getWidth()):o=!1}return o&&1===t&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++){const i=this._visibleLines.getVisibleLine(o);if(i.needsMonospaceFontCheck()){const n=i.getWidth();n>t&&(t=n,e=o)}}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=n;o++){this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(e.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const e=this._computeScrollLeftToReveal(t);e&&(this._isViewportWrapping||this._ensureMaxLineWidth(e.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),v.d&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++){if(this._visibleLines.getVisibleLine(i).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,o){const r=e.top,s=e.height,a=r+s;let l,c,h;if(n&&n.length>0){let e=n[0].startLineNumber,t=n[0].endLineNumber;for(let i=1,o=n.length;i<o;i++){const o=n[i];e=Math.min(e,o.startLineNumber),t=Math.max(t,o.endLineNumber)}l=!1,c=this._context.viewLayout.getVerticalOffsetForLineNumber(e),h=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!i)return-1;l=!0,c=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight}if(!("mouse"===t&&"default"===this._cursorSurroundingLinesStyle)){const e=Math.min(s/this._lineHeight/2,this._cursorSurroundingLines);c-=e*this._lineHeight,h+=Math.max(0,e-1)*this._lineHeight}let d;if(0!==o&&4!==o||(h+=this._lineHeight),h-c>s){if(!l)return-1;d=c}else if(5===o||6===o)if(6===o&&r<=c&&h<=a)d=r;else{const e=c-Math.max(5*this._lineHeight,.2*s),t=h-s;d=Math.max(t,e)}else if(1===o||2===o)if(2===o&&r<=c&&h<=a)d=r;else{const e=(c+h)/2;d=Math.max(0,e-s/2)}else d=this._computeMinimumScrolling(r,a,c,h,3===o,4===o);return d}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=t.left,n=i+t.width;let o=1073741824,r=0;if("range"===e.type){const t=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!t)return null;for(const e of t.ranges)o=Math.min(o,e.left),r=Math.max(r,e.left+e.width)}else for(const s of e.selections){if(s.startLineNumber!==s.endLineNumber)return null;const e=this._visibleRangesForLineRange(s.startLineNumber,s.startColumn,s.endColumn);if(!e)return null;for(const t of e.ranges)o=Math.min(o,t.left),r=Math.max(r,t.left+t.width)}if(o=Math.max(0,o-vt.HORIZONTAL_EXTRA_PX),r+=this._revealHorizontalRightPadding,"selections"===e.type&&r-o>t.width)return null;return{scrollLeft:this._computeMinimumScrolling(i,n,o,r),maxHorizontalOffset:r}}_computeMinimumScrolling(e,t,i,n,o,r){o=!!o,r=!!r;const s=(t|=0)-(e|=0);return(n|=0)-(i|=0)<s?o?i:r?Math.max(0,n-s):i<e?i:n>t?Math.max(0,n-s):e:i}}vt.HORIZONTAL_EXTRA_PX=30;i("J+ZK");class Ct extends gt{constructor(e){super(),this._context=e;const t=this._context.configuration.options.get(129);this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,r=t.length;o<r;o++){const e=t[o],r=e.options.linesDecorationsClassName;r&&(i[n++]=new ut(e.range.startLineNumber,e.range.endLineNumber,r));const s=e.options.firstLineDecorationClassName;s&&(i[n++]=new ut(e.range.startLineNumber,e.range.startLineNumber,s))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',r=[];for(let s=t;s<=i;s++){const e=s-t,i=n[e];let a="";for(let t=0,n=i.length;t<n;t++)a+='<div class="cldr '+i[t]+o;r[e]=a}this._renderResult=r}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}i("XXBq");class wt extends gt{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,r=t.length;o<r;o++){const e=t[o],r=e.options.marginClassName;r&&(i[n++]=new ut(e.range.startLineNumber,e.range.endLineNumber,r))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=[];for(let r=t;r<=i;r++){const e=r-t,i=n[e];let s="";for(let t=0,n=i.length;t<n;t++)s+='<div class="cmdr '+i[t]+'" style=""></div>';o[e]=s}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}i("8gvo");class yt{constructor(e,t,i,n){this._rgba8Brand=void 0,this.r=yt._clamp(e),this.g=yt._clamp(t),this.b=yt._clamp(i),this.a=yt._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}yt.Empty=new yt(0,0,0,0);var St=i("twdY");class Lt extends u.a{constructor(){super(),this._onDidChange=new d.b,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(St.F.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=Object(u.h)(new Lt)),this._INSTANCE}_updateColorMap(){const e=St.F.getColorMap();if(!e)return this._colors=[yt.Empty],void(this._backgroundIsLight=!0);this._colors=[yt.Empty];for(let i=1;i<e.length;i++){const t=e[i].rgba;this._colors[i]=new yt(t.r,t.g,t.b,Math.round(255*t.a))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}Lt._INSTANCE=null;var xt=i("qNAo"),kt=i("MD5Z");const Dt=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();var It=i("CZ1j");class Ot{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=Ot.soften(e,.8),this.charDataLight=Ot.soften(e,50/60)}static soften(e,t){let i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=Object(It.b)(e[n]*t);return i}renderChar(e,t,i,n,o,r,s,a,l){const c=1*this.scale,h=2*this.scale,d=l?1:h;if(t+c>e.width||i+d>e.height)return void console.warn("bad render request outside image data");const u=a?this.charDataLight:this.charDataNormal,g=((e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e)(n,s),p=4*e.width,m=r.r,f=r.g,b=r.b,_=o.r-m,v=o.g-f,C=o.b-b,w=e.data;let y=g*c*h,S=i*p+4*t;for(let L=0;L<d;L++){let e=S;for(let t=0;t<c;t++){const t=u[y++]/255;w[e++]=m+_*t,w[e++]=f+v*t,w[e++]=b+C*t,e++}S+=p}}blockRenderChar(e,t,i,n,o,r,s){const a=1*this.scale,l=2*this.scale,c=s?1:l;if(t+a>e.width||i+c>e.height)return void console.warn("bad render request outside image data");const h=4*e.width,d=o.r,u=o.g,g=o.b,p=d+.5*(n.r-d),m=u+.5*(n.g-u),f=g+.5*(n.b-g),b=e.data;let _=i*h+4*t;for(let v=0;v<c;v++){let e=_;for(let t=0;t<a;t++)b[e++]=p,b[e++]=m,b[e++]=f,e++;_+=h}}}var Nt=i("C/vA");const Et={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Tt=e=>{const t=new Uint8ClampedArray(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=Et[e[i]]<<4|15&Et[e[i+1]];return t},Mt={1:Object(Nt.a)(()=>Tt("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Object(Nt.a)(()=>Tt("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class At{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return i=Mt[e]?new Ot(Mt[e](),e):At.createFromSampleData(At.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font="bold 16px "+e,i.textBaseline="middle";let n=0;for(const o of Dt)i.fillText(String.fromCharCode(o),n,8),n+=10;return i.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");let i=At._downsample(e,t);return new Ot(i,t)}static _downsampleChar(e,t,i,n,o){const r=1*o,s=2*o;let a=n,l=0;for(let c=0;c<s;c++){const n=c/s*16,o=(c+1)/s*16;for(let s=0;s<r;s++){const c=s/r*10,h=(s+1)/r*10;let d=0,u=0;for(let i=n;i<o;i++){const n=t+3840*Math.floor(i),o=1-(i-Math.floor(i));for(let t=c;t<h;t++){const i=1-(t-Math.floor(t)),r=n+4*Math.floor(t),s=i*o;u+=s,d+=e[r]*e[r+3]/255*s}}const g=d/u;l=Math.max(l,g),i[a++]=Object(It.b)(g)}}return l}static _downsample(e,t){const i=2*t*1*t,n=96*i,o=new Uint8ClampedArray(n);let r=0,s=0,a=0;for(let l=0;l<96;l++)a=Math.max(a,this._downsampleChar(e,s,o,r,t)),r+=i,s+=40;if(a>0){const e=255/a;for(let t=0;t<n;t++)o[t]*=e}return o}}var Rt=i("M1Kb");class Pt{constructor(e,t,i){const n=e.options,o=n.get(127),r=n.get(129),s=r.minimap,a=n.get(41),l=n.get(63);this.renderMinimap=s.renderMinimap,this.size=l.size,this.minimapHeightIsEditorHeight=s.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(93),this.showSlider=l.showSlider,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(57),this.minimapLeft=s.minimapLeft,this.minimapWidth=s.minimapWidth,this.minimapHeight=r.height,this.canvasInnerWidth=s.minimapCanvasInnerWidth,this.canvasInnerHeight=s.minimapCanvasInnerHeight,this.canvasOuterWidth=s.minimapCanvasOuterWidth,this.canvasOuterHeight=s.minimapCanvasOuterHeight,this.isSampling=s.minimapIsSampling,this.editorHeight=r.height,this.fontScale=s.minimapScale,this.minimapLineHeight=s.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Object(Nt.a)(()=>At.create(this.fontScale,a.fontFamily)),this.backgroundColor=Pt._getMinimapBackground(t,i)}static _getMinimapBackground(e,t){const i=e.getColor(kt.Zb);return i?new yt(i.rgba.r,i.rgba.g,i.rgba.b,i.rgba.a):t.getColor(2)}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)}}class Ft{constructor(e,t,i,n,o,r,s,a){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=r,this.startLineNumber=s,this.endLineNumber=a}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,o,r,s,a,l,c,h){const d=e.pixelRatio,u=e.minimapLineHeight,g=Math.floor(e.canvasInnerHeight/u),p=e.lineHeight;if(e.minimapHeightIsEditorHeight){const t=a*e.lineHeight+(e.scrollBeyondLastLine?o-e.lineHeight:0),i=Math.max(1,Math.floor(o*o/t)),n=Math.max(0,e.minimapHeight-i),r=n/(c-o),h=l*r,d=n>0,u=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new Ft(l,c,d,r,h,i,1,Math.min(s,u))}let m,f;if(r&&i!==s){const e=i-t+1;m=Math.floor(e*u/d)}else{const e=o/p;m=Math.floor(e*u/d)}f=e.scrollBeyondLastLine?(s-1)*u/d:Math.max(0,s*u/d-m),f=Math.min(e.minimapHeight-m,f);const b=f/(c-o),_=l*b;let v=0;if(e.scrollBeyondLastLine){v=o/p-1}if(g>=s+v){return new Ft(l,c,f>0,b,_,m,1,s)}{let e=Math.max(1,Math.floor(t-_*d/u));h&&h.scrollHeight===c&&(h.scrollTop>l&&(e=Math.min(e,h.startLineNumber)),h.scrollTop<l&&(e=Math.max(e,h.startLineNumber)));const i=Math.min(s,e+g-1);return new Ft(l,c,!0,b,(t-e+(l-n)/p)*u/d,m,e,i)}}}class jt{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}jt.INVALID=new jt(-1);class Bt{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new $e(()=>jt.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let i=0,n=t.length;i<n;i++)if(-1===t[i].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class Wt{constructor(e,t,i,n){this._backgroundFillData=Wt._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const n=i.r,o=i.g,r=i.b,s=new Uint8ClampedArray(e*t*4);let a=0;for(let l=0;l<t;l++)for(let t=0;t<e;t++)s[a]=n,s[a+1]=o,s[a+2]=r,s[a+3]=255,a+=4;return s}}class Vt{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const n=e.pixelRatio,o=e.lineHeight,r=e.scrollBeyondLastLine,{minimapLineCount:s}=K.f.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:r,height:e.editorHeight,lineHeight:o,pixelRatio:n}),a=t/s,l=a/2;if(!i||0===i.minimapLines.length){let e=[];if(e[0]=1,s>1){for(let t=0,i=s-1;t<i;t++)e[t]=Math.round(t*a+l);e[s-1]=t}return[new Vt(a,e),[]]}const c=i.minimapLines,h=c.length;let d=[],u=0,g=0,p=1;let m=[],f=null;for(let b=0;b<s;b++){const e=Math.max(p,Math.round(b*a)),i=Math.max(e,Math.round((b+1)*a));for(;u<h&&c[u]<e;){if(m.length<10){const e=u+1+g;f&&"deleted"===f.type&&f._oldIndex===u-1?f.deleteToLineNumber++:(f={type:"deleted",_oldIndex:u,deleteFromLineNumber:e,deleteToLineNumber:e},m.push(f)),g--}u++}let n;if(u<h&&c[u]<=i)n=c[u],u++;else if(n=0===b?1:b+1===s?t:Math.round(b*a+l),m.length<10){const e=u+1+g;f&&"inserted"===f.type&&f._i===b-1?f.insertToLineNumber++:(f={type:"inserted",_i:b,insertFromLineNumber:e,insertToLineNumber:e},m.push(f)),g++}d[b]=n,p=n}if(m.length<10)for(;u<h;){const e=u+1+g;f&&"deleted"===f.type&&f._oldIndex===u-1?f.deleteToLineNumber++:(f={type:"deleted",_oldIndex:u,deleteFromLineNumber:e,deleteToLineNumber:e},m.push(f)),g--,u++}else m=[{type:"flush"}];return[new Vt(a,d),m]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){const n=this.minimapLines[i];if(n<e||n>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class Ht extends M{constructor(e){super(e),this.tokensColorTracker=Lt.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Pt(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Vt.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new zt(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new Pt(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return!!t&&this._actual.onLinesChanged(t[0],t[1])}return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(const i of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=Vt.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const n of i)switch(n.type){case"deleted":this._actual.onLinesDeleted(n.deleteFromLineNumber,n.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(n.insertFromLineNumber,n.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){let n=[];for(let o=0,r=t-e+1;o<r;o++)i[o]?n[o]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.model.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new b.a(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const n=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1];i=new re.a(n,1,o,this._context.model.getLineMaxColumn(o))}else i=new re.a(e,1,t,this._context.model.getLineMaxColumn(t));const n=this._context.model.getDecorationsInViewport(i);if(this._samplingState){let e=[];for(const t of n){if(!t.options.minimap)continue;const i=t.range,n=this._samplingState.modelLineToMinimapLine(i.startLineNumber),o=this._samplingState.modelLineToMinimapLine(i.endLineNumber);e.push(new xt.g(new re.a(n,i.startColumn,o,i.endColumn),t.options))}return e}return n}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new re.a(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class zt extends u.a{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(kt.cc),this._domNode=Object(_.b)(document.createElement("div")),A.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=Object(_.b)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=Object(_.b)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=Object(_.b)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=Object(_.b)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=Object(_.b)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=c.o(this._domNode.domNode,"mousedown",e=>{e.preventDefault();if(0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(e.leftButton&&this._lastRenderData){const t=c.D(this._slider.domNode),i=t.top+t.height/2;this._startSliderDragging(e.buttons,e.posx,i,e.posy,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,i=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.browserEvent.offsetY;let n=Math.floor(i/t)+this._lastRenderData.renderedLayout.startLineNumber;n=Math.min(n,this._model.getLineCount()),this._model.revealLineNumber(n)}),this._sliderMouseMoveMonitor=new S.a,this._sliderMouseDownListener=c.o(this._slider.domNode,"mousedown",e=>{e.preventDefault(),e.stopPropagation(),e.leftButton&&this._lastRenderData&&this._startSliderDragging(e.buttons,e.posx,e.posy,e.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=C.b.addTarget(this._domNode.domNode),this._sliderTouchStartListener=c.i(this._domNode.domNode,C.a.Start,e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))},{passive:!1}),this._sliderTouchMoveListener=c.i(this._domNode.domNode,C.a.Change,e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)},{passive:!1}),this._sliderTouchEndListener=c.o(this._domNode.domNode,C.a.End,e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i,n,o){this._slider.toggleClassName("active",!0);const r=(e,n)=>{const r=Math.abs(n-t);if(v.j&&r>140)return void this._model.setScrollTop(o.scrollTop);const s=e-i;this._model.setScrollTop(o.getDesiredScrollTopFromDelta(s))};n!==i&&r(n,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,S.b,e=>r(e.posy,e.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Wt(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(kt.cc),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=Ft.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight);const i=e.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,n=Math.min(this._model.options.minimapWidth,Math.round(i*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(n),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-n),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections(),i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber),{canvasInnerWidth:n,canvasInnerHeight:o}=this._model.options,r=this._model.options.minimapLineHeight,s=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,n,o);const c=new Map;for(let h=0;h<t.length;h++){const i=t[h];for(let t=i.startLineNumber;t<=i.endLineNumber;t++)this.renderDecorationOnLine(l,c,i,this._selectionColor,e,t,r,r,a,s)}for(let h=0;h<i.length;h++){const t=i[h];if(!t.options.minimap)continue;const n=t.options.minimap.getColor(this._theme);for(let i=t.range.startLineNumber;i<=t.range.endLineNumber;i++)switch(t.options.minimap.position){case Rt.c.Inline:this.renderDecorationOnLine(l,c,t.range,n,e,i,r,r,a,s);continue;case Rt.c.Gutter:const o=(i-e.startLineNumber)*r,h=2;this.renderDecoration(l,n,h,o,2,r);continue}}}}renderDecorationOnLine(e,t,i,n,o,r,s,a,l,c){const h=(r-o.startLineNumber)*a;if(h+s<0||h>this._model.options.canvasInnerHeight)return;let d=t.get(r);const u=!d;if(!d){const e=this._model.getLineContent(r);d=[K.h];for(let t=1;t<e.length+1;t++){const i=e.charCodeAt(t-1),n=9===i?l*c:Oe.E(i)?2*c:c;d[t]=d[t-1]+n}t.set(r,d)}const{startColumn:g,endColumn:p,startLineNumber:m,endLineNumber:f}=i,b=m===r?d[g-1]:K.h,_=f>r?d.length-1:p-1;if(_>0){const t=d[_]-b||2;this.renderDecoration(e,n,b,h,t,s)}u&&this.renderLineHighlight(e,n,h,s)}renderLineHighlight(e,t,i,n){e.fillStyle=t&&t.transparent(.5).toString()||"",e.fillRect(K.h,i,e.canvas.width,n)}renderDecoration(e,t,i,n,o,r){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,r)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new Bt(e,t.imageData,t.lines)}const o=this._getBuffer();if(!o)return null;let[r,s,a]=zt._renderUntouchedLines(o,t,i,n,this._lastRenderData);const l=this._model.getMinimapLinesRenderingData(t,i,a),c=this._model.getOptions().tabSize,h=this._model.options.backgroundColor,d=this._model.tokensColorTracker,u=d.backgroundIsLight(),g=this._model.options.renderMinimap,p=this._model.options.charRenderer(),m=this._model.options.fontScale,f=this._model.options.minimapCharWidth,b=(1===g?2:3)*m,_=n>b?Math.floor((n-b)/2):0;let v=0;const C=[];for(let S=0,L=i-t+1;S<L;S++)a[S]&&zt._renderLine(o,h,u,g,f,d,p,v,_,c,l[S],m,n),C[S]=new jt(v),v+=n;const w=-1===r?0:r,y=(-1===s?o.height:s)-w;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,w,o.width,y),new Bt(e,o,C)}static _renderUntouchedLines(e,t,i,n,o){const r=[];if(!o){for(let e=0,n=i-t+1;e<n;e++)r[e]=!0;return[-1,-1,r]}const s=o._get(),a=s.imageData.data,l=s.rendLineNumberStart,c=s.lines,h=c.length,d=e.width,u=e.data,g=(i-t+1)*n*d*4;let p=-1,m=-1,f=-1,b=-1,_=-1,v=-1,C=0;for(let w=t;w<=i;w++){const e=w-t,i=w-l,o=i>=0&&i<h?c[i].dy:-1;if(-1===o){r[e]=!0,C+=n;continue}const s=o*d*4,y=(o+n)*d*4,S=C*d*4,L=(C+n)*d*4;b===s&&v===S?(b=y,v=L):(-1!==f&&(u.set(a.subarray(f,b),_),-1===p&&0===f&&f===_&&(p=b),-1===m&&b===g&&f===_&&(m=f)),f=s,b=y,_=S,v=L),r[e]=!1,C+=n}-1!==f&&(u.set(a.subarray(f,b),_),-1===p&&0===f&&f===_&&(p=b),-1===m&&b===g&&f===_&&(m=f));return[-1===p?-1:p/(4*d),-1===m?-1:m/(4*d),r]}static _renderLine(e,t,i,n,o,r,s,a,l,c,h,d,u){const g=h.content,p=h.tokens,m=e.width-o,f=1===u;let b=K.h,_=0,v=0;for(let C=0,w=p.getCount();C<w;C++){const h=p.getEndOffset(C),u=p.getForeground(C),w=r.getColor(u);for(;_<h;_++){if(b>m)return;const r=g.charCodeAt(_);if(9===r){const e=c-(_+v)%c;v+=e-1,b+=e*o}else if(32===r)b+=o;else{const c=Oe.E(r)?2:1;for(let h=0;h<c;h++)if(2===n?s.blockRenderChar(e,b,a+l,w,t,i,f):s.renderChar(e,b,a+l,r,w,t,d,i,f),b+=o,b>m)return}}}}}Object(Me.f)((e,t)=>{const i=e.getColor(kt.Zb);i&&t.addRule(`.monaco-editor .minimap > canvas { opacity: ${i.rgba.a}; will-change: opacity; }`);const n=e.getColor(kt.ec);n&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${n}; }`);const o=e.getColor(kt.fc);o&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${o}; }`);const r=e.getColor(kt.dc);r&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${r}; }`);const s=e.getColor(kt.yc);s&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${s} -6px 0 6px -6px inset; }`)});i("cl4r");class Ut extends M{constructor(e){super(e);const t=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=Object(_.b)(document.createElement("div")),A.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=Object(_.b)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,n=t.length;i<n;i++){const e=t[i];this._renderWidget(this._widgets[e])}}}var Kt=i("zrhQ");class qt{constructor(e,t){const i=e.options;this.lineHeight=i.get(57),this.pixelRatio=i.get(127),this.overviewRulerLanes=i.get(72),this.renderBorder=i.get(71);const n=t.getColor(Te.m);this.borderColor=n?n.toString():null,this.hideCursor=i.get(49);const o=t.getColor(Te.g);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const r=i.get(63),s=r.enabled,a=r.side,l=s?t.getColor(Te.l)||St.F.getDefaultBackground():null;this.backgroundColor=null===l||"left"===a?null:Kt.a.Format.CSS.formatHex(l);const c=i.get(129).overviewRuler;this.top=c.top,this.right=c.right,this.domWidth=c.width,this.domHeight=c.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[h,d]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=h,this.w=d}_initLanes(e,t,i){const n=t-e;if(i>=3){const t=Math.floor(n/3),i=Math.floor(n/3),o=n-t-i,r=e+t;return[[0,e,r,e,e+t+o,e,r,e],[0,t,o,t+o,i,t+o+i,o+i,t+o+i]]}if(2===i){const t=Math.floor(n/2),i=n-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,i,t+i,t+i,t+i]]}return[[0,e,e,e,e,e,e,e],[0,n,n,n,n,n,n,n]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class $t extends M{constructor(e){super(e),this._domNode=Object(_.b)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=St.F.onDidChange(e=>{e.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new qt(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(oe.a.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return void this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,o=t/this._context.viewLayout.getScrollHeight(),r=this._context.model.getAllOverviewRulerDecorations(this._context.theme),s=6*this._settings.pixelRatio|0,a=s/2|0,l=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?l.clearRect(0,0,e,t):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,e,t));const c=this._settings.x,h=this._settings.w,d=Object.keys(r);d.sort();for(let u=0,g=d.length;u<g;u++){const e=d[u],g=r[e];l.fillStyle=e;let p=0,m=0,f=0;for(let r=0,d=g.length;r<d;r++){const e=g[3*r],d=g[3*r+1],u=g[3*r+2];let b=n.getVerticalOffsetForLineNumber(d)*o|0,_=(n.getVerticalOffsetForLineNumber(u)+i)*o|0;if(_-b<s){let e=(b+_)/2|0;e<a?e=a:e+a>t&&(e=t-a),b=e-a,_=e+a}b>f+1||e!==p?(0!==r&&l.fillRect(c[p],m,h[p],f-m),p=e,m=b,f=_):_>f&&(f=_)}l.fillRect(c[p],m,h[p],f-m)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,i=e/2|0,r=this._settings.x[7],s=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let a=-100,c=-100;for(let h=0,d=this._cursorPositions.length;h<d;h++){const d=this._cursorPositions[h];let u=n.getVerticalOffsetForLineNumber(d.lineNumber)*o|0;u<i?u=i:u+i>t&&(u=t-i);const g=u-i,p=g+e;g>c+1?(0!==h&&l.fillRect(r,a,s,c-a),a=g,c=p):p>c&&(c=p)}l.fillRect(r,a,s,c-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,t),l.stroke(),l.moveTo(0,0),l.lineTo(e,0),l.stroke())}}var Gt=i("MvK1");class Yt extends T{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=Object(_.b)(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Gt.b(e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(57)),this._zoneManager.setPixelRatio(i.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(57)&&(this._zoneManager.setLineHeight(t.get(57)),this._render()),e.hasChanged(127)&&(this._zoneManager.setPixelRatio(t.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,r=0,s=0;for(const a of t){const t=a.colorId,l=a.from,c=a.to;t!==o?(e.fillRect(0,r,n,s-r),o=t,e.fillStyle=i[o],r=l,s=c):s>=l?s=Math.max(s,c):(e.fillRect(0,r,n,s-r),r=l,s=c)}e.fillRect(0,r,n,s-r)}}i("7zd4");class Zt extends M{constructor(e){super(e),this.domNode=Object(_.b)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:i}=this._context.model.getTextModelOptions(),n=i;let o=t-e;for(;o>0;){const e=Object(_.b)(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(n),this.domNode.appendChild(e),this._renderedRulers.push(e),o--}return}let i=e-t;for(;i>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const i=this._renderedRulers[t],n=this._rulers[t];i.setBoxShadow(n.color?`1px 0 0 0 ${n.color} inset`:""),i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}Object(Me.f)((e,t)=>{const i=e.getColor(Te.n);i&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)});i("2MPD");class Xt extends M{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(91);this._useShadows=t.useShadows,this._domNode=Object(_.b)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(129);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(91);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}Object(Me.f)((e,t)=>{const i=e.getColor(kt.yc);i&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)});i("eC1c");class Qt{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class Jt{constructor(e,t){this.lineNumber=e,this.ranges=t}}function ei(e){return new Qt(e)}function ti(e){return new Jt(e.lineNumber,e.ranges.map(ei))}class ii extends Ee{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(57),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(57),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++){if(e[t].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(e,t,i){const n=this._typicalHalfwidthCharacterWidth/4;let o=null,r=null;if(i&&i.length>0&&t.length>0){const n=t[0].lineNumber;if(n===e.startLineNumber)for(let e=0;!o&&e<i.length;e++)i[e].lineNumber===n&&(o=i[e].ranges[0]);const s=t[t.length-1].lineNumber;if(s===e.endLineNumber)for(let e=i.length-1;!r&&e>=0;e--)i[e].lineNumber===s&&(r=i[e].ranges[0]);o&&!o.startStyle&&(o=null),r&&!r.startStyle&&(r=null)}for(let s=0,a=t.length;s<a;s++){const e=t[s].ranges[0],i=e.left,l=e.left+e.width,c={top:0,bottom:0},h={top:0,bottom:0};if(s>0){const e=t[s-1].ranges[0].left,o=t[s-1].ranges[0].left+t[s-1].ranges[0].width;ni(i-e)<n?c.top=2:i>e&&(c.top=1),ni(l-o)<n?h.top=2:e<l&&l<o&&(h.top=1)}else o&&(c.top=o.startStyle.top,h.top=o.endStyle.top);if(s+1<a){const e=t[s+1].ranges[0].left,o=t[s+1].ranges[0].left+t[s+1].ranges[0].width;ni(i-e)<n?c.bottom=2:e<i&&i<o&&(c.bottom=1),ni(l-o)<n?h.bottom=2:l<o&&(h.bottom=1)}else r&&(c.bottom=r.startStyle.bottom,h.bottom=r.endStyle.bottom);e.startStyle=c,e.endStyle=h}}_getVisibleRangesWithStyle(e,t,i){const n=(t.linesVisibleRangesForRange(e,!0)||[]).map(ti);return!this._visibleRangesHaveGaps(n)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,n,i),n}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(0===n.length)return;const o=!!n[0].ranges[0].startStyle,r=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=n[0].lineNumber,l=n[n.length-1].lineNumber;for(let c=0,h=n.length;c<h;c++){const h=n[c],d=h.lineNumber,u=d-t,g=i&&(d===l||d===a)?s:r,p=i&&d===a?1:0;let m="",f="";for(let e=0,t=h.ranges.length;e<t;e++){const t=h.ranges[e];if(o){const e=t.startStyle,i=t.endStyle;if(1===e.top||1===e.bottom){m+=this._createSelectionPiece(p,g,ii.SELECTION_CLASS_NAME,t.left-ii.ROUNDED_PIECE_WIDTH,ii.ROUNDED_PIECE_WIDTH);let i=ii.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(i+=" "+ii.SELECTION_TOP_RIGHT),1===e.bottom&&(i+=" "+ii.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(p,g,i,t.left-ii.ROUNDED_PIECE_WIDTH,ii.ROUNDED_PIECE_WIDTH)}if(1===i.top||1===i.bottom){m+=this._createSelectionPiece(p,g,ii.SELECTION_CLASS_NAME,t.left+t.width,ii.ROUNDED_PIECE_WIDTH);let e=ii.EDITOR_BACKGROUND_CLASS_NAME;1===i.top&&(e+=" "+ii.SELECTION_TOP_LEFT),1===i.bottom&&(e+=" "+ii.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(p,g,e,t.left+t.width,ii.ROUNDED_PIECE_WIDTH)}}let i=ii.SELECTION_CLASS_NAME;if(o){const e=t.startStyle,n=t.endStyle;0===e.top&&(i+=" "+ii.SELECTION_TOP_LEFT),0===e.bottom&&(i+=" "+ii.SELECTION_BOTTOM_LEFT),0===n.top&&(i+=" "+ii.SELECTION_TOP_RIGHT),0===n.bottom&&(i+=" "+ii.SELECTION_BOTTOM_RIGHT)}f+=this._createSelectionPiece(p,g,i,t.left,t.width)}e[u][0]+=m,e[u][1]+=f}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let r=i;r<=n;r++){t[r-i]=["",""]}const o=[];for(let r=0,s=this._selections.length;r<s;r++){const n=this._selections[r];if(n.isEmpty()){o[r]=null;continue}const s=this._getVisibleRangesWithStyle(n,e,this._previousFrameVisibleRangesWithStyle[r]);o[r]=s,this._actualRenderOneSelection(t,i,this._selections.length>1,s)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map(([e,t])=>e+t)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function ni(e){return e<0?-e:e}ii.SELECTION_CLASS_NAME="selected-text",ii.SELECTION_TOP_LEFT="top-left-radius",ii.SELECTION_BOTTOM_LEFT="bottom-left-radius",ii.SELECTION_TOP_RIGHT="top-right-radius",ii.SELECTION_BOTTOM_RIGHT="bottom-right-radius",ii.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",ii.ROUNDED_PIECE_WIDTH=10,Object(Me.f)((e,t)=>{const i=e.getColor(kt.R);i&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${i}; }`);const n=e.getColor(kt.J);n&&t.addRule(`.monaco-editor .selected-text { background-color: ${n}; }`);const o=e.getColor(kt.S);o&&!o.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${o}; }`)});i("2Tsy");class oi{constructor(e,t,i,n,o,r){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=o,this.textContentClassName=r}}class ri{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(41);this._cursorStyle=t.get(22),this._lineHeight=t.get(57),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(25),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Object(_.b)(document.createElement("div")),this._domNode.setClassName("cursor "+Fe.a),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),p.a.applyFontInfo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new oe.a(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(41);return this._cursorStyle=t.get(22),this._lineHeight=t.get(57),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(25),this._typicalHalfwidthCharacterWidth),p.a.applyFontInfo(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===K.i.Line||this._cursorStyle===K.i.LineThin){const i=e.visibleRangeForPosition(this._position);if(!i||i.outsideRenderedLine)return null;let n;if(this._cursorStyle===K.i.Line){if(n=c.u(this._lineCursorWidth>0?this._lineCursorWidth:2),n>2){const e=this._context.model.getLineContent(this._position.lineNumber),i=Oe.L(e,this._position.column-1);t=e.substr(this._position.column-1,i)}}else n=c.u(1);let o=i.left;n>=2&&o>=1&&(o-=1);const r=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new oi(r,o,n,this._lineHeight,t,"")}const i=this._context.model.getLineContent(this._position.lineNumber),n=Oe.L(i,this._position.column-1),o=e.linesVisibleRangesForRange(new re.a(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+n),!1);if(!o||0===o.length)return null;const r=o[0];if(r.outsideRenderedLine||0===r.ranges.length)return null;const s=r.ranges[0],a=s.width<1?this._typicalHalfwidthCharacterWidth:s.width;let l="";if(this._cursorStyle===K.i.Block){const e=this._context.model.getViewLineData(this._position.lineNumber);t=i.substr(this._position.column-1,n);const o=e.tokens.findTokenIndexAtOffset(this._position.column-1);l=e.tokens.getClassName(o)}let h=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,d=this._lineHeight;return this._cursorStyle!==K.i.Underline&&this._cursorStyle!==K.i.UnderlineThin||(h+=this._lineHeight-2,d=2),new oi(h,s.left,a,d,t,l)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Fe.a} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class si extends M{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(79),this._cursorBlinking=t.get(20),this._cursorStyle=t.get(22),this._cursorSmoothCaretAnimation=t.get(21),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new ri(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=Object(_.b)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new y.g,this._cursorFlatBlinkInterval=new y.c,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(79),this._cursorBlinking=t.get(20),this._cursorStyle=t.get(22),this._cursorSmoothCaretAnimation=t.get(21),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new ri(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])}onCursorStateChanged(e){const t=[];for(let n=0,o=e.selections.length;n<o;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let i=0,n=e.ranges.length;i<n;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput?0:this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,i=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||i||(1===e?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},si.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},si.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case K.i.Line:e+=" cursor-line-style";break;case K.i.Block:e+=" cursor-block-style";break;case K.i.Underline:e+=" cursor-underline-style";break;case K.i.LineThin:e+=" cursor-line-thin-style";break;case K.i.BlockOutline:e+=" cursor-block-outline-style";break;case K.i.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],i=0;const n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let o=0,r=this._secondaryCursors.length;o<r;o++){const n=this._secondaryCursors[o].render(e);n&&(t[i++]=n)}this._renderData=t}getLastRenderData(){return this._renderData}}si.BLINK_INTERVAL=500,Object(Me.f)((e,t)=>{const i=e.getColor(Te.g);if(i){let n=e.getColor(Te.f);n||(n=i.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${n}; }`),"hc"===e.type&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}});const ai=()=>{throw new Error("Invalid change accessor")};class li extends M{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(57),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=Object(_.b)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=Object(_.b)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const n of e)t.set(n.id,n);let i=!1;return this._context.model.changeWhitespace(e=>{const n=Object.keys(this._zones);for(let o=0,r=n.length;o<r;o++){const r=n[o],s=this._zones[r],a=this._computeWhitespaceProps(s.delegate),l=t.get(r);!l||l.afterLineNumber===a.afterViewLineNumber&&l.height===a.heightInPx||(e.changeOneWhitespace(r,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(s.delegate,a.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(57),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(57)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return void 0!==e.afterColumn?e.afterColumn:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,i;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const i=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new oe.a(i,this._context.model.getModelLineMaxColumn(i))}i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),o=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace(i=>{const n={addZone:e=>(t=!0,this._addZone(i,e)),removeZone:e=>{e&&(t=this._removeZone(i,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(i,e)||t)}};!function(e,t){try{e(t)}catch(i){Object(h.e)(i)}}(e,n),n.addZone=ai,n.removeZone=ai,n.layoutZone=ai}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),n={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isVisible:!1,domNode:Object(_.b)(t.domNode),marginDomNode:t.marginDomNode?Object(_.b)(t.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,i.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId]=n,this.setShouldRender(),n.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(i){Object(h.e)(i)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(i){Object(h.e)(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let n=!1;for(let r=0,s=t.length;r<s;r++)i[t[r].id]=t[r],n=!0;const o=Object.keys(this._zones);for(let r=0,s=o.length;r<s;r++){const t=o[r],n=this._zones[t];let s=0,a=0,l="none";i.hasOwnProperty(t)?(s=i[t].verticalOffset-e.bigNumbersDelta,a=i[t].height,l="block",n.isVisible||(n.domNode.setAttribute("monaco-visible-view-zone","true"),n.isVisible=!0),this._safeCallOnDomNodeTop(n.delegate,e.getScrolledTopFromAbsoluteTop(i[t].verticalOffset))):(n.isVisible&&(n.domNode.removeAttribute("monaco-visible-view-zone"),n.isVisible=!1),this._safeCallOnDomNodeTop(n.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),n.domNode.setTop(s),n.domNode.setHeight(a),n.domNode.setDisplay(l),n.marginDomNode&&(n.marginDomNode.setTop(s),n.marginDomNode.setHeight(a),n.marginDomNode.setDisplay(l))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class ci{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class hi{constructor(e,t,i){this.configuration=e,this.theme=new ci(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class di{constructor(e,t,i,n){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new re.a(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class ui extends T{constructor(e,t,i,n,o,r){super(),this._selections=[new b.a(1,1,1,1)],this._renderAnimationFrame=null;const s=new He(t,n,o,e);this._context=new hi(t,i.getColorTheme(),n),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(i.onDidColorThemeChange(e=>{this._context.theme.update(e),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new We(this._context,s,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=Object(_.b)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=Object(_.b)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=Object(_.b)(document.createElement("div")),A.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new dt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new vt(this._context,this._linesContent),this._viewZones=new li(this._context),this._viewParts.push(this._viewZones);const a=new $t(this._context);this._viewParts.push(a);const l=new Xt(this._context);this._viewParts.push(l);const c=new Qe(this._context);this._viewParts.push(c),c.addDynamicOverlay(new at(this._context)),c.addDynamicOverlay(new ii(this._context)),c.addDynamicOverlay(new mt(this._context)),c.addDynamicOverlay(new ct(this._context));const h=new Je(this._context);this._viewParts.push(h),h.addDynamicOverlay(new lt(this._context)),h.addDynamicOverlay(new pt(this._context)),h.addDynamicOverlay(new wt(this._context)),h.addDynamicOverlay(new Ct(this._context)),h.addDynamicOverlay(new Ae(this._context));const d=new Re(this._context);d.getDomNode().appendChild(this._viewZones.marginDomNode),d.getDomNode().appendChild(h.getDomNode()),this._viewParts.push(d),this._contentWidgets=new tt(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new si(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Ut(this._context),this._viewParts.push(this._overlayWidgets);const u=new Zt(this._context);this._viewParts.push(u);const g=new Ht(this._context);if(this._viewParts.push(g),a){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(a.getDomNode(),e.insertBefore)}this._linesContent.appendChild(c.getDomNode()),this._linesContent.appendChild(u.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(d.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(l.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(g.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),r?r.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Ie(this._context,s,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new he(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new oe.a(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new oe.a(e,t)))}}_applyLayout(){const e=this._context.configuration.options.get(129);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+Object(Me.e)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=c.T(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(e){try{e()}catch(t){Object(h.e)(t)}}(()=>this._actualRender())}_getViewPartsToRender(){let e=[],t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!c.N(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new di(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const n=new R(this._context.viewLayout,i,this._viewLines);for(const o of e)o.prepareRender(n);for(const o of e)o.render(n),o.onDidRender();Math.abs(f.a()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const i=this._context.model.validateModelPosition({lineNumber:e,column:t}),n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new oe.a(n.lineNumber,n.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?ze.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new Yt(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const e of this._viewParts)e.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(null===t){const i=e.position?e.position.position:null;null!==i&&(t=new re.a(i.lineNumber,i.column,i.lineNumber,i.column))}const i=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}class gi{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new se.f(new re.a(1,1,1,1),0,new oe.a(1,1),0),new se.f(new re.a(1,1,1,1),0,new oe.a(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new se.d(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new b.a(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new b.a(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,n){return t.equals(i)?n:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,n=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),r=e.normalizePosition(i,2),s=this._validatePositionWithCache(e,n,i,r),a=this._validatePositionWithCache(e,o,n,s);return i.equals(r)&&n.equals(s)&&o.equals(a)?t:new se.f(re.a.fromPositions(s,a),t.selectionStartLeftoverVisibleColumns+n.column-s.column,r,t.leftoverVisibleColumns+i.column-r.column)}_setState(e,t,i){if(i&&(i=gi._validateViewState(e.viewModel,i)),t){const i=e.model.validateRange(t.selectionStart),n=t.selectionStart.equalsRange(i)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),r=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new se.f(i,n,o,r)}else{if(!i)return;const n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new se.f(n,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){const n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new se.f(n,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const n=e.coordinatesConverter.convertModelPositionToViewPosition(new oe.a(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new oe.a(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),r=new re.a(n.lineNumber,n.column,o.lineNumber,o.column),s=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new se.f(r,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class pi{constructor(e){this.context=e,this.primaryCursor=new gi(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;i.isBefore(e)&&(e=i)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;e.isBeforeOrEqual(i)&&(e=i)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(se.d.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.secondaryCursors.length,i=e.length;if(t<i){let e=i-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>i){let e=t-i;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let n=0;n<i;n++)this.secondaryCursors[n].setState(this.context,e[n].modelState,e[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new gi(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(0===this.secondaryCursors.length)return;let e=this._getAll(),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort((e,t)=>e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber);for(let i=0;i<t.length-1;i++){const n=t[i],o=t[i+1],r=n.selection,s=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=s.isEmpty()||r.isEmpty()?s.getStartPosition().isBeforeOrEqual(r.getEndPosition()):s.getStartPosition().isBefore(r.getEndPosition()),a){const r=n.index<o.index?i:i+1,s=n.index<o.index?i+1:i,a=t[s].index,l=t[r].index,c=t[s].selection,h=t[r].selection;if(!c.equalsSelection(h)){const i=c.plusRange(h),n=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn,o=h.selectionStartLineNumber===h.startLineNumber&&h.selectionStartColumn===h.startColumn;let s,d;a===this.lastAddedCursorIndex?(s=n,this.lastAddedCursorIndex=l):s=o,d=s?new b.a(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new b.a(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn),t[r].selection=d;const u=se.d.fromModelSelection(d);e[l].setState(this.context,u.modelState,u.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(s,1),this._removeSecondaryCursor(a-1),i--}}}}var mi=i("snIX"),fi=i("GR/f"),bi=i("M46C");class _i{constructor(){this.type=0}}class vi{constructor(){this.type=1}}class Ci{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class wi{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class yi{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class Si{constructor(){this.type=5}}class Li{constructor(e){this.type=6,this.isFocused=e}}class xi{constructor(){this.type=7}}class ki{constructor(){this.type=8}}class Di{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class Ii{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class Oi{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class Ni{constructor(e,t,i,n,o,r){this.type=12,this.source=e,this.range=t,this.selections=i,this.verticalType=n,this.revealHorizontal=o,this.scrollType=r}}class Ei{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Ti{constructor(){this.type=14}}class Mi{constructor(e){this.type=15,this.ranges=e}}class Ai{constructor(){this.type=16}}class Ri{constructor(){this.type=17}}class Pi extends u.a{constructor(){super(),this._onEvent=this._register(new d.b),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOugoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new Fi),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOugoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class Fi{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class ji{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new ji(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Bi{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new Bi(this.oldHasFocus,e.hasFocus)}}class Wi{constructor(e,t,i,n,o,r,s,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=o,this.scrollLeft=r,this.scrollHeight=s,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(e){return 2!==e.kind?this:new Wi(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Vi{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class Hi{constructor(e,t,i,n,o,r,s){this.kind=5,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=o,this.reason=r,this.reachedMaxCursorCount=s}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!e[n].equalsSelection(t[n]))return!1;return!0}isNoOp(){return Hi._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 5!==e.kind?this:new Hi(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class zi{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}class Ui{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class Ki{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){let t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const e=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(e&&(t.push(e),e.startLineNumber!==e.endLineNumber))return!1}t.sort(re.a.compareRangesUsingStarts),e.sort(re.a.compareRangesUsingStarts);for(let i=0;i<e.length;i++){if(i>=t.length)return!1;if(!t[i].strictContainsRange(e[i]))return!1}return!0}}class qi extends u.a{constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new se.c(this._model,this._viewModel,this._coordinatesConverter,n),this._cursors=new pi(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=Object(u.f)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new se.c(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let o=!1;null!==n&&n.length>qi.MAX_CURSOR_COUNT&&(n=n.slice(0,qi.MAX_CURSOR_COUNT),o=!0);const r=new Ui(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,r,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n){const o=this._cursors.getViewPositions();if(o.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,i,n);else{const r=o[0],s=new re.a(r.lineNumber,r.column,r.lineNumber,r.column);this._emitCursorRevealRange(e,t,s,null,0,i,n)}}_revealPrimaryCursor(e,t,i,n,o){const r=this._cursors.getViewPositions();if(r.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),i,n,o);else{const s=r[0],a=new re.a(s.lineNumber,s.column,s.lineNumber,s.column);this._emitCursorRevealRange(e,t,a,null,i,n,o)}}_emitCursorRevealRange(e,t,i,n,o,r,s){e.emitViewEvent(new Ni(t,i,n,o,r,s))}saveState(){let e=[];const t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push({inSelectionMode:!n.isEmpty(),selectionStart:{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn},position:{lineNumber:n.positionLineNumber,column:n.positionColumn}})}return e}restoreState(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){const e=t[n];let o=1,r=1;e.position&&e.position.lineNumber&&(o=e.position.lineNumber),e.position&&e.position.column&&(r=e.position.column);let s=o,a=r;e.selectionStart&&e.selectionStart.lineNumber&&(s=e.selectionStart.lineNumber),e.selectionStart&&e.selectionStart.column&&(a=e.selectionStart.column),i.push({selectionStartLineNumber:s,selectionStartColumn:a,positionLineNumber:o,positionColumn:r})}this.setStates(e,"restoreState",0,se.d.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(t instanceof bi.c){const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,se.d.fromModelSelections(t))}else{if(this._knownModelVersionId=t.versionId,this._isHandling)return;const i=t.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new pi(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const i=se.d.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,i)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,se.d.fromModelSelections(t))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:se.a.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:se.a.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,n){this.setStates(e,t,n,se.d.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],n=[];for(let s=0,a=e.length;s<a;s++)i.push({range:e[s],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[s],options:{description:"auto-closed-enclosing",stickiness:1}});const o=this._model.deltaDecorations([],i),r=this._model.deltaDecorations([],n);this._autoClosedActions.push(new Ki(this._model,o,r))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=class{static executeCommands(e,t,i){const n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(n,i);for(let r=0,s=n.trackedRanges.length;r<s;r++)n.model._setTrackedRange(n.trackedRanges[r],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(0===i.operations.length)return null;const n=i.operations,o=this._getLoserCursorMap(n);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let r=[];for(let l=0,c=n.length;l<c;l++)o.hasOwnProperty(n[l].identifier.major.toString())||r.push(n[l]);i.hadTrackedEditOperation&&r.length>0&&(r[0]._isTracked=!0);let s=e.model.pushEditOperations(e.selectionsBefore,r,i=>{let n=[];for(let t=0;t<e.selectionsBefore.length;t++)n[t]=[];for(const e of i)e.identifier&&n[e.identifier.major].push(e);const o=(e,t)=>e.identifier.minor-t.identifier.minor;let r=[];for(let s=0;s<e.selectionsBefore.length;s++)n[s].length>0?(n[s].sort(o),r[s]=t[s].computeCursorState(e.model,{getInverseEditOperations:()=>n[s],getTrackedSelection:t=>{const i=parseInt(t,10),n=e.model._getTrackedRange(e.trackedRanges[i]);return 0===e.trackedRangesDirection[i]?new b.a(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new b.a(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}})):r[s]=e.selectionsBefore[s];return r});s||(s=e.selectionsBefore);let a=[];for(let l in o)o.hasOwnProperty(l)&&a.push(parseInt(l,10));a.sort((e,t)=>t-e);for(const l of a)s.splice(l,1);return s}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let o=0,r=t.length;o<r;o++){const r=t[o];if(r){const t=this._getEditOperationsFromCommand(e,o,r);i=i.concat(t.operations),n=n||t.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){let n=[],o=0;const r=(e,r,s=!1)=>{re.a.isEmpty(e)&&""===r||n.push({identifier:{major:t,minor:o++},range:e,text:r,forceMoveMarkers:s,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let s=!1;const a={addEditOperation:r,addTrackedEditOperation:(e,t,i)=>{s=!0,r(e,t,i)},trackSelection:(t,i)=>{const n=b.a.liftSelection(t);let o;if(n.isEmpty())if("boolean"==typeof i)o=i?2:3;else{const t=e.model.getLineMaxColumn(n.startLineNumber);o=n.startColumn===t?2:3}else o=1;const r=e.trackedRanges.length,s=e.model._setTrackedRange(null,n,o);return e.trackedRanges[r]=s,e.trackedRangesDirection[r]=n.getDirection(),r.toString()}};try{i.getEditOperations(e.model,a)}catch(l){return Object(h.e)(l),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:s}}static _getLoserCursorMap(e){(e=e.slice(0)).sort((e,t)=>-re.a.compareRangesUsingEnds(e.range,t.range));let t={};for(let i=1;i<e.length;i++){const n=e[i-1],o=e[i];if(re.a.getStartPosition(n.range).isBefore(re.a.getEndPosition(o.range))){let r;r=n.identifier.major>o.identifier.major?n.identifier.major:o.identifier.major,t[r.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===r&&(e.splice(t,1),t<i&&i--,t--);i>0&&i--}}return t}}.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let i=[],n=[];for(let t=0;t<e.commands.length;t++){const o=e.commands[t];o instanceof fi.b&&o.enclosingRange&&o.closeCharacterRange&&(i.push(o.closeCharacterRange),n.push(o.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,o){const r=new Ui(this._model,this);if(r.equals(n))return!1;const s=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new wi(a,s)),!n||n.cursorState.length!==r.cursorState.length||r.cursorState.some((e,t)=>!e.modelState.equals(n.cursorState[t].modelState))){const a=n?n.cursorState.map(e=>e.modelState.selection):null,l=n?n.modelVersionId:0;e.emitOutgoingEvent(new Hi(a,s,l,r.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.text||n.text.indexOf("\n")>=0)return null;const o=n.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const r=o[1],s=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(r);if(!s||1!==s.length)return null;const a=s[0].open,l=n.text.length-o[2].length-1,c=n.text.lastIndexOf(a,l-1);if(-1===c)return null;t.push([c,l])}return t}executeEdits(e,t,i,n){let o=null;"snippet"===t&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);let r=[],s=[];const a=this._model.pushEditOperations(this.getSelections(),i,e=>{if(o)for(let i=0,n=o.length;i<n;i++){const[t,n]=o[i],a=e[i],l=a.range.startLineNumber,c=a.range.startColumn-1+t,h=a.range.startColumn-1+n;r.push(new re.a(l,h+1,l,h+2)),s.push(new re.a(l,c+1,l,h+2))}const t=n(e);return t&&(this._isHandling=!0),t});a&&(this._isHandling=!1,this.setSelections(e,t,a,0)),r.length>0&&this._pushAutoClosedAction(r,s)}_executeEdit(e,t,i,n=0){if(this.context.cursorConfig.readOnly)return;const o=new Ui(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(r){Object(h.e)(r)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,o,!1)&&this._revealPrimaryCursor(t,i,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return Ki.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit(()=>{"keyboard"===t&&(this._executeEditOperation(fi.a.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,t)}type(e,t,i){this._executeEdit(()=>{if("keyboard"===i){const e=t.length;let i=0;for(;i<e;){const e=Oe.L(t,i),n=t.substr(i,e);this._executeEditOperation(fi.a.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),n)),i+=e}}else this._executeEditOperation(fi.a.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,n,o,r){if(0!==t.length||0!==i||0!==n)this._executeEdit(()=>{this._executeEditOperation(fi.a.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,n,o))},e,r);else if(0!==o){const t=this.getSelections().map(e=>{const t=e.getPosition();return new b.a(t.lineNumber,t.column+o,t.lineNumber,t.column+o)});this.setSelections(e,r,t,0)}}paste(e,t,i,n,o){this._executeEdit(()=>{this._executeEditOperation(fi.a.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))},e,o,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(mi.a.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new se.e(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new se.e(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}qi.MAX_CURSOR_COUNT=1e4;var $i=i("9Y+e"),Gi=i("iuje"),Yi=i("wQH0"),Zi=i("TQUy"),Xi=i("QuOb");class Qi{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}}class Ji{constructor(e,t,i,n,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=o,this.prefixSum=0}}class en{constructor(e,t,i,n){this._instanceId=Oe.Q(++en.INSTANCE_COUNT),this._pendingChanges=new Qi,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,o=e.length;for(;n<o;){const r=n+o>>>1;t===e[r].afterLineNumber?i<e[r].ordinal?o=r:n=r+1:t<e[r].afterLineNumber?o=r:n=r+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,i,n,o)=>{t=!0,e|=0,i|=0,n|=0,o|=0;const r=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Ji(r,e,i,n,o)),r},changeOneWhitespace:(e,i,n)=>{t=!0,i|=0,n|=0,this._pendingChanges.change({id:e,newAfterLineNumber:i,newHeight:n})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of i){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const n=new Set;for(const a of i)n.add(a.id);const o=new Map;for(const a of t)o.set(a.id,a);const r=e=>{let t=[];for(const i of e)if(!n.has(i.id)){if(o.has(i.id)){const e=o.get(i.id);i.afterLineNumber=e.newAfterLineNumber,i.height=e.newHeight}t.push(i)}return t},s=r(this._arr).concat(r(e));s.sort((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber),this._arr=s,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=en.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const n=this._findWhitespaceIndex(e);if(-1!==n&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){const e=this._arr[n];this._removeWhitespace(n),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const n=this._arr[i].afterLineNumber;e<=n&&n<=t?this._arr[i].afterLineNumber=e-1:n>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){e<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let i=0,n=t.length-1;for(;i<=n;){const o=i+((n-i|0)/2|0)|0;if(t[o].afterLineNumber<e){if(o+1>=t.length||t[o+1].afterLineNumber>=e)return o;i=o+1|0}else n=o-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){let t;this._checkPendingChanges(),t=(e|=0)>1?this._lineHeight*(e-1):0;return t+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();return e>this.getLinesTotalHeight()}isInTopPadding(e){return 0!==this._paddingTop&&(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(0===this._paddingBottom)return!1;this._checkPendingChanges();return e>=this.getLinesTotalHeight()-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,i=this._lineHeight;let n=1,o=t;for(;n<o;){const t=(n+o)/2|0,r=0|this.getVerticalOffsetForLineNumber(t);if(e>=r+i)n=t+1;else{if(e>=r)return t;o=t}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this._lineHeight,n=0|this.getLineNumberAtOrAfterVerticalOffset(e),o=0|this.getVerticalOffsetForLineNumber(n);let r=0|this._lineCount,s=0|this.getFirstWhitespaceIndexAfterLineNumber(n);const a=0|this.getWhitespacesCount();let l,c;-1===s?(s=a,c=r+1,l=0):(c=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));let h=o,d=h;let u=0;o>=5e5&&(u=5e5*Math.floor(o/5e5),u=Math.floor(u/i)*i,d-=u);const g=[],p=e+(t-e)/2;let m=-1;for(let v=n;v<=r;v++){if(-1===m){const e=h,t=h+i;(e<=p&&p<t||e>p)&&(m=v)}for(h+=i,g[v-n]=d,d+=i;c===v;)d+=l,h+=l,s++,s>=a?c=r+1:(c=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));if(h>=t){r=v;break}}-1===m&&(m=r);const f=0|this.getVerticalOffsetForLineNumber(r);let b=n,_=r;return b<_&&o<e&&b++,b<_&&f+i>t&&_--,{bigNumbersDelta:u,startLineNumber:n,endLineNumber:r,relativeVerticalOffset:g,centeredLineNumber:m,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:_}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i,n;return i=t>=1?this._lineHeight*t:0,n=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(i)+this.getHeightForWhitespaceIndex(i))return-1;for(;t<i;){const n=Math.floor((t+i)/2),o=this.getVerticalOffsetForWhitespaceIndex(n);if(e>=o+this.getHeightForWhitespaceIndex(n))t=n+1;else{if(e>=o)return n;i=n}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const n=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];let o=[];for(let r=i;r<=n;r++){const e=this.getVerticalOffsetForWhitespaceIndex(r),i=this.getHeightForWhitespaceIndex(r);if(e>=t)break;o.push({id:this.getIdForWhitespaceIndex(r),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:e,height:i})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}en.INSTANCE_COUNT=0;class tn{constructor(e,t,i,n){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(i|=0)<0&&(i=0),(n|=0)<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class nn extends u.a{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new d.b),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new tn(0,0,0,0),this._scrollable=this._register(new Xi.a(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new ji(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class on extends u.a{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options,o=n.get(129),r=n.get(73);this._linesLayout=new en(t,n.get(57),r.top,r.bottom),this._scrollable=this._register(new nn(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new tn(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(57)&&this._linesLayout.setLineHeight(t.get(57)),e.hasChanged(73)){const e=t.get(73);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(129)){const e=t.get(129),i=e.contentWidth,n=e.height,o=this._scrollable.getScrollDimensions(),r=o.contentWidth;this._scrollable.setScrollDimensions(new tn(i,o.contentWidth,n,this._getContentHeight(i,n,r)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const i=this._configuration.options.get(91);return 2===i.horizontal||e>=t?0:i.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return n.get(93)?o+=Math.max(0,t-n.get(57)-n.get(73).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new tn(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new xt.h(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new xt.h(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(130),n=t.get(41);if(i.isViewportWrapping){const i=t.get(129),o=t.get(63);return e>i.contentWidth+n.typicalHalfwidthCharacterWidth&&o.enabled&&"right"===o.side?e+i.verticalScrollbarWidth:e}{const i=t.get(92)*n.typicalHalfwidthCharacterWidth,o=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+i,o)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new tn(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}var rn=i("4bUh"),sn=i("tX9W"),an=i("LeU+");class ln{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}}class cn{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const t=this._counts[e],i=e>0?this._modelToView[e-1]:0;this._modelToView[e]=i+t;for(let n=0;n<t;n++)this._viewToModel[i+n]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=ot.b(this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],i=t>0?this._modelToView[t-1]:0;return new an.b(t,e-i)}}class hn{constructor(e,t,i,n,o,r,s,a,l){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=o,this.tabSize=r,this.wrappingStrategy=s,this.wrappingColumn=a,this.wrappingIndent=l,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new ln(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);const i=this.model.getLinesContent(),n=this.model.getInjectedTextDecorations(this._editorId),o=bi.b.fromDecorations(n),r=i.length,s=this.createLineBreaksComputer(),a=o.length;let l=0,c=l<a?o[l].lineNumber:r+1;for(let b=0;b<r;b++){let e=null;if(b+1===c)for(e=[];b+1===c&&l<a;)e.push(o[l]),l++,c=l<a?o[l].lineNumber:r+1;s.addRequest(i[b],e,t?t[b]:null)}const h=s.finalize();let d=[],u=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(re.a.compareRangesUsingStarts),g=1,p=0,m=-1,f=m+1<u.length?p+1:r+2;for(let b=0;b<r;b++){let e=b+1;e===f&&(m++,g=u[m].startLineNumber,p=u[m].endLineNumber,f=m+1<u.length?p+1:r+2);let t=e>=g&&e<=p,i=bn(h[b],!t);d[b]=i.getViewLineCount(),this.lines[b]=i}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new cn(d)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(0===e.length)return[];let t=e.map(e=>this.model.validateRange(e)).sort(re.a.compareRangesUsingStarts),i=[],n=t[0].startLineNumber,o=t[0].endLineNumber;for(let r=1,s=t.length;r<s;r++){let e=t[r];e.startLineNumber>o+1?(i.push(new re.a(n,1,o,1)),n=e.startLineNumber,o=e.endLineNumber):e.endLineNumber>o&&(o=e.endLineNumber)}return i.push(new re.a(n,1,o,1)),i}setHiddenAreas(e){let t=this._reduceRanges(e),i=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(re.a.compareRangesUsingStarts);if(t.length===i.length){let e=!1;for(let n=0;n<t.length;n++)if(!t[n].equalsRange(i[n])){e=!0;break}if(!e)return!1}let n=[];for(const h of t)n.push({range:h,options:sn.a.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,n);let o=t,r=1,s=0,a=-1,l=a+1<o.length?s+1:this.lines.length+2,c=!1;for(let h=0;h<this.lines.length;h++){let e=h+1;e===l&&(a++,r=o[a].startLineNumber,s=o[a].endLineNumber,l=a+1<o.length?s+1:this.lines.length+2);let t=!1;if(e>=r&&e<=s?this.lines[h].isVisible()&&(this.lines[h]=this.lines[h].setVisible(!1),t=!0):(c=!0,this.lines[h].isVisible()||(this.lines[h]=this.lines[h].setVisible(!0),t=!0)),t){let e=this.lines[h].getViewLineCount();this.prefixSumComputer.changeValue(h,e)}}return c||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){const o=this.fontInfo.equals(e),r=this.wrappingStrategy===t,s=this.wrappingColumn===i,a=this.wrappingIndent===n;if(o&&r&&s&&a)return!1;const l=o&&r&&!s&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let c=null;if(l){c=[];for(let e=0,t=this.lines.length;e<t;e++)c[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,c),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;let n=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1),new Ii(n,o)}onModelLinesInserted(e,t,i,n){if(!e||e<=this._validModelVersionId)return null;const o=t>2&&!this.lines[t-2].isVisible();let r=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=0,a=[],l=[];for(let c=0,h=n.length;c<h;c++){let e=bn(n[c],!o);a.push(e);let t=e.getViewLineCount();s+=t,l[c]=t}return this.lines=this.lines.slice(0,t-1).concat(a).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,l),new Oi(r,r+s-1)}onModelLineChanged(e,t,i){if(null!==e&&e<=this._validModelVersionId)return[!1,null,null,null];let n=t-1,o=this.lines[n].getViewLineCount(),r=bn(i,this.lines[n].isVisible());this.lines[n]=r;let s=this.lines[n].getViewLineCount(),a=!1,l=0,c=-1,h=0,d=-1,u=0,g=-1;o>s?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=l+s-1,u=c+1,g=u+(o-s)-1,a=!0):o<s?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=l+o-1,h=c+1,d=h+(s-o)-1,a=!0):(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=l+s-1),this.prefixSumComputer.changeValue(n,s);return[a,l<=c?new Di(l,c):null,h<=d?new Oi(h,d):null,u<=g?new Ii(u,g):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),s=this.model.getActiveIndentGuide(n.lineNumber,o.lineNumber,r.lineNumber),a=this.convertModelPositionToViewPosition(s.startLineNumber,1),l=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:s.indent}}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[],r=[],s=[];const a=i.lineNumber-1,l=n.lineNumber-1;let c=null;for(let g=a;g<=l;g++){const e=this.lines[g];if(e.isVisible()){let t=e.getViewLineNumberOfModelPosition(0,g===a?i.column:1),n=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(g+1)),o=n-t+1,l=0;o>1&&1===e.getViewLineMinColumn(this.model,g+1,n)&&(l=0===t?1:2),r.push(o),s.push(l),null===c&&(c=new oe.a(g+1,0))}else null!==c&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,g)),c=null)}null!==c&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,n.lineNumber)),c=null);const h=t-e+1;let d=new Array(h),u=0;for(let g=0,p=o.length;g<p;g++){let e,t=o[g],i=Math.min(h-u,r[g]),n=s[g];e=2===n?0:1===n?1:i;for(let o=0;o<i;o++)o===e&&(t=0),d[u++]=t}return d}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineContent(this.model,i+1,n)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineLength(this.model,i+1,n)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,n)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,n)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineData(this.model,i+1,n)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let n=this.prefixSumComputer.getIndexOf(e-1),o=e,r=n.index,s=n.remainder,a=[];for(let l=r,c=this.model.getLineCount();l<c;l++){let n=this.lines[l];if(!n.isVisible())continue;let c=l===r?s:0,h=n.getViewLineCount()-c,d=!1;o+h>t&&(d=!0,h=t-o+1);let u=c+h;if(n.getViewLinesData(this.model,l+1,c,u,o-e,i,a),o+=h,d)break}return a}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),o=n.index,r=n.remainder,s=this.lines[o],a=s.getViewLineMinColumn(this.model,o+1,r),l=s.getViewLineMaxColumn(this.model,o+1,r);t<a&&(t=a),t>l&&(t=l);let c=s.getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new oe.a(o+1,c)).equals(i)?new oe.a(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new re.a(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),n=i.index,o=i.remainder,r=this.lines[n].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new oe.a(n+1,r))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new re.a(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){const n=this.model.validatePosition(new oe.a(e,t)),o=n.lineNumber,r=n.column;let s=o-1,a=!1;for(;s>0&&!this.lines[s].isVisible();)s--,a=!0;if(0===s&&!this.lines[s].isVisible())return new oe.a(1,1);const l=1+(0===s?0:this.prefixSumComputer.getAccumulatedValue(s-1));let c;return c=a?this.lines[s].getViewPositionOfModelPosition(l,this.model.getLineMaxColumn(s+1),i):this.lines[o-1].getViewPositionOfModelPosition(l,r,i),c}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return re.a.fromPositions(i)}{const t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),i=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new re.a(t.lineNumber,t.column,i.lineNumber,i.column)}}_getViewLineNumberForModelPosition(e,t){let i=e-1;if(this.lines[i].isVisible()){const e=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(e,t)}for(;i>0&&!this.lines[i].isVisible();)i--;if(0===i&&!this.lines[i].isVisible())return 1;const n=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getAllOverviewRulerDecorations(e,t,i){const n=this.model.getOverviewRulerDecorations(e,t),o=new Cn;for(const r of n){const e=r.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const n=e.getColor(i),s=this._getViewLineNumberForModelPosition(r.range.startLineNumber,r.range.startColumn),a=this._getViewLineNumberForModelPosition(r.range.endLineNumber,r.range.endColumn);o.accept(n,s,a,t)}return o.result}getDecorationsInRange(e,t,i){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new re.a(n.lineNumber,1,o.lineNumber,o.column),t,i);let r=[];const s=n.lineNumber-1,a=o.lineNumber-1;let l=null;for(let u=s;u<=a;u++){if(this.lines[u].isVisible())null===l&&(l=new oe.a(u+1,u===s?n.column:1));else if(null!==l){const e=this.model.getLineMaxColumn(u);r=r.concat(this.model.getDecorationsInRange(new re.a(l.lineNumber,l.column,u,e),t,i)),l=null}}null!==l&&(r=r.concat(this.model.getDecorationsInRange(new re.a(l.lineNumber,l.column,o.lineNumber,o.column),t,i)),l=null),r.sort((e,t)=>{const i=re.a.compareRangesUsingStarts(e.range,t.range);return 0===i?e.id<t.id?-1:e.id>t.id?1:0:i});let c=[],h=0,d=null;for(const u of r){const e=u.id;d!==e&&(d=e,c[h++]=u)}return c}getInjectedTextAt(e){const t=this._toValidViewLineNumber(e.lineNumber),i=this.prefixSumComputer.getIndexOf(t-1),n=i.index,o=i.remainder;return this.lines[n].getInjectedTextAt(o,e.column)}normalizePosition(e,t){const i=this._toValidViewLineNumber(e.lineNumber),n=this.prefixSumComputer.getIndexOf(i-1),o=n.index,r=n.remainder;return this.lines[o].normalizePosition(this.model,o+1,r,e,t)}getLineIndentColumn(e){const t=this._toValidViewLineNumber(e),i=this.prefixSumComputer.getIndexOf(t-1),n=i.index;return 0===i.remainder?this.model.getLineIndentColumn(n+1):0}}class dn{constructor(){}isVisible(){return!0}setVisible(e){return e?this:un.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let n=e.getLineTokens(t),o=n.getLineContent();return new xt.e(o,!1,1,o.length+1,0,n.inflate(),null)}getViewLinesData(e,t,i,n,o,r,s){r[o]?s[o]=this.getViewLineData(e,t,0):s[o]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new oe.a(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i,n,o){return n}getInjectedTextAt(e,t){return null}}dn.INSTANCE=new dn;class un{constructor(){}isVisible(){return!1}setVisible(e){return e?dn.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,o,r,s){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i,n,o){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}un.INSTANCE=new un;class gn{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,t,i){return i+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:this._lineBreakData.getInputOffsetOfOutputPosition(i+1,0)}getViewLineContent(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=i>0?this._lineBreakData.breakOffsets[i-1]:0,o=i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let r;if(null!==this._lineBreakData.injectionOffsets){const i=this._lineBreakData.injectionOffsets.map((e,t)=>new bi.b(0,0,e+1,this._lineBreakData.injectionOptions[t],0));r=bi.b.applyInjectedText(e.getLineContent(t),i).substring(n,o)}else r=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(r=mn(this._lineBreakData.wrappedTextIndentLength)+r),r}getViewLineLength(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=i>0?this._lineBreakData.breakOffsets[i-1]:0;let o=(i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-n;return i>0&&(o=this._lineBreakData.wrappedTextIndentLength+o),o}getViewLineMinColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(i)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,t,i)+1}getViewLineData(e,t,i){if(!this._isVisible)throw new Error("Not supported");const n=this._lineBreakData,o=i>0?n.wrappedTextIndentLength:0,r=n.injectionOffsets,s=n.injectionOptions;let a,l,c;if(r){const h=e.getLineTokens(t).withInserted(r.map((e,t)=>({offset:e,text:s[t].content,tokenMetadata:rn.a.defaultTokenMetadata}))),d=i>0?n.breakOffsets[i-1]:0,u=n.breakOffsets[i];a=h.getLineContent().substring(d,u),l=h.sliceAndInflate(d,u,o),c=new Array;let g=0;for(let e=0;e<r.length;e++){const t=s[e].content.length,o=r[e]+g,a=r[e]+g+t;if(o>u)break;if(d<a){const t=s[e];if(t.inlineClassName){const e=i>0?n.wrappedTextIndentLength:0,r=e+Math.max(o-d,0),s=e+Math.min(a-d,u);r!==s&&c.push(new xt.d(r,s,t.inlineClassName,t.inlineClassNameAffectsLetterSpacing))}}g+=t}}else{const n=this.getInputStartOffsetOfOutputLineIndex(i),r=this.getInputEndOffsetOfOutputLineIndex(e,t,i),s=e.getLineTokens(t);a=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:r+1}),l=s.sliceAndInflate(n,r,o),c=null}i>0&&(a=mn(n.wrappedTextIndentLength)+a);const h=i>0?n.wrappedTextIndentLength+1:1,d=a.length+1,u=i+1<this.getViewLineCount(),g=0===i?0:n.breakOffsetsVisibleColumn[i-1];return new xt.e(a,u,h,d,g,l,c)}getViewLinesData(e,t,i,n,o,r,s){if(!this._isVisible)throw new Error("Not supported");for(let a=i;a<n;a++){let n=o+a-i;r[n]?s[n]=this.getViewLineData(e,t,a):s[n]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let i=t-1;return e>0&&(i<this._lineBreakData.wrappedTextIndentLength?i=0:i-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,i)+1}getViewPositionOfModelPosition(e,t,i=2){if(!this._isVisible)throw new Error("Not supported");let n=this._lineBreakData.getOutputPositionOfInputOffset(t-1,i),o=n.outputLineIndex,r=n.outputOffset+1;return o>0&&(r+=this._lineBreakData.wrappedTextIndentLength),new oe.a(e+o,r)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");return e+this._lineBreakData.getOutputPositionOfInputOffset(t-1).outputLineIndex}normalizePosition(e,t,i,n,o){if(null!==this._lineBreakData.injectionOffsets){const e=n.lineNumber-i,t=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(i,n.column-1),r=this._lineBreakData.normalizeOffsetAroundInjections(t,o);if(r!==t)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(r,o).toPosition(e,this._lineBreakData.wrappedTextIndentLength)}if(0===o){if(i>0&&n.column===this._getViewLineMinColumn(i))return new oe.a(n.lineNumber-1,this.getViewLineMaxColumn(e,t,i-1))}else if(1===o){if(i<this.getViewLineCount()-1&&n.column===this.getViewLineMaxColumn(e,t,i))return new oe.a(n.lineNumber+1,this._getViewLineMinColumn(i+1))}return n}getInjectedTextAt(e,t){return this._lineBreakData.getInjectedText(e,t-1)}}let pn=[""];function mn(e){if(e>=pn.length)for(let t=1;t<=e;t++)pn[t]=fn(t);return pn[e]}function fn(e){return new Array(e+1).join(" ")}function bn(e,t){return null===e?t?dn.INSTANCE:un.INSTANCE:new gn(e,t)}class _n{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}}class vn{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new _n(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i,n)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new Ii(t,i)}onModelLinesInserted(e,t,i,n){return new Oi(t,i)}onModelLineChanged(e,t,i){return[!1,new Di(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesIndentGuides(e,t){const i=t-e+1;let n=new Array(i);for(let o=0;o<i;o++)n[o]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),i=t.getLineContent();return new xt.e(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);let o=[];for(let r=e;r<=t;r++){let t=r-e;i[t]||(o[t]=null),o[t]=this.getViewLineData(r)}return o}getAllOverviewRulerDecorations(e,t,i){const n=this.model.getOverviewRulerDecorations(e,t),o=new Cn;for(const r of n){const e=r.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const n=e.getColor(i),s=r.range.startLineNumber,a=r.range.endLineNumber;o.accept(n,s,a,t)}return o.result}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class Cn{constructor(){this.result=Object.create(null)}accept(e,t,i,n){let o=this.result[e];if(o){const e=o[o.length-3],r=o[o.length-1];if(e===n&&r+1>=t)return void(i>r&&(o[o.length-1]=i));o.push(n,t,i)}else this.result[e]=[n,t,i]}}class wn{constructor(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const n=e.range,o=e.options;let r;if(o.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new oe.a(n.startLineNumber,1),0),t=this._coordinatesConverter.convertModelPositionToViewPosition(new oe.a(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);r=new re.a(e.lineNumber,e.column,t.lineNumber,t.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(n,1);i=new xt.g(r,o),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,Object(K.m)(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber;let o=[],r=0,s=[];for(let a=i;a<=n;a++)s[a-i]=[];for(let a=0,l=t.length;a<l;a++){let e=t[a],l=e.options,c=this._getOrCreateViewModelDecoration(e),h=c.range;if(o[r++]=c,l.inlineClassName){let e=new xt.a(h,l.inlineClassName,l.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(i,h.startLineNumber),o=Math.min(n,h.endLineNumber);for(let n=t;n<=o;n++)s[n-i].push(e)}if(l.beforeContentClassName&&i<=h.startLineNumber&&h.startLineNumber<=n){let e=new xt.a(new re.a(h.startLineNumber,h.startColumn,h.startLineNumber,h.startColumn),l.beforeContentClassName,1);s[h.startLineNumber-i].push(e)}if(l.afterContentClassName&&i<=h.endLineNumber&&h.endLineNumber<=n){let e=new xt.a(new re.a(h.endLineNumber,h.endColumn,h.endLineNumber,h.endColumn),l.afterContentClassName,2);s[h.endLineNumber-i].push(e)}}return{decorations:o,inlineDecorations:s}}}class yn extends u.a{constructor(e,t,i,n,o,r){if(super(),this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new Pi,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new se.b(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new y.e(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new y.e(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new vn(this.model);else{const e=this._configuration.options,t=e.get(41),i=e.get(123),r=e.get(130),s=e.get(122);this._lines=new hn(this._editorId,this.model,n,o,t,this.model.getOptions().tabSize,i,r.wrappingColumn,s)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new qi(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new on(this._configuration,this.getLineCount(),r)),this._register(this.viewLayout.onDidScroll(e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Ei(e)),this._eventDispatcher.emitOutgoingEvent(new Wi(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(e=>{this._eventDispatcher.emitOutgoingEvent(e)})),this._decorations=new wn(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Lt.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Ai)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=this.coordinatesConverter.convertViewPositionToModelPosition(new oe.a(e.startLineNumber,1)),i=this.coordinatesConverter.convertViewPositionToModelPosition(new oe.a(e.endLineNumber,1));this.model.tokenizeViewport(t.lineNumber,i.lineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new Li(e)),this._eventDispatcher.emitOutgoingEvent(new Bi(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new _i)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new vi)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new Ti)}_onConfigurationChanged(e,t){let i=null;if(-1!==this._viewportStartLine){let e=new oe.a(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let n=!1;const o=this._configuration.options,r=o.get(41),s=o.get(123),a=o.get(130),l=o.get(122);if(this._lines.setWrappingSettings(r,s,a.wrappingColumn,l)&&(e.emitViewEvent(new Si),e.emitViewEvent(new ki),e.emitViewEvent(new yi(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(79)&&(this._decorations.reset(),e.emitViewEvent(new yi(null))),e.emitViewEvent(new Ci(t)),this.viewLayout.onConfigurationChanged(t),n&&i){const e=this.coordinatesConverter.convertModelPositionToViewPosition(i),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1)}se.b.shouldRecreate(t)&&(this.cursorConfig=new se.b(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,n=!1;const o=e.changes,r=e instanceof bi.d?e.versionId:null,s=this._lines.createLineBreaksComputer();for(const e of o)switch(e.changeType){case 4:for(let t=0;t<e.detail.length;t++){const i=e.detail[t];let n=e.injectedTexts[t];n&&(n=n.filter(e=>!e.ownerId||e.ownerId===this._editorId)),s.addRequest(i,n,null)}break;case 2:{let t=null;e.injectedText&&(t=e.injectedText.filter(e=>!e.ownerId||e.ownerId===this._editorId)),s.addRequest(e.detail,t,null);break}}const a=s.finalize();let l=0;for(const e of o)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new Si),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break;case 3:{const n=this._lines.onModelLinesDeleted(r,e.fromLineNumber,e.toLineNumber);null!==n&&(t.emitViewEvent(n),this.viewLayout.onLinesDeleted(n.fromLineNumber,n.toLineNumber)),i=!0;break}case 4:{const n=a.slice(l,l+e.detail.length);l+=e.detail.length;const o=this._lines.onModelLinesInserted(r,e.fromLineNumber,e.toLineNumber,n);null!==o&&(t.emitViewEvent(o),this.viewLayout.onLinesInserted(o.fromLineNumber,o.toLineNumber)),i=!0;break}case 2:{const i=a[l];l++;const[o,s,c,h]=this._lines.onModelLineChanged(r,e.lineNumber,i);n=o,s&&t.emitViewEvent(s),c&&(t.emitViewEvent(c),this.viewLayout.onLinesInserted(c.fromLineNumber,c.toLineNumber)),h&&(t.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber));break}}null!==r&&this._lines.acceptVersionId(r),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new ki),t.emitViewEvent(new yi(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),i=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:i+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let i=0,n=e.ranges.length;i<n;i++){const n=e.ranges[i],o=this.coordinatesConverter.convertModelPositionToViewPosition(new oe.a(n.fromLineNumber,1)).lineNumber,r=this.coordinatesConverter.convertModelPositionToViewPosition(new oe.a(n.toLineNumber,this.model.getLineMaxColumn(n.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:r}}this._eventDispatcher.emitSingleViewEvent(new Mi(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new xi),this.cursorConfig=new se.b(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new se.b(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new Si),e.emitViewEvent(new ki),e.emitViewEvent(new yi(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new se.b(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new yi(e))}))}setHiddenAreas(e){try{const t=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(e)&&(t.emitViewEvent(new Si),t.emitViewEvent(new ki),t.emitViewEvent(new yi(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),t=this._configuration.options.get(57),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),o=Math.max(1,n.completelyVisibleStartLineNumber-i),r=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new re.a(o,this.getLineMinColumn(o),r,this.getLineMaxColumn(r)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(0===i.length)return[t];let n=[],o=0,r=t.startLineNumber,s=t.startColumn,a=t.endLineNumber,l=t.endColumn;for(let c=0,h=i.length;c<h;c++){const e=i[c].startLineNumber,t=i[c].endLineNumber;t<r||(e>a||(r<e&&(n[o++]=new re.a(r,s,e-1,this.model.getLineMaxColumn(e-1))),r=t+1,s=1))}return(r<a||r===a&&s<l)&&(n[o++]=new re.a(r,s,a,l)),n}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new re.a(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new re.a(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new oe.a(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;let n=this.coordinatesConverter.convertViewPositionToModelPosition(new oe.a(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new re.a(n.lineNumber,n.column,n.lineNumber,n.column),1);const o=this.viewLayout.getVerticalOffsetForLineNumber(e),r=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=r-o}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=Oe.v(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=Oe.J(this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){let i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),r=this._lines.getViewLineData(t),s=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return r.inlineDecorations&&(s=[...s,...r.inlineDecorations.map(e=>e.toInlineDecoration(t))]),new xt.f(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,i,n,r.tokens,s,o,r.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){let n=this._lines.getViewLinesData(e,t,i);return new xt.c(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){return this._lines.getAllOverviewRulerDecorations(this._editorId,Object(K.m)(this._configuration.options),e)}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const e=t.options.minimap;e&&e.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=i:t+=i);const o=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(o)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){const n=i?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(re.a.compareRangesUsingStarts);let o=!1,r=!1;for(const a of e)a.isEmpty()?o=!0:r=!0;if(!r){if(!t)return"";const i=e.map(e=>e.startLineNumber);let o="";for(let e=0;e<i.length;e++)e>0&&i[e-1]===i[e]||(o+=this.model.getLineContent(i[e])+n);return o}if(o&&t){let t=[],n=0;for(const o of e){const e=o.startLineNumber;o.isEmpty()?e!==n&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(o,i?2:0)),n=e}return 1===t.length?t[0]:t}let s=[];for(const a of e)a.isEmpty()||s.push(this.model.getValueInRange(a,i?2:0));return 1===s.length?s[0]:s}getRichTextToCopy(e,t){const i=this.model.getLanguageIdentifier();if(1===i.id)return null;if(1!==e.length)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;const e=n.startLineNumber;n=new re.a(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const o=this._configuration.options.get(41),r=this._getColorMap();let s;if(/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===K.c.fontFamily)s=K.c.fontFamily;else{s=o.fontFamily,s=s.replace(/"/g,"'");if(!/[,']/.test(s)){/[+ ]/.test(s)&&(s=`'${s}'`)}s=`${s}, ${K.c.fontFamily}`}return{mode:i.language,html:`<div style="color: ${r[1]};background-color: ${r[2]};font-family: ${s};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,r)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,r=e.endColumn,s=this.getTabSize();let a="";for(let l=i;l<=o;l++){const e=this.model.getLineTokens(l),c=e.getLineContent(),h=l===i?n-1:0,d=l===o?r-1:c.length;a+=""===c?"<br>":Object(Zi.a)(c,e.inflate(),t,h,d,s,v.j)}return a}_getColorMap(){let e=St.F.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=Kt.a.Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){this._withViewEventsCollector(n=>this._cursor.setStates(n,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(n=>this._cursor.setSelections(n,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new zi):this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(n=>this._cursor.executeEdits(n,e,t,i))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,n,o){this._executeCursorEdit(r=>this._cursor.compositionType(r,e,t,i,n,o))}paste(e,t,i,n){this._executeCursorEdit(o=>this._cursor.paste(o,e,t,i,n))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t){this._withViewEventsCollector(i=>this._cursor.revealPrimary(i,e,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new re.a(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new Ni(e,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new re.a(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new Ni(e,i,null,0,!0,0)))}revealRange(e,t,i,n,o){this._withViewEventsCollector(r=>r.emitViewEvent(new Ni(e,i,null,n,t,o)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Ri),this._eventDispatcher.emitOutgoingEvent(new Vi))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}var Sn=i("nnTU"),Ln=i("T8No"),xn=i("Cg/j"),kn=i("8HsV"),Dn=i("sM1p"),In=i("R3nR"),On=i("746U"),Nn=i("MXAL");class En extends Nn.a{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let Tn=[],Mn=[];class An{constructor(e,t){this.classifier=new En(e,t)}static create(e){return new An(e.get(118),e.get(117))}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;const o=[],r=[],s=[];return{addRequest:(e,t,i)=>{o.push(e),r.push(t),s.push(i)},finalize:()=>{const a=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let l=[];for(let e=0,c=o.length;e<c;e++){const c=r[e],h=s[e];!h||h.injectionOptions||c?l[e]=Pn(this.classifier,o[e],c,t,i,a,n):l[e]=Rn(this.classifier,h,o[e],t,i,a,n)}return Tn.length=0,Mn.length=0,l}}}}function Rn(e,t,i,n,o,r,s){if(-1===o)return null;const a=i.length;if(a<=1)return null;const l=t.breakOffsets,c=t.breakOffsetsVisibleColumn,h=Wn(i,n,o,r,s),d=o-h;let u=Tn,g=Mn,p=0,m=0,f=0,b=o;const _=l.length;let v=0;if(v>=0){let e=Math.abs(c[v]-b);for(;v+1<_;){const t=Math.abs(c[v+1]-b);if(t>=e)break;e=t,v++}}for(;v<_;){let t=v<0?0:l[v],o=v<0?0:c[v];m>t&&(t=m,o=f);let s=0,h=0,C=0,w=0;if(o<=b){let f=o,_=0===t?0:i.charCodeAt(t-1),v=0===t?0:e.get(_),y=!0;for(let o=t;o<a;o++){const t=o,a=i.charCodeAt(o);let l,c;if(Oe.F(a)?(o++,l=0,c=2):(l=e.get(a),c=Fn(a,f,n,r)),t>m&&Bn(_,v,a,l)&&(s=t,h=f),f+=c,f>b){t>m?(C=t,w=f-c):(C=o+1,w=f),f-h>d&&(s=0),y=!1;break}_=a,v=l}if(y){p>0&&(u[p]=l[l.length-1],g[p]=c[l.length-1],p++);break}}if(0===s){let a=o,l=i.charCodeAt(t),c=e.get(l),u=!1;for(let n=t-1;n>=m;n--){const t=n+1,o=i.charCodeAt(n);if(9===o){u=!0;break}let g,p;if(Oe.G(o)?(n--,g=0,p=2):(g=e.get(o),p=Oe.E(o)?r:1),a<=b){if(0===C&&(C=t,w=a),a<=b-d)break;if(Bn(o,g,l,c)){s=t,h=a;break}}a-=p,l=o,c=g}if(0!==s){const e=d-(w-h);if(e<=n){const t=i.charCodeAt(C);let o;o=Oe.F(t)?2:Fn(t,w,n,r),e-o<0&&(s=0)}}if(u){v--;continue}}if(0===s&&(s=C,h=w),s<=m){const e=i.charCodeAt(m);Oe.F(e)?(s=m+2,h=f+2):(s=m+1,h=f+Fn(e,f,n,r))}for(m=s,u[p]=s,f=h,g[p]=h,p++,b=h+d;v<0||v<_&&c[v]<h;)v++;let y=Math.abs(c[v]-b);for(;v+1<_;){const e=Math.abs(c[v+1]-b);if(e>=y)break;y=e,v++}}return 0===p?null:(u.length=p,g.length=p,Tn=t.breakOffsets,Mn=t.breakOffsetsVisibleColumn,t.breakOffsets=u,t.breakOffsetsVisibleColumn=g,t.wrappedTextIndentLength=h,t)}function Pn(e,t,i,n,o,r,s){const a=bi.b.applyInjectedText(t,i);let l,c;if(i&&i.length>0?(l=i.map(e=>e.options),c=i.map(e=>e.column-1)):(l=null,c=null),-1===o)return l?new xt.b([a.length],[],0,c,l):null;const h=a.length;if(h<=1)return l?new xt.b([a.length],[],0,c,l):null;const d=Wn(a,n,o,r,s),u=o-d;let g=[],p=[],m=0,f=0,b=0,_=o,v=a.charCodeAt(0),C=e.get(v),w=Fn(v,0,n,r),y=1;Oe.F(v)&&(w+=1,v=a.charCodeAt(1),C=e.get(v),y++);for(let S=y;S<h;S++){const t=S,i=a.charCodeAt(S);let o,s;Oe.F(i)?(S++,o=0,s=2):(o=e.get(i),s=Fn(i,w,n,r)),Bn(v,C,i,o)&&(f=t,b=w),w+=s,w>_&&((0===f||w-b>u)&&(f=t,b=w-s),g[m]=f,p[m]=b,m++,_=b+u,f=0),v=i,C=o}return 0!==m||i&&0!==i.length?(g[m]=h,p[m]=w,new xt.b(g,p,d,c,l)):null}function Fn(e,t,i,n){return 9===e?i-t%i:Oe.E(e)||e<32?n:1}function jn(e,t){return t-e%t}function Bn(e,t,i,n){return 32!==i&&(2===t||3===t&&2!==n||1===n||3===n&&1!==t)}function Wn(e,t,i,n,o){let r=0;if(0!==o){const s=Oe.v(e);if(-1!==s){for(let i=0;i<s;i++){r+=9===e.charCodeAt(i)?jn(r,t):1}const a=3===o?2:2===o?1:0;for(let e=0;e<a;e++){r+=jn(r,t)}r+n>i&&(r=0)}}return r}var Vn;const Hn=null===(Vn=window.trustedTypes)||void 0===Vn?void 0:Vn.createPolicy("domLineBreaksComputer",{createHTML:e=>e});class zn{static create(){return new zn}constructor(){}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;let o=[],r=[];return{addRequest:(e,t,i)=>{o.push(e),r.push(t)},finalize:()=>function(e,t,i,n,o,r){var s;function a(t){const i=r[t];if(i){const n=bi.b.applyInjectedText(e[t],i),o=i.map(e=>e.options),r=i.map(e=>e.column-1);return new xt.b([n.length],[],0,r,o)}return null}if(-1===n){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=a(i);return t}const l=Math.round(n*t.typicalHalfwidthCharacterWidth);2!==o&&3!==o||(o=1);const c=document.createElement("div");p.a.applyFontInfoSlow(c,t);const h=Object(qe.a)(1e4),d=[],u=[],g=[],m=[],f=[];for(let p=0;p<e.length;p++){const n=bi.b.applyInjectedText(e[p],r[p]);let s=0,a=0,c=l;if(0!==o)if(s=Oe.v(n),-1===s)s=0;else{for(let t=0;t<s;t++){const e=9===n.charCodeAt(t)?i-a%i:1;a+=e}const e=Math.ceil(t.spaceWidth*a);e+t.typicalFullwidthCharacterWidth>l?(s=0,a=0):c=l-e}const b=n.substr(s),_=Un(b,a,i,c,h);d[p]=s,u[p]=a,g[p]=b,m[p]=_[0],f[p]=_[1]}const b=h.build(),_=null!==(s=null==Hn?void 0:Hn.createHTML(b))&&void 0!==s?s:b;c.innerHTML=_,c.style.position="absolute",c.style.top="10000",c.style.wordWrap="break-word",document.body.appendChild(c);let v=document.createRange();const C=Array.prototype.slice.call(c.children,0);let w=[];for(let p=0;p<e.length;p++){const e=C[p],t=Kn(v,e,g[p],m[p]);if(null===t){w[p]=a(p);continue}const i=d[p],n=u[p],o=f[p],s=[];for(let r=0,a=t.length;r<a;r++)s[r]=o[t[r]];if(0!==i)for(let r=0,a=t.length;r<a;r++)t[r]+=i;let l,c;const h=r[p];h?(l=h.map(e=>e.options),c=h.map(e=>e.column-1)):(l=null,c=null),w[p]=new xt.b(t,s,n,c,l)}return document.body.removeChild(c),w}(o,e,t,i,n,r)}}}function Un(e,t,i,n,o){o.appendASCIIString('<div style="width:'),o.appendASCIIString(String(n)),o.appendASCIIString('px;">');const r=e.length;let s=t,a=0,l=[],c=[],h=0<r?e.charCodeAt(0):0;o.appendASCIIString("<span>");for(let d=0;d<r;d++){0!==d&&d%16384==0&&o.appendASCIIString("</span><span>"),l[d]=a,c[d]=s;const t=h;h=d+1<r?e.charCodeAt(d+1):0;let n=1,u=1;switch(t){case 9:n=i-s%i,u=n;for(let e=1;e<=n;e++)e<n?o.write1(160):o.appendASCII(32);break;case 32:32===h?o.write1(160):o.appendASCII(32);break;case 60:o.appendASCIIString("&lt;");break;case 62:o.appendASCIIString("&gt;");break;case 38:o.appendASCIIString("&amp;");break;case 0:o.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.write1(65533);break;default:Oe.E(t)&&u++,t<32?o.write1(9216+t):o.write1(t)}a+=n,s+=u}return o.appendASCIIString("</span>"),l[e.length]=a,c[e.length]=s,o.appendASCIIString("</div>"),[l,c]}function Kn(e,t,i,n){if(i.length<=1)return null;const o=Array.prototype.slice.call(t.children,0),r=[];try{!function e(t,i,n,o,r,s,a,l){if(o===s)return;if(r=r||qn(t,i,n[o],n[o+1]),a=a||qn(t,i,n[s],n[s+1]),Math.abs(r[0].top-a[0].top)<=.1)return;if(o+1===s)return void l.push(s);const c=o+(s-o)/2|0,h=qn(t,i,n[c],n[c+1]);e(t,i,n,o,r,c,h,l),e(t,i,n,c,h,s,a,l)}(e,o,n,0,null,i.length-1,null,r)}catch(s){return console.log(s),null}return 0===r.length?null:(r.push(i.length),r)}function qn(e,t,i,n){return e.setStart(t[i/16384|0].firstChild,i%16384),e.setEnd(t[n/16384|0].firstChild,n%16384),e.getClientRects()}var $n=i("1I1M"),Gn=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Yn=function(e,t){return function(i,n){t(i,n,e)}};let Zn=0;class Xn{constructor(e,t,i,n,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o}dispose(){Object(u.f)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Qn=class e extends u.a{constructor(e,t,i,n,r,s,a,l,c,u){super(),this._onDidDispose=this._register(new d.b),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new d.b),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new d.b),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new d.b),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new d.b),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new d.b),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new d.b),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new d.b),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new d.b),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new d.b),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new d.b),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new d.b),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Jn),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Jn),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new d.b),this.onWillType=this._onWillType.event,this._onDidType=this._register(new d.b),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new d.b),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new d.b),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new d.b),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new d.b),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new d.b),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new d.b),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new d.b),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new d.b),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new d.b),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new d.b),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new d.b),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new d.b),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new d.b),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new d.b),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new d.b),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new d.b),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new d.b),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const g=Object.assign({},t);let p;this._domElement=e,this._overflowWidgetsDomNode=g.overflowWidgetsDomNode,delete g.overflowWidgetsDomNode,this._id=++Zn,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=i.isSimpleWidget||!1,this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(g,u)),this._register(this._configuration.onDidChange(e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;if(e.hasChanged(129)){const e=t.get(129);this._onDidLayoutChange.fire(e)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=c,this._codeEditorService=r,this._commandService=s,this._themeService=l,this._register(new eo(this,this._contextKeyService)),this._register(new to(this,this._contextKeyService)),this._instantiationService=n.createChild(new kn.a([Ln.b,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new io(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},p=Array.isArray(i.contributions)?i.contributions:o.d.getEditorContributions();for(const o of p)if(this._contributions[o.id])Object(h.e)(new Error("Cannot have two contributions with the same id "+o.id));else try{const e=this._instantiationService.createInstance(o.ctor,this);this._contributions[o.id]=e}catch(m){Object(h.e)(m)}o.d.getEditorActions().forEach(e=>{if(this._actions[e.id])return void Object(h.e)(new Error("Cannot have two actions with the same id "+e.id));const t=new $i.a(e.id,e.label,e.alias,Object(On.o)(e.precondition),()=>this._instantiationService.invokeFunction(t=>Promise.resolve(e.runEditorCommand(t,this,null))),this._contextKeyService);this._actions[t.id]=t}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new p.a(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Gi.a.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){const i=e[t];this._contributions[i].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?$n.a.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),e):null}getValue(e=null){if(!this._modelData)return"";const t=!(!e||!e.preserveBOM);let i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(null===this._modelData&&null===t)return;if(this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const o={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(n)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){const n=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber)}getTopForLineNumber(t){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1):-1}getTopForPosition(t,i){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,i):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(e=>re.a.lift(e)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return se.a.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!oe.a.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!re.a.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,r,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new re.a(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!oe.a.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new re.a(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=b.a.isISelection(e),i=re.a.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){const t={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(t)}}_setSelectionImpl(e){if(!this._modelData)return;const t=new b.a(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new re.a(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!re.a.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(re.a.lift(e),t,i,n)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,i=e.length;t<i;t++)if(!b.a.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const i of t){const t=this._contributions[i];"function"==typeof t.saveViewState&&(e[i]=t.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const e=t.cursorState;Array.isArray(e)?this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]);const i=t.contributionsState||{},n=Object.keys(this._contributions);for(let t=0,r=n.length;t<r;t++){const e=n[t],o=this._contributions[e];"function"==typeof o.restoreViewState&&o.restoreViewState(i[e])}const o=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(o)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._actions[n])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(e=>e.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":{const t=i;return void this._type(e,t.text||"")}case"replacePreviousChar":{const t=i;return void this._compositionType(e,t.text||"",t.replaceCharCnt||0,0,0)}case"compositionType":{const t=i;return void this._compositionType(e,t.text||"",t.replacePrevCharCnt||0,t.replaceNextCharCnt||0,t.positionDelta||0)}case"paste":{const t=i;return void this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null)}case"cut":return void this._cut(e)}const n=this.getAction(t);n?Promise.resolve(n.run()).then(void 0,h.e):this._modelData&&(this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_compositionType(e,t,i,n,o){this._modelData&&this._modelData.viewModel.compositionType(t,i,n,o,e)}_paste(e,t,i,n,o){if(!this._modelData||0===t.length)return;const r=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,i,n,e);const s=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new re.a(r.lineNumber,r.column,s.lineNumber,s.column),mode:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const n=o.d.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction(e=>{Promise.resolve(n.runEditorCommand(e,this,i)).then(void 0,h.e)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&(!this._configuration.options.get(79)&&(this._modelData.model.pushStackElement(),!0))}popUndoStop(){return!!this._modelData&&(!this._configuration.options.get(79)&&(this._modelData.model.popStackElement(),!0))}executeEdits(e,t,i){if(!this._modelData)return!1;if(this._configuration.options.get(79))return!1;let n;return n=i?Array.isArray(i)?()=>i:i:()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,Object(K.m)(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const i=this._modelData.model.validatePosition(t),n=this._configuration.options,o=n.get(129);return{top:e._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft(),height:n.get(57)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){p.a.applyFontInfoSlow(e,this._configuration.options.get(41))}_attachModel(e){if(!e)return void(this._modelData=null);const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const i=new yn(this._id,this._configuration,e,zn.create(),An.create(this._configuration.options),e=>c.V(e));t.push(e.onDidChangeDecorations(e=>this._onDidChangeModelDecorations.fire(e))),t.push(e.onDidChangeLanguage(t=>{this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(t)})),t.push(e.onDidChangeLanguageConfiguration(e=>this._onDidChangeModelLanguageConfiguration.fire(e))),t.push(e.onDidChangeContent(e=>this._onDidChangeModelContent.fire(e))),t.push(e.onDidChangeOptions(e=>this._onDidChangeModelOptions.fire(e))),t.push(e.onWillDispose(()=>this.setModel(null))),t.push(i.onEvent(e=>{switch(e.kind){case 0:this._onDidContentSizeChange.fire(e);break;case 1:this._editorTextFocus.setValue(e.hasFocus);break;case 2:this._onDidScrollChange.fire(e);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{e.reachedMaxCursorCount&&this._notificationService.warn(l.a("cursors.maximum","The number of cursors has been limited to {0}.",qi.MAX_CURSOR_COUNT));const t=[];for(let o=0,r=e.selections.length;o<r;o++)t[o]=e.selections[o].getPosition();const i={position:t[0],secondaryPositions:t.slice(1),reason:e.reason,source:e.source};this._onDidChangeCursorPosition.fire(i);const n={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};this._onDidChangeCursorSelection.fire(n);break}}}));const[n,o]=this._createView(i);if(o){this._domElement.appendChild(n.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];n.addContentWidget(this._contentWidgets[i])}t=Object.keys(this._overlayWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];n.addOverlayWidget(this._overlayWidgets[i])}n.render(!1,!0),n.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Xn(e,i,n,o,t)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,i,n)=>{this._paste("keyboard",e,t,i,n)},type:e=>{this._type("keyboard",e)},compositionType:(e,t,i,n)=>{this._compositionType("keyboard",e,t,i,n)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,i,n)=>{const o={text:e,pasteOnNewLine:t,multicursorText:i,mode:n};this._commandService.executeCommand("paste",o)},type:e=>{const t={text:e};this._commandService.executeCommand("type",t)},compositionType:(e,t,i,n)=>{if(i||n){const o={text:e,replacePrevCharCnt:t,replaceNextCharCnt:i,positionDelta:n};this._commandService.executeCommand("compositionType",o)}else{const i={text:e,replaceCharCnt:t};this._commandService.executeCommand("replacePreviousChar",i)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new ze(e.coordinatesConverter);i.onKeyDown=e=>this._onKeyDown.fire(e),i.onKeyUp=e=>this._onKeyUp.fire(e),i.onContextMenu=e=>this._onContextMenu.fire(e),i.onMouseMove=e=>this._onMouseMove.fire(e),i.onMouseLeave=e=>this._onMouseLeave.fire(e),i.onMouseDown=e=>this._onMouseDown.fire(e),i.onMouseUp=e=>this._onMouseUp.fire(e),i.onMouseDrag=e=>this._onMouseDrag.fire(e),i.onMouseDrop=e=>this._onMouseDrop.fire(e),i.onMouseDropCanceled=e=>this._onMouseDropCanceled.fire(e),i.onMouseWheel=e=>this._onMouseWheel.fire(e);return[new ui(t,this._configuration,this._themeService,e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}};Qn=Gn([Yn(3,xn.a),Yn(4,m.a),Yn(5,Sn.b),Yn(6,Ln.b),Yn(7,Me.b),Yn(8,Dn.a),Yn(9,In.b)],Qn);class Jn extends u.a{constructor(){super(),this._onDidChangeToTrue=this._register(new d.b),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new d.b),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class eo extends u.a{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=Yi.a.editorSimpleInput.bindTo(t),this._editorFocus=Yi.a.focus.bindTo(t),this._textInputFocus=Yi.a.textInputFocus.bindTo(t),this._editorTextFocus=Yi.a.editorTextFocus.bindTo(t),this._editorTabMovesFocus=Yi.a.tabMovesFocus.bindTo(t),this._editorReadonly=Yi.a.readOnly.bindTo(t),this._inDiffEditor=Yi.a.inDiffEditor.bindTo(t),this._editorColumnSelection=Yi.a.columnSelection.bindTo(t),this._hasMultipleSelections=Yi.a.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=Yi.a.hasNonEmptySelection.bindTo(t),this._canUndo=Yi.a.canUndo.bindTo(t),this._canRedo=Yi.a.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(128)),this._editorReadonly.set(e.get(79)),this._inDiffEditor.set(e.get(52)),this._editorColumnSelection.set(e.get(16))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(e=>!e.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class to extends u.a{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=Yi.a.languageId.bindTo(t),this._hasCompletionItemProvider=Yi.a.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=Yi.a.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=Yi.a.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=Yi.a.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=Yi.a.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=Yi.a.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=Yi.a.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=Yi.a.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=Yi.a.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=Yi.a.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=Yi.a.hasReferenceProvider.bindTo(t),this._hasRenameProvider=Yi.a.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=Yi.a.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=Yi.a.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=Yi.a.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=Yi.a.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=Yi.a.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=Yi.a.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=Yi.a.isInWalkThroughSnippet.bindTo(t);const i=()=>this._update();this._register(e.onDidChangeModel(i)),this._register(e.onDidChangeModelLanguage(i)),this._register(St.d.onDidChange(i)),this._register(St.a.onDidChange(i)),this._register(St.b.onDidChange(i)),this._register(St.f.onDidChange(i)),this._register(St.e.onDidChange(i)),this._register(St.q.onDidChange(i)),this._register(St.G.onDidChange(i)),this._register(St.p.onDidChange(i)),this._register(St.i.onDidChange(i)),this._register(St.m.onDidChange(i)),this._register(St.y.onDidChange(i)),this._register(St.z.onDidChange(i)),this._register(St.g.onDidChange(i)),this._register(St.j.onDidChange(i)),this._register(St.B.onDidChange(i)),this._register(St.r.onDidChange(i)),i()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(St.d.has(e)),this._hasCodeActionsProvider.set(St.a.has(e)),this._hasCodeLensProvider.set(St.b.has(e)),this._hasDefinitionProvider.set(St.f.has(e)),this._hasDeclarationProvider.set(St.e.has(e)),this._hasImplementationProvider.set(St.q.has(e)),this._hasTypeDefinitionProvider.set(St.G.has(e)),this._hasHoverProvider.set(St.p.has(e)),this._hasDocumentHighlightProvider.set(St.i.has(e)),this._hasDocumentSymbolProvider.set(St.m.has(e)),this._hasReferenceProvider.set(St.y.has(e)),this._hasRenameProvider.set(St.z.has(e)),this._hasSignatureHelpProvider.set(St.B.has(e)),this._hasInlayHintsProvider.set(St.r.has(e)),this._hasDocumentFormattingProvider.set(St.g.has(e)||St.j.has(e)),this._hasDocumentSelectionFormattingProvider.set(St.j.has(e)),this._hasMultipleDocumentFormattingProvider.set(St.g.all(e).length+St.j.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(St.j.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===g.c.walkThroughSnippet)}):this.reset()}}class io extends u.a{constructor(e){super(),this._onChange=this._register(new d.b),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(c.Y(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const no=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),oo=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ro(e){return no+encodeURIComponent(e.toString())+oo}const so=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ao=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');Object(Me.f)((e,t)=>{const i=e.getColor(kt.t);i&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${i}; }`);const n=e.getColor(kt.u);n&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ro(n)}") repeat-x bottom left; }`);const o=e.getColor(kt.s);o&&t.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${o}; }`);const r=e.getColor(kt.W);r&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${r}; }`);const s=e.getColor(kt.X);s&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ro(s)}") repeat-x bottom left; }`);const a=e.getColor(kt.V);a&&t.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const l=e.getColor(kt.L);l&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);const c=e.getColor(kt.M);c&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ro(c)}") repeat-x bottom left; }`);const h=e.getColor(kt.K);h&&t.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${h}; }`);const d=e.getColor(kt.C);d&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${d}; }`);const u=e.getColor(kt.D);var g;u&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${g=u,so+encodeURIComponent(g.toString())+ao}") no-repeat bottom left; }`);const p=e.getColor(Te.p);p&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${p.rgba.a}; }`);const m=e.getColor(Te.o);m&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${m}; }`);const f=e.getColor(kt.B)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${f}}`)})},nD70:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));class n{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const o=new n("id#")},nEHx:function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.DARK="dark",e.LIGHT="light",e.HIGH_CONTRAST="hc"}(n||(n={}))},nnTU:function(e,t,i){"use strict";i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return h}));var n=i("pmY6"),o=i("746U"),r=i("Cg/j"),s=i("MI8n"),a=i("24hK"),l=i("JYp7");const c=Object(r.c)("commandService"),h=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new s.b,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(let n of e.description.args)t.push(n.constraint);const i=e.handler;e.handler=function(e,...n){return Object(o.n)(n,t),i(e,...n)}}const{id:i}=e;let r=this._commands.get(i);r||(r=new a.a,this._commands.set(i,r));let s=r.unshift(e),l=Object(n.i)(()=>{s();const e=this._commands.get(i);(null==e?void 0:e.isEmpty())&&this._commands.delete(i)});return this._onDidRegisterCommand.fire(i),l}registerCommandAlias(e,t){return h.registerCommand(e,(e,...i)=>e.get(c).executeCommand(t,...i))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return l.a.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}};h.registerCommand("noop",()=>{})},nrhi:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("/kV6"),o=i("MNsG"),r=i("nnTU"),s=i("ic2d");class a{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===o.a){if(e&&e.win)return e.win}else if(2===o.a){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=a.bindToCurrentPlatform(e);if(t&&t.primary){const i=Object(n.f)(t.primary,o.a);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,r=t.secondary.length;i<r;i++){const r=t.secondary[i],s=Object(n.f)(r,o.a);s&&this._registerDefaultKeybinding(s,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),r.a.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&a._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,r,s){1===o.a&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:s,weight1:n,weight2:r,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(c)),this._cachedMergedKeybindings.slice(0)}}const l=new a;function c(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}s.a.add("platform.keybindingsRegistry",l)},nuFA:function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};const i=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return n-i<=0?{start:0,end:0}:{start:i,end:n}}function i(e){return e.end-e.start<=0}e.intersect=t,e.isEmpty=i,e.intersects=function(e,n){return!i(t(e,n))},e.relativeComplement=function(e,t){const n=[],o={start:e.start,end:Math.min(t.start,e.end)},r={start:Math.max(t.end,e.start),end:e.end};return i(o)||n.push(o),i(r)||n.push(r),n}}(n||(n={}))},o39E:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("pmY6");class o extends n.a{constructor(e,t,i){super(),this.referenceDomElement=e,this.changeCallback=i,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!=typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),this.width===i&&this.height===n||(this.width=i,this.height=n,e&&this.changeCallback())}}},oAeH:function(e,t,i){"use strict";i.d(t,"b",(function(){return h})),i.d(t,"a",(function(){return n}));var n,o=i("746U"),r=i("Ll0s"),s=i("+Fos"),a=i("1I1M"),l=i("cGHE"),c=i("aokT");class h{static addCursorDown(e,t,i){let n=[],o=0;for(let a=0,l=t.length;a<l;a++){const l=t[a];n[o++]=new r.d(l.modelState,l.viewState),n[o++]=i?r.d.fromModelState(s.a.translateDown(e.cursorConfig,e.model,l.modelState)):r.d.fromViewState(s.a.translateDown(e.cursorConfig,e,l.viewState))}return n}static addCursorUp(e,t,i){let n=[],o=0;for(let a=0,l=t.length;a<l;a++){const l=t[a];n[o++]=new r.d(l.modelState,l.viewState),n[o++]=i?r.d.fromModelState(s.a.translateUp(e.cursorConfig,e.model,l.modelState)):r.d.fromViewState(s.a.translateUp(e.cursorConfig,e,l.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];n[o]=this._moveToLineStart(e,r,i)}return n}static _moveToLineStart(e,t,i){const n=t.viewState.position.column,o=n===t.modelState.position.column,r=t.viewState.position.lineNumber,s=e.getLineFirstNonWhitespaceColumn(r);return o||n===s?this._moveToLineStartByModel(e,t,i):this._moveToLineStartByView(e,t,i)}static _moveToLineStartByView(e,t,i){return r.d.fromViewState(s.a.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return r.d.fromModelState(s.a.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){let o=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];o[r]=this._moveToLineEnd(e,s,i,n)}return o}static _moveToLineEnd(e,t,i,n){const o=t.viewState.position,r=e.getLineMaxColumn(o.lineNumber),s=o.column===r,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),c=r-o.column==l-a.column;return s||c?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return r.d.fromViewState(s.a.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return r.d.fromModelState(s.a.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],s=o.modelState.selection.startLineNumber,a=e.model.getLineCount();let h,d=o.modelState.selection.endLineNumber;d===a?h=e.model.getLineMaxColumn(a):(d++,h=1),i[n]=r.d.fromModelState(new r.f(new c.a(s,1,s,1),0,new l.a(d,h),0))}return i}static moveToBeginningOfBuffer(e,t,i){let n=[];for(let o=0,a=t.length;o<a;o++){const a=t[o];n[o]=r.d.fromModelState(s.a.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){let n=[];for(let o=0,a=t.length;o<a;o++){const a=t[o];n[o]=r.d.fromModelState(s.a.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return n}static selectAll(e,t){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return r.d.fromModelState(new r.f(new c.a(1,1,1,1),0,new l.a(i,n),0))}static line(e,t,i,n,o){const s=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new l.a(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!i||!t.modelState.hasSelection()){const t=e.model.getLineCount();let i=s.lineNumber+1,n=1;return i>t&&(i=t,n=e.model.getLineMaxColumn(i)),r.d.fromModelState(new r.f(new c.a(s.lineNumber,1,i,n),0,new l.a(i,n),0))}const h=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<h)return r.d.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(s.lineNumber>h){const i=e.getLineCount();let n=a.lineNumber+1,o=1;return n>i&&(n=i,o=e.getLineMaxColumn(n)),r.d.fromViewState(t.viewState.move(t.modelState.hasSelection(),n,o,0))}{const e=t.modelState.selectionStart.getEndPosition();return r.d.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}}static word(e,t,i,n){const o=e.model.validatePosition(n);return r.d.fromModelState(a.a.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new r.d(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,n=t.viewState.position.column;return r.d.fromViewState(new r.f(new c.a(i,n,i,n),0,new l.a(i,n),0))}static moveTo(e,t,i,n,o){const s=e.model.validatePosition(n),a=o?e.coordinatesConverter.validateViewPosition(new l.a(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return r.d.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,n,o,a){switch(i){case 0:return 4===a?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,o);case 1:return 4===a?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,o);case 2:return 2===a?this._moveUpByViewLines(e,t,n,o):this._moveUpByModelLines(e,t,n,o);case 3:return 2===a?this._moveDownByViewLines(e,t,n,o):this._moveDownByModelLines(e,t,n,o);case 4:return 2===a?t.map(t=>r.d.fromViewState(s.a.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,n))):t.map(t=>r.d.fromModelState(s.a.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,n)));case 5:return 2===a?t.map(t=>r.d.fromViewState(s.a.moveToNextBlankLine(e.cursorConfig,e,t.viewState,n))):t.map(t=>r.d.fromModelState(s.a.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,n)));case 6:return this._moveToViewMinColumn(e,t,n);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 8:return this._moveToViewCenterColumn(e,t,n);case 9:return this._moveToViewMaxColumn(e,t,n);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){const r=e.getCompletelyVisibleViewRange(),s=e.coordinatesConverter.convertViewRangeToModelRange(r);switch(i){case 11:{const i=this._firstLineNumberInRange(e.model,s,o),r=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,r)]}case 13:{const i=this._lastLineNumberInRange(e.model,s,o),r=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,r)]}case 12:{const i=Math.round((s.startLineNumber+s.endLineNumber)/2),o=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,o)]}case 14:{let i=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];i[o]=this.findPositionInViewportIfOutside(e,s,r,n)}return i}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){let o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new r.d(t.modelState,t.viewState);{o>i.endLineNumber-1&&(o=i.endLineNumber-1),o<i.startLineNumber&&(o=i.startLineNumber);const r=e.getLineFirstNonWhitespaceColumn(o);return this._moveToViewPosition(e,t,n,o,r)}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){return t.map(t=>r.d.fromViewState(s.a.moveLeft(e.cursorConfig,e,t.viewState,i,n)))}static _moveHalfLineLeft(e,t,i){let n=[];for(let o=0,a=t.length;o<a;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);n[o]=r.d.fromViewState(s.a.moveLeft(e.cursorConfig,e,a.viewState,i,c))}return n}static _moveRight(e,t,i,n){return t.map(t=>r.d.fromViewState(s.a.moveRight(e.cursorConfig,e,t.viewState,i,n)))}static _moveHalfLineRight(e,t,i){let n=[];for(let o=0,a=t.length;o<a;o++){const a=t[o],l=a.viewState.position.lineNumber,c=Math.round(e.getLineContent(l).length/2);n[o]=r.d.fromViewState(s.a.moveRight(e.cursorConfig,e,a.viewState,i,c))}return n}static _moveDownByViewLines(e,t,i,n){let o=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];o[a]=r.d.fromViewState(s.a.moveDown(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){let o=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];o[a]=r.d.fromModelState(s.a.moveDown(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){let o=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];o[a]=r.d.fromViewState(s.a.moveUp(e.cursorConfig,e,l.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){let o=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];o[a]=r.d.fromModelState(s.a.moveUp(e.cursorConfig,e.model,l.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return r.d.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return r.d.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineMinColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewCenterColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(s)+e.getLineMinColumn(s))/2);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewMaxColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineMaxColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,r=t.length;o<r;o++){const r=t[o],s=r.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(s);n[o]=this._moveToViewPosition(e,r,i,s,a)}return n}}!function(e){e.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!o.j(e))return!1;let t=e;return!!o.k(t.to)&&(!(!o.l(t.select)&&!o.g(t.select))&&(!(!o.l(t.by)&&!o.k(t.by))&&!(!o.l(t.value)&&!o.i(t.value))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;let i;switch(t.to){case e.RawDirection.Left:i=0;break;case e.RawDirection.Right:i=1;break;case e.RawDirection.Up:i=2;break;case e.RawDirection.Down:i=3;break;case e.RawDirection.PrevBlankLine:i=4;break;case e.RawDirection.NextBlankLine:i=5;break;case e.RawDirection.WrappedLineStart:i=6;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:i=7;break;case e.RawDirection.WrappedLineColumnCenter:i=8;break;case e.RawDirection.WrappedLineEnd:i=9;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:i=10;break;case e.RawDirection.ViewPortTop:i=11;break;case e.RawDirection.ViewPortBottom:i=13;break;case e.RawDirection.ViewPortCenter:i=12;break;case e.RawDirection.ViewPortIfOutside:i=14;break;default:return null}let n=0;switch(t.by){case e.RawUnit.Line:n=1;break;case e.RawUnit.WrappedLine:n=2;break;case e.RawUnit.Character:n=3;break;case e.RawUnit.HalfLine:n=4}return{direction:i,unit:n,select:!!t.select,value:t.value||1}}}(n||(n={}))},oCcz:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface Int8ArrayConstructor {\r\n    new (): Int8Array;\r\n}\r\n\r\ninterface Uint8ArrayConstructor {\r\n    new (): Uint8Array;\r\n}\r\n\r\ninterface Uint8ClampedArrayConstructor {\r\n    new (): Uint8ClampedArray;\r\n}\r\n\r\ninterface Int16ArrayConstructor {\r\n    new (): Int16Array;\r\n}\r\n\r\ninterface Uint16ArrayConstructor {\r\n    new (): Uint16Array;\r\n}\r\n\r\ninterface Int32ArrayConstructor {\r\n    new (): Int32Array;\r\n}\r\n\r\ninterface Uint32ArrayConstructor {\r\n    new (): Uint32Array;\r\n}\r\n\r\ninterface Float32ArrayConstructor {\r\n    new (): Float32Array;\r\n}\r\n\r\ninterface Float64ArrayConstructor {\r\n    new (): Float64Array;\r\n}\r\n'},oFSf:function(e,t,i){"use strict";i.d(t,"b",(function(){return p})),i.d(t,"a",(function(){return m}));var n=i("3/fG"),o=i("/cxE"),r=i("gCVg"),s=i("bY76"),a=i("5nk5"),l=i("HpOR"),c=i("gslv");function h(e){return e.toString()}class d{constructor(e,t,i,n,o,r,s){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=o,this.afterCursorState=r,this.changes=s}static create(e,t){const i=e.getAlternativeVersionId(),n=g(e);return new d(i,i,n,n,t,t,[])}append(e,t,i,n,o){t.length>0&&(this.changes=Object(a.b)(this.changes,t)),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(l.f(e,t?t.length:0,i),i+=4,t)for(const n of t)l.f(e,n.selectionStartLineNumber,i),i+=4,l.f(e,n.selectionStartColumn,i),i+=4,l.f(e,n.positionLineNumber,i),i+=4,l.f(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const n=l.c(e,t);t+=4;for(let o=0;o<n;o++){const n=l.c(e,t);t+=4;const o=l.c(e,t);t+=4;const s=l.c(e,t);t+=4;const a=l.c(e,t);t+=4,i.push(new r.a(n,o,s,a))}return t}serialize(){let e=10+d._writeSelectionsSize(this.beforeCursorState)+d._writeSelectionsSize(this.afterCursorState)+4;for(const n of this.changes)e+=n.writeSize();const t=new Uint8Array(e);let i=0;l.f(t,this.beforeVersionId,i),i+=4,l.f(t,this.afterVersionId,i),i+=4,l.g(t,this.beforeEOL,i),i+=1,l.g(t,this.afterEOL,i),i+=1,i=d._writeSelections(t,this.beforeCursorState,i),i=d._writeSelections(t,this.afterCursorState,i),l.f(t,this.changes.length,i),i+=4;for(const n of this.changes)i=n.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const n=l.c(t,i);i+=4;const o=l.c(t,i);i+=4;const r=l.d(t,i);i+=1;const s=l.d(t,i);i+=1;const c=[];i=d._readSelections(t,i,c);const h=[];i=d._readSelections(t,i,h);const u=l.c(t,i);i+=4;const g=[];for(let l=0;l<u;l++)i=a.a.read(t,i,g);return new d(n,o,r,s,c,h,g)}}class u{constructor(e,t){this.model=e,this._data=d.create(e,t)}get type(){return 0}get resource(){return s.a.isUri(this.model)?this.model:this.model.uri}get label(){return n.a("edit","Typing")}toString(){return(this._data instanceof d?this._data:d.deserialize(this._data)).changes.map(e=>e.toString()).join(", ")}matchesResource(e){return(s.a.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof d}append(e,t,i,n,o){this._data instanceof d&&this._data.append(e,t,i,n,o)}close(){this._data instanceof d&&(this._data=this._data.serialize())}open(){this._data instanceof d||(this._data=d.deserialize(this._data))}undo(){if(s.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof d&&(this._data=this._data.serialize());const e=d.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(s.a.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof d&&(this._data=this._data.serialize());const e=d.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof d&&(this._data=this._data.serialize()),this._data.byteLength+168}}function g(e){return"\n"===e.getEOL()?0:1}function p(e){return!!e&&(e instanceof u||e instanceof class{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const i of this._editStackElementsArr){const e=h(i.resource);this._editStackElementsMap.set(e,i)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=h(e);return this._editStackElementsMap.has(t)}setModel(e){const t=h(s.a.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=h(e.uri);if(this._editStackElementsMap.has(t)){return this._editStackElementsMap.get(t).canAppend(e)}return!1}append(e,t,i,n,o){const r=h(e.uri);this._editStackElementsMap.get(r).append(e,t,i,n,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=h(e);if(this._editStackElementsMap.has(t)){return this._editStackElementsMap.get(t).heapSize()}return 0}split(){return this._editStackElementsArr}toString(){let e=[];for(const t of this._editStackElementsArr)e.push(`${Object(c.b)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}})}class m{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);p(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);p(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(p(t)&&t.canAppend(this._model))return t;const i=new u(this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],g(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){const n=this._getOrCreateEditStackElement(e),o=this._model.applyEdits(t,!0),r=m._computeCursorState(i,o),s=o.map((e,t)=>({index:t,textChange:e.textChange}));return s.sort((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition),n.append(this._model,s.map(e=>e.textChange),g(this._model),this._model.getAlternativeVersionId(),r),r}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return Object(o.e)(i),null}}}},pAvP:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("editorWorkerService")},"pNd/":function(e,t,i){function n(){return(n=Object.assign||function(e){for(var t,i=1;i<arguments.length;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)}const o=i("wjmO");e.exports=function(e){let{size:t="1em",color:i="#007acc",...r}=e;return r={...r,style:{...r.style?r.style:{},width:t,height:t,...i?{fill:i}:{}}},o.createElement("svg",n({},r,{viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg"}),o.createElement("path",{d:"M2 63.91v62.5h125v-125H2zm100.73-5a15.56 15.56 0 017.82 4.5 20.58 20.58 0 013 4c0 .16-5.4 3.81-8.69 5.85-.12.08-.6-.44-1.13-1.23a7.09 7.09 0 00-5.87-3.53c-3.79-.26-6.23 1.73-6.21 5a4.58 4.58 0 00.54 2.34c.83 1.73 2.38 2.76 7.24 4.86 8.95 3.85 12.78 6.39 15.16 10 2.66 4 3.25 10.46 1.45 15.24-2 5.2-6.9 8.73-13.83 9.9a38.32 38.32 0 01-9.52-.1A23 23 0 0180 109.19c-1.15-1.27-3.39-4.58-3.25-4.82a9.34 9.34 0 011.15-.73l4.6-2.64 3.59-2.08.75 1.11a16.78 16.78 0 004.74 4.54c4 2.1 9.46 1.81 12.16-.62a5.43 5.43 0 00.69-6.92c-1-1.39-3-2.56-8.59-5-6.45-2.78-9.23-4.5-11.77-7.24a16.48 16.48 0 01-3.43-6.25 25 25 0 01-.22-8c1.33-6.23 6-10.58 12.82-11.87a31.66 31.66 0 019.49.26zm-29.34 5.24v5.12H57.16v46.23H45.65V69.26H29.38v-5a49.19 49.19 0 01.14-5.16c.06-.08 10-.12 22-.1h21.81z"}))}},pg8w:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return c}));var n,o=i("6OMU"),r=i("pmY6"),s=i("EffR"),a=i("ZCR3"),l=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"}(n||(n={}));class c extends r.a{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(s.i(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(s.i(document,"touchend",e=>this.onTouchEnd(e))),this._register(s.i(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){return c.isTouchDevice()?(c.INSTANCE||(c.INSTANCE=new c),c.INSTANCE.targets.push(e),{dispose:()=>{c.INSTANCE.targets=c.INSTANCE.targets.filter(t=>t!==e)}}):r.a.None}static ignoreTarget(e){return c.isTouchDevice()?(c.INSTANCE||(c.INSTANCE=new c),c.INSTANCE.ignoreTargets.push(e),{dispose:()=>{c.INSTANCE.ignoreTargets=c.INSTANCE.ignoreTargets.filter(t=>t!==e)}}):r.a.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,o=e.targetTouches.length;i<o;i++){let o=e.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};let r=this.newGestureEvent(n.Start,o.target);r.pageX=o.pageX,r.pageY=o.pageY,this.dispatchEvent(r)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),i=Object.keys(this.activeTouches).length;for(let r=0,s=e.changedTouches.length;r<s;r++){let s=e.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}let a=this.activeTouches[s.identifier],l=Date.now()-a.initialTimeStamp;if(l<c.HOLD_DELAY&&Math.abs(a.initialPageX-o.t(a.rollingPageX))<30&&Math.abs(a.initialPageY-o.t(a.rollingPageY))<30){let e=this.newGestureEvent(n.Tap,a.initialTarget);e.pageX=o.t(a.rollingPageX),e.pageY=o.t(a.rollingPageY),this.dispatchEvent(e)}else if(l>=c.HOLD_DELAY&&Math.abs(a.initialPageX-o.t(a.rollingPageX))<30&&Math.abs(a.initialPageY-o.t(a.rollingPageY))<30){let e=this.newGestureEvent(n.Contextmenu,a.initialTarget);e.pageX=o.t(a.rollingPageX),e.pageY=o.t(a.rollingPageY),this.dispatchEvent(e)}else if(1===i){let e=o.t(a.rollingPageX),i=o.t(a.rollingPageY),n=o.t(a.rollingTimestamps)-a.rollingTimestamps[0],r=e-a.rollingPageX[0],s=i-a.rollingPageY[0];const l=this.targets.filter(e=>a.initialTarget instanceof Node&&e.contains(a.initialTarget));this.inertia(l,t,Math.abs(r)/n,r>0?1:-1,e,Math.abs(s)/n,s>0?1:-1,i)}this.dispatchEvent(this.newGestureEvent(n.End,a.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===n.Tap){const t=(new Date).getTime();let i=0;i=t-this._lastSetTapCountTime>c.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=i}else e.type!==n.Change&&e.type!==n.Contextmenu||(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach(t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)})}inertia(e,t,i,o,r,a,l,h){this.handle=s.V(()=>{let s=Date.now(),d=s-t,u=0,g=0,p=!0;i+=c.SCROLL_FRICTION*d,a+=c.SCROLL_FRICTION*d,i>0&&(p=!1,u=o*i*d),a>0&&(p=!1,g=l*a*d);let m=this.newGestureEvent(n.Change);m.translationX=u,m.translationY=g,e.forEach(e=>e.dispatchEvent(m)),p||this.inertia(e,s,i,o,r+u,a,l,h+g)})}onTouchMove(e){let t=Date.now();for(let i=0,r=e.changedTouches.length;i<r;i++){let r=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("end of an UNKNOWN touch",r);continue}let s=this.activeTouches[r.identifier],a=this.newGestureEvent(n.Change,s.initialTarget);a.translationX=r.pageX-o.t(s.rollingPageX),a.translationY=r.pageY-o.t(s.rollingPageY),a.pageX=r.pageX,a.pageY=r.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(r.pageX),s.rollingPageY.push(r.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}c.SCROLL_FRICTION=-.005,c.HOLD_DELAY=700,c.CLEAR_TAP_COUNT_TIME=400,l([a.a],c,"isTouchDevice",null)},pmY6:function(e,t,i){"use strict";i.d(t,"h",(function(){return c})),i.d(t,"g",(function(){return d})),i.d(t,"f",(function(){return u})),i.d(t,"e",(function(){return g})),i.d(t,"i",(function(){return p})),i.d(t,"b",(function(){return m})),i.d(t,"a",(function(){return f})),i.d(t,"d",(function(){return b})),i.d(t,"c",(function(){return _}));var n=i("C/vA"),o=i("JYp7");let r=null;function s(e){return null==r||r.trackDisposable(e),e}function a(e){null==r||r.markAsDisposed(e)}function l(e,t){null==r||r.setParent(e,t)}function c(e){return null==r||r.markAsSingleton(e),e}class h extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function d(e){return"function"==typeof e.dispose&&0===e.dispose.length}function u(e){if(o.a.is(e)){let i=[];for(const n of e)if(n)try{n.dispose()}catch(t){i.push(t)}if(1===i.length)throw i[0];if(i.length>1)throw new h(i);return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}function g(...e){const t=p(()=>u(e));return function(e,t){if(r)for(const i of e)r.setParent(i,t)}(e,t),t}function p(e){const t=s({dispose:Object(n.a)(()=>{a(t),e()})});return t}class m{constructor(){this._toDispose=new Set,this._isDisposed=!1,s(this)}dispose(){this._isDisposed||(a(this),this._isDisposed=!0,this.clear())}clear(){try{u(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return l(e,this),this._isDisposed?m.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}m.DISABLE_DISPOSED_WARNING=!1;class f{constructor(){this._store=new m,s(this),l(this._store,this)}dispose(){a(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}f.None=Object.freeze({dispose(){}});class b{constructor(){this._isDisposed=!1,s(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),e&&l(e,this),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,a(this),null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e&&l(e,null),e}}class _{constructor(e){this.object=e}dispose(){}}},ptcw:function(e,t,i){"use strict";i.d(t,"d",(function(){return o})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"e",(function(){return l})),i.d(t,"c",(function(){return h}));var n=i("MD5Z");function o(e,t){const i=Object.create(null);for(let o in t){const r=t[o];r&&(i[o]=Object(n.xc)(r,e))}return i}function r(e,t,i){function n(){const n=o(e.getColorTheme(),t);"function"==typeof i?i(n):i.style(n)}return n(),e.onDidColorThemeChange(n)}function s(e,t,i){return r(t,{badgeBackground:(null==i?void 0:i.badgeBackground)||n.c,badgeForeground:(null==i?void 0:i.badgeForeground)||n.d,badgeBorder:n.h},e)}function a(e,t,i){return r(t,Object.assign(Object.assign({},l),i||{}),e)}const l={listFocusBackground:n.Gb,listFocusForeground:n.Hb,listFocusOutline:n.Jb,listActiveSelectionBackground:n.zb,listActiveSelectionForeground:n.Ab,listActiveSelectionIconForeground:n.Bb,listFocusAndSelectionBackground:n.zb,listFocusAndSelectionForeground:n.Ab,listInactiveSelectionBackground:n.Pb,listInactiveSelectionIconForeground:n.Rb,listInactiveSelectionForeground:n.Qb,listInactiveFocusBackground:n.Nb,listInactiveFocusOutline:n.Ob,listHoverBackground:n.Lb,listHoverForeground:n.Mb,listDropBackground:n.Cb,listSelectionOutline:n.b,listHoverOutline:n.b,listFilterWidgetBackground:n.Db,listFilterWidgetOutline:n.Fb,listFilterWidgetNoMatchesOutline:n.Eb,listMatchesShadow:n.Mc,treeIndentGuidesStroke:n.Lc,tableColumnsBorder:n.Gc},c={shadowColor:n.Mc,borderColor:n.Tb,foregroundColor:n.Ub,backgroundColor:n.Sb,selectionForegroundColor:n.Xb,selectionBackgroundColor:n.Vb,selectionBorderColor:n.Wb,separatorColor:n.Yb};function h(e,t,i){return r(t,Object.assign(Object.assign({},c),i),e)}},"q/I2":function(e,t,i){},q9Q4:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface ObjectConstructor {\r\n    /**\r\n     * Returns an array of values of the enumerable properties of an object\r\n     * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\r\n     */\r\n    values<T>(o: { [s: string]: T } | ArrayLike<T>): T[];\r\n\r\n    /**\r\n     * Returns an array of values of the enumerable properties of an object\r\n     * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\r\n     */\r\n    values(o: {}): any[];\r\n\r\n    /**\r\n     * Returns an array of key/values of the enumerable properties of an object\r\n     * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\r\n     */\r\n    entries<T>(o: { [s: string]: T } | ArrayLike<T>): [string, T][];\r\n\r\n    /**\r\n     * Returns an array of key/values of the enumerable properties of an object\r\n     * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\r\n     */\r\n    entries(o: {}): [string, any][];\r\n\r\n    /**\r\n     * Returns an object containing all own property descriptors of an object\r\n     * @param o Object that contains the properties and methods. This can be an object that you created or an existing Document Object Model (DOM) object.\r\n     */\r\n    getOwnPropertyDescriptors<T>(o: T): {[P in keyof T]: TypedPropertyDescriptor<T[P]>} & { [x: string]: PropertyDescriptor };\r\n}\r\n'},qNAo:function(e,t,i){"use strict";i.d(t,"h",(function(){return s})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return c})),i.d(t,"e",(function(){return h})),i.d(t,"f",(function(){return d})),i.d(t,"a",(function(){return u})),i.d(t,"d",(function(){return g})),i.d(t,"g",(function(){return p}));var n=i("N0LK"),o=i("cGHE"),r=i("aokT");class s{constructor(e,t,i,n){this._viewportBrand=void 0,this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}}class a{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e,t){const i=this.outputLineIndex>0?t:0;return new o.a(e+this.outputLineIndex,i+this.outputOffset+1)}}class l{constructor(e,t,i,n,o){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=i,this.injectionOffsets=n,this.injectionOptions=o}getInputOffsetOfOutputPosition(e,t){let i=0;if(i=0===e?t:this.breakOffsets[e-1]+t,null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&i>this.injectionOffsets[n];n++)i<this.injectionOffsets[n]+this.injectionOptions[n].content.length?i=this.injectionOffsets[n]:i-=this.injectionOptions[n].content.length;return i}getOutputPositionOfInputOffset(e,t=2){let i=0;if(null!==this.injectionOffsets)for(let n=0;n<this.injectionOffsets.length&&!(e<this.injectionOffsets[n])&&(1===t||e!==this.injectionOffsets[n]);n++)i+=this.injectionOptions[n].content.length;return e+=i,this.getOutputPositionOfOffsetInUnwrappedLine(e,t)}getOutputPositionOfOffsetInUnwrappedLine(e,t=2){let i=0,n=this.breakOffsets.length-1,o=0,r=0;for(;i<=n;){o=i+(n-i)/2|0;const s=this.breakOffsets[o];if(r=o>0?this.breakOffsets[o-1]:0,0===t)if(e<=r)n=o-1;else{if(!(e>s))break;i=o+1}else if(e<r)n=o-1;else{if(!(e>=s))break;i=o+1}}return new a(o,e-r)}outputPositionToOffsetInUnwrappedLine(e,t){let i=(e>0?this.breakOffsets[e-1]:0)+t;return e>0&&(i-=this.wrappedTextIndentLength),i}normalizeOffsetAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(2===t)return e===i.offsetInUnwrappedLine+i.length?i.offsetInUnwrappedLine+i.length:i.offsetInUnwrappedLine;if(1===t){let e=i.offsetInUnwrappedLine+i.length,t=i.injectedTextIndex;for(;t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t];)e+=this.injectionOptions[t+1].content.length,t++;return e}let n=i.offsetInUnwrappedLine,o=i.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)n-=this.injectionOptions[o-1].content.length,o++;return n}getInjectedText(e,t){const i=this.outputPositionToOffsetInUnwrappedLine(e,t),n=this.getInjectedTextAtOffset(i);return n?{options:this.injectionOptions[n.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(null!==t){let n=0;for(let o=0;o<t.length;o++){const r=i[o].content.length,s=t[o]+n,a=t[o]+n+r;if(s>e)break;if(e<=a)return{injectedTextIndex:o,offsetInUnwrappedLine:s,length:r};n+=r}}}}class c{constructor(e,t){this.tabSize=e,this.data=t}}class h{constructor(e,t,i,n,o,r,s){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=o,this.tokens=r,this.inlineDecorations=s}}class d{constructor(e,t,i,n,o,r,s,a,l,c){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=d.isBasicASCII(i,r),this.containsRTL=d.containsRTL(i,this.isBasicASCII,o),this.tokens=s,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=c}static isBasicASCII(e,t){return!t||n.B(e)}static containsRTL(e,t,i){return!(t||!i)&&n.m(e)}}class u{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class g{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=n}toInlineDecoration(e){return new u(new r.a(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class p{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}},qj0h:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"f",(function(){return l})),i.d(t,"d",(function(){return c})),i.d(t,"e",(function(){return h}));var n=i("746U");function o(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(i=>{e[i]&&"object"==typeof e[i]?t[i]=o(e[i]):t[i]=e[i]}),t}function r(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;t.length>0;){const e=t.shift();Object.freeze(e);for(const i in e)if(s.call(e,i)){const n=e[i];"object"!=typeof n||Object.isFrozen(n)||t.push(n)}}return e}const s=Object.prototype.hasOwnProperty;function a(e,t){return function e(t,i,o){if(Object(n.m)(t))return t;const r=i(t);if(void 0!==r)return r;if(Object(n.f)(t)){const n=[];for(const r of t)n.push(e(r,i,o));return n}if(Object(n.j)(t)){if(o.has(t))throw new Error("Cannot clone recursive data-structure");o.add(t);const n={};for(let r in t)s.call(t,r)&&(n[r]=e(t[r],i,o));return o.delete(t),n}return t}(e,t,new Set)}function l(e,t,i=!0){return Object(n.j)(e)?(Object(n.j)(t)&&Object.keys(t).forEach(o=>{o in e?i&&(Object(n.j)(e[o])&&Object(n.j)(t[o])?l(e[o],t[o],i):e[o]=t[o]):e[o]=t[o]}),e):t}function c(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let i,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!c(e[i],t[i]))return!1}else{const o=[];for(n in e)o.push(n);o.sort();const r=[];for(n in t)r.push(n);if(r.sort(),!c(o,r))return!1;for(i=0;i<o.length;i++)if(!c(e[o[i]],t[o[i]]))return!1}return!0}function h(e,t,i){const n=t(e);return void 0===n?i:n}},qoAC:function(e,t,i){},r0BQ:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}},r5I2:function(e,t,i){"use strict";i.r(t),t.default="// Based on https://www.lua.org/manual/5.3/manual.html#6.3\n\n/** @noSelfInFile */\n\n/**\n * Loads the given module. The function starts by looking into the\n * package.loaded table to determine whether modname is already loaded. If it\n * is, then require returns the value stored at package.loaded[modname].\n * Otherwise, it tries to find a loader for the module.\n *\n * To find a loader, require is guided by the package.searchers sequence. By\n * changing this sequence, we can change how require looks for a module. The\n * following explanation is based on the default configuration for\n * package.searchers.\n *\n * First require queries package.preload[modname]. If it has a value, this value\n * (which must be a function) is the loader. Otherwise require searches for a\n * Lua loader using the path stored in package.path. If that also fails, it\n * searches for a C loader using the path stored in package.cpath. If that also\n * fails, it tries an all-in-one loader (see package.searchers).\n *\n * Once a loader is found, require calls the loader with two arguments: modname\n * and an extra value dependent on how it got the loader. (If the loader came\n * from a file, this extra value is the file name.) If the loader returns any\n * non-nil value, require assigns the returned value to package.loaded[modname].\n * If the loader does not return a non-nil value and has not assigned any value\n * to package.loaded[modname], then require assigns true to this entry. In any\n * case, require returns the final value of package.loaded[modname].\n *\n * If there is any error loading or running the module, or if it cannot find any\n * loader for the module, then require raises an error.\n */\ndeclare function require(modname: string): any;\n\n/**\n * The package library provides basic facilities for loading modules in Lua. It\n * exports one function directly in the global environment: require. Everything\n * else is exported in a table package.\n */\ndeclare namespace package {\n    /**\n     * A string describing some compile-time configurations for packages. This\n     * string is a sequence of lines:\n     * * The first line is the directory separator string. Default is '\\' for\n     *   Windows and '/' for all other systems.\n     * * The second line is the character that separates templates in a path.\n     *   Default is ';'.\n     * * The third line is the string that marks the substitution points in a\n     *   template. Default is '?'.\n     * * The fourth line is a string that, in a path in Windows, is replaced by\n     *   the executable's directory. Default is '!'.\n     * * The fifth line is a mark to ignore all text after it when building the\n     *   luaopen_ function name. Default is '-'.\n     */\n    var config: string;\n\n    /**\n     * The path used by require to search for a C loader.\n     *\n     * Lua initializes the C path package.cpath in the same way it initializes the\n     * Lua path package.path, using the environment variable LUA_CPATH_5_3, or the\n     * environment variable LUA_CPATH, or a default path defined in luaconf.h.\n     */\n    var cpath: string;\n\n    /**\n     * A table used by require to control which modules are already loaded. When\n     * you require a module modname and package.loaded[modname] is not false,\n     * require simply returns the value stored there.\n     *\n     * This variable is only a reference to the real table; assignments to this\n     * variable do not change the table used by require.\n     */\n    const loaded: Record<string, any>;\n\n    /**\n     * Dynamically links the host program with the C library libname.\n     *\n     * If funcname is \"*\", then it only links with the library, making the symbols\n     * exported by the library available to other dynamically linked libraries.\n     * Otherwise, it looks for a function funcname inside the library and returns\n     * this function as a C function. So, funcname must follow the lua_CFunction\n     * prototype (see lua_CFunction).\n     *\n     * This is a low-level function. It completely bypasses the package and module\n     * system. Unlike require, it does not perform any path searching and does not\n     * automatically adds extensions. libname must be the complete file name of\n     * the C library, including if necessary a path and an extension. funcname\n     * must be the exact name exported by the C library (which may depend on the C\n     * compiler and linker used).\n     *\n     * This function is not supported by Standard C. As such, it is only available\n     * on some platforms (Windows, Linux, Mac OS X, Solaris, BSD, plus other Unix\n     * systems that support the dlfcn standard).\n     */\n    function loadlib(\n        libname: string,\n        funcname: string\n    ): [Function] | [undefined, string, 'open' | 'init'];\n\n    /**\n     * The path used by require to search for a Lua loader.\n     *\n     * At start-up, Lua initializes this variable with the value of the\n     * environment variable LUA_PATH_5_3 or the environment variable LUA_PATH or\n     * with a default path defined in luaconf.h, if those environment variables\n     * are not defined. Any \";;\" in the value of the environment variable is\n     * replaced by the default path.\n     */\n    var path: string;\n\n    /**\n     * A table to store loaders for specific modules (see require).\n     *\n     * This variable is only a reference to the real table; assignments to this\n     * variable do not change the table used by require.\n     */\n    const preload: Record<string, (modname: string, fileName?: string) => any>;\n\n    /**\n     * Searches for the given name in the given path.\n     *\n     * A path is a string containing a sequence of templates separated by\n     * semicolons. For each template, the function replaces each interrogation\n     * mark (if any) in the template with a copy of name wherein all occurrences\n     * of sep (a dot, by default) were replaced by rep (the system's directory\n     * separator, by default), and then tries to open the resulting file name.\n     *\n     * For instance, if the path is the string\n     *\n     * `./?.lua;./?.lc;/usr/local/?/init.lua`\n     *\n     * the search for the name foo.a will try to open the files ./foo/a.lua,\n     * ./foo/a.lc, and /usr/local/foo/a/init.lua, in that order.\n     *\n     * Returns the resulting name of the first file that it can open in read mode\n     * (after closing the file), or nil plus an error message if none succeeds.\n     * (This error message lists all file names it tried to open.)\n     */\n    function searchpath(name: string, path: string, sep?: string, rep?: string): string;\n}\n"},r6Ki:function(e,t,i){},sFUC:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return s}));var n=i("iuje");function o(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===n.a.ICodeEditor}function r(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===n.a.IDiffEditor}function s(e){return o(e)?e:r(e)?e.getModifiedEditor():null}},sM1p:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s}));var n=i("S3by"),o=i("Cg/j");n.a;const r=Object(o.c)("notificationService");class s{}},scqD:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("themeService")},sgJN:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/**\r\n * Represents the completion of an asynchronous operation\r\n */\r\ninterface Promise<T> {\r\n    /**\r\n     * Attaches a callback that is invoked when the Promise is settled (fulfilled or rejected). The\r\n     * resolved value cannot be modified from the callback.\r\n     * @param onfinally The callback to execute when the Promise is settled (fulfilled or rejected).\r\n     * @returns A Promise for the completion of the callback.\r\n     */\r\n    finally(onfinally?: (() => void) | undefined | null): Promise<T>\r\n}\r\n'},siPX:function(e,t,i){},snIX:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("N0LK"),o=i("LCkn"),r=i("Ll0s"),s=i("+Fos"),a=i("aokT"),l=i("cGHE");class c{static deleteRight(e,t,i,n){let r=[],l=3!==e;for(let c=0,h=n.length;c<h;c++){const e=n[c];let h=e;if(h.isEmpty()){let n=e.getPosition(),o=s.a.right(t,i,n);h=new a.a(o.lineNumber,o.column,n.lineNumber,n.column)}h.isEmpty()?r[c]=null:(h.startLineNumber!==h.endLineNumber&&(l=!0),r[c]=new o.a(h,""))}return[l,r]}static isAutoClosingPairDelete(e,t,i,n,o,s,a){if("never"===t&&"never"===i)return!1;if("never"===e)return!1;for(let l=0,c=s.length;l<c;l++){const c=s[l],h=c.getPosition();if(!c.isEmpty())return!1;const d=o.getLineContent(h.lineNumber);if(h.column<2||h.column>=d.length+1)return!1;const u=d.charAt(h.column-2),g=n.get(u);if(!g)return!1;if(Object(r.g)(u)){if("never"===i)return!1}else if("never"===t)return!1;const p=d.charAt(h.column-1);let m=!1;for(const e of g)e.open===u&&e.close===p&&(m=!0);if(!m)return!1;if("auto"===e){let e=!1;for(let t=0,i=a.length;t<i;t++){const i=a[t];if(h.lineNumber===i.startLineNumber&&h.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){let n=[];for(let r=0,s=i.length;r<s;r++){const e=i[r].getPosition(),t=new a.a(e.lineNumber,e.column-1,e.lineNumber,e.column+1);n[r]=new o.a(t,"")}return[!0,n]}static deleteLeft(e,t,i,n,r){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,n,r))return this._runAutoClosingPairDelete(t,i,n);const s=[];let a=2!==e;for(let l=0,h=n.length;l<h;l++){let e=c.getDeleteRange(n[l],i,t);e.isEmpty()?s[l]=null:(e.startLineNumber!==e.endLineNumber&&(a=!0),s[l]=new o.a(e,""))}return[a,s]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const o=e.getPosition();if(i.useTabStops&&o.column>1){const e=t.getLineContent(o.lineNumber),s=n.v(e),l=-1===s?e.length+1:s+1;if(o.column<=l){const e=r.a.visibleColumnFromColumn2(i,t,o),n=r.a.prevIndentTabStop(e,i.indentSize),s=r.a.columnFromVisibleColumn2(i,t,o.lineNumber,n);return new a.a(o.lineNumber,s,o.lineNumber,o.column)}}return a.a.fromPositions(c.getPositionAfterDeleteLeft(o,t),o)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=n.z(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}if(e.lineNumber>1){const i=e.lineNumber-1;return new l.a(i,t.getLineMaxColumn(i))}return e}static cut(e,t,i){let n=[];for(let r=0,s=i.length;r<s;r++){const s=i[r];if(s.isEmpty())if(e.emptySelectionClipboard){let e,i,l,c,h=s.getPosition();h.lineNumber<t.getLineCount()?(e=h.lineNumber,i=1,l=h.lineNumber+1,c=1):h.lineNumber>1?(e=h.lineNumber-1,i=t.getLineMaxColumn(h.lineNumber-1),l=h.lineNumber,c=t.getLineMaxColumn(h.lineNumber)):(e=h.lineNumber,i=1,l=h.lineNumber,c=t.getLineMaxColumn(h.lineNumber));let d=new a.a(e,i,l,c);d.isEmpty()?n[r]=null:n[r]=new o.a(d,"")}else n[r]=null;else n[r]=new o.a(s,"")}return new r.e(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},"snK/":function(e,t,i){e.exports=function(){return new Worker(i.p+"editor.worker.js")}},snKK:function(e,t,i){"use strict";(function(e){i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return g}));var n=i("rePB"),o=i("8z58");i.d(t,"c",(function(){return o}));i("+KTK"),i("ZvGG"),i("EOst"),i("z3hU");var r=i("snK/"),s=i.n(r),a=i("Z1D4"),l=i.n(a),c=i("/wDO");function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){Object(n.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(){return"onedark"}function g(e=!1){return{minimap:{enabled:!1},automaticLayout:!0,scrollbar:{useShadows:!1},fixedOverflowWidgets:!0,wordWrap:"on",readOnly:e,fontFamily:"dm, Dank Mono, Operator Mono, Menlo, monospace",fontLigatures:!0}}function p(e,t){for(const i of e.keys())if(t){const n=i.replace("./",t+"/");o.languages.typescript.typescriptDefaults.addExtraLib(e(i).default,n)}else o.languages.typescript.typescriptDefaults.addExtraLib(e(i).default)}e.MonacoEnvironment={getWorker:(e,t)=>"typescript"===t?new l.a:new s.a};for(const t of[i("PIbP"),i("1kKj"),i("2YPd"),i("zvm3"),i("L1Zj"),i("/+yt"),i("RNvc"),i("+CuN"),i("xST4"),i("cdmB"),i("wE1a"),i("Nm7z"),i("VAdQ"),i("q9Q4"),i("X4/I"),i("ZAMT"),i("vLfQ"),i("oCcz"),i("gBdU"),i("wiin"),i("fV/c"),i("sgJN"),i("EY2B"),i("lGqP"),i("2aDi"),i("GjTR"),i("5Yg1"),i("FD5B"),i("FHm5")])o.languages.typescript.typescriptDefaults.addExtraLib(t.default);p(i("IpWR"));for(const t of[i("R0Hg"),i("htzC"),i("gMC8"),i("MXNz")])o.languages.typescript.typescriptDefaults.addExtraLib(t.default);p(i("OEK7"),"/language-extensions"),o.languages.typescript.typescriptDefaults.addExtraLib(i("X5Qd").default,"/language-extensions/index.d.ts"),p(i("u5H8")),o.languages.typescript.typescriptDefaults.addExtraLib(i("QJEp").default),o.languages.typescript.typescriptDefaults.setCompilerOptions(d(d({},o.languages.typescript.typescriptDefaults.getCompilerOptions()),{},{strict:!0,module:"commonjs",esModuleInterop:!0,noUnusedLocals:!1,noUnusedParameters:!1})),o.editor.defineTheme("onedark",c),o.editor.setTheme("onedark")}).call(this,i("yLpj"))},sswD:function(e,t,i){"use strict";i.d(t,"a",(function(){return _})),i.d(t,"e",(function(){return v})),i.d(t,"c",(function(){return w})),i.d(t,"b",(function(){return y})),i.d(t,"f",(function(){return S})),i.d(t,"n",(function(){return L})),i.d(t,"o",(function(){return x})),i.d(t,"k",(function(){return k})),i.d(t,"j",(function(){return D})),i.d(t,"p",(function(){return I})),i.d(t,"m",(function(){return O})),i.d(t,"l",(function(){return N})),i.d(t,"d",(function(){return n})),i.d(t,"i",(function(){return M})),i.d(t,"g",(function(){return A})),i.d(t,"h",(function(){return R}));var n,o=i("3/fG"),r=i("bY76"),s=i("Vxe3"),a=i("cGHE"),l=i("G2kB"),c=i("t49l"),h=i("fjLI"),d=i("nnTU"),u=i("T8No"),g=i("nrhi"),p=i("ic2d"),m=i("XXUj"),f=i("746U"),b=i("09fa");class _{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let e=t.kbExpr;this.precondition&&(e=e?u.a.and(e,this.precondition):this.precondition);const i={id:this.id,weight:t.weight,args:t.args,when:e,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};g.a.registerKeybindingRule(i)}}d.a.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){h.d.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class v extends _{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort((e,t)=>t.priority-e.priority),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===i)return void this._implementations.splice(e,1)}}}runCommand(e,t){const i=e.get(b.b);for(const n of this._implementations){const o=n.implementation(e,t);if(o){if(i.trace(`Command '${this.id}' was handled by '${n.name}'.`),"boolean"==typeof o)return;return o}}}}class C extends _{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class w extends _{static bindToContribution(e){return class extends w{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,i,n){e(i)&&this._callback(e(i),n)}}}runCommand(e,t){const i=e.get(s.a),n=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(n)return n.invokeWithinContext(e=>{if(e.get(u.b).contextMatchesRules(Object(f.o)(this.precondition)))return this.runEditorCommand(e,n,t)})}}class y extends w{constructor(e){super(y.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;function i(t){return t.menuId||(t.menuId=h.b.EditorContext),t.title||(t.title=e.label),t.when=u.a.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(m.a).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class S extends y{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((e,t)=>t[0]-e[0]),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}run(e,t,i){for(const n of this._implementations){const o=n[1](e,t,i);if(o){if("boolean"==typeof o)return;return o}}}}function L(e,t){d.a.registerCommand(e,(function(e,...i){const[n,o]=i;Object(f.c)(r.a.isUri(n)),Object(f.c)(a.a.isIPosition(o));const s=e.get(l.a).getModel(n);if(s){const e=a.a.lift(o);return t(s,e,...i.slice(2))}return e.get(c.a).createModelReference(n).then(e=>new Promise((n,r)=>{try{n(t(e.object.textEditorModel,a.a.lift(o),i.slice(2)))}catch(s){r(s)}}).finally(()=>{e.dispose()}))}))}function x(e,t){d.a.registerCommand(e,(function(e,...i){const[n]=i;Object(f.c)(r.a.isUri(n));const o=e.get(l.a).getModel(n);return o?t(o,...i.slice(1)):e.get(c.a).createModelReference(n).then(e=>new Promise((n,o)=>{try{n(t(e.object.textEditorModel,i.slice(1)))}catch(r){o(r)}}).finally(()=>{e.dispose()}))}))}function k(e){return E.INSTANCE.registerEditorCommand(e),e}function D(e){const t=new e;return E.INSTANCE.registerEditorAction(t),t}function I(e){return E.INSTANCE.registerEditorAction(e),e}function O(e){E.INSTANCE.registerEditorAction(e)}function N(e,t){E.INSTANCE.registerEditorContribution(e,t)}!function(e){e.getEditorCommand=function(e){return E.INSTANCE.getEditorCommand(e)},e.getEditorActions=function(){return E.INSTANCE.getEditorActions()},e.getEditorContributions=function(){return E.INSTANCE.getEditorContributions()},e.getSomeEditorContributions=function(e){return E.INSTANCE.getEditorContributions().filter(t=>e.indexOf(t.id)>=0)},e.getDiffEditorContributions=function(){return E.INSTANCE.getDiffEditorContributions()}}(n||(n={}));class E{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function T(e){return e.register(),e}E.INSTANCE=new E,p.a.add("editor.contributions",E.INSTANCE);const M=T(new v({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:h.b.MenubarEditMenu,group:"1_do",title:o.a({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:h.b.CommandPalette,group:"",title:o.a("undo","Undo"),order:1}]}));T(new C(M,{id:"default:undo",precondition:void 0}));const A=T(new v({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:h.b.MenubarEditMenu,group:"1_do",title:o.a({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:h.b.CommandPalette,group:"",title:o.a("redo","Redo"),order:1}]}));T(new C(A,{id:"default:redo",precondition:void 0}));const R=T(new v({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:h.b.MenubarSelectionMenu,group:"1_basic",title:o.a({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:h.b.CommandPalette,group:"",title:o.a("selectAll","Select All"),order:1}]}))},synD:function(e,t,i){},t49l:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("Cg/j");const o=Object(n.c)("textModelService")},t9D7:function(e,t,i){"use strict";i.d(t,"b",(function(){return c})),i.d(t,"g",(function(){return u})),i.d(t,"d",(function(){return d})),i.d(t,"e",(function(){return g})),i.d(t,"a",(function(){return p})),i.d(t,"f",(function(){return f})),i.d(t,"c",(function(){return b}));var n=i("Cg/j"),o=i("pmY6"),r=i("ic2d"),s=i("MI8n"),a=i("nEHx"),l=i("Vhoy");const c=Object(n.c)("themeService");var h,d;function u(e){return{id:e}}function g(e){switch(e){case a.a.DARK:return"vs-dark";case a.a.HIGH_CONTRAST:return"hc-black";default:return"vs"}}!function(e){e.isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id}}(h||(h={})),function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||h.isThemeColor(e.color))};const t=new RegExp(`^\\$\\((${l.a.iconNameExpression}(?:${l.a.iconModifierExpression})?)\\)$`);e.fromString=function(e){const i=t.exec(e);if(!i)return;let[,n]=i;return{id:n}},e.modify=function(e,t){let i=e.id;const n=i.lastIndexOf("~");return-1!==n&&(i=i.substring(0,n)),t&&(i=`${i}~${t}`),{id:i}},e.isEqual=function(e,t){var i,n;return e.id===t.id&&(null===(i=e.color)||void 0===i?void 0:i.id)===(null===(n=t.color)||void 0===n?void 0:n.id)},e.asThemeIcon=function(e,t){return{id:e.id,color:t?u(t):void 0}},e.asClassNameArray=l.a.asClassNameArray,e.asClassName=l.a.asClassName,e.asCSSSelector=l.a.asCSSSelector}(d||(d={}));const p={ThemingContribution:"base.contributions.theming"};let m=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new s.b}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Object(o.i)(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}};function f(e){return m.onColorThemeChange(e)}r.a.add(p.ThemingContribution,m);class b extends o.a{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(e=>this.onThemeChange(e)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}},tADe:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l}));var n,o,r=i("Cg/j"),s=i("3/fG"),a=i("S3by");!function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(n||(n={})),function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=Object(s.a)("sev.error","Error"),t[e.Warning]=Object(s.a)("sev.warning","Warning"),t[e.Info]=Object(s.a)("sev.info","Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case a.a.Error:return e.Error;case a.a.Warning:return e.Warning;case a.a.Info:return e.Info;case a.a.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return a.a.Error;case e.Warning:return a.a.Warning;case e.Info:return a.a.Info;case e.Hint:return a.a.Ignore}}}(n||(n={})),function(e){function t(e,t){let i=[""];return e.source?i.push(e.source.replace("¦","\\¦")):i.push(""),e.code?"string"==typeof e.code?i.push(e.code.replace("¦","\\¦")):i.push(e.code.value.replace("¦","\\¦")):i.push(""),void 0!==e.severity&&null!==e.severity?i.push(n.toString(e.severity)):i.push(""),e.message&&t?i.push(e.message.replace("¦","\\¦")):i.push(""),void 0!==e.startLineNumber&&null!==e.startLineNumber?i.push(e.startLineNumber.toString()):i.push(""),void 0!==e.startColumn&&null!==e.startColumn?i.push(e.startColumn.toString()):i.push(""),void 0!==e.endLineNumber&&null!==e.endLineNumber?i.push(e.endLineNumber.toString()):i.push(""),void 0!==e.endColumn&&null!==e.endColumn?i.push(e.endColumn.toString()):i.push(""),i.push(""),i.join("¦")}e.makeKey=function(e){return t(e,!0)},e.makeKeyOptionalMessage=t}(o||(o={}));const l=Object(r.c)("markerService")},tTk5:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return r}));var n=i("Cg/j");class o{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}o.None=Object.freeze({report(){}});const r=Object(n.c)("editorProgressService")},tX9W:function(e,t,i){"use strict";i.d(t,"b",(function(){return Ae})),i.d(t,"a",(function(){return ze}));var n=i("/cxE"),o=i("MI8n"),r=i("pmY6"),s=i("N0LK"),a=i("bY76"),l=i("/UlZ"),c=i("cGHE"),h=i("aokT"),d=i("gCVg"),u=i("M1Kb"),g=i("oFSf");class p{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function m(e,t,i,n,o){let r;for(o.spacesDiff=0,o.looksLikeAlignment=!1,r=0;r<t&&r<n;r++){if(e.charCodeAt(r)!==i.charCodeAt(r))break}let s=0,a=0;for(let u=r;u<t;u++){32===e.charCodeAt(u)?s++:a++}let l=0,c=0;for(let u=r;u<n;u++){32===i.charCodeAt(u)?l++:c++}if(s>0&&a>0)return;if(l>0&&c>0)return;let h=Math.abs(a-c),d=Math.abs(s-l);if(0===h)return o.spacesDiff=d,void(d>0&&0<=l-1&&l-1<e.length&&l<i.length&&32!==i.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(o.looksLikeAlignment=!0));d%h!=0||(o.spacesDiff=d/h)}function f(e,t,i){const n=Math.min(e.getLineCount(),1e4);let o=0,r=0,s="",a=0;const l=[2,4,6,8,3,5,7];let c=[0,0,0,0,0,0,0,0,0],h=new p;for(let g=1;g<=n;g++){let n=e.getLineLength(g),l=e.getLineContent(g);const d=n<=65536;let u=!1,p=0,f=0,b=0;for(let t=0,i=n;t<i;t++){let i=d?l.charCodeAt(t):e.getLineCharCode(g,t);if(9===i)b++;else{if(32!==i){u=!0,p=t;break}f++}}if(!u)continue;if(b>0?o++:f>1&&r++,m(s,a,l,p,h),h.looksLikeAlignment&&(!i||t!==h.spacesDiff))continue;let _=h.spacesDiff;_<=8&&c[_]++,s=l,a=p}let d=i;o!==r&&(d=o<r);let u=t;if(d){let e=d?0:.1*n;l.forEach(t=>{let i=c[t];i>e&&(e=i,u=t)}),4===u&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(u=2)}return{insertSpaces:d,tabSize:u}}function b(e){return(1&e.metadata)>>>0}function _(e,t){e.metadata=254&e.metadata|t<<0}function v(e){return(2&e.metadata)>>>1==1}function C(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function w(e){return(4&e.metadata)>>>2==1}function y(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function S(e,t){e.metadata=231&e.metadata|t<<3}function L(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}class x{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,_(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,y(this,!1),S(this,1),L(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,C(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;let t=this.options.className;y(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),S(this,this.options.stickiness),L(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const k=new x(null,0,0);k.parent=k,k.left=k,k.right=k,_(k,0);class D{constructor(){this.root=k,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,o){return this.root===k?[]:function(e,t,i,n,o,r){let s=e.root,a=0,l=0,c=0,h=0,d=[],u=0;for(;s!==k;)if(v(s))C(s.left,!1),C(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;else{if(!v(s.left)){if(l=a+s.maxEnd,l<t){C(s,!0);continue}if(s.left!==k){s=s.left;continue}}if(c=a+s.start,c>i)C(s,!0);else{if(h=a+s.end,h>=t){s.setCachedOffsets(c,h,r);let e=!0;n&&s.ownerId&&s.ownerId!==n&&(e=!1),o&&w(s)&&(e=!1),e&&(d[u++]=s)}C(s,!0),s.right===k||v(s.right)||(a+=s.delta,s=s.right)}}return C(e.root,!1),d}(this,e,t,i,n,o)}search(e,t,i){return this.root===k?[]:function(e,t,i,n){let o=e.root,r=0,s=0,a=0,l=[],c=0;for(;o!==k;){if(v(o)){C(o.left,!1),C(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),o=o.parent;continue}if(o.left!==k&&!v(o.left)){o=o.left;continue}s=r+o.start,a=r+o.end,o.setCachedOffsets(s,a,n);let e=!0;t&&o.ownerId&&o.ownerId!==t&&(e=!1),i&&w(o)&&(e=!1),e&&(l[c++]=o),C(o,!0),o.right===k||v(o.right)||(r+=o.delta,o=o.right)}return C(e.root,!1),l}(this,e,t,i)}collectNodesFromOwner(e){return function(e,t){let i=e.root,n=[],o=0;for(;i!==k;)v(i)?(C(i.left,!1),C(i.right,!1),i=i.parent):i.left===k||v(i.left)?(i.ownerId===t&&(n[o++]=i),C(i,!0),i.right===k||v(i.right)||(i=i.right)):i=i.left;return C(e.root,!1),n}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root,i=[],n=0;for(;t!==k;)v(t)?(C(t.left,!1),C(t.right,!1),t=t.parent):t.left===k||v(t.left)?t.right===k||v(t.right)?(i[n++]=t,C(t,!0)):t=t.right:t=t.left;return C(e.root,!1),i}(this)}insert(e){N(this,e),this._normalizeDeltaIfNecessary()}delete(e){E(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;const o=i.start+n,r=i.end+n;i.setCachedOffsets(o,r,t)}acceptReplace(e,t,i,n){const o=function(e,t,i){let n=e.root,o=0,r=0,s=0,a=0,l=[],c=0;for(;n!==k;)if(v(n))C(n.left,!1),C(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),n=n.parent;else{if(!v(n.left)){if(r=o+n.maxEnd,r<t){C(n,!0);continue}if(n.left!==k){n=n.left;continue}}s=o+n.start,s>i?C(n,!0):(a=o+n.end,a>=t&&(n.setCachedOffsets(s,a,0),l[c++]=n),C(n,!0),n.right===k||v(n.right)||(o+=n.delta,n=n.right))}return C(e.root,!1),l}(this,e,e+t);for(let r=0,s=o.length;r<s;r++){E(this,o[r])}this._normalizeDeltaIfNecessary(),function(e,t,i,n){let o=e.root,r=0,s=0,a=0;const l=n-(i-t);for(;o!==k;)if(v(o))C(o.left,!1),C(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),P(o),o=o.parent;else{if(!v(o.left)){if(s=r+o.maxEnd,s<t){C(o,!0);continue}if(o.left!==k){o=o.left;continue}}a=r+o.start,a>i?(o.start+=l,o.end+=l,o.delta+=l,(o.delta<-1073741824||o.delta>1073741824)&&(e.requestNormalizeDelta=!0),C(o,!0)):(C(o,!0),o.right===k||v(o.right)||(r+=o.delta,o=o.right))}C(e.root,!1)}(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let r=0,s=o.length;r<s;r++){const s=o[r];s.start=s.cachedAbsoluteStart,s.end=s.cachedAbsoluteEnd,O(s,e,e+t,i,n),s.maxEnd=s.end,N(this,s)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,i=0;for(;t!==k;)t.left===k||v(t.left)?t.right===k||v(t.right)?(t.start=i+t.start,t.end=i+t.end,t.delta=0,P(t),C(t,!0),C(t.left,!1),C(t.right,!1),t===t.parent.right&&(i-=t.parent.delta),t=t.parent):(i+=t.delta,t=t.right):t=t.left;C(e.root,!1)}(this))}}function I(e,t,i,n){return e<i||!(e>i)&&(1!==n&&(2===n||t))}function O(e,t,i,n,o){const r=function(e){return(24&e.metadata)>>>3}(e),s=0===r||2===r,a=1===r||2===r,l=i-t,c=n,h=Math.min(l,c),d=e.start;let u=!1;const g=e.end;let p=!1;t<=d&&g<=i&&function(e){return(32&e.metadata)>>>5==1}(e)&&(e.start=t,u=!0,e.end=t,p=!0);{const e=o?1:l>0?2:0;!u&&I(d,s,t,e)&&(u=!0),!p&&I(g,a,t,e)&&(p=!0)}if(h>0&&!o){const e=l>c?2:0;!u&&I(d,s,t+h,e)&&(u=!0),!p&&I(g,a,t+h,e)&&(p=!0)}{const n=o?1:0;!u&&I(d,s,i,n)&&(e.start=t+c,u=!0),!p&&I(g,a,i,n)&&(e.end=t+c,p=!0)}const m=c-l;u||(e.start=Math.max(0,d+m)),p||(e.end=Math.max(0,g+m)),e.start>e.end&&(e.end=e.start)}function N(e,t){if(e.root===k)return t.parent=k,t.left=k,t.right=k,_(t,0),e.root=t,e.root;!function(e,t){let i=0,n=e.root;const o=t.start,r=t.end;for(;;){if(j(o,r,n.start+i,n.end+i)<0){if(n.left===k){t.start-=i,t.end-=i,t.maxEnd-=i,n.left=t;break}n=n.left}else{if(n.right===k){t.start-=i+n.delta,t.end-=i+n.delta,t.maxEnd-=i+n.delta,n.right=t;break}i+=n.delta,n=n.right}}t.parent=n,t.left=k,t.right=k,_(t,1)}(e,t),F(t.parent);let i=t;for(;i!==e.root&&1===b(i.parent);)if(i.parent===i.parent.parent.left){const t=i.parent.parent.right;1===b(t)?(_(i.parent,0),_(t,0),_(i.parent.parent,1),i=i.parent.parent):(i===i.parent.right&&(i=i.parent,M(e,i)),_(i.parent,0),_(i.parent.parent,1),A(e,i.parent.parent))}else{const t=i.parent.parent.left;1===b(t)?(_(i.parent,0),_(t,0),_(i.parent.parent,1),i=i.parent.parent):(i===i.parent.left&&(i=i.parent,A(e,i)),_(i.parent,0),_(i.parent.parent,1),M(e,i.parent.parent))}return _(e.root,0),t}function E(e,t){let i,n;if(t.left===k?(i=t.right,n=t,i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta):t.right===k?(i=t.left,n=t):(n=function(e){for(;e.left!==k;)e=e.left;return e}(t.right),i=n.right,i.start+=n.delta,i.end+=n.delta,i.delta+=n.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,n.delta=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0)),n===e.root)return e.root=i,_(i,0),t.detach(),T(),P(i),void(e.root.parent=k);let o,r=1===b(n);if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?i.parent=n.parent:(n.parent===t?i.parent=n:i.parent=n.parent,n.left=t.left,n.right=t.right,n.parent=t.parent,_(n,b(t)),t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==k&&(n.left.parent=n),n.right!==k&&(n.right.parent=n)),t.detach(),r)return F(i.parent),n!==t&&(F(n),F(n.parent)),void T();for(F(i),F(i.parent),n!==t&&(F(n),F(n.parent));i!==e.root&&0===b(i);)i===i.parent.left?(o=i.parent.right,1===b(o)&&(_(o,0),_(i.parent,1),M(e,i.parent),o=i.parent.right),0===b(o.left)&&0===b(o.right)?(_(o,1),i=i.parent):(0===b(o.right)&&(_(o.left,0),_(o,1),A(e,o),o=i.parent.right),_(o,b(i.parent)),_(i.parent,0),_(o.right,0),M(e,i.parent),i=e.root)):(o=i.parent.left,1===b(o)&&(_(o,0),_(i.parent,1),A(e,i.parent),o=i.parent.left),0===b(o.left)&&0===b(o.right)?(_(o,1),i=i.parent):(0===b(o.left)&&(_(o.right,0),_(o,1),M(e,o),o=i.parent.left),_(o,b(i.parent)),_(i.parent,0),_(o.left,0),A(e,i.parent),i=e.root));_(i,0),T()}function T(){k.parent=k,k.delta=0,k.start=0,k.end=0}function M(e,t){const i=t.right;i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,t.right=i.left,i.left!==k&&(i.left.parent=t),i.parent=t.parent,t.parent===k?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i,P(t),P(i)}function A(e,t){const i=t.left;t.delta-=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=i.delta,t.end-=i.delta,t.left=i.right,i.right!==k&&(i.right.parent=t),i.parent=t.parent,t.parent===k?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i,P(t),P(i)}function R(e){let t=e.end;if(e.left!==k){const i=e.left.maxEnd;i>t&&(t=i)}if(e.right!==k){const i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function P(e){e.maxEnd=R(e)}function F(e){for(;e!==k;){const t=R(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function j(e,t,i,n){return e===i?t-n:e-i}class B{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==W)return V(this.right);let e=this;for(;e.parent!==W&&e.parent.left!==e;)e=e.parent;return e.parent===W?W:e.parent}prev(){if(this.left!==W)return H(this.left);let e=this;for(;e.parent!==W&&e.parent.right!==e;)e=e.parent;return e.parent===W?W:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const W=new B(null,0);function V(e){for(;e.left!==W;)e=e.left;return e}function H(e){for(;e.right!==W;)e=e.right;return e}function z(e){return e===W?0:e.size_left+e.piece.length+z(e.right)}function U(e){return e===W?0:e.lf_left+e.piece.lineFeedCnt+U(e.right)}function K(){W.parent=W}function q(e,t){let i=t.right;i.size_left+=t.size_left+(t.piece?t.piece.length:0),i.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=i.left,i.left!==W&&(i.left.parent=t),i.parent=t.parent,t.parent===W?e.root=i:t.parent.left===t?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i}function $(e,t){let i=t.left;t.left=i.right,i.right!==W&&(i.right.parent=t),i.parent=t.parent,t.size_left-=i.size_left+(i.piece?i.piece.length:0),t.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),t.parent===W?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i}function G(e,t){let i,n;if(t.left===W?(n=t,i=n.right):t.right===W?(n=t,i=n.left):(n=V(t.right),i=n.right),n===e.root)return e.root=i,i.color=0,t.detach(),K(),void(e.root.parent=W);let o,r=1===n.color;if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?(i.parent=n.parent,X(e,i)):(n.parent===t?i.parent=n:i.parent=n.parent,X(e,i),n.left=t.left,n.right=t.right,n.parent=t.parent,n.color=t.color,t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==W&&(n.left.parent=n),n.right!==W&&(n.right.parent=n),n.size_left=t.size_left,n.lf_left=t.lf_left,X(e,n)),t.detach(),i.parent.left===i){let t=z(i),n=U(i);if(t!==i.parent.size_left||n!==i.parent.lf_left){let o=t-i.parent.size_left,r=n-i.parent.lf_left;i.parent.size_left=t,i.parent.lf_left=n,Z(e,i.parent,o,r)}}if(X(e,i.parent),r)K();else{for(;i!==e.root&&0===i.color;)i===i.parent.left?(o=i.parent.right,1===o.color&&(o.color=0,i.parent.color=1,q(e,i.parent),o=i.parent.right),0===o.left.color&&0===o.right.color?(o.color=1,i=i.parent):(0===o.right.color&&(o.left.color=0,o.color=1,$(e,o),o=i.parent.right),o.color=i.parent.color,i.parent.color=0,o.right.color=0,q(e,i.parent),i=e.root)):(o=i.parent.left,1===o.color&&(o.color=0,i.parent.color=1,$(e,i.parent),o=i.parent.left),0===o.left.color&&0===o.right.color?(o.color=1,i=i.parent):(0===o.left.color&&(o.right.color=0,o.color=1,q(e,o),o=i.parent.left),o.color=i.parent.color,i.parent.color=0,o.left.color=0,$(e,i.parent),i=e.root));i.color=0,K()}}function Y(e,t){for(X(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&q(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,$(e,t.parent.parent))}else{const i=t.parent.parent.left;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&$(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,q(e,t.parent.parent))}e.root.color=0}function Z(e,t,i,n){for(;t!==e.root&&t!==W;)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}function X(e,t){let i=0,n=0;if(t!==e.root){if(0===i){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t===e.root)return;i=z((t=t.parent).left)-t.size_left,n=U(t.left)-t.lf_left,t.size_left+=i,t.lf_left+=n}for(;t!==e.root&&(0!==i||0!==n);)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}}W.parent=W,W.left=W,W.right=W,W.color=0;var Q=i("jAJ/");function J(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class ee{constructor(e,t,i,n,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=o}}function te(e,t=!0){let i=[0],n=1;for(let o=0,r=e.length;o<r;o++){const t=e.charCodeAt(o);13===t?o+1<r&&10===e.charCodeAt(o+1)?(i[n++]=o+2,o++):i[n++]=o+1:10===t&&(i[n++]=o+1)}return t?J(i):i}class ie{constructor(e,t,i,n,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=o}}class ne{constructor(e,t){this.buffer=e,this.lineStarts=t}}class oe{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==W&&e.iterate(e.root,e=>(e!==W&&this._pieces.push(e.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class re{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,i=this._cache;for(let n=0;n<i.length;n++){let o=i[n];(null===o.node.parent||o.nodeStartOffset>=e)&&(i[n]=null,t=!0)}if(t){let e=[];for(const t of i)null!==t&&e.push(t);this._cache=e}}}class se{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new ne("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=W,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let o=0,r=e.length;o<r;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=te(e[o].buffer));let t=new ie(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),n=this.rbInsertRight(n,t)}this._searchCache=new re(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=65535-Math.floor(21845),i=2*t,n="",o=0,r=[];if(this.iterate(this.root,s=>{let a=this.getNodeContent(s),l=a.length;if(o<=t||o+l<i)return n+=a,o+=l,!0;let c=n.replace(/\r\n|\r|\n/g,e);return r.push(new ne(c,te(c))),n=a,o=l,!0}),o>0){let t=n.replace(/\r\n|\r|\n/g,e);r.push(new ne(t,te(t)))}this.create(r,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new oe(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==W;)if(n.left!==W&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e){return i+=n.size_left,i+(this.getAccumulatedValue(n,e-n.lf_left-2)+t-1)}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0,n=e;for(;t!==W;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){let o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,0===o.index){let e=n-this.getOffsetAt(i+1,1);return new c.a(i+1,e+1)}return new c.a(i+1,o.remainder+1)}if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===W){let t=n-e-this.getOffsetAt(i+1,1);return new c.a(i+1,t+1)}t=t.right}return new c.a(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,n);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.substring(o+e.remainder,o+t.remainder)}let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),r=n.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==W;){let e=this._buffers[i.piece.bufferIndex].buffer,n=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){r+=e.substring(n,n+t.remainder);break}r+=e.substr(n,i.piece.length),i=i.next()}return r}getLinesContent(){let e=[],t=0,i="",n=!1;return this.iterate(this.root,o=>{if(o===W)return!0;const r=o.piece;let s=r.length;if(0===s)return!0;const a=this._buffers[r.bufferIndex].buffer,l=this._buffers[r.bufferIndex].lineStarts,c=r.start.line,h=r.end.line;let d=l[c]+r.start.column;if(n&&(10===a.charCodeAt(d)&&(d++,s--),e[t++]=i,i="",n=!1,0===s))return!0;if(c===h)return this._EOLNormalized||13!==a.charCodeAt(d+s-1)?i+=a.substr(d,s):(n=!0,i+=a.substr(d,s-1)),!0;i+=this._EOLNormalized?a.substring(d,Math.max(d,l[c+1]-this._EOLLength)):a.substring(d,l[c+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let n=c+1;n<h;n++)i=this._EOLNormalized?a.substring(l[n],l[n+1]-this._EOLLength):a.substring(l[n],l[n+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return this._EOLNormalized||13!==a.charCodeAt(l[h]+r.end.column-1)?i=a.substr(l[h],r.end.column):(n=!0,0===r.end.column?t--:i=a.substr(l[h],r.end.column-1)),!0}),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}{let t=this._buffers[e.node.piece.bufferIndex],i=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(i)}}getLineCharCode(e,t){let i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,o,r,s,a,l,c,d){let u,g,p,m=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),b=this.offsetInBuffer(e.piece.bufferIndex,o),_=this.offsetInBuffer(e.piece.bufferIndex,r),v={line:0,column:0};t._wordSeparators?(g=m.buffer.substring(b,_),p=e=>e+b,t.reset(0)):(g=m.buffer,p=e=>e,t.reset(b));do{if(u=t.next(g),u){if(p(u.index)>=_)return c;this.positionInBuffer(e,p(u.index)-f,v);let t=this.getLineFeedCnt(e.piece.bufferIndex,o,v),r=v.line===o.line?v.column-o.column+n:v.column+1,s=r+u[0].length;if(d[c++]=Object(Q.d)(new h.a(i+t,r,i+t,s),u,a),p(u.index)+u[0].length>=_)return c;if(c>=l)return c}}while(u);return c}findMatchesLineByLine(e,t,i,n){const o=[];let r=0;const s=new Q.b(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];let l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let c=this.positionInBuffer(a.node,a.remainder),h=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,s,e.startLineNumber,e.startColumn,c,h,t,i,n,r,o),o;let d=e.startLineNumber,u=a.node;for(;u!==l.node;){let l=this.getLineFeedCnt(u.piece.bufferIndex,c,u.piece.end);if(l>=1){let a=this._buffers[u.piece.bufferIndex].lineStarts,h=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),g=a[c.line+l],p=d===e.startLineNumber?e.startColumn:1;if(r=this.findMatchesInNode(u,s,d,p,c,this.positionInBuffer(u,g-h),t,i,n,r,o),r>=n)return o;d+=l}let h=d===e.startLineNumber?e.startColumn-1:0;if(d===e.endLineNumber){const a=this.getLineContent(d).substring(h,e.endColumn-1);return r=this._findMatchesInLine(t,s,a,e.endLineNumber,h,r,o,i,n),o}if(r=this._findMatchesInLine(t,s,this.getLineContent(d).substr(h),d,h,r,o,i,n),r>=n)return o;d++,a=this.nodeAt2(d,1),u=a.node,c=this.positionInBuffer(a.node,a.remainder)}if(d===e.endLineNumber){let a=d===e.startLineNumber?e.startColumn-1:0;const l=this.getLineContent(d).substring(a,e.endColumn-1);return r=this._findMatchesInLine(t,s,l,e.endLineNumber,a,r,o,i,n),o}let g=d===e.startLineNumber?e.startColumn:1;return r=this.findMatchesInNode(l.node,s,d,g,c,h,t,i,n,r,o),o}_findMatchesInLine(e,t,i,n,o,r,s,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,d=i.length;let g=-a;for(;-1!==(g=i.indexOf(t,g+a));)if((!c||Object(Q.e)(c,i,d,g,a))&&(s[r++]=new u.b(new h.a(n,g+1+o,n,g+1+a+o),null),r>=l))return r;return r}let d;t.reset(0);do{if(d=t.next(i),d&&(s[r++]=Object(Q.d)(new h.a(n,d.index+1+o,n,d.index+1+d[0].length+o),d,a),r>=l))return r}while(d);return r}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==W){let{node:i,remainder:n,nodeStartOffset:o}=this.nodeAt(e),r=i.piece,s=r.bufferIndex,a=this.positionInBuffer(i,n);if(0===i.piece.bufferIndex&&r.end.line===this._lastChangeBufferPos.line&&r.end.column===this._lastChangeBufferPos.column&&o+r.length===e&&t.length<65535)return this.appendToNode(i,t),void this.computeBufferMetadata();if(o===e)this.insertContentToNodeLeft(t,i),this._searchCache.validate(e);else if(o+i.piece.length>e){let e=[],o=new ie(r.bufferIndex,a,r.end,this.getLineFeedCnt(r.bufferIndex,a,r.end),this.offsetInBuffer(s,r.end)-this.offsetInBuffer(s,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)){if(10===this.nodeCharCodeAt(i,n)){let e={line:o.start.line+1,column:0};o=new ie(o.bufferIndex,e,o.end,this.getLineFeedCnt(o.bufferIndex,e,o.end),o.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(i,n-1)){let o=this.positionInBuffer(i,n-1);this.deleteNodeTail(i,o),t="\r"+t,0===i.piece.length&&e.push(i)}else this.deleteNodeTail(i,a)}else this.deleteNodeTail(i,a);let l=this.createNewPieces(t);o.length>0&&this.rbInsertRight(i,o);let c=i;for(let t=0;t<l.length;t++)c=this.rbInsertRight(c,l[t]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,i)}else{let e=this.createNewPieces(t),i=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)i=this.rbInsertRight(i,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===W)return;let i=this.nodeAt(e),n=this.nodeAt(e+t),o=i.node,r=n.node;if(o===r){let r=this.positionInBuffer(o,i.remainder),s=this.positionInBuffer(o,n.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){let e=o.next();return G(this,o),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(o,s),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return i.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,r),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,r,s),void this.computeBufferMetadata())}let s=[],a=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,a),this._searchCache.validate(e),0===o.piece.length&&s.push(o);let l=this.positionInBuffer(r,n.remainder);this.deleteNodeHead(r,l),0===r.piece.length&&s.push(r);for(let h=o.next();h!==W&&h!==r;h=h.next())s.push(h);let c=0===o.piece.length?o.prev():o;this.deleteNodes(s),this.validateCRLFWithNextNode(c),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let n=t.piece,o={line:n.start.line+1,column:0},r=new ie(n.bufferIndex,o,n.end,this.getLineFeedCnt(n.bufferIndex,o,n.end),n.length-1);t.piece=r,e+="\n",Z(this,t,-1,-1),0===t.piece.length&&i.push(t)}let n=this.createNewPieces(e),o=this.rbInsertLeft(t,n[n.length-1]);for(let r=n.length-2;r>=0;r--)o=this.rbInsertLeft(o,n[r]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");let i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]),o=n;for(let r=1;r<i.length;r++)o=this.rbInsertRight(o,i[r]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){let n=e.piece,o=e.piece.bufferIndex,r=this._buffers[o].lineStarts,s=r[n.start.line]+n.start.column+t,a=n.start.line,l=n.end.line,c=0,h=0,d=0;for(;a<=l&&(c=a+(l-a)/2|0,d=r[c],c!==l);)if(h=r[c+1],s<d)l=c-1;else{if(!(s>=h))break;a=c+1}return i?(i.line=c,i.column=s-d,null):{line:c,column:s-d}}getLineFeedCnt(e,t,i){if(0===i.column)return i.line-t.line;let n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;let o=n[i.line+1],r=n[i.line]+i.column;if(o>r+1)return i.line-t.line;let s=r-1;return 13===this._buffers[e].buffer.charCodeAt(s)?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)G(this,e[t])}createNewPieces(e){if(e.length>65535){let t=[];for(;e.length>65535;){const i=e.charCodeAt(65534);let n;13===i||i>=55296&&i<=56319?(n=e.substring(0,65534),e=e.substring(65534)):(n=e.substring(0,65535),e=e.substring(65535));let o=te(n);t.push(new ie(this._buffers.length,{line:0,column:0},{line:o.length-1,column:n.length-o[o.length-1]},o.length-1,n.length)),this._buffers.push(new ne(n,o))}let i=te(e);return t.push(new ie(this._buffers.length,{line:0,column:0},{line:i.length-1,column:e.length-i[i.length-1]},i.length-1,e.length)),this._buffers.push(new ne(e,i)),t}let t=this._buffers[0].buffer.length;const i=te(e,!1);let n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let e=0;e<i.length;e++)i[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<i.length;e++)i[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length;let r=this._buffers[0].lineStarts.length-1,s={line:r,column:o-this._buffers[0].lineStarts[r]},a=new ie(0,n,s,this.getLineFeedCnt(0,n,s),o-t);return this._lastChangeBufferPos=s,[a]}getLineRawContent(e,t=0){let i=this.root,n="",o=this._searchCache.get2(e);if(o){i=o.node;let r=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),s=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt!==e){let n=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return s.substring(a+r,a+n-t)}n=s.substring(a+r,a+i.piece.length)}else{let o=0;const r=e;for(;i!==W;)if(i.left!==W&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){let n=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:r-(e-1-i.lf_left)}),a.substring(l+n,l+s-t)}if(i.lf_left+i.piece.lineFeedCnt===e-1){let t=this.getAccumulatedValue(i,e-i.lf_left-2),o=this._buffers[i.piece.bufferIndex].buffer,r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=o.substring(r+t,r+i.piece.length);break}e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==W;){let e=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){let o=this.getAccumulatedValue(i,0),r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=e.substring(r,r+o-t),n}{let t=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=e.substr(t,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==W;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){let i=e.piece,n=this.positionInBuffer(e,t),o=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){let t=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(t!==o)return{index:t,remainder:0}}return{index:o,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;let i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[o]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),r=t,s=this.offsetInBuffer(i.bufferIndex,r),a=this.getLineFeedCnt(i.bufferIndex,i.start,r),l=a-n,c=s-o,h=i.length+c;e.piece=new ie(i.bufferIndex,i.start,r,a,h),Z(this,e,c,l)}deleteNodeHead(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),r=t,s=this.getLineFeedCnt(i.bufferIndex,r,i.end),a=s-n,l=o-this.offsetInBuffer(i.bufferIndex,r),c=i.length+l;e.piece=new ie(i.bufferIndex,r,i.end,s,c),Z(this,e,l,a)}shrinkNode(e,t,i){const n=e.piece,o=n.start,r=n.end,s=n.length,a=n.lineFeedCnt,l=t,c=this.getLineFeedCnt(n.bufferIndex,n.start,l),h=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,o);e.piece=new ie(n.bufferIndex,n.start,l,c,h),Z(this,e,h-s,c-a);let d=new ie(n.bufferIndex,i,r,this.getLineFeedCnt(n.bufferIndex,i,r),this.offsetInBuffer(n.bufferIndex,r)-this.offsetInBuffer(n.bufferIndex,i)),u=this.rbInsertRight(e,d);this.validateCRLFWithPrevNode(u)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=te(t,!1);for(let d=0;d<o.length;d++)o[d]+=n;if(i){let e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const r=this._buffers[0].lineStarts.length-1,s={line:r,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[r]},a=e.piece.length+t.length,l=e.piece.lineFeedCnt,c=this.getLineFeedCnt(0,e.piece.start,s),h=c-l;e.piece=new ie(e.piece.bufferIndex,e.piece.start,s,c,a),this._lastChangeBufferPos=s,Z(this,e,t.length,h)}nodeAt(e){let t=this.root,i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==W;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){n+=t.size_left;let i={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(i),i}e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==W;)if(i.left!==W&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2),r=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+t-1,r),nodeStartOffset:n}}if(i.lf_left+i.piece.lineFeedCnt===e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:n};t-=i.piece.length-o;break}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==W;){if(i.piece.lineFeedCnt>0){let e=this.getAccumulatedValue(i,0),n=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,e),nodeStartOffset:n}}if(i.piece.length>=t-1){return{node:i,remainder:t-1,nodeStartOffset:this.offsetOfNode(i)}}t-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===W||0===e.piece.lineFeedCnt)return!1;let t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,o=i[n]+t.start.column;return n!==i.length-1&&(!(i[n+1]>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o))}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==W&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let i,n=[],o=this._buffers[e.piece.bufferIndex].lineStarts;i=0===e.piece.end.column?{line:e.piece.end.line-1,column:o[e.piece.end.line]-o[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const r=e.piece.length-1,s=e.piece.lineFeedCnt-1;e.piece=new ie(e.piece.bufferIndex,e.piece.start,i,s,r),Z(this,e,-1,-1),0===e.piece.length&&n.push(e);let a={line:t.piece.start.line+1,column:0};const l=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new ie(t.piece.bufferIndex,a,t.piece.end,c,l),Z(this,t,-1,-1),0===t.piece.length&&n.push(t);let h=this.createNewPieces("\r\n");this.rbInsertRight(e,h[0]);for(let d=0;d<n.length;d++)G(this,n[d])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let i=t.next();if(this.startWithLF(i)){if(e+="\n",1===i.piece.length)G(this,i);else{const e=i.piece,t={line:e.start.line+1,column:0},n=e.length-1,o=this.getLineFeedCnt(e.bufferIndex,t,e.end);i.piece=new ie(e.bufferIndex,t,e.end,o,n),Z(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===W)return t(W);let i=this.iterate(e.left,t);return i?t(e)&&this.iterate(e.right,t):i}getNodeContent(e){if(e===W)return"";let t,i=this._buffers[e.piece.bufferIndex],n=e.piece,o=this.offsetInBuffer(n.bufferIndex,n.start),r=this.offsetInBuffer(n.bufferIndex,n.end);return t=i.buffer.substring(o,r),t}getPieceContent(e){let t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){let i=new B(t,1);if(i.left=W,i.right=W,i.parent=W,i.size_left=0,i.lf_left=0,this.root===W)this.root=i,i.color=0;else if(e.right===W)e.right=i,i.parent=e;else{let t=V(e.right);t.left=i,i.parent=t}return Y(this,i),i}rbInsertLeft(e,t){let i=new B(t,1);if(i.left=W,i.right=W,i.parent=W,i.size_left=0,i.lf_left=0,this.root===W)this.root=i,i.color=0;else if(e.left===W)e.left=i,i.parent=e;else{let t=H(e.left);t.right=i,i.parent=t}return Y(this,i),i}}var ae=i("QRHv"),le=i("5nk5");class ce extends r.a{constructor(e,t,i,n,r,s,a){super(),this._onDidChangeContent=this._register(new o.b),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=r,this._pieceTree=new se(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let i=e+t;const n=this.getPositionAt(e),o=this.getPositionAt(i);return new h.a(n.lineNumber,n.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const n=e.startLineNumber,o=e.endLineNumber;for(let t=n;t<=o;t++){const r=this.getLineContent(t),a=t===n?e.startColumn-1:0,l=t===o?e.endColumn-1:r.length;for(let e=a;e<l;e++)s.F(r.charCodeAt(e))?(i+=1,e+=1):i+=1}return i+=this._getEndOfLine(t).length*(o-n),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=s.v(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=s.J(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,r=this._mightContainNonBasicASCII,a=!0,l=[];for(let u=0;u<e.length;u++){let t=e[u];a&&t._isTracked&&(a=!1);let i=t.range;if(t.text){let e=!0;r||(e=!s.B(t.text),r=e),!n&&e&&(n=s.m(t.text)),!o&&e&&(o=s.n(t.text))}let c="",h=0,d=0,g=0;if(t.text){let e;[h,d,g,e]=Object(ae.f)(t.text);const i=this.getEOL(),n="\r\n"===i?2:1;c=0===e||e===n?t.text:t.text.replace(/\r\n|\r|\n/g,i)}l[u]={sortIndex:u,identifier:t.identifier||null,range:i,rangeOffset:this.getOffsetAt(i.startLineNumber,i.startColumn),rangeLength:this.getValueLengthInRange(i),text:c,eolCount:h,firstLineLength:d,lastLineLength:g,forceMoveMarkers:Boolean(t.forceMoveMarkers),isAutoWhitespaceEdit:t.isAutoWhitespaceEdit||!1}}l.sort(ce._sortOpsAscending);let c=!1;for(let s=0,u=l.length-1;s<u;s++){let e=l[s].range.getEndPosition(),t=l[s+1].range.getStartPosition();if(t.isBeforeOrEqual(e)){if(t.isBefore(e))throw new Error("Overlapping ranges are not allowed!");c=!0}}a&&(l=this._reduceOperations(l));let h=i||t?ce._getInverseEditRanges(l):[],d=[];if(t)for(let u=0;u<l.length;u++){let e=l[u],t=h[u];if(e.isAutoWhitespaceEdit&&e.range.isEmpty())for(let i=t.startLineNumber;i<=t.endLineNumber;i++){let n="";i===t.startLineNumber&&(n=this.getLineContent(e.range.startLineNumber),-1!==s.v(n))||d.push({lineNumber:i,oldContent:n})}}let g=null;if(i){let e=0;g=[];for(let t=0;t<l.length;t++){const i=l[t],n=h[t],o=this.getValueInRange(i.range),r=i.rangeOffset+e;e+=i.text.length-o.length,g[t]={sortIndex:i.sortIndex,identifier:i.identifier,range:n,text:o,textChange:new le.a(i.rangeOffset,o,r,i.text)}}c||g.sort((e,t)=>e.sortIndex-t.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=r;const p=this._doApplyEdits(l);let m=null;if(t&&d.length>0){d.sort((e,t)=>t.lineNumber-e.lineNumber),m=[];for(let e=0,t=d.length;e<t;e++){let t=d[e].lineNumber;if(e>0&&d[e-1].lineNumber===t)continue;let i=d[e].oldContent,n=this.getLineContent(t);0!==n.length&&n!==i&&-1===s.v(n)&&m.push(t)}}return this._onDidChangeContent.fire(),new u.a(g,p,m)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,n=e[e.length-1].range,o=new h.a(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let r=i.startLineNumber,s=i.startColumn;const a=[];for(let g=0,p=e.length;g<p;g++){const i=e[g],n=i.range;t=t||i.forceMoveMarkers,a.push(this.getValueInRange(new h.a(r,s,n.startLineNumber,n.startColumn))),i.text.length>0&&a.push(i.text),r=n.endLineNumber,s=n.endColumn}const l=a.join(""),[c,d,u]=Object(ae.f)(l);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:l,eolCount:c,firstLineLength:d,lastLineLength:u,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(ce._sortOpsDescending);let t=[];for(let i=0;i<e.length;i++){let n=e[i];const o=n.range.startLineNumber,r=n.range.startColumn,s=n.range.endLineNumber,a=n.range.endColumn;if(o===s&&r===a&&0===n.text.length)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const l=new h.a(o,r,s,a);t.push({range:l,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){let t=[],i=0,n=0,o=null;for(let r=0,s=e.length;r<s;r++){let s,a,l,c=e[r];if(o?o.range.endLineNumber===c.range.startLineNumber?(s=i,a=n+(c.range.startColumn-o.range.endColumn)):(s=i+(c.range.startLineNumber-o.range.endLineNumber),a=c.range.startColumn):(s=c.range.startLineNumber,a=c.range.startColumn),c.text.length>0){const e=c.eolCount+1;l=1===e?new h.a(s,a,s,a+c.firstLineLength):new h.a(s,a,s+e-1,c.lastLineLength+1)}else l=new h.a(s,a,s,a);i=l.endLineNumber,n=l.endColumn,t.push(l),o=c}return t}static _sortOpsAscending(e,t){let i=h.a.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){let i=h.a.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i}}class he{constructor(e,t,i,n,o,r,s,a,l){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=r,this._containsUnusualLineTerminators=s,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":i>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e);let i=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let o=0,r=i.length;o<r;o++){let e=i[o].buffer.replace(/\r\n|\r|\n/g,t),n=te(e);i[o]=new ne(e,n)}const n=new ce(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:n,disposable:n}}}class de{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&s.T(e)&&(this.BOM=s.b,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let i=1,n=0,o=0,r=0,s=!0;for(let l=0,c=t.length;l<c;l++){const a=t.charCodeAt(l);13===a?l+1<c&&10===t.charCodeAt(l+1)?(r++,e[i++]=l+2,l++):(n++,e[i++]=l+1):10===a?(o++,e[i++]=l+1):s&&9!==a&&(a<32||a>126)&&(s=!1)}const a=new ee(J(e),n,o,r,s);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new ne(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=s.m(e)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=s.n(e))}finish(e=!0){return this._finish(),new he(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=te(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}var ue=i("M46C"),ge=i("6OMU"),pe=i("4bUh"),me=i("twdY"),fe=i("i/Ef"),be=i("5Y4S"),_e=i("MNsG");class ve{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len&&this._valid[e]}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let i=[],n=[];for(let o=0;o<t;o++)i[o]=null,n[o]=!1;this._beginState=ge.b(this._beginState,e,i),this._valid=ge.b(this._valid,e,n),this._len+=t}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,i){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t===e-1)return;const n=this.getBeginState(t+1);if(null===n||!i.equals(n))return this._setBeginState(t+1,i),void this._invalidateLine(t+1);let o=t+1;for(;o<e&&this._isValid(o);)o++;this._invalidLineStartIndex=o}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){const i=e.endLineNumber-e.startLineNumber,n=t;for(let o=Math.min(i,n);o>=0;o--)this._invalidateLine(e.startLineNumber+o-1);this._acceptDeleteRange(e),this._acceptInsertText(new c.a(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}}class Ce extends r.a{constructor(e){super(),this._isDisposed=!1,this._textModel=e,this._tokenizationStateStore=new ve,this._tokenizationSupport=null,this._register(me.F.onDidChange(e=>{const t=this._textModel.getLanguageIdentifier();-1!==e.changedLanguages.indexOf(t.language)&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(e=>{if(e.isFlush)this._resetTokenizationState();else{for(let t=0,i=e.changes.length;t<i;t++){const i=e.changes[t],[n]=Object(ae.f)(i.text);this._tokenizationStateStore.applyEdits(i.range,n)}this._beginBackgroundTokenization()}})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[e,t]=function(e){const t=e.getLanguageIdentifier();let i=e.isTooLargeForTokenization()?null:me.F.get(t.language),o=null;if(i)try{o=i.getInitialState()}catch(r){Object(n.e)(r),i=null}return[i,o]}(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&_e.k(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(e=this._textModel.getLineCount()){const t=new ae.b,i=be.a.create(!1);for(;this._hasLinesToTokenize()&&!(i.elapsed()>1);){if(this._tokenizeOneInvalidLine(t)>=e)break}this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens)}tokenizeViewport(e,t){const i=new ae.b;this._tokenizeViewport(i,e,t),this._textModel.setTokens(i.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){const t=new ae.b;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens)}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return!(e>t)&&(e<t||this._textModel.getLineLength(e)<2048)}_hasLinesToTokenize(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationSupport)return;const i=this._textModel.getLanguageIdentifier(),n=this._textModel.getLineCount(),o=t-1;for(let r=this._tokenizationStateStore.invalidLineStartIndex;r<=o;r++){const t=this._textModel.getLineContent(r+1),o=this._tokenizationStateStore.getBeginState(r),s=we(i,this._tokenizationSupport,t,!0,o);e.add(r+1,s.tokens),this._tokenizationStateStore.setEndState(n,r,s.endState),r=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationSupport)return;if(i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(e,i);let n=this._textModel.getLineFirstNonWhitespaceColumn(t),o=[],r=null;for(let l=t-1;n>0&&l>=1;l--){let e=this._textModel.getLineFirstNonWhitespaceColumn(l);if(0!==e&&e<n){if(r=this._tokenizationStateStore.getBeginState(l-1),r)break;o.push(this._textModel.getLineContent(l)),n=e}}r||(r=this._tokenizationSupport.getInitialState());const s=this._textModel.getLanguageIdentifier();let a=r;for(let l=o.length-1;l>=0;l--){a=we(s,this._tokenizationSupport,o[l],!1,a).endState}for(let l=t;l<=i;l++){let t=this._textModel.getLineContent(l),i=we(s,this._tokenizationSupport,t,!0,a);e.add(l,i.tokens),this._tokenizationStateStore.setFakeTokens(l-1),a=i.endState}}}function we(e,t,i,o,r){let s=null;if(t)try{s=t.tokenize2(i,o,r.clone(),0)}catch(a){Object(n.e)(a)}return s||(s=Object(fe.e)(e.id,i,r,0)),pe.a.convertToEndOffset(s.tokens,i.length),s}var ye=i("0JNc"),Se=i("cMvZ"),Le=i("BFtn"),xe=i("EIAu"),ke=i("zrhQ");function De(e){const t=new de;return t.acceptChunk(e),t.finish()}function Ie(e,t){return("string"==typeof e?De(e):e).create(t)}let Oe=0;class Ne{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,i=0;for(;;){let n=this._source.read();if(null===n)return this._eos=!0,0===t?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=65536)return e.join("")}}}const Ee=()=>{throw new Error("Invalid change accessor")};class Te{constructor(){this._searchCanceledBrand=void 0}}function Me(e){return e instanceof Te?null:e}Te.INSTANCE=new Te;class Ae extends r.a{constructor(e,t,i,n=null,r){super(),this._onWillDispose=this._register(new o.b),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new qe(e=>this.handleBeforeFireDecorationsChangedEvent(e))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new o.b),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new o.b),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new o.b),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new o.b),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new o.b),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new o.b),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new $e),this._register(this._eventEmitter.fastEvent(e=>{this._onDidChangeContentOrInjectedText.fire(e.rawContentChangedEvent)})),Oe++,this.id="$model"+Oe,this.isForSimpleWidget=t.isForSimpleWidget,this._associatedResource=null==n?a.a.parse("inmemory://model/"+Oe):n,this._undoRedoService=r,this._attachedEditorCount=0;const{textBuffer:l,disposable:c}=Ie(e,t.defaultEOL);this._buffer=l,this._bufferDisposable=c,this._options=Ae.resolveOptions(this._buffer,t);const d=this._buffer.getLineCount(),u=this._buffer.getValueLengthInRange(new h.a(1,1,d,this._buffer.getLineLength(d)+1),0);t.largeFileOptimizations?this._isTooLargeForTokenization=u>Ae.LARGE_FILE_SIZE_THRESHOLD||d>Ae.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=u>Ae.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=i||fe.a,this._languageRegistryListener=Se.a.onDidChange(e=>{e.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=s.Q(Oe),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Fe,this._commandManager=new g.a(this,r),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new ae.d,this._tokens2=new ae.e,this._tokenization=new Ce(this)}static resolveOptions(e,t){if(t.detectIndentation){const i=f(e,t.tabSize,t.insertSpaces);return new u.e({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}return new u.e({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}onDidChangeContentFast(e){return this._eventEmitter.fastEvent(t=>e(t.contentChangedEvent))}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const e=new ce([],"","\n",!1,!1,!0,!0);e.dispose(),this._buffer=e}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._isDisposing||this._eventEmitter.fire(new ue.a(e,t))}setValue(e){if(this._assertNotDisposed(),null===e)return;const{textBuffer:t,disposable:i}=Ie(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,n,o,r,s){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:r,isFlush:s}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new Fe,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new ue.d([new ue.f],this._versionId,!1,!1),this._createContentChanged2(new h.a(1,1,o,r),0,n,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new ue.d([new ue.e],this._versionId,!1,!1),this._createContentChanged2(new h.a(1,1,o,r),0,n,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){const n=t[i],o=n.range,r=n.cachedAbsoluteStart-n.start,s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);n.cachedAbsoluteStart=s,n.cachedAbsoluteEnd=a,n.cachedVersionId=e,n.start=s-r,n.end=a-r,P(n)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let n=1;n<=i;n++){const i=this._buffer.getLineLength(n);i>=1e4?t+=i:e+=i}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,i=void 0!==e.indentSize?e.indentSize:this._options.indentSize,n=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,o=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,r=new u.e({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o});if(this._options.equals(r))return;let s=this._options.createChangeEvent(r);this._options=r,this._onDidChangeOptions.fire(s)}detectIndentation(e,t){this._assertNotDisposed();let i=f(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}static _normalizeIndentationFromWhitespace(e,t,i){let n=0;for(let r=0;r<e.length;r++)"\t"===e.charAt(r)?n+=t:n++;let o="";if(!i){let e=Math.floor(n/t);n%=t;for(let t=0;t<e;t++)o+="\t"}for(let r=0;r<n;r++)o+=" ";return o}static normalizeIndentation(e,t,i){let n=s.v(e);return-1===n&&(n=e.length),Ae._normalizeIndentationFromWhitespace(e.substring(0,n),t,i)+e.substring(n)}normalizeIndentation(e){return this._assertNotDisposed(),Ae.normalizeIndentation(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(s.a.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(e=>({range:e.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(e=!1){return new Ne(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn;let o=Math.floor("number"!=typeof i||isNaN(i)?1:i),r=Math.floor("number"!=typeof n||isNaN(n)?1:n);if(o<1)o=1,r=1;else if(o>t)o=t,r=this.getLineMaxColumn(o);else if(r<=1)r=1;else{const e=this.getLineMaxColumn(o);r>=e&&(r=e)}const s=e.endLineNumber,a=e.endColumn;let l=Math.floor("number"!=typeof s||isNaN(s)?1:s),c=Math.floor("number"!=typeof a||isNaN(a)?1:a);if(l<1)l=1,c=1;else if(l>t)l=t,c=this.getLineMaxColumn(l);else if(c<=1)c=1;else{const e=this.getLineMaxColumn(l);c>=e&&(c=e)}return i===o&&n===r&&s===l&&a===c&&e instanceof h.a&&!(e instanceof d.a)?e:new h.a(o,r,l,c)}_isValidPosition(e,t,i){if("number"!=typeof e||"number"!=typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===i){const i=this._buffer.getLineCharCode(e,t-2);if(s.F(i))return!1}return!0}_validatePosition(e,t,i){const n=Math.floor("number"!=typeof e||isNaN(e)?1:e),o=Math.floor("number"!=typeof t||isNaN(t)?1:t),r=this._buffer.getLineCount();if(n<1)return new c.a(1,1);if(n>r)return new c.a(r,this.getLineMaxColumn(r));if(o<=1)return new c.a(n,1);const a=this.getLineMaxColumn(n);if(o>=a)return new c.a(n,a);if(1===i){const e=this._buffer.getLineCharCode(n,o-2);if(s.F(e))return new c.a(n,o-1)}return new c.a(n,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof c.a&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,r=e.endColumn;if(!this._isValidPosition(i,n,0))return!1;if(!this._isValidPosition(o,r,0))return!1;if(1===t){const e=n>1?this._buffer.getLineCharCode(i,n-2):0,t=r>1&&r<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,r-2):0,a=s.F(e),l=s.F(t);return!a&&!l}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof h.a&&!(e instanceof d.a)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),i=this._validatePosition(e.endLineNumber,e.endColumn,0),n=t.lineNumber,o=t.column,r=i.lineNumber,a=i.column;{const e=o>1?this._buffer.getLineCharCode(n,o-2):0,t=a>1&&a<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,a-2):0,i=s.F(e),l=s.F(t);return i||l?n===r&&o===a?new h.a(n,o-1,r,a-1):i&&l?new h.a(n,o-1,r,a+1):i?new h.a(n,o-1,r,a):new h.a(n,o,r,a+1):new h.a(n,o,r,a)}}modifyPosition(e,t){this._assertNotDisposed();let i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new h.a(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,o,r,s=999){this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every(e=>h.a.isIRange(e))&&(a=t.map(e=>this.validateRange(e)))),null===a&&(a=[this.getFullModelRange()]),a=a.sort((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn);const l=[];let c;if(l.push(a.reduce((e,t)=>h.a.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t))),!i&&e.indexOf("\n")<0){const t=new Q.a(e,i,n,o).parseSearchRequest();if(!t)return[];c=e=>this.findMatchesLineByLine(e,t,r,s)}else c=t=>Q.c.findMatches(this,new Q.a(e,i,n,o),t,r,s);return l.map(c).reduce((e,t)=>e.concat(t),[])}findNextMatch(e,t,i,n,o,r){this._assertNotDisposed();const s=this.validatePosition(t);if(!i&&e.indexOf("\n")<0){const t=new Q.a(e,i,n,o).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let l=new h.a(s.lineNumber,s.column,a,this.getLineMaxColumn(a)),c=this.findMatchesLineByLine(l,t,r,1);return Q.c.findNextMatch(this,new Q.a(e,i,n,o),s,r),c.length>0?c[0]:(l=new h.a(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),c=this.findMatchesLineByLine(l,t,r,1),c.length>0?c[0]:null)}return Q.c.findNextMatch(this,new Q.a(e,i,n,o),s,r)}findPreviousMatch(e,t,i,n,o,r){this._assertNotDisposed();const s=this.validatePosition(t);return Q.c.findPreviousMatch(this,new Q.a(e,i,n,o),s,r)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof u.f?e:new u.f(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let i=t.map(e=>({range:this.validateRange(e.range),text:e.text})),n=!0;if(e)for(let t=0,o=e.length;t<o;t++){let o=e[t],r=!1;for(let e=0,t=i.length;e<t;e++){let t=i[e].range,n=t.startLineNumber>o.endLineNumber,s=o.startLineNumber>t.endLineNumber;if(!n&&!s){r=!0;break}}if(!r){n=!1;break}}if(n)for(let e=0,o=this._trimAutoWhitespaceLines.length;e<o;e++){let n=this._trimAutoWhitespaceLines[e],o=this.getLineMaxColumn(n),r=!0;for(let e=0,t=i.length;e<t;e++){let t=i[e].range,s=i[e].text;if(!(n<t.startLineNumber||n>t.endLineNumber)&&!(n===t.startLineNumber&&t.startColumn===o&&t.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(0)||n===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(s.length-1))){r=!1;break}}if(r){const e=new h.a(n,1,n,o);t.push(new u.f(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,n){const o=e.map(e=>{const t=this.getPositionAt(e.newPosition),i=this.getPositionAt(e.newEnd);return{range:new h.a(t.lineNumber,t.column,i.lineNumber,i.column),text:e.oldText}});this._applyUndoRedoEdits(o,t,!0,!1,i,n)}_applyRedo(e,t,i,n){const o=e.map(e=>{const t=this.getPositionAt(e.oldPosition),i=this.getPositionAt(e.oldEnd);return{range:new h.a(t.lineNumber,t.column,i.lineNumber,i.column),text:e.newText}});this._applyUndoRedoEdits(o,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,o,r){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(r),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),n=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),r=n.changes;if(this._trimAutoWhitespaceLines=n.trimAutoWhitespaceLineNumbers,0!==r.length){for(let i=0,n=r.length;i<n;i++){const e=r[i],[t,n,o]=Object(ae.f)(e.text);this._tokens.acceptEdit(e.range,t,n),this._tokens2.acceptEdit(e.range,t,n,o,e.text.length>0?e.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(e.rangeOffset,e.rangeLength,e.text.length,e.forceMoveMarkers)}let e=[];this._increaseVersionId();let t=i;for(let i=0,n=r.length;i<n;i++){const n=r[i],[s]=Object(ae.f)(n.text);this._onDidChangeDecorations.fire();const a=n.range.startLineNumber,l=n.range.endLineNumber,h=l-a,d=s,u=Math.min(h,d),g=d-h,p=o-t-g+a,m=p,f=p+d,b=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new c.a(m,1)),this.getOffsetAt(new c.a(f,this.getLineMaxColumn(f))),0),_=ue.b.fromDecorations(b),v=new ge.a(_);for(let t=u;t>=0;t--){const i=a+t,n=p+t;v.takeFromEndWhile(e=>e.lineNumber>n);const o=v.takeFromEndWhile(e=>e.lineNumber===n);e.push(new ue.g(i,this.getLineContent(n),o))}if(u<h){const t=a+u;e.push(new ue.h(t+1,l))}if(u<d){const i=new ge.a(_),n=a+u,r=d-u,s=o-t-r+n+1;let l=[],c=[];for(let e=0;e<r;e++){let t=s+e;c[e]=this.getLineContent(t),i.takeWhile(e=>e.lineNumber<t),l[e]=i.takeWhile(e=>e.lineNumber===t)}e.push(new ue.i(n+1,a+d,c,l))}t+=g}this._emitContentChangedEvent(new ue.d(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:r,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===n.reverseEdits?void 0:n.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(null===e||0===e.size)return;const t=[...e].map(e=>new ue.g(e,this.getLineContent(e),this._getInjectedTextInLine(e)));this._onDidChangeContentOrInjectedText.fire(new ue.c(t))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let i={addDecoration:(t,i)=>this._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,Ke(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,i)=>0===t.length&&0===i.length?[]:this._deltaDecorationsImpl(e,t,i)},o=null;try{o=t(i)}catch(r){Object(n.e)(r)}return i.addDecoration=Ee,i.changeDecoration=Ee,i.changeDecorationOptions=Ee,i.removeDecoration=Ee,i.deltaDecorations=Ee,o}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Ue[i]}])[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;const o=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),s=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),r,s,o),n.setOptions(Ue[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,n=t.length;i<n;i++){const e=t[i];this._decorationsTree.delete(e),delete this._decorations[e.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,n=!1){let o=this.getLineCount(),r=Math.min(o,Math.max(1,e)),s=Math.min(o,Math.max(1,t)),a=this.getLineMaxColumn(s);return this._getDecorationsInRange(new h.a(r,1,s,a),i,n)}getDecorationsInRange(e,t=0,i=!1){let n=this.validateRange(e);return this._getDecorationsInRange(n,t,i)}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),n=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return ue.b.fromDecorations(n).filter(t=>t.lineNumber===e)}getAllDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!1)}_getDecorationsInRange(e,t,i){const n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,n,o,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.endLineNumber)}if(i.options.before){const t=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(t.startLineNumber)}const n=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),r=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,r,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(n.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const n=!(!i.options.overviewRuler||!i.options.overviewRuler.color),o=!(!t.overviewRuler||!t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const e=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(i.options.before||t.before){const e=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}n!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){const n=this.getVersionId(),o=t.length;let r=0;const s=i.length;let a=0,l=new Array(s);for(;r<o||a<s;){let c=null;if(r<o){do{c=this._decorations[t[r++]]}while(!c&&r<o);if(c){if(c.options.after){const e=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.endLineNumber)}if(c.options.before){const e=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(e.startLineNumber)}this._decorationsTree.delete(c),this._onDidChangeDecorations.checkAffectedAndFire(c.options)}}if(a<s){if(!c){const e=++this._lastDecorationId,t=`${this._instanceId};${e}`;c=new x(t,0,0),this._decorations[t]=c}const t=i[a],o=this._validateRangeRelaxedNoAllocations(t.range),r=Ke(t.options),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),h=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);c.ownerId=e,c.reset(n,s,h,o),c.setOptions(r),c.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.endLineNumber),c.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(o.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(r),this._decorationsTree.insert(c),l[a]=c.id,a++}else c&&delete this._decorations[c.id]}return l}setTokens(e){if(0===e.length)return;let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];let o=0,r=0,s=!1;for(let e=0,t=n.tokens.length;e<t;e++){const t=n.startLineNumber+e;if(s)this._tokens.setTokens(this._languageIdentifier.id,t-1,this._buffer.getLineLength(t),n.tokens[e],!1),r=t;else{this._tokens.setTokens(this._languageIdentifier.id,t-1,this._buffer.getLineLength(t),n.tokens[e],!0)&&(s=!0,o=t,r=t)}}s&&t.push({fromLineNumber:o,toLineNumber:r})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._tokens2.setPartial(e,t);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this.getLineContent(e),i=this._tokens.getTokens(this._languageIdentifier.id,e-1,t);return this._tokens2.addSemanticTokens(e,i)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(e){if(this._languageIdentifier.id===e.id)return;let t={oldLanguage:this._languageIdentifier.language,newLanguage:e.language};this._languageIdentifier=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){const i=this.validatePosition(new c.a(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}getWordAtPosition(e){this._assertNotDisposed();const t=this.validatePosition(e),i=this.getLineContent(t.lineNumber),n=this._getLineTokens(t.lineNumber),o=n.findTokenIndexAtOffset(t.column-1),[r,s]=Ae._findLanguageBoundaries(n,o),a=Object(ye.d)(t.column,Se.a.getWordDefinition(n.getLanguageId(o)),i.substring(r,s),r);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a;if(o>0&&r===t.column-1){const[r,s]=Ae._findLanguageBoundaries(n,o-1),a=Object(ye.d)(t.column,Se.a.getWordDefinition(n.getLanguageId(o-1)),i.substring(r,s),r);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a}return null}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let n=0;for(let r=t;r>=0&&e.getLanguageId(r)===i;r--)n=e.getStartOffset(r);let o=e.getLineContent().length;for(let r=t,s=e.getCount();r<s&&e.getLanguageId(r)===i;r++)o=e.getEndOffset(r);return[n,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}findMatchingBracketUp(e,t){let i=e.toLowerCase(),n=this.validatePosition(t),o=this._getLineTokens(n.lineNumber),r=o.getLanguageId(o.findTokenIndexAtOffset(n.column-1)),s=Se.a.getBracketsSupport(r);if(!s)return null;let a=s.textIsBracket[i];return a?Me(this._findMatchingBracketUp(a,n,null)):null}matchBracket(e){return this._matchBracket(this.validatePosition(e))}_establishBracketSearchOffsets(e,t,i,n){const o=t.getCount(),r=t.getLanguageId(n);let s=Math.max(0,e.column-1-i.maxBracketLength);for(let l=n-1;l>=0;l--){const e=t.getEndOffset(l);if(e<=s)break;if(Object(Le.b)(t.getStandardTokenType(l))||t.getLanguageId(l)!==r){s=e;break}}let a=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let l=n+1;l<o;l++){const e=t.getStartOffset(l);if(e>=a)break;if(Object(Le.b)(t.getStandardTokenType(l))||t.getLanguageId(l)!==r){a=e;break}}return{searchStartOffset:s,searchEndOffset:a}}_matchBracket(e){const t=e.lineNumber,i=this._getLineTokens(t),n=this._buffer.getLineContent(t),o=i.findTokenIndexAtOffset(e.column-1);if(o<0)return null;const r=Se.a.getBracketsSupport(i.getLanguageId(o));if(r&&!Object(Le.b)(i.getStandardTokenType(o))){let{searchStartOffset:s,searchEndOffset:a}=this._establishBracketSearchOffsets(e,i,r,o),l=null;for(;;){const i=xe.a.findNextBracketInRange(r.forwardRegex,t,n,s,a);if(!i)break;if(i.startColumn<=e.column&&e.column<=i.endColumn){const e=n.substring(i.startColumn-1,i.endColumn-1).toLowerCase(),t=this._matchFoundBracket(i,r.textIsBracket[e],r.textIsOpenBracket[e],null);if(t){if(t instanceof Te)return null;l=t}}s=i.endColumn-1}if(l)return l}if(o>0&&i.getStartOffset(o)===e.column-1){const r=o-1,s=Se.a.getBracketsSupport(i.getLanguageId(r));if(s&&!Object(Le.b)(i.getStandardTokenType(r))){let{searchStartOffset:o,searchEndOffset:a}=this._establishBracketSearchOffsets(e,i,s,r);const l=xe.a.findPrevBracketInRange(s.reversedRegex,t,n,o,a);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn){const e=n.substring(l.startColumn-1,l.endColumn-1).toLowerCase(),t=this._matchFoundBracket(l,s.textIsBracket[e],s.textIsOpenBracket[e],null);if(t)return t instanceof Te?null:t}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return o?o instanceof Te?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const n=e.languageIdentifier.id,o=e.reversedRegex;let r=-1,s=0;const a=(t,n,a,l)=>{for(;;){if(i&&++s%100==0&&!i())return Te.INSTANCE;const c=xe.a.findPrevBracketInRange(o,t,n,a,l);if(!c)break;const h=n.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(h)?r++:e.isClose(h)&&r--,0===r)return c;l=c.startColumn-1}return null};for(let l=t.lineNumber;l>=1;l--){const e=this._getLineTokens(l),i=e.getCount(),o=this._buffer.getLineContent(l);let r=i-1,s=o.length,c=o.length;l===t.lineNumber&&(r=e.findTokenIndexAtOffset(t.column-1),s=t.column-1,c=t.column-1);let h=!0;for(;r>=0;r--){const t=e.getLanguageId(r)===n&&!Object(Le.b)(e.getStandardTokenType(r));if(t)h?s=e.getStartOffset(r):(s=e.getStartOffset(r),c=e.getEndOffset(r));else if(h&&s!==c){const e=a(l,o,s,c);if(e)return e}h=t}if(h&&s!==c){const e=a(l,o,s,c);if(e)return e}}return null}_findMatchingBracketDown(e,t,i){const n=e.languageIdentifier.id,o=e.forwardRegex;let r=1,s=0;const a=(t,n,a,l)=>{for(;;){if(i&&++s%100==0&&!i())return Te.INSTANCE;const c=xe.a.findNextBracketInRange(o,t,n,a,l);if(!c)break;const h=n.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(h)?r++:e.isClose(h)&&r--,0===r)return c;a=c.endColumn-1}return null},l=this.getLineCount();for(let c=t.lineNumber;c<=l;c++){const e=this._getLineTokens(c),i=e.getCount(),o=this._buffer.getLineContent(c);let r=0,s=0,l=0;c===t.lineNumber&&(r=e.findTokenIndexAtOffset(t.column-1),s=t.column-1,l=t.column-1);let h=!0;for(;r<i;r++){const t=e.getLanguageId(r)===n&&!Object(Le.b)(e.getStandardTokenType(r));if(t)h||(s=e.getStartOffset(r)),l=e.getEndOffset(r);else if(h&&s!==l){const e=a(c,o,s,l);if(e)return e}h=t}if(h&&s!==l){const e=a(c,o,s,l);if(e)return e}}return null}findPrevBracket(e){const t=this.validatePosition(e);let i=-1,n=null;for(let o=t.lineNumber;o>=1;o--){const e=this._getLineTokens(o),r=e.getCount(),s=this._buffer.getLineContent(o);let a=r-1,l=s.length,c=s.length;if(o===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1;const o=e.getLanguageId(a);i!==o&&(i=o,n=Se.a.getBracketsSupport(i))}let h=!0;for(;a>=0;a--){const t=e.getLanguageId(a);if(i!==t){if(n&&h&&l!==c){const e=xe.a.findPrevBracketInRange(n.reversedRegex,o,s,l,c);if(e)return this._toFoundBracket(n,e);h=!1}i=t,n=Se.a.getBracketsSupport(i)}const r=!!n&&!Object(Le.b)(e.getStandardTokenType(a));if(r)h?l=e.getStartOffset(a):(l=e.getStartOffset(a),c=e.getEndOffset(a));else if(n&&h&&l!==c){const e=xe.a.findPrevBracketInRange(n.reversedRegex,o,s,l,c);if(e)return this._toFoundBracket(n,e)}h=r}if(n&&h&&l!==c){const e=xe.a.findPrevBracketInRange(n.reversedRegex,o,s,l,c);if(e)return this._toFoundBracket(n,e)}}return null}findNextBracket(e){const t=this.validatePosition(e),i=this.getLineCount();let n=-1,o=null;for(let r=t.lineNumber;r<=i;r++){const e=this._getLineTokens(r),i=e.getCount(),s=this._buffer.getLineContent(r);let a=0,l=0,c=0;if(r===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1;const i=e.getLanguageId(a);n!==i&&(n=i,o=Se.a.getBracketsSupport(n))}let h=!0;for(;a<i;a++){const t=e.getLanguageId(a);if(n!==t){if(o&&h&&l!==c){const e=xe.a.findNextBracketInRange(o.forwardRegex,r,s,l,c);if(e)return this._toFoundBracket(o,e);h=!1}n=t,o=Se.a.getBracketsSupport(n)}const i=!!o&&!Object(Le.b)(e.getStandardTokenType(a));if(i)h||(l=e.getStartOffset(a)),c=e.getEndOffset(a);else if(o&&h&&l!==c){const e=xe.a.findNextBracketInRange(o.forwardRegex,r,s,l,c);if(e)return this._toFoundBracket(o,e)}h=i}if(o&&h&&l!==c){const e=xe.a.findNextBracketInRange(o.forwardRegex,r,s,l,c);if(e)return this._toFoundBracket(o,e)}}return null}findEnclosingBrackets(e,t){let i;if(void 0===t)i=null;else{const e=Date.now();i=()=>Date.now()-e<=t}const n=this.validatePosition(e),o=this.getLineCount(),r=new Map;let s=[];const a=(e,t)=>{if(!r.has(e)){let i=[];for(let e=0,n=t?t.brackets.length:0;e<n;e++)i[e]=0;r.set(e,i)}s=r.get(e)};let l=0;const c=(e,t,n,o,r)=>{for(;;){if(i&&++l%100==0&&!i())return Te.INSTANCE;const a=xe.a.findNextBracketInRange(e.forwardRegex,t,n,o,r);if(!a)break;const c=n.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),h=e.textIsBracket[c];if(h&&(h.isOpen(c)?s[h.index]++:h.isClose(c)&&s[h.index]--,-1===s[h.index]))return this._matchFoundBracket(a,h,!1,i);o=a.endColumn-1}return null};let h=-1,d=null;for(let u=n.lineNumber;u<=o;u++){const e=this._getLineTokens(u),t=e.getCount(),i=this._buffer.getLineContent(u);let o=0,r=0,s=0;if(u===n.lineNumber){o=e.findTokenIndexAtOffset(n.column-1),r=n.column-1,s=n.column-1;const t=e.getLanguageId(o);h!==t&&(h=t,d=Se.a.getBracketsSupport(h),a(h,d))}let l=!0;for(;o<t;o++){const t=e.getLanguageId(o);if(h!==t){if(d&&l&&r!==s){const e=c(d,u,i,r,s);if(e)return Me(e);l=!1}h=t,d=Se.a.getBracketsSupport(h),a(h,d)}const n=!!d&&!Object(Le.b)(e.getStandardTokenType(o));if(n)l||(r=e.getStartOffset(o)),s=e.getEndOffset(o);else if(d&&l&&r!==s){const e=c(d,u,i,r,s);if(e)return Me(e)}l=n}if(d&&l&&r!==s){const e=c(d,u,i,r,s);if(e)return Me(e)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.getValueInRange(t);i=i.toLowerCase();let n=e.textIsBracket[i];return n?{range:t,open:n.open,close:n.close,isOpen:e.textIsOpenBracket[i]}:null}static computeIndentLevel(e,t){let i=0,n=0,o=e.length;for(;n<o;){let o=e.charCodeAt(n);if(32===o)i++;else{if(9!==o)break;i=i-i%t+t}n++}return n===o?-1:i}_computeIndentLevel(e){return Ae.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)}getActiveIndentGuide(e,t,i){this._assertNotDisposed();const n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for lineNumber");const o=Se.a.getFoldingRules(this._languageIdentifier.id),r=Boolean(o&&o.offSide);let s=-2,a=-1,l=-2,c=-1;const h=e=>{if(-1!==s&&(-2===s||s>e-1)){s=-1,a=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){s=t,a=e;break}}}if(-2===l){l=-1,c=-1;for(let t=e;t<n;t++){let e=this._computeIndentLevel(t);if(e>=0){l=t,c=e;break}}}};let d=-2,u=-1,g=-2,p=-1;const m=e=>{if(-2===d){d=-1,u=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){d=t,u=e;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,p=-1;for(let t=e;t<n;t++){let e=this._computeIndentLevel(t);if(e>=0){g=t,p=e;break}}}};let f=0,b=!0,_=0,v=!0,C=0,w=0;for(let y=0;b||v;y++){const o=e-y,s=e+y;y>1&&(o<1||o<t)&&(b=!1),y>1&&(s>n||s>i)&&(v=!1),y>5e4&&(b=!1,v=!1);let g=-1;if(b){const e=this._computeIndentLevel(o-1);e>=0?(l=o-1,c=e,g=Math.ceil(e/this._options.indentSize)):(h(o),g=this._getIndentLevelForWhitespaceLine(r,a,c))}let S=-1;if(v){const e=this._computeIndentLevel(s-1);e>=0?(d=s-1,u=e,S=Math.ceil(e/this._options.indentSize)):(m(s),S=this._getIndentLevelForWhitespaceLine(r,u,p))}if(0!==y){if(1===y){if(s<=n&&S>=0&&w+1===S){b=!1,f=s,_=s,C=S;continue}if(o>=1&&g>=0&&g-1===w){v=!1,f=o,_=o,C=g;continue}if(f=e,_=e,C=w,0===C)return{startLineNumber:f,endLineNumber:_,indent:C}}b&&(g>=C?f=o:b=!1),v&&(S>=C?_=s:v=!1)}else w=g}return{startLineNumber:f,endLineNumber:_,indent:C}}getLinesIndentGuides(e,t){this._assertNotDisposed();const i=this.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const n=Se.a.getFoldingRules(this._languageIdentifier.id),o=Boolean(n&&n.offSide);let r=new Array(t-e+1),s=-2,a=-1,l=-2,c=-1;for(let h=e;h<=t;h++){let t=h-e;const n=this._computeIndentLevel(h-1);if(n>=0)s=h-1,a=n,r[t]=Math.ceil(n/this._options.indentSize);else{if(-2===s){s=-1,a=-1;for(let e=h-2;e>=0;e--){let t=this._computeIndentLevel(e);if(t>=0){s=e,a=t;break}}}if(-1!==l&&(-2===l||l<h-1)){l=-1,c=-1;for(let e=h;e<i;e++){let t=this._computeIndentLevel(e);if(t>=0){l=e,c=t;break}}}r[t]=this._getIndentLevelForWhitespaceLine(o,a,c)}}return r}_getIndentLevelForWhitespaceLine(e,t,i){return-1===t||-1===i?0:t<i?1+Math.floor(t/this._options.indentSize):t===i||e?Math.ceil(i/this._options.indentSize):1+Math.floor(i/this._options.indentSize)}normalizePosition(e,t){return e}getLineIndentColumn(e){return function(e){let t=0;for(const i of e){if(" "!==i&&"\t"!==i)break;t++}return t}(this.getLineContent(e))+1}}function Re(e){return!(!e.options.overviewRuler||!e.options.overviewRuler.color)}function Pe(e){return!!e.options.after||!!e.options.before}Ae.MODEL_SYNC_LIMIT=52428800,Ae.LARGE_FILE_SIZE_THRESHOLD=20971520,Ae.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Ae.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:l.d.tabSize,indentSize:l.d.indentSize,insertSpaces:l.d.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:l.d.trimAutoWhitespace,largeFileOptimizations:l.d.largeFileOptimizations};class Fe{constructor(){this._decorationsTree0=new D,this._decorationsTree1=new D,this._injectedTextDecorationsTree=new D}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)null===i.range&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,n,o){const r=e.getVersionId(),s=this._intervalSearch(t,i,n,o,r);return this._ensureNodesHaveRanges(e,s)}_intervalSearch(e,t,i,n,o){const r=this._decorationsTree0.intervalSearch(e,t,i,n,o),s=this._decorationsTree1.intervalSearch(e,t,i,n,o),a=this._injectedTextDecorationsTree.intervalSearch(e,t,i,n,o);return r.concat(s).concat(a)}getInjectedTextInInterval(e,t,i,n){const o=e.getVersionId(),r=this._injectedTextDecorationsTree.intervalSearch(t,i,n,!1,o);return this._ensureNodesHaveRanges(e,r)}getAllInjectedText(e,t){const i=e.getVersionId(),n=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,n)}getAll(e,t,i,n){const o=e.getVersionId(),r=this._search(t,i,n,o);return this._ensureNodesHaveRanges(e,r)}_search(e,t,i,n){if(i)return this._decorationsTree1.search(e,t,n);{const i=this._decorationsTree0.search(e,t,n),o=this._decorationsTree1.search(e,t,n),r=this._injectedTextDecorationsTree.search(e,t,n);return i.concat(o).concat(r)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),n=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(n)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){Pe(e)?this._injectedTextDecorationsTree.insert(e):Re(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){Pe(e)?this._injectedTextDecorationsTree.delete(e):Re(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),null===t.range&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){Pe(e)?this._injectedTextDecorationsTree.resolveNode(e,t):Re(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n),this._injectedTextDecorationsTree.acceptReplace(e,t,i,n)}}function je(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class Be{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class We extends Be{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:u.d.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;let i=e?t.getColor(e.id):null;return i?i.toString():""}}class Ve extends Be{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?ke.a.fromHex(e):t.getColor(e.id)}}class He{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1}static from(e){return e instanceof He?e:new He(e)}}class ze{constructor(e){this.description=e.description,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?je(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new We(e.overviewRuler):null,this.minimap=e.minimap?new Ve(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?je(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?je(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?je(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?je(e.marginClassName):null,this.inlineClassName=e.inlineClassName?je(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?je(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?je(e.afterContentClassName):null,this.after=e.after?He.from(e.after):null,this.before=e.before?He.from(e.before):null}static register(e){return new ze(e)}static createDynamic(e){return new ze(e)}}ze.EMPTY=ze.register({description:"empty"});const Ue=[ze.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ze.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ze.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ze.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Ke(e){return e instanceof ze?e:ze.createDynamic(e)}class qe extends r.a{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new o.b),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(e)}null===(e=this._affectedInjectedTextLines)||void 0===e||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class $e extends r.a{constructor(){super(),this._fastEmitter=this._register(new o.b),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new o.b),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}},tYmi:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var n,o=i("bY76"),r=i("MNsG");!function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.walkThrough="walkThrough",e.walkThroughSnippet="walkThroughSnippet",e.http="http",e.https="https",e.file="file",e.mailto="mailto",e.untitled="untitled",e.data="data",e.command="command",e.vscodeRemote="vscode-remote",e.vscodeRemoteResource="vscode-remote-resource",e.userData="vscode-userdata",e.vscodeCustomEditor="vscode-custom-editor",e.vscodeNotebook="vscode-notebook",e.vscodeNotebookCell="vscode-notebook-cell",e.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",e.vscodeNotebookCellOutput="vscode-notebook-cell-output",e.vscodeInteractive="vscode-interactive",e.vscodeInteractiveInput="vscode-interactive-input",e.vscodeSettings="vscode-settings",e.vscodeWorkspaceTrust="vscode-workspace-trust",e.vscodeTerminal="vscode-terminal",e.webviewPanel="webview-panel",e.vscodeWebview="vscode-webview",e.extension="extension",e.vscodeFileResource="vscode-file",e.tmp="tmp"}(n||(n={}));const s=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let i=this._hosts[t];i&&-1!==i.indexOf(":")&&(i=`[${i}]`);const s=this._ports[t],a=this._connectionTokens[t];let l="path="+encodeURIComponent(e.path);return"string"==typeof a&&(l+="&tkn="+encodeURIComponent(a)),o.a.from({scheme:r.i?this._preferredWebSchema:n.vscodeRemoteResource,authority:`${i}:${s}`,path:"/vscode-remote-resource",query:l})}};const a=new class{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(e,t,i){const o=this.toUri(e,t);if(o.scheme===n.vscodeRemote)return s.rewrite(o);let a=!1;return r.g&&(i||r.h)&&o.scheme===n.file&&(a=!0),o.scheme===n.file&&"function"==typeof r.b.importScripts&&"vscode-file://vscode-app"===r.b.origin&&(a=!0),a?o.with({scheme:n.vscodeFileResource,authority:o.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):o}toUri(e,t){return o.a.isUri(e)?e:o.a.parse(t.toUrl(e))}}},twdY:function(e,t,i){"use strict";i.d(t,"u",(function(){return c})),i.d(t,"E",(function(){return h})),i.d(t,"I",(function(){return d})),i.d(t,"H",(function(){return u})),i.d(t,"s",(function(){return g})),i.d(t,"C",(function(){return p})),i.d(t,"h",(function(){return m})),i.d(t,"J",(function(){return _})),i.d(t,"D",(function(){return f})),i.d(t,"n",(function(){return v})),i.d(t,"y",(function(){return C})),i.d(t,"z",(function(){return w})),i.d(t,"d",(function(){return y})),i.d(t,"t",(function(){return S})),i.d(t,"B",(function(){return L})),i.d(t,"p",(function(){return x})),i.d(t,"m",(function(){return k})),i.d(t,"i",(function(){return D})),i.d(t,"w",(function(){return I})),i.d(t,"f",(function(){return O})),i.d(t,"e",(function(){return N})),i.d(t,"q",(function(){return E})),i.d(t,"G",(function(){return T})),i.d(t,"b",(function(){return M})),i.d(t,"r",(function(){return A})),i.d(t,"a",(function(){return R})),i.d(t,"g",(function(){return P})),i.d(t,"j",(function(){return F})),i.d(t,"x",(function(){return j})),i.d(t,"v",(function(){return B})),i.d(t,"c",(function(){return W})),i.d(t,"A",(function(){return V})),i.d(t,"o",(function(){return H})),i.d(t,"l",(function(){return z})),i.d(t,"k",(function(){return U})),i.d(t,"F",(function(){return K}));var n=i("bY76"),o=i("aokT"),r=i("al33"),s=i("MI8n"),a=i("pmY6");var l=i("Vhoy");class c{constructor(e,t){this.language=e,this.id=t}}class h{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(1792&e)>>>8}static getFontStyle(e){return(14336&e)>>>11}static getForeground(e){return(8372224&e)>>>14}static getBackground(e){return(4286578688&e)>>>23}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e),i=this.getFontStyle(e);return 1&i&&(t+=" mtki"),2&i&&(t+=" mtkb"),4&i&&(t+=" mtku"),t}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),n=this.getFontStyle(e);let o=`color: ${t[i]};`;return 1&n&&(o+="font-style: italic;"),2&n&&(o+="font-weight: bold;"),4&n&&(o+="text-decoration: underline;"),o}}const d=function(){let e=Object.create(null);return e[0]="symbol-method",e[1]="symbol-function",e[2]="symbol-constructor",e[3]="symbol-field",e[4]="symbol-variable",e[5]="symbol-class",e[6]="symbol-struct",e[7]="symbol-interface",e[8]="symbol-module",e[9]="symbol-property",e[10]="symbol-event",e[11]="symbol-operator",e[12]="symbol-unit",e[13]="symbol-value",e[14]="symbol-constant",e[15]="symbol-enum",e[16]="symbol-enum-member",e[17]="symbol-keyword",e[27]="symbol-snippet",e[18]="symbol-text",e[19]="symbol-color",e[20]="symbol-file",e[21]="symbol-reference",e[22]="symbol-customcolor",e[23]="symbol-folder",e[24]="symbol-type-parameter",e[25]="account",e[26]="issues",function(t){const i=e[t];let n=i&&l.d.get(i);return n||(console.info("No codicon found for CompletionItemKind "+t),n=l.b.symbolProperty),n.classNames}}();let u=function(){let e=Object.create(null);return e.method=0,e.function=1,e.constructor=2,e.field=3,e.variable=4,e.class=5,e.struct=6,e.interface=7,e.module=8,e.property=9,e.event=10,e.operator=11,e.unit=12,e.value=13,e.constant=14,e.enum=15,e["enum-member"]=16,e.enumMember=16,e.keyword=17,e.snippet=27,e.text=18,e.color=19,e.file=20,e.reference=21,e.customcolor=22,e.folder=23,e["type-parameter"]=24,e.typeParameter=24,e.account=25,e.issue=26,function(t,i){let n=e[t];return void 0!==n||i||(n=9),n}}();var g,p,m,f,b;function _(e){return e&&n.a.isUri(e.uri)&&o.a.isIRange(e.range)&&(o.a.isIRange(e.originSelectionRange)||o.a.isIRange(e.targetSelectionRange))}!function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(g||(g={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(p||(p={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(m||(m={})),function(e){const t=new Map;t.set("file",0),t.set("module",1),t.set("namespace",2),t.set("package",3),t.set("class",4),t.set("method",5),t.set("property",6),t.set("field",7),t.set("constructor",8),t.set("enum",9),t.set("interface",10),t.set("function",11),t.set("variable",12),t.set("constant",13),t.set("string",14),t.set("number",15),t.set("boolean",16),t.set("array",17),t.set("object",18),t.set("key",19),t.set("null",20),t.set("enum-member",21),t.set("struct",22),t.set("event",23),t.set("operator",24),t.set("type-parameter",25);const i=new Map;i.set(0,"file"),i.set(1,"module"),i.set(2,"namespace"),i.set(3,"package"),i.set(4,"class"),i.set(5,"method"),i.set(6,"property"),i.set(7,"field"),i.set(8,"constructor"),i.set(9,"enum"),i.set(10,"interface"),i.set(11,"function"),i.set(12,"variable"),i.set(13,"constant"),i.set(14,"string"),i.set(15,"number"),i.set(16,"boolean"),i.set(17,"array"),i.set(18,"object"),i.set(19,"key"),i.set(20,"null"),i.set(21,"enum-member"),i.set(22,"struct"),i.set(23,"event"),i.set(24,"operator"),i.set(25,"type-parameter"),e.fromString=function(e){return t.get(e)},e.toString=function(e){return i.get(e)},e.toCssClassName=function(e,t){const n=i.get(e);let o=n&&l.d.get("symbol-"+n);return o||(console.info("No codicon found for SymbolKind "+e),o=l.b.symbolProperty),`${t?"inline":"block"} ${o.classNames}`}}(f||(f={}));class v{constructor(e){this.value=e}}v.Comment=new v("comment"),v.Imports=new v("imports"),v.Region=new v("region"),function(e){e[e.Other=0]="Other",e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(b||(b={}));const C=new r.a,w=new r.a,y=new r.a,S=new r.a,L=new r.a,x=new r.a,k=new r.a,D=new r.a,I=new r.a,O=new r.a,N=new r.a,E=new r.a,T=new r.a,M=new r.a,A=new r.a,R=new r.a,P=new r.a,F=new r.a,j=new r.a,B=new r.a,W=new r.a,V=new r.a,H=new r.a,z=new r.a,U=new r.a,K=new class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new s.b,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),Object(a.i)(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,t){let i=null,n=!1;return this._promises.set(e,t.then(t=>{this._promises.delete(e),!n&&t&&(i=this.register(e,t))})),Object(a.i)(()=>{n=!0,i&&i.dispose()})}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const i=this._promises.get(e);return i?i.then(t=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},u5H8:function(e,t,i){var n={"./index.d.ts":"QJEp"};function o(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id="u5H8"},uDWl:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("D3Dy"),o=i("/kV6"),r=i("MNsG");let s=new Array(230),a=new Array(112);!function(){for(let t=0;t<a.length;t++)a[t]=-1;function e(e,t){s[e]=t,a[t]=e}e(3,7),e(8,1),e(9,2),e(13,3),e(16,4),e(17,5),e(18,6),e(19,7),e(20,8),e(27,9),e(32,10),e(33,11),e(34,12),e(35,13),e(36,14),e(37,15),e(38,16),e(39,17),e(40,18),e(45,19),e(46,20),e(48,21),e(49,22),e(50,23),e(51,24),e(52,25),e(53,26),e(54,27),e(55,28),e(56,29),e(57,30),e(65,31),e(66,32),e(67,33),e(68,34),e(69,35),e(70,36),e(71,37),e(72,38),e(73,39),e(74,40),e(75,41),e(76,42),e(77,43),e(78,44),e(79,45),e(80,46),e(81,47),e(82,48),e(83,49),e(84,50),e(85,51),e(86,52),e(87,53),e(88,54),e(89,55),e(90,56),e(93,58),e(96,93),e(97,94),e(98,95),e(99,96),e(100,97),e(101,98),e(102,99),e(103,100),e(104,101),e(105,102),e(106,103),e(107,104),e(108,105),e(109,106),e(110,107),e(111,108),e(112,59),e(113,60),e(114,61),e(115,62),e(116,63),e(117,64),e(118,65),e(119,66),e(120,67),e(121,68),e(122,69),e(123,70),e(124,71),e(125,72),e(126,73),e(127,74),e(128,75),e(129,76),e(130,77),e(144,78),e(145,79),e(186,80),e(187,81),e(188,82),e(189,83),e(190,84),e(191,85),e(192,86),e(193,110),e(194,111),e(219,87),e(220,88),e(221,89),e(222,90),e(223,91),e(226,92),e(229,109),n.g?(e(59,80),e(107,81),e(109,83),r.f&&e(224,57)):n.j&&(e(91,57),r.f?e(93,57):e(92,57))}();const l=r.f?256:2048,c=r.f?2048:256;class h{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(e){if(e.charCode){let t=String.fromCharCode(e.charCode).toUpperCase();return o.b.fromString(t)}return s[e.keyCode]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=l),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=c),t|=e,t}_computeRuntimeKeybinding(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new o.e(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}},uWgD:function(e,t,i){},ubTv:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return u})),i.d(t,"b",(function(){return g}));var n,o=i("MrjW"),r=i("N0LK"),s=i("l2gE"),a=i("tYmi"),l=i("gslv");!function(e){e.text="text/plain",e.binary="application/octet-stream",e.unknown="application/unknown",e.markdown="text/markdown"}(n||(n={}));let c=[],h=[],d=[];function u(e,t=!1){const i=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(o.e.sep)>=0}}(e);c.push(i),i.userConfigured?d.push(i):h.push(i),t&&!i.userConfigured&&c.forEach(e=>{e.mime===i.mime||e.userConfigured||(i.extension&&e.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&e.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&e.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&e.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function g(e,t){let i;if(e)switch(e.scheme){case a.c.file:i=e.fsPath;break;case a.c.data:i=l.a.parseMetaData(e).get(l.a.META_DATA_LABEL);break;default:i=e.path}if(!i)return[n.unknown];i=i.toLowerCase();const s=Object(o.a)(i),u=p(i,s,d);if(u)return[u,n.text];const g=p(i,s,h);if(g)return[g,n.text];if(t){const e=function(e){Object(r.T)(e)&&(e=e.substr(1));if(e.length>0)for(let t=c.length-1;t>=0;t--){const i=c[t];if(!i.firstline)continue;const n=e.match(i.firstline);if(n&&n.length>0)return i.mime}return null}(t);if(e)return[e,n.text]}return[n.unknown]}function p(e,t,i){let n=null,o=null,r=null;for(let a=i.length-1;a>=0;a--){const l=i[a];if(t===l.filenameLowercase){n=l;break}if(l.filepattern&&(!o||l.filepattern.length>o.filepattern.length)){const i=l.filepatternOnPath?e:t;Object(s.a)(l.filepatternLowercase,i)&&(o=l)}l.extension&&(!r||l.extension.length>r.extension.length)&&t.endsWith(l.extensionLowercase)&&(r=l)}return n?n.mime:o?o.mime:r?r.mime:null}},udvx:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));i("HgMQ"),i("8tI9");var n=i("Vhoy");function o(e){let t=e.definition;for(;t instanceof n.b;)t=t.definition;return`.codicon-${e.id}:before { content: '${t.fontCharacter}'; }`}},undH:function(e,t,i){},v0SU:function(e,t,i){"use strict";var n=i("8z58");i.d(t,"a",(function(){return n.Emitter})),i.d(t,"b",(function(){return n.MarkerSeverity})),i.d(t,"c",(function(){return n.MarkerTag})),i.d(t,"d",(function(){return n.Range})),i.d(t,"e",(function(){return n.Uri})),i.d(t,"f",(function(){return n.editor})),i.d(t,"g",(function(){return n.languages}))},v1vZ:function(e,t,i){"use strict";i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return u})),i.d(t,"c",(function(){return m}));var n=i("ic2d"),o=i("t9D7"),r=i("MI8n"),s=i("3/fG"),a=i("3Rsk"),l=i("X+cX"),c=i("Vhoy");const h=new class{constructor(){this._onDidChange=new r.b,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:Object(s.a)("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:Object(s.a)("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${c.a.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){const o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const t=this.iconReferenceSchema.enum.indexOf(e);-1!==t&&(this.iconReferenceSchema.enumDescriptions[t]=i),this._onDidChange.fire()}return o}let r={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=r;let s={$ref:"#/definitions/icons"};return n&&(s.deprecationMessage=n),i&&(s.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=s,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconFont(e){return this.iconFontsById[e]}toString(){const e=(e,t)=>e.id.localeCompare(t.id),t=e=>{for(;o.d.isThemeIcon(e.defaults);)e=this.iconsById[e.defaults.id];return"codicon codicon-"+(e?e.id:"")};let i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map(e=>this.iconsById[e]);for(const r of n.filter(e=>!!e.description).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|${o.d.isThemeIcon(r.defaults)?r.defaults.id:r.id}|${r.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const r of n.filter(e=>!o.d.isThemeIcon(e.defaults)).sort(e))i.push(`|<i class="${t(r)}"></i>|${r.id}|`);return i.join("\n")}};function d(e,t,i,n){return h.registerIcon(e,t,i,n)}function u(){return h}n.a.add("base.contributions.icons",h),function(){for(const e of c.d.all)h.registerIcon(e.id,e.definition,e.description);c.d.onDidRegister(e=>h.registerIcon(e.id,e.definition,e.description))}();let g=n.a.as(a.a.JSONContribution);g.registerSchema("vscode://schemas/icons",h.getIconSchema());const p=new l.e(()=>g.notifySchemaChanged("vscode://schemas/icons"),200);h.onDidChange(()=>{p.isScheduled()||p.schedule()});const m=d("widget-close",c.b.close,Object(s.a)("widgetClose","Icon for the close action in widgets."))},v4EG:function(e,t,i){"use strict";i.r(t),t.default='/// <reference types="typescript-to-lua/language-extensions" />\n\n/// <reference path="./coroutine.d.ts" />\n/// <reference path="./debug.d.ts" />\n/// <reference path="./global.d.ts" />\n/// <reference path="./io.d.ts" />\n/// <reference path="./math.d.ts" />\n/// <reference path="./metatable.d.ts" />\n/// <reference path="./modules.d.ts" />\n/// <reference path="./os.d.ts" />\n/// <reference path="./string.d.ts" />\n/// <reference path="./table.d.ts" />\n'},vAKA:function(e,t,i){},vATl:function(e,t,i){"use strict";i.d(t,"a",(function(){return f})),i.d(t,"b",(function(){return b})),i.d(t,"d",(function(){return _})),i.d(t,"c",(function(){return v}));var n=i("N0LK"),o=i("aokT"),r=i("JQT/"),s=i("pmY6"),a=i("sswD"),l=i("T8No"),c=i("24hK"),h=i("Cg/j"),d=i("9fML"),u=i("3/fG");const g=Object(h.c)("IEditorCancelService"),p=new l.c("cancellableOperation",!1,Object(u.a)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));Object(d.b)(g,class{constructor(){this._tokens=new WeakMap}add(e,t){let i,n=this._tokens.get(e);return n||(n=e.invokeWithinContext(e=>({key:p.bindTo(e.get(l.b)),tokens:new c.a})),this._tokens.set(e,n)),n.key.set(!0),i=n.tokens.push(t),()=>{i&&(i(),n.key.set(!n.tokens.isEmpty()),i=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const i=t.tokens.pop();i&&(i.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class m extends r.b{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext(t=>t.get(g).add(e,this))}dispose(){this._unregister(),super.dispose()}}Object(a.k)(new class extends a.c{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:p})}runEditorCommand(e,t){e.get(g).cancel(t)}});class f{constructor(e,t){if(this.flags=t,0!=(1&this.flags)){const t=e.getModel();this.modelVersionId=t?n.w("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=e.getPosition():this.position=null,0!=(2&this.flags)?this.selection=e.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof f))return!1;const t=e;return this.modelVersionId===t.modelVersionId&&(this.scrollLeft===t.scrollLeft&&this.scrollTop===t.scrollTop&&(!(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position))&&!(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))))}validate(e){return this._equals(new f(e,this.flags))}}class b extends m{constructor(e,t,i,n){super(e,n),this._listener=new s.b,4&t&&this._listener.add(e.onDidChangeCursorPosition(e=>{i&&o.a.containsPosition(i,e.position)||this.cancel()})),2&t&&this._listener.add(e.onDidChangeCursorSelection(e=>{i&&o.a.containsRange(i,e.selection)||this.cancel()})),8&t&&this._listener.add(e.onDidScrollChange(e=>this.cancel())),1&t&&(this._listener.add(e.onDidChangeModel(e=>this.cancel())),this._listener.add(e.onDidChangeModelContent(e=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class _ extends r.b{constructor(e,t){super(t),this._listener=e.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}class v{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(0!==e.getScrollTop()){const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}}return new v(t,i,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}},vLfQ:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ndeclare namespace Intl {\r\n    type DateTimeFormatPartTypes = "day" | "dayPeriod" | "era" | "hour" | "literal" | "minute" | "month" | "second" | "timeZoneName" | "weekday" | "year";\r\n\r\n    interface DateTimeFormatPart {\r\n        type: DateTimeFormatPartTypes;\r\n        value: string;\r\n    }\r\n\r\n    interface DateTimeFormat {\r\n        formatToParts(date?: Date | number): DateTimeFormatPart[];\r\n    }\r\n}\r\n'},vl9R:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return r}));const n=Object.prototype.hasOwnProperty;function o(e,t){for(let i in e)if(n.call(e,i)){if(!1===t({key:i,value:e[i]},(function(){delete e[i]})))return}}class r{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),0===i.size&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}}},wE1a:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/// <reference lib="es5" />\r\n/// <reference lib="es2015.core" />\r\n/// <reference lib="es2015.collection" />\r\n/// <reference lib="es2015.iterable" />\r\n/// <reference lib="es2015.generator" />\r\n/// <reference lib="es2015.promise" />\r\n/// <reference lib="es2015.proxy" />\r\n/// <reference lib="es2015.reflect" />\r\n/// <reference lib="es2015.symbol" />\r\n/// <reference lib="es2015.symbol.wellknown" />\r\n'},wQH0:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n,o=i("3/fG"),r=i("T8No");!function(e){e.editorSimpleInput=new r.c("editorSimpleInput",!1,!0),e.editorTextFocus=new r.c("editorTextFocus",!1,o.a("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),e.focus=new r.c("editorFocus",!1,o.a("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),e.textInputFocus=new r.c("textInputFocus",!1,o.a("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),e.readOnly=new r.c("editorReadonly",!1,o.a("editorReadonly","Whether the editor is read only")),e.inDiffEditor=new r.c("inDiffEditor",!1,o.a("inDiffEditor","Whether the context is a diff editor")),e.columnSelection=new r.c("editorColumnSelection",!1,o.a("editorColumnSelection","Whether `editor.columnSelection` is enabled")),e.writable=e.readOnly.toNegated(),e.hasNonEmptySelection=new r.c("editorHasSelection",!1,o.a("editorHasSelection","Whether the editor has text selected")),e.hasOnlyEmptySelection=e.hasNonEmptySelection.toNegated(),e.hasMultipleSelections=new r.c("editorHasMultipleSelections",!1,o.a("editorHasMultipleSelections","Whether the editor has multiple selections")),e.hasSingleSelection=e.hasMultipleSelections.toNegated(),e.tabMovesFocus=new r.c("editorTabMovesFocus",!1,o.a("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),e.tabDoesNotMoveFocus=e.tabMovesFocus.toNegated(),e.isInWalkThroughSnippet=new r.c("isInEmbeddedEditor",!1,!0),e.canUndo=new r.c("canUndo",!1,!0),e.canRedo=new r.c("canRedo",!1,!0),e.hoverVisible=new r.c("editorHoverVisible",!1,o.a("editorHoverVisible","Whether the editor hover is visible")),e.inCompositeEditor=new r.c("inCompositeEditor",void 0,o.a("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),e.notInCompositeEditor=e.inCompositeEditor.toNegated(),e.languageId=new r.c("editorLangId","",o.a("editorLangId","The language identifier of the editor")),e.hasCompletionItemProvider=new r.c("editorHasCompletionItemProvider",!1,o.a("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),e.hasCodeActionsProvider=new r.c("editorHasCodeActionsProvider",!1,o.a("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),e.hasCodeLensProvider=new r.c("editorHasCodeLensProvider",!1,o.a("editorHasCodeLensProvider","Whether the editor has a code lens provider")),e.hasDefinitionProvider=new r.c("editorHasDefinitionProvider",!1,o.a("editorHasDefinitionProvider","Whether the editor has a definition provider")),e.hasDeclarationProvider=new r.c("editorHasDeclarationProvider",!1,o.a("editorHasDeclarationProvider","Whether the editor has a declaration provider")),e.hasImplementationProvider=new r.c("editorHasImplementationProvider",!1,o.a("editorHasImplementationProvider","Whether the editor has an implementation provider")),e.hasTypeDefinitionProvider=new r.c("editorHasTypeDefinitionProvider",!1,o.a("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),e.hasHoverProvider=new r.c("editorHasHoverProvider",!1,o.a("editorHasHoverProvider","Whether the editor has a hover provider")),e.hasDocumentHighlightProvider=new r.c("editorHasDocumentHighlightProvider",!1,o.a("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),e.hasDocumentSymbolProvider=new r.c("editorHasDocumentSymbolProvider",!1,o.a("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),e.hasReferenceProvider=new r.c("editorHasReferenceProvider",!1,o.a("editorHasReferenceProvider","Whether the editor has a reference provider")),e.hasRenameProvider=new r.c("editorHasRenameProvider",!1,o.a("editorHasRenameProvider","Whether the editor has a rename provider")),e.hasSignatureHelpProvider=new r.c("editorHasSignatureHelpProvider",!1,o.a("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),e.hasInlayHintsProvider=new r.c("editorHasInlayHintsProvider",!1,o.a("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),e.hasDocumentFormattingProvider=new r.c("editorHasDocumentFormattingProvider",!1,o.a("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),e.hasDocumentSelectionFormattingProvider=new r.c("editorHasDocumentSelectionFormattingProvider",!1,o.a("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),e.hasMultipleDocumentFormattingProvider=new r.c("editorHasMultipleDocumentFormattingProvider",!1,o.a("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),e.hasMultipleDocumentSelectionFormattingProvider=new r.c("editorHasMultipleDocumentSelectionFormattingProvider",!1,o.a("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))}(n||(n={}))},wiin:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\n/// <reference lib="es2015.symbol" />\r\n/// <reference lib="es2015.iterable" />\r\n\r\ninterface SymbolConstructor {\r\n    /**\r\n     * A method that returns the default async iterator for an object. Called by the semantics of\r\n     * the for-await-of statement.\r\n     */\r\n    readonly asyncIterator: unique symbol;\r\n}\r\n\r\ninterface AsyncIterator<T, TReturn = any, TNext = undefined> {\r\n    // NOTE: \'next\' is defined using a tuple to ensure we report the correct assignability errors in all places.\r\n    next(...args: [] | [TNext]): Promise<IteratorResult<T, TReturn>>;\r\n    return?(value?: TReturn | PromiseLike<TReturn>): Promise<IteratorResult<T, TReturn>>;\r\n    throw?(e?: any): Promise<IteratorResult<T, TReturn>>;\r\n}\r\n\r\ninterface AsyncIterable<T> {\r\n    [Symbol.asyncIterator](): AsyncIterator<T>;\r\n}\r\n\r\ninterface AsyncIterableIterator<T> extends AsyncIterator<T> {\r\n    [Symbol.asyncIterator](): AsyncIterableIterator<T>;\r\n}'},wjmO:function(e,t,i){"use strict";e.exports=i("xHPV")},wxcJ:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a}));var n=i("MNsG");let o;if(void 0!==n.b.vscode&&void 0!==n.b.vscode.process){const e=n.b.vscode.process;o={get platform(){return e.platform},get env(){return e.env},cwd:()=>e.cwd(),nextTick:e=>Object(n.k)(e)}}else o=void 0!==e?{get platform(){return e.platform},get env(){return{}},cwd:()=>({}.VSCODE_CWD||e.cwd()),nextTick:t=>e.nextTick(t)}:{get platform(){return n.j?"win32":n.f?"darwin":"linux"},nextTick:e=>Object(n.k)(e),get env(){return{}},cwd:()=>"/"};const r=o.cwd,s=o.env,a=o.platform}).call(this,i("8oxB"))},"x/UI":function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return l}));var n=i("Cg/j"),o=i("bY76"),r=i("746U");const s=Object(n.c)("IWorkspaceEditService");class a{constructor(e){this.metadata=e}static convert(e){return e.edits.map(e=>{if(t=e,Object(r.j)(t)&&o.a.isUri(t.resource)&&Object(r.j)(t.edit))return new l(e.resource,e.edit,e.modelVersionId,e.metadata);var t;if(function(e){return Object(r.j)(e)&&(Boolean(e.newUri)||Boolean(e.oldUri))}(e))return new c(e.oldUri,e.newUri,e.options,e.metadata);throw new Error("Unsupported edit")})}}class l extends a{constructor(e,t,i,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i}}class c extends a{constructor(e,t,i,n){super(n),this.oldResource=e,this.newResource=t,this.options=i}}},xHPV:function(e,t,i){"use strict";var n=i("YVoz"),o=60103,r=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,h=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;o=d("react.element"),r=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),s=d("react.provider"),a=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),h=d("react.lazy")}var u="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function f(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||p}function b(){}function _(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||p}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=f.prototype;var v=_.prototype=new b;v.constructor=_,n(v,f.prototype),v.isPureReactComponent=!0;var C={current:null},w=Object.prototype.hasOwnProperty,y={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var n,r={},s=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,n)&&!y.hasOwnProperty(n)&&(r[n]=t[n]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];r.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:o,type:e,key:s,ref:a,props:r,_owner:C.current}}function L(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var x=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,n,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case r:l=!0}}if(l)return s=s(l=e),e=""===n?"."+k(l,0):n,Array.isArray(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),D(s,t,i,"",(function(e){return e}))):null!=s&&(L(s)&&(s=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var h=n+k(a=e[c],c);l+=D(a,t,i,h,s)}else if("function"==typeof(h=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e)))for(e=h.call(e),c=0;!(a=e.next()).done;)l+=D(a=a.value,t,i,h=n+k(a,c++),s);else if("object"===a)throw t=""+e,Error(g(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function I(e,t,i){if(null==e)return e;var n=[],o=0;return D(e,n,"","",(function(e){return t.call(i,e,o++)})),n}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function E(){var e=N.current;if(null===e)throw Error(g(321));return e}var T={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:I,forEach:function(e,t,i){I(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!L(e))throw Error(g(143));return e}},t.Component=f,t.PureComponent=_,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.cloneElement=function(e,t,i){if(null==e)throw Error(g(267,e));var r=n({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(h in t)w.call(t,h)&&!y.hasOwnProperty(h)&&(r[h]=void 0===t[h]&&void 0!==c?c[h]:t[h])}var h=arguments.length-2;if(1===h)r.children=i;else if(1<h){c=Array(h);for(var d=0;d<h;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:o,type:e.type,key:s,ref:a,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=L,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return E().useCallback(e,t)},t.useContext=function(e,t){return E().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return E().useEffect(e,t)},t.useImperativeHandle=function(e,t,i){return E().useImperativeHandle(e,t,i)},t.useLayoutEffect=function(e,t){return E().useLayoutEffect(e,t)},t.useMemo=function(e,t){return E().useMemo(e,t)},t.useReducer=function(e,t,i){return E().useReducer(e,t,i)},t.useRef=function(e){return E().useRef(e)},t.useState=function(e){return E().useState(e)},t.version="17.0.2"},xONI:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));i("KgQ1");var n=i("EffR"),o=i("7lZ/"),r=i("pmY6"),s=i("nuFA"),a=i("qj0h"),l=i("746U"),c=i("JQT/"),h=i("3/fG"),d=i("X+cX"),u=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))};function g(e,t,i){if(!i)return;const o=function(e){if(Object(l.k)(e))return()=>u(this,void 0,void 0,(function*(){return e}));if(Object(l.h)(e.markdown))return e.markdown;{const t=e.markdown;return()=>u(this,void 0,void 0,(function*(){return t}))}}(i);let s,a;const g=n.i(t,n.d.MOUSE_OVER,g=>{if(s)return;const p=new c.b,m=e=>{const i=e.type===n.d.MOUSE_DOWN;i&&(null==a||a.dispose(),a=void 0),(i||e.fromElement===t)&&(null==s||s.dispose(),s=void 0)},f=n.i(t,n.d.MOUSE_LEAVE,m,!0),b=n.i(t,n.d.MOUSE_DOWN,m,!0),_={targetElements:[t],dispose:()=>{}};let v;if(void 0===e.placement||"mouse"===e.placement){const e=e=>_.x=e.x+10;v=n.i(t,n.d.MOUSE_MOVE,e,!0)}const C=new d.e(()=>u(this,void 0,void 0,(function*(){var t;if(s){const n={text:Object(h.a)("iconLabel.loading","Loading..."),target:_,hoverPosition:2};null==a||a.dispose(),a=e.showHover(n);const r=null!==(t=yield o(p.token))&&void 0!==t?t:Object(l.k)(i)?void 0:i.markdownNotSupportedFallback;if(null==a||a.dispose(),a=void 0,r&&s){const t={text:r,target:_,showPointer:"element"===e.placement,hoverPosition:2};a=e.showHover(t)}}null==v||v.dispose()})),e.delay);C.schedule(),s=Object(r.i)(()=>{C.dispose(),null==v||v.dispose(),b.dispose(),f.dispose(),p.dispose(!0)})},!0);return Object(r.i)(()=>{g.dispose(),null==s||s.dispose(),null==a||a.dispose()})}class p{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class m extends r.a{constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new p(n.q(e,n.a(".monaco-icon-label")))),this.labelContainer=n.q(this.domNode.element,n.a(".monaco-icon-label-container"));const i=n.q(this.labelContainer,n.a("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new p(n.q(this.labelContainer,n.a("span.monaco-icon-description-container")))),(null==t?void 0:t.supportHighlights)||(null==t?void 0:t.supportIcons)?this.nameNode=new b(i,!!t.supportIcons):this.nameNode=new f(i),(null==t?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new o.a(n.q(this.descriptionContainer.element,n.a("span.label-description")),!!t.supportIcons):this.descriptionNodeFactory=()=>this._register(new p(n.q(this.descriptionContainer.element,n.a("span.label-description")))),this.hoverDelegate=null==t?void 0:t.hoverDelegate}setLabel(e,t,i){const n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.setupHover(this.labelContainer,null==i?void 0:i.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof o.a?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==i?void 0:i.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(null==i?void 0:i.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),t)if(this.hoverDelegate){const i=g(this.hoverDelegate,e,t);i&&this.customHovers.set(e,i)}else!function(e,t){Object(l.k)(t)?e.title=t:(null==t?void 0:t.markdownNotSupportedFallback)?e.title=t.markdownNotSupportedFallback:e.removeAttribute("title")}(e,t);else e.removeAttribute("title")}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class f{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!Object(a.d)(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=n.q(this.container,n.a("a.label-name",{id:null==t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const o=e[i],r=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${i}`;n.q(this.container,n.a("a.label-name",{id:r,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},o)),i<e.length-1&&n.q(this.container,n.a("span.label-separator",void 0,(null==t?void 0:t.separator)||"/"))}}}}class b{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!Object(a.d)(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new o.a(n.q(this.container,n.a("a.label-name",{id:null==t?void 0:t.domId})),this.supportIcons)),this.singleLabel.set(e,null==t?void 0:t.matches,void 0,null==t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(null==t?void 0:t.separator)||"/",r=function(e,t,i){if(!i)return;let n=0;return e.map(e=>{const o={start:n,end:n+e.length},r=i.map(e=>s.a.intersect(o,e)).filter(e=>!s.a.isEmpty(e)).map(({start:e,end:t})=>({start:e-n,end:t-n}));return n=o.end+t.length,r})}(e,i,null==t?void 0:t.matches);for(let s=0;s<e.length;s++){const a=e[s],l=r?r[s]:void 0,c=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${s}`,h=n.a("a.label-name",{id:c,"data-icon-label-count":e.length,"data-icon-label-index":s,role:"treeitem"});new o.a(n.q(this.container,h),this.supportIcons).set(a,l,void 0,null==t?void 0:t.labelEscapeNewLines),s<e.length-1&&n.q(h,n.a("span.label-separator",void 0,i))}}}}},xST4:function(e,t,i){"use strict";i.r(t),t.default='/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib="true"/>\r\n\n\ninterface SymbolConstructor {\r\n    /**\r\n     * A reference to the prototype.\r\n     */\r\n    readonly prototype: Symbol;\r\n\r\n    /**\r\n     * Returns a new unique Symbol value.\r\n     * @param  description Description of the new Symbol object.\r\n     */\r\n    (description?: string | number): symbol;\r\n\r\n    /**\r\n     * Returns a Symbol object from the global symbol registry matching the given key if found.\r\n     * Otherwise, returns a new symbol with this key.\r\n     * @param key key to search for.\r\n     */\r\n    for(key: string): symbol;\r\n\r\n    /**\r\n     * Returns a key from the global symbol registry matching the given Symbol if found.\r\n     * Otherwise, returns a undefined.\r\n     * @param sym Symbol to find the key for.\r\n     */\r\n    keyFor(sym: symbol): string | undefined;\r\n}\r\n\r\ndeclare var Symbol: SymbolConstructor;'},yEoX:function(e,t,i){},yjMD:function(e,t,i){"use strict";i.r(t),t.default="// Based on https://www.lua.org/manual/5.3/manual.html#2.4\n\ninterface LuaMetatable<\n    T,\n    TIndex extends object | ((this: T, key: any) => any) | undefined =\n        | object\n        | ((this: T, key: any) => any)\n        | undefined\n> {\n    /**\n     * the addition (+) operation. If any operand for an addition is not a number\n     * (nor a string coercible to a number), Lua will try to call a metamethod.\n     * First, Lua will check the first operand (even if it is valid). If that\n     * operand does not define a metamethod for __add, then Lua will check the\n     * second operand. If Lua can find a metamethod, it calls the metamethod with\n     * the two operands as arguments, and the result of the call (adjusted to one\n     * value) is the result of the operation. Otherwise, it raises an error.\n     */\n    __add?(this: T, operand: any): any;\n\n    /**\n     * the subtraction (-) operation. Behavior similar to the addition operation.\n     */\n    __sub?(this: T, operand: any): any;\n\n    /**\n     * the multiplication (*) operation. Behavior similar to the addition\n     * operation.\n     */\n    __mul?(this: T, operand: any): any;\n\n    /**\n     * the division (/) operation. Behavior similar to the addition operation.\n     */\n    __div?(this: T, operand: any): any;\n\n    /**\n     * the modulo (%) operation. Behavior similar to the addition operation.\n     */\n    __mod?(this: T, operand: any): any;\n\n    /**\n     * the exponentiation (^) operation. Behavior similar to the addition\n     * operation.\n     */\n    __pow?(this: T, operand: any): any;\n\n    /**\n     * the negation (unary -) operation. Behavior similar to the addition\n     * operation.\n     */\n    __unm?(this: T, operand: any): any;\n\n    /**\n     * the concatenation (..) operation. Behavior similar to the addition\n     * operation, except that Lua will try a metamethod if any operand is neither\n     * a string nor a number (which is always coercible to a string).\n     */\n    __concat?(this: T, operand: any): any;\n\n    /**\n     * the length (#) operation. If the object is not a string, Lua will try its\n     * metamethod. If there is a metamethod, Lua calls it with the object as\n     * argument, and the result of the call (always adjusted to one value) is the\n     * result of the operation. If there is no metamethod but the object is a\n     * table, then Lua uses the table length operation (see §3.4.7). Otherwise,\n     * Lua raises an error.\n     */\n    __len?(this: T): any;\n\n    /**\n     * the equal (==) operation. Behavior similar to the addition operation,\n     * except that Lua will try a metamethod only when the values being compared\n     * are either both tables or both full userdata and they are not primitively\n     * equal. The result of the call is always converted to a boolean.\n     */\n    __eq?(this: T, operand: any): boolean;\n\n    /**\n     * the less than (<) operation. Behavior similar to the addition operation,\n     * except that Lua will try a metamethod only when the values being compared\n     * are neither both numbers nor both strings. The result of the call is always\n     * converted to a boolean.\n     */\n    __lt?(this: T, operand: any): boolean;\n\n    /**\n     * the less equal (<=) operation. Unlike other operations, the less-equal\n     * operation can use two different events. First, Lua looks for the __le\n     * metamethod in both operands, like in the less than operation. If it cannot\n     * find such a metamethod, then it will try the __lt metamethod, assuming that\n     * a <= b is equivalent to not (b < a). As with the other comparison\n     * operators, the result is always a boolean. (This use of the __lt event can\n     * be removed in future versions; it is also slower than a real __le\n     * metamethod.)\n     */\n    __le?(this: T, operand: any): boolean;\n\n    /**\n     * The indexing access table[key]. This event happens when table is not a\n     * table or when key is not present in table. The metamethod is looked up in\n     * table.\n     *\n     * Despite the name, the metamethod for this event can be either a function or\n     * a table. If it is a function, it is called with table and key as arguments,\n     * and the result of the call (adjusted to one value) is the result of the\n     * operation. If it is a table, the final result is the result of indexing\n     * this table with key. (This indexing is regular, not raw, and therefore can\n     * trigger another metamethod.)\n     */\n    __index?: TIndex;\n\n    /**\n     * The indexing assignment table[key] = value. Like the index event, this\n     * event happens when table is not a table or when key is not present in\n     * table. The metamethod is looked up in table.\n     *\n     * Like with indexing, the metamethod for this event can be either a function\n     * or a table. If it is a function, it is called with table, key, and value as\n     * arguments. If it is a table, Lua does an indexing assignment to this table\n     * with the same key and value. (This assignment is regular, not raw, and\n     * therefore can trigger another metamethod.)\n     *\n     * Whenever there is a __newindex metamethod, Lua does not perform the\n     * primitive assignment. (If necessary, the metamethod itself can call rawset\n     * to do the assignment.)\n     */\n    __newindex?: object | ((this: T, key: any, value: any) => void);\n\n    /**\n     * The call operation func(args). This event happens when Lua tries to call a\n     * non-function value (that is, func is not a function). The metamethod is\n     * looked up in func. If present, the metamethod is called with func as its\n     * first argument, followed by the arguments of the original call (args). All\n     * results of the call are the result of the operation. (This is the only\n     * metamethod that allows multiple results.)\n     */\n    __call?(this: T, ...args: any[]): any;\n\n    /**\n     * If the metatable of v has a __tostring field, then tostring calls the\n     * corresponding value with v as argument, and uses the result of the call as\n     * its result.\n     */\n    __tostring?(this: T): string;\n\n    /**\n     * If this field is a string containing the character 'k', the keys in the\n     * table are weak. If it contains 'v', the values in the table are weak.\n     */\n    __mode?: 'k' | 'v' | 'kv';\n\n    /**\n     * If the object's metatable has this field, `getmetatable` returns the\n     * associated value.\n     */\n    __metatable?: any;\n\n    /**\n     * Userdata finalizer code. When userdata is set to be garbage collected, if\n     * the metatable has a __gc field pointing to a function, that function is\n     * first invoked, passing the userdata to it. The __gc metamethod is not\n     * called for tables.\n     */\n    __gc?(this: T): void;\n}\n"},yqFB:function(e,t,i){},yrU1:function(e,t,i){},z3hU:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));i("8z58");var n,o,r,s,a,l=i("v0SU");!function(e){e[e.None=0]="None",e[e.CommonJS=1]="CommonJS",e[e.AMD=2]="AMD",e[e.UMD=3]="UMD",e[e.System=4]="System",e[e.ES2015=5]="ES2015",e[e.ESNext=99]="ESNext"}(n||(n={})),function(e){e[e.None=0]="None",e[e.Preserve=1]="Preserve",e[e.React=2]="React",e[e.ReactNative=3]="ReactNative",e[e.ReactJSX=4]="ReactJSX",e[e.ReactJSXDev=5]="ReactJSXDev"}(o||(o={})),function(e){e[e.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",e[e.LineFeed=1]="LineFeed"}(r||(r={})),function(e){e[e.ES3=0]="ES3",e[e.ES5=1]="ES5",e[e.ES2015=2]="ES2015",e[e.ES2016=3]="ES2016",e[e.ES2017=4]="ES2017",e[e.ES2018=5]="ES2018",e[e.ES2019=6]="ES2019",e[e.ES2020=7]="ES2020",e[e.ESNext=99]="ESNext",e[e.JSON=100]="JSON",e[e.Latest=99]="Latest"}(s||(s={})),function(e){e[e.Classic=1]="Classic",e[e.NodeJs=2]="NodeJs"}(a||(a={}));var c=function(){function e(e,t,i){this._onDidChange=new l.a,this._onDidExtraLibsChange=new l.a,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),e.prototype.getExtraLibs=function(){return this._extraLibs},e.prototype.addExtraLib=function(e,t){var i,n=this;if(i=void 0===t?"ts:extralib-"+Math.random().toString(36).substring(2,15):t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:function(){}};var o=1;return this._removedExtraLibs[i]&&(o=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(o=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:o},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var e=n._extraLibs[i];e&&e.version===o&&(delete n._extraLibs[i],n._removedExtraLibs[i]=o,n._fireOnDidExtraLibsChangeSoon())}}},e.prototype.setExtraLibs=function(e){for(var t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(var i=0,n=e;i<n.length;i++){var o=n[i],r=(t=o.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),o.content),s=1;this._removedExtraLibs[t]&&(s=this._removedExtraLibs[t]+1),this._extraLibs[t]={content:r,version:s}}this._fireOnDidExtraLibsChangeSoon()},e.prototype._fireOnDidExtraLibsChangeSoon=function(){var e=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){e._onDidExtraLibsChangeTimeout=-1,e._onDidExtraLibsChange.fire(void 0)}),0))},e.prototype.getCompilerOptions=function(){return this._compilerOptions},e.prototype.setCompilerOptions=function(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setWorkerOptions=function(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setMaximumWorkerIdleTime=function(e){},e.prototype.setEagerModelSync=function(e){this._eagerModelSync=e},e.prototype.getEagerModelSync=function(){return this._eagerModelSync},e}(),h=new c({allowNonTsExtensions:!0,target:s.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{}),d=new c({allowNonTsExtensions:!0,allowJs:!0,target:s.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{});function u(){return i.e(15).then(i.bind(null,"4yiN"))}l.g.typescript={ModuleKind:n,JsxEmit:o,NewLineKind:r,ScriptTarget:s,ModuleResolutionKind:a,typescriptVersion:"4.3.2",typescriptDefaults:h,javascriptDefaults:d,getTypeScriptWorker:function(){return u().then((function(e){return e.getTypeScriptWorker()}))},getJavaScriptWorker:function(){return u().then((function(e){return e.getJavaScriptWorker()}))}},l.g.onLanguage("typescript",(function(){return u().then((function(e){return e.setupTypeScript(h)}))})),l.g.onLanguage("javascript",(function(){return u().then((function(e){return e.setupJavaScript(d)}))}))},zN7H:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("N0LK"),o=i("Ll0s"),r=i("aokT"),s=i("gCVg"),a=i("cMvZ");const l=Object.create(null);function c(e,t){if(t<=0)return"";l[e]||(l[e]=["",e]);const i=l[e];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+e;return i[t]}class h{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,r){const s=o.a.visibleColumnFromColumn(e,t,i);if(r){const e=c(" ",n);return c(e,o.a.prevIndentTabStop(s,n)/n)}return c("\t",o.a.prevRenderTabStop(s,i)/i)}static shiftIndent(e,t,i,n,r){const s=o.a.visibleColumnFromColumn(e,t,i);if(r){const e=c(" ",n);return c(e,o.a.nextIndentTabStop(s,n)/n)}return c("\t",o.a.nextRenderTabStop(s,i)/i)}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let s=this._selection.endLineNumber;1===this._selection.endColumn&&i!==s&&(s-=1);const{tabSize:l,indentSize:d,insertSpaces:u}=this._opts,g=i===s;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let c=0,p=0;for(let m=i;m<=s;m++,c=p){p=0;let s,f=e.getLineContent(m),b=n.v(f);if((!this._opts.isUnshift||0!==f.length&&0!==b)&&(g||this._opts.isUnshift||0!==f.length)){if(-1===b&&(b=f.length),m>1){if(o.a.visibleColumnFromColumn(f,b+1,l)%d!=0&&e.isCheapToTokenize(m-1)){let t=a.a.getEnterAction(this._opts.autoIndent,e,new r.a(m-1,e.getLineMaxColumn(m-1),m-1,e.getLineMaxColumn(m-1)));if(t){if(p=c,t.appendText)for(let e=0,i=t.appendText.length;e<i&&p<d&&32===t.appendText.charCodeAt(e);e++)p++;t.removeText&&(p=Math.max(0,p-t.removeText));for(let e=0;e<p&&(0!==b&&32===f.charCodeAt(b-1));e++)b--}}}this._opts.isUnshift&&0===b||(s=this._opts.isUnshift?h.unshiftIndent(f,b+1,l,d,u):h.shiftIndent(f,b+1,l,d,u),this._addEditOperation(t,new r.a(m,1,m,b+1),s),m!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=b+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(i)&&(this._useLastEditRangeForCursorEndPosition=!0);const o=u?c(" ",d):"\t";for(let a=i;a<=s;a++){const s=e.getLineContent(a);let l=n.v(s);if((!this._opts.isUnshift||0!==s.length&&0!==l)&&((g||this._opts.isUnshift||0!==s.length)&&(-1===l&&(l=s.length),!this._opts.isUnshift||0!==l)))if(this._opts.isUnshift){l=Math.min(l,d);for(let e=0;e<l;e++){if(9===s.charCodeAt(e)){l=e+1;break}}this._addEditOperation(t,new r.a(a,1,a,l+1),"")}else this._addEditOperation(t,new r.a(a,1,a,1),o),a!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let e=t.getInverseEditOperations()[0];return new s.a(e.range.endLineNumber,e.range.endColumn,e.range.endLineNumber,e.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let e=this._selection.startColumn;return i.startColumn<=e?i:0===i.getDirection()?new s.a(i.startLineNumber,e,i.endLineNumber,i.endColumn):new s.a(i.endLineNumber,i.endColumn,i.startLineNumber,e)}return i}}},zdb4:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return r}));const n={ctrlCmd:!1,alt:!1};var o,r;!function(e){e[e.Blur=1]="Blur",e[e.Gesture=2]="Gesture",e[e.Other=3]="Other"}(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.FIRST=1]="FIRST",e[e.SECOND=2]="SECOND",e[e.LAST=3]="LAST"}(r||(r={}))},zrhQ:function(e,t,i){"use strict";function n(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));class o{constructor(e,t,i,o=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,i)),this.a=n(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class r{constructor(e,t,i,o){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=n(Math.max(Math.min(1,t),0),3),this.l=n(Math.max(Math.min(1,i),0),3),this.a=n(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,s=Math.max(t,i,n),a=Math.min(t,i,n);let l=0,c=0;const h=(a+s)/2,d=s-a;if(d>0){switch(c=Math.min(h<=.5?d/(2*h):d/(2-2*h),1),s){case t:l=(i-n)/d+(i<n?6:0);break;case i:l=(n-t)/d+2;break;case n:l=(t-i)/d+4}l*=60,l=Math.round(l)}return new r(l,c,h,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:n,a:s}=e;let a,l,c;if(0===i)a=l=c=n;else{const e=n<.5?n*(1+i):n+i-n*i,o=2*n-e;a=r._hue2rgb(o,e,t+1/3),l=r._hue2rgb(o,e,t),c=r._hue2rgb(o,e,t-1/3)}return new o(Math.round(255*a),Math.round(255*l),Math.round(255*c),s)}}class s{constructor(e,t,i,o){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,e),0),this.s=n(Math.max(Math.min(1,t),0),3),this.v=n(Math.max(Math.min(1,i),0),3),this.a=n(Math.max(Math.min(1,o),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),r=o-Math.min(t,i,n),a=0===o?0:r/o;let l;return l=0===r?0:o===t?((i-n)/r%6+6)%6:o===i?(n-t)/r+2:(t-i)/r+4,new s(Math.round(60*l),a,o,e.a)}static toRGBA(e){const{h:t,s:i,v:n,a:r}=e,s=n*i,a=s*(1-Math.abs(t/60%2-1)),l=n-s;let[c,h,d]=[0,0,0];return t<60?(c=s,h=a):t<120?(c=a,h=s):t<180?(h=s,d=a):t<240?(h=a,d=s):t<300?(c=a,d=s):t<=360&&(c=s,d=a),c=Math.round(255*(c+l)),h=Math.round(255*(h+l)),d=Math.round(255*(d+l)),new o(c,h,d,r)}}class a{constructor(e){if(!e)throw new Error("Color needs a value");if(e instanceof o)this.rgba=e;else if(e instanceof r)this._hsla=e,this.rgba=r.toRGBA(e);else{if(!(e instanceof s))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=s.toRGBA(e)}}static fromHex(e){return a.Format.CSS.parseHex(e)||a.red}get hsla(){return this._hsla?this._hsla:r.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:s.fromRGBA(this.rgba)}equals(e){return!!e&&o.equals(this.rgba,e.rgba)&&r.equals(this.hsla,e.hsla)&&s.equals(this.hsva,e.hsva)}getRelativeLuminance(){return n(.2126*a._relativeLuminanceForComponent(this.rgba.r)+.7152*a._relativeLuminanceForComponent(this.rgba.g)+.0722*a._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new a(new r(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new a(new r(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:n,a:r}=this.rgba;return new a(new o(t,i,n,r*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new a(new o(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+a.Format.CSS.format(this)}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-n)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const n=e.getRelativeLuminance();return i=i*(n-t.getRelativeLuminance())/n,e.darken(i)}}a.white=new a(new o(255,255,255,1)),a.black=new a(new o(0,0,0,1)),a.red=new a(new o(255,0,0,1)),a.blue=new a(new o(0,0,255,1)),a.cyan=new a(new o(0,255,255,1)),a.lightgrey=new a(new o(211,211,211,1)),a.transparent=new a(new o(0,0,0,0)),function(e){let t;!function(t){let i;!function(t){function i(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}function n(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}t.formatRGB=function(t){return 1===t.rgba.a?`rgb(${t.rgba.r}, ${t.rgba.g}, ${t.rgba.b})`:e.Format.CSS.formatRGBA(t)},t.formatRGBA=function(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`},t.formatHSL=function(t){return 1===t.hsla.a?`hsl(${t.hsla.h}, ${(100*t.hsla.s).toFixed(2)}%, ${(100*t.hsla.l).toFixed(2)}%)`:e.Format.CSS.formatHSLA(t)},t.formatHSLA=function(e){return`hsla(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`},t.formatHex=function(e){return`#${i(e.rgba.r)}${i(e.rgba.g)}${i(e.rgba.b)}`},t.formatHexA=function(t,n=!1){return n&&1===t.rgba.a?e.Format.CSS.formatHex(t):`#${i(t.rgba.r)}${i(t.rgba.g)}${i(t.rgba.b)}${i(Math.round(255*t.rgba.a))}`},t.format=function(t){return t.isOpaque()?e.Format.CSS.formatHex(t):e.Format.CSS.formatRGBA(t)},t.parseHex=function(t){const i=t.length;if(0===i)return null;if(35!==t.charCodeAt(0))return null;if(7===i){const i=16*n(t.charCodeAt(1))+n(t.charCodeAt(2)),r=16*n(t.charCodeAt(3))+n(t.charCodeAt(4)),s=16*n(t.charCodeAt(5))+n(t.charCodeAt(6));return new e(new o(i,r,s,1))}if(9===i){const i=16*n(t.charCodeAt(1))+n(t.charCodeAt(2)),r=16*n(t.charCodeAt(3))+n(t.charCodeAt(4)),s=16*n(t.charCodeAt(5))+n(t.charCodeAt(6)),a=16*n(t.charCodeAt(7))+n(t.charCodeAt(8));return new e(new o(i,r,s,a/255))}if(4===i){const i=n(t.charCodeAt(1)),r=n(t.charCodeAt(2)),s=n(t.charCodeAt(3));return new e(new o(16*i+i,16*r+r,16*s+s))}if(5===i){const i=n(t.charCodeAt(1)),r=n(t.charCodeAt(2)),s=n(t.charCodeAt(3)),a=n(t.charCodeAt(4));return new e(new o(16*i+i,16*r+r,16*s+s,(16*a+a)/255))}return null}}(i=t.CSS||(t.CSS={}))}(t=e.Format||(e.Format={}))}(a||(a={}))},zvm3:function(e,t,i){"use strict";i.r(t),t.default="/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\n\n\n/// <reference no-default-lib=\"true\"/>\r\n\n\n/// <reference lib=\"es2015.symbol\" />\r\n\r\ninterface SymbolConstructor {\r\n    /**\r\n     * A method that returns the default iterator for an object. Called by the semantics of the\r\n     * for-of statement.\r\n     */\r\n    readonly iterator: unique symbol;\r\n}\r\n\r\ninterface IteratorYieldResult<TYield> {\r\n    done?: false;\r\n    value: TYield;\r\n}\r\n\r\ninterface IteratorReturnResult<TReturn> {\r\n    done: true;\r\n    value: TReturn;\r\n}\r\n\r\ntype IteratorResult<T, TReturn = any> = IteratorYieldResult<T> | IteratorReturnResult<TReturn>;\r\n\r\ninterface Iterator<T, TReturn = any, TNext = undefined> {\r\n    // NOTE: 'next' is defined using a tuple to ensure we report the correct assignability errors in all places.\r\n    next(...args: [] | [TNext]): IteratorResult<T, TReturn>;\r\n    return?(value?: TReturn): IteratorResult<T, TReturn>;\r\n    throw?(e?: any): IteratorResult<T, TReturn>;\r\n}\r\n\r\ninterface Iterable<T> {\r\n    [Symbol.iterator](): Iterator<T>;\r\n}\r\n\r\ninterface IterableIterator<T> extends Iterator<T> {\r\n    [Symbol.iterator](): IterableIterator<T>;\r\n}\r\n\r\ninterface Array<T> {\r\n    /** Iterator */\r\n    [Symbol.iterator](): IterableIterator<T>;\r\n\r\n    /**\r\n     * Returns an iterable of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, T]>;\r\n\r\n    /**\r\n     * Returns an iterable of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n\r\n    /**\r\n     * Returns an iterable of values in the array\r\n     */\r\n    values(): IterableIterator<T>;\r\n}\r\n\r\ninterface ArrayConstructor {\r\n    /**\r\n     * Creates an array from an iterable object.\r\n     * @param iterable An iterable object to convert to an array.\r\n     */\r\n    from<T>(iterable: Iterable<T> | ArrayLike<T>): T[];\r\n\r\n    /**\r\n     * Creates an array from an iterable object.\r\n     * @param iterable An iterable object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of 'this' used to invoke the mapfn.\r\n     */\r\n    from<T, U>(iterable: Iterable<T> | ArrayLike<T>, mapfn: (v: T, k: number) => U, thisArg?: any): U[];\r\n}\r\n\r\ninterface ReadonlyArray<T> {\r\n    /** Iterator of values in the array. */\r\n    [Symbol.iterator](): IterableIterator<T>;\r\n\r\n    /**\r\n     * Returns an iterable of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, T]>;\r\n\r\n    /**\r\n     * Returns an iterable of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n\r\n    /**\r\n     * Returns an iterable of values in the array\r\n     */\r\n    values(): IterableIterator<T>;\r\n}\r\n\r\ninterface IArguments {\r\n    /** Iterator */\r\n    [Symbol.iterator](): IterableIterator<any>;\r\n}\r\n\r\ninterface Map<K, V> {\r\n    /** Returns an iterable of entries in the map. */\r\n    [Symbol.iterator](): IterableIterator<[K, V]>;\r\n\r\n    /**\r\n     * Returns an iterable of key, value pairs for every entry in the map.\r\n     */\r\n    entries(): IterableIterator<[K, V]>;\r\n\r\n    /**\r\n     * Returns an iterable of keys in the map\r\n     */\r\n    keys(): IterableIterator<K>;\r\n\r\n    /**\r\n     * Returns an iterable of values in the map\r\n     */\r\n    values(): IterableIterator<V>;\r\n}\r\n\r\ninterface ReadonlyMap<K, V> {\r\n    /** Returns an iterable of entries in the map. */\r\n    [Symbol.iterator](): IterableIterator<[K, V]>;\r\n\r\n    /**\r\n     * Returns an iterable of key, value pairs for every entry in the map.\r\n     */\r\n    entries(): IterableIterator<[K, V]>;\r\n\r\n    /**\r\n     * Returns an iterable of keys in the map\r\n     */\r\n    keys(): IterableIterator<K>;\r\n\r\n    /**\r\n     * Returns an iterable of values in the map\r\n     */\r\n    values(): IterableIterator<V>;\r\n}\r\n\r\ninterface MapConstructor {\r\n    new <K, V>(iterable: Iterable<readonly [K, V]>): Map<K, V>;\r\n}\r\n\r\ninterface WeakMap<K extends object, V> { }\r\n\r\ninterface WeakMapConstructor {\r\n    new <K extends object, V>(iterable: Iterable<[K, V]>): WeakMap<K, V>;\r\n}\r\n\r\ninterface Set<T> {\r\n    /** Iterates over values in the set. */\r\n    [Symbol.iterator](): IterableIterator<T>;\r\n    /**\r\n     * Returns an iterable of [v,v] pairs for every value `v` in the set.\r\n     */\r\n    entries(): IterableIterator<[T, T]>;\r\n    /**\r\n     * Despite its name, returns an iterable of the values in the set.\r\n     */\r\n    keys(): IterableIterator<T>;\r\n\r\n    /**\r\n     * Returns an iterable of values in the set.\r\n     */\r\n    values(): IterableIterator<T>;\r\n}\r\n\r\ninterface ReadonlySet<T> {\r\n    /** Iterates over values in the set. */\r\n    [Symbol.iterator](): IterableIterator<T>;\r\n\r\n    /**\r\n     * Returns an iterable of [v,v] pairs for every value `v` in the set.\r\n     */\r\n    entries(): IterableIterator<[T, T]>;\r\n\r\n    /**\r\n     * Despite its name, returns an iterable of the values in the set.\r\n     */\r\n    keys(): IterableIterator<T>;\r\n\r\n    /**\r\n     * Returns an iterable of values in the set.\r\n     */\r\n    values(): IterableIterator<T>;\r\n}\r\n\r\ninterface SetConstructor {\r\n    new <T>(iterable?: Iterable<T> | null): Set<T>;\r\n}\r\n\r\ninterface WeakSet<T extends object> { }\r\n\r\ninterface WeakSetConstructor {\r\n    new <T extends object = object>(iterable: Iterable<T>): WeakSet<T>;\r\n}\r\n\r\ninterface Promise<T> { }\r\n\r\ninterface PromiseConstructor {\r\n    /**\r\n     * Creates a Promise that is resolved with an array of results when all of the provided Promises\r\n     * resolve, or rejected when any Promise is rejected.\r\n     * @param values An iterable of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    all<T>(values: Iterable<T | PromiseLike<T>>): Promise<T[]>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved or rejected when any of the provided Promises are resolved\r\n     * or rejected.\r\n     * @param values An iterable of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    race<T>(values: Iterable<T>): Promise<T extends PromiseLike<infer U> ? U : T>;\r\n\r\n    /**\r\n     * Creates a Promise that is resolved or rejected when any of the provided Promises are resolved\r\n     * or rejected.\r\n     * @param values An iterable of Promises.\r\n     * @returns A new Promise.\r\n     */\r\n    race<T>(values: Iterable<T | PromiseLike<T>>): Promise<T>;\r\n}\r\n\r\ninterface String {\r\n    /** Iterator */\r\n    [Symbol.iterator](): IterableIterator<string>;\r\n}\r\n\r\ninterface Int8Array {\r\n    [Symbol.iterator](): IterableIterator<number>;\r\n    /**\r\n     * Returns an array of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, number]>;\r\n    /**\r\n     * Returns an list of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n    /**\r\n     * Returns an list of values in the array\r\n     */\r\n    values(): IterableIterator<number>;\r\n}\r\n\r\ninterface Int8ArrayConstructor {\r\n    new (elements: Iterable<number>): Int8Array;\r\n\r\n    /**\r\n     * Creates an array from an array-like or iterable object.\r\n     * @param arrayLike An array-like or iterable object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of 'this' used to invoke the mapfn.\r\n     */\r\n    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Int8Array;\r\n}\r\n\r\ninterface Uint8Array {\r\n    [Symbol.iterator](): IterableIterator<number>;\r\n    /**\r\n     * Returns an array of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, number]>;\r\n    /**\r\n     * Returns an list of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n    /**\r\n     * Returns an list of values in the array\r\n     */\r\n    values(): IterableIterator<number>;\r\n}\r\n\r\ninterface Uint8ArrayConstructor {\r\n    new (elements: Iterable<number>): Uint8Array;\r\n\r\n    /**\r\n     * Creates an array from an array-like or iterable object.\r\n     * @param arrayLike An array-like or iterable object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of 'this' used to invoke the mapfn.\r\n     */\r\n    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Uint8Array;\r\n}\r\n\r\ninterface Uint8ClampedArray {\r\n    [Symbol.iterator](): IterableIterator<number>;\r\n    /**\r\n     * Returns an array of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, number]>;\r\n\r\n    /**\r\n     * Returns an list of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n\r\n    /**\r\n     * Returns an list of values in the array\r\n     */\r\n    values(): IterableIterator<number>;\r\n}\r\n\r\ninterface Uint8ClampedArrayConstructor {\r\n    new (elements: Iterable<number>): Uint8ClampedArray;\r\n\r\n\r\n    /**\r\n     * Creates an array from an array-like or iterable object.\r\n     * @param arrayLike An array-like or iterable object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of 'this' used to invoke the mapfn.\r\n     */\r\n    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Uint8ClampedArray;\r\n}\r\n\r\ninterface Int16Array {\r\n    [Symbol.iterator](): IterableIterator<number>;\r\n    /**\r\n     * Returns an array of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, number]>;\r\n\r\n    /**\r\n     * Returns an list of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n\r\n    /**\r\n     * Returns an list of values in the array\r\n     */\r\n    values(): IterableIterator<number>;\r\n}\r\n\r\ninterface Int16ArrayConstructor {\r\n    new (elements: Iterable<number>): Int16Array;\r\n\r\n    /**\r\n     * Creates an array from an array-like or iterable object.\r\n     * @param arrayLike An array-like or iterable object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of 'this' used to invoke the mapfn.\r\n     */\r\n    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Int16Array;\r\n}\r\n\r\ninterface Uint16Array {\r\n    [Symbol.iterator](): IterableIterator<number>;\r\n    /**\r\n     * Returns an array of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, number]>;\r\n    /**\r\n     * Returns an list of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n    /**\r\n     * Returns an list of values in the array\r\n     */\r\n    values(): IterableIterator<number>;\r\n}\r\n\r\ninterface Uint16ArrayConstructor {\r\n    new (elements: Iterable<number>): Uint16Array;\r\n\r\n    /**\r\n     * Creates an array from an array-like or iterable object.\r\n     * @param arrayLike An array-like or iterable object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of 'this' used to invoke the mapfn.\r\n     */\r\n    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Uint16Array;\r\n}\r\n\r\ninterface Int32Array {\r\n    [Symbol.iterator](): IterableIterator<number>;\r\n    /**\r\n     * Returns an array of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, number]>;\r\n    /**\r\n     * Returns an list of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n    /**\r\n     * Returns an list of values in the array\r\n     */\r\n    values(): IterableIterator<number>;\r\n}\r\n\r\ninterface Int32ArrayConstructor {\r\n    new (elements: Iterable<number>): Int32Array;\r\n\r\n    /**\r\n     * Creates an array from an array-like or iterable object.\r\n     * @param arrayLike An array-like or iterable object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of 'this' used to invoke the mapfn.\r\n     */\r\n    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Int32Array;\r\n}\r\n\r\ninterface Uint32Array {\r\n    [Symbol.iterator](): IterableIterator<number>;\r\n    /**\r\n     * Returns an array of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, number]>;\r\n    /**\r\n     * Returns an list of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n    /**\r\n     * Returns an list of values in the array\r\n     */\r\n    values(): IterableIterator<number>;\r\n}\r\n\r\ninterface Uint32ArrayConstructor {\r\n    new (elements: Iterable<number>): Uint32Array;\r\n\r\n    /**\r\n     * Creates an array from an array-like or iterable object.\r\n     * @param arrayLike An array-like or iterable object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of 'this' used to invoke the mapfn.\r\n     */\r\n    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Uint32Array;\r\n}\r\n\r\ninterface Float32Array {\r\n    [Symbol.iterator](): IterableIterator<number>;\r\n    /**\r\n     * Returns an array of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, number]>;\r\n    /**\r\n     * Returns an list of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n    /**\r\n     * Returns an list of values in the array\r\n     */\r\n    values(): IterableIterator<number>;\r\n}\r\n\r\ninterface Float32ArrayConstructor {\r\n    new (elements: Iterable<number>): Float32Array;\r\n\r\n    /**\r\n     * Creates an array from an array-like or iterable object.\r\n     * @param arrayLike An array-like or iterable object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of 'this' used to invoke the mapfn.\r\n     */\r\n    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Float32Array;\r\n}\r\n\r\ninterface Float64Array {\r\n    [Symbol.iterator](): IterableIterator<number>;\r\n    /**\r\n     * Returns an array of key, value pairs for every entry in the array\r\n     */\r\n    entries(): IterableIterator<[number, number]>;\r\n    /**\r\n     * Returns an list of keys in the array\r\n     */\r\n    keys(): IterableIterator<number>;\r\n    /**\r\n     * Returns an list of values in the array\r\n     */\r\n    values(): IterableIterator<number>;\r\n}\r\n\r\ninterface Float64ArrayConstructor {\r\n    new (elements: Iterable<number>): Float64Array;\r\n\r\n    /**\r\n     * Creates an array from an array-like or iterable object.\r\n     * @param arrayLike An array-like or iterable object to convert to an array.\r\n     * @param mapfn A mapping function to call on every element of the array.\r\n     * @param thisArg Value of 'this' used to invoke the mapfn.\r\n     */\r\n    from(arrayLike: Iterable<number>, mapfn?: (v: number, k: number) => number, thisArg?: any): Float64Array;\r\n}\r\n"}}]);
//# sourceMappingURL=11-cc7a39c4b31e5d839a93.js.map